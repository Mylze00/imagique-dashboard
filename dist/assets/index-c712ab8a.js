var Tj=Object.defineProperty;var Sj=(t,e,n)=>e in t?Tj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Wm=(t,e,n)=>(Sj(t,typeof e!="symbol"?e+"":e,n),n);function Pj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Wr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NI={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=Symbol.for("react.element"),Aj=Symbol.for("react.portal"),Ij=Symbol.for("react.fragment"),xj=Symbol.for("react.strict_mode"),Cj=Symbol.for("react.profiler"),Oj=Symbol.for("react.provider"),kj=Symbol.for("react.context"),Rj=Symbol.for("react.forward_ref"),Nj=Symbol.for("react.suspense"),Dj=Symbol.for("react.memo"),Mj=Symbol.for("react.lazy"),eb=Symbol.iterator;function Lj(t){return t===null||typeof t!="object"?null:(t=eb&&t[eb]||t["@@iterator"],typeof t=="function"?t:null)}var DI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MI=Object.assign,LI={};function Hs(t,e,n){this.props=t,this.context=e,this.refs=LI,this.updater=n||DI}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jI(){}jI.prototype=Hs.prototype;function E0(t,e,n){this.props=t,this.context=e,this.refs=LI,this.updater=n||DI}var b0=E0.prototype=new jI;b0.constructor=E0;MI(b0,Hs.prototype);b0.isPureReactComponent=!0;var tb=Array.isArray,VI=Object.prototype.hasOwnProperty,T0={current:null},$I={key:!0,ref:!0,__self:!0,__source:!0};function FI(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)VI.call(e,r)&&!$I.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:lc,type:t,key:o,ref:a,props:i,_owner:T0.current}}function jj(t,e){return{$$typeof:lc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function S0(t){return typeof t=="object"&&t!==null&&t.$$typeof===lc}function Vj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nb=/\/+/g;function Km(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vj(""+t.key):e.toString(36)}function jf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case lc:case Aj:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Km(a,0):r,tb(i)?(n="",t!=null&&(n=t.replace(nb,"$&/")+"/"),jf(i,e,n,"",function(u){return u})):i!=null&&(S0(i)&&(i=jj(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(nb,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",tb(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Km(o,s);a+=jf(o,e,n,l,i)}else if(l=Lj(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Km(o,s++),a+=jf(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Zc(t,e,n){if(t==null)return t;var r=[],i=0;return jf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function $j(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Vf={transition:null},Fj={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Vf,ReactCurrentOwner:T0};function UI(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!S0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Hs;fe.Fragment=Ij;fe.Profiler=Cj;fe.PureComponent=E0;fe.StrictMode=xj;fe.Suspense=Nj;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fj;fe.act=UI;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=MI({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=T0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)VI.call(e,l)&&!$I.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:lc,type:t.type,key:i,ref:o,props:r,_owner:a}};fe.createContext=function(t){return t={$$typeof:kj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Oj,_context:t},t.Consumer=t};fe.createElement=FI;fe.createFactory=function(t){var e=FI.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:Rj,render:t}};fe.isValidElement=S0;fe.lazy=function(t){return{$$typeof:Mj,_payload:{_status:-1,_result:t},_init:$j}};fe.memo=function(t,e){return{$$typeof:Dj,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Vf.transition;Vf.transition={};try{t()}finally{Vf.transition=e}};fe.unstable_act=UI;fe.useCallback=function(t,e){return rn.current.useCallback(t,e)};fe.useContext=function(t){return rn.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};fe.useEffect=function(t,e){return rn.current.useEffect(t,e)};fe.useId=function(){return rn.current.useId()};fe.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return rn.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};fe.useRef=function(t){return rn.current.useRef(t)};fe.useState=function(t){return rn.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return rn.current.useTransition()};fe.version="18.3.1";NI.exports=fe;var b=NI.exports;const M=Wr(b),Uj=Pj({__proto__:null,default:M},[b]);var iv={},BI={exports:{}},Ln={},zI={exports:{}},WI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,q){var te=z.length;z.push(q);e:for(;0<te;){var de=te-1>>>1,K=z[de];if(0<i(K,q))z[de]=q,z[te]=K,te=de;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],te=z.pop();if(te!==q){z[0]=te;e:for(var de=0,K=z.length,ue=K>>>1;de<ue;){var bt=2*(de+1)-1,qe=z[bt],ir=bt+1,Vn=z[ir];if(0>i(qe,te))ir<K&&0>i(Vn,qe)?(z[de]=Vn,z[ir]=te,de=ir):(z[de]=qe,z[bt]=te,de=bt);else if(ir<K&&0>i(Vn,te))z[de]=Vn,z[ir]=te,de=ir;else break e}}return q}function i(z,q){var te=z.sortIndex-q.sortIndex;return te!==0?te:z.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,h=null,d=3,p=!1,m=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=z)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function x(z){if(y=!1,T(z),!m)if(n(l)!==null)m=!0,Se(O);else{var q=n(u);q!==null&&oe(x,q.startTime-z)}}function O(z,q){m=!1,y&&(y=!1,v(S),S=-1),p=!0;var te=d;try{for(T(q),h=n(l);h!==null&&(!(h.expirationTime>q)||z&&!R());){var de=h.callback;if(typeof de=="function"){h.callback=null,d=h.priorityLevel;var K=de(h.expirationTime<=q);q=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(l)&&r(l),T(q)}else r(l);h=n(l)}if(h!==null)var ue=!0;else{var bt=n(u);bt!==null&&oe(x,bt.startTime-q),ue=!1}return ue}finally{h=null,d=te,p=!1}}var D=!1,P=null,S=-1,I=5,C=-1;function R(){return!(t.unstable_now()-C<I)}function N(){if(P!==null){var z=t.unstable_now();C=z;var q=!0;try{q=P(!0,z)}finally{q?k():(D=!1,P=null)}}else D=!1}var k;if(typeof w=="function")k=function(){w(N)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,he=re.port2;re.port1.onmessage=N,k=function(){he.postMessage(null)}}else k=function(){_(N,0)};function Se(z){P=z,D||(D=!0,k())}function oe(z,q){S=_(function(){z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Se(O))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var te=d;d=q;try{return z()}finally{d=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=d;d=z;try{return q()}finally{d=te}},t.unstable_scheduleCallback=function(z,q,te){var de=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?de+te:de):te=de,z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=te+K,z={id:c++,callback:q,priorityLevel:z,startTime:te,expirationTime:K,sortIndex:-1},te>de?(z.sortIndex=te,e(u,z),n(l)===null&&z===n(u)&&(y?(v(S),S=-1):y=!0,oe(x,te-de))):(z.sortIndex=K,e(l,z),m||p||(m=!0,Se(O))),z},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(z){var q=d;return function(){var te=d;d=q;try{return z.apply(this,arguments)}finally{d=te}}}})(WI);zI.exports=WI;var Bj=zI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zj=b,On=Bj;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KI=new Set,bu={};function Aa(t,e){ws(t,e),ws(t+"Capture",e)}function ws(t,e){for(bu[t]=e,t=0;t<e.length;t++)KI.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ov=Object.prototype.hasOwnProperty,Wj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rb={},ib={};function Kj(t){return ov.call(ib,t)?!0:ov.call(rb,t)?!1:Wj.test(t)?ib[t]=!0:(rb[t]=!0,!1)}function Hj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qj(t,e,n,r){if(e===null||typeof e>"u"||Hj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var P0=/[\-:]([a-z])/g;function A0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(P0,A0);Rt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(P0,A0);Rt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(P0,A0);Rt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function I0(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qj(e,n,i,r)&&(n=null),r||i===null?Kj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ei=zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ef=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),qa=Symbol.for("react.fragment"),x0=Symbol.for("react.strict_mode"),av=Symbol.for("react.profiler"),HI=Symbol.for("react.provider"),qI=Symbol.for("react.context"),C0=Symbol.for("react.forward_ref"),sv=Symbol.for("react.suspense"),lv=Symbol.for("react.suspense_list"),O0=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),GI=Symbol.for("react.offscreen"),ob=Symbol.iterator;function xl(t){return t===null||typeof t!="object"?null:(t=ob&&t[ob]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Hm;function Kl(t){if(Hm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hm=e&&e[1]||""}return`
`+Hm+t}var qm=!1;function Gm(t,e){if(!t||qm)return"";qm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{qm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kl(t):""}function Gj(t){switch(t.tag){case 5:return Kl(t.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return t=Gm(t.type,!1),t;case 11:return t=Gm(t.type.render,!1),t;case 1:return t=Gm(t.type,!0),t;default:return""}}function uv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qa:return"Fragment";case Ha:return"Portal";case av:return"Profiler";case x0:return"StrictMode";case sv:return"Suspense";case lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qI:return(t.displayName||"Context")+".Consumer";case HI:return(t._context.displayName||"Context")+".Provider";case C0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O0:return e=t.displayName||null,e!==null?e:uv(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return uv(t(e))}catch{}}return null}function Yj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uv(e);case 8:return e===x0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qj(t){var e=YI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tf(t){t._valueTracker||(t._valueTracker=Qj(t))}function QI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ah(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cv(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ab(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XI(t,e){e=e.checked,e!=null&&I0(t,"checked",e,!1)}function fv(t,e){XI(t,e);var n=mo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hv(t,e.type,n):e.hasOwnProperty("defaultValue")&&hv(t,e.type,mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hv(t,e,n){(e!=="number"||ah(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hl=Array.isArray;function ss(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Hl(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mo(n)}}function JI(t,e){var n=mo(e.value),r=mo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ub(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nf,ex=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nf=nf||document.createElement("div"),nf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xj=["Webkit","ms","Moz","O"];Object.keys(nu).forEach(function(t){Xj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nu[e]=nu[t]})});function tx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nu.hasOwnProperty(t)&&nu[t]?(""+e).trim():e+"px"}function nx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Jj=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mv(t,e){if(e){if(Jj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function gv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vv=null;function k0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yv=null,ls=null,us=null;function cb(t){if(t=fc(t)){if(typeof yv!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Ud(e),yv(t.stateNode,t.type,e))}}function rx(t){ls?us?us.push(t):us=[t]:ls=t}function ix(){if(ls){var t=ls,e=us;if(us=ls=null,cb(t),e)for(t=0;t<e.length;t++)cb(e[t])}}function ox(t,e){return t(e)}function ax(){}var Ym=!1;function sx(t,e,n){if(Ym)return t(e,n);Ym=!0;try{return ox(t,e,n)}finally{Ym=!1,(ls!==null||us!==null)&&(ax(),ix())}}function Su(t,e){var n=t.stateNode;if(n===null)return null;var r=Ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var _v=!1;if(li)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){_v=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{_v=!1}function Zj(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ru=!1,sh=null,lh=!1,wv=null,e4={onError:function(t){ru=!0,sh=t}};function t4(t,e,n,r,i,o,a,s,l){ru=!1,sh=null,Zj.apply(e4,arguments)}function n4(t,e,n,r,i,o,a,s,l){if(t4.apply(this,arguments),ru){if(ru){var u=sh;ru=!1,sh=null}else throw Error(B(198));lh||(lh=!0,wv=u)}}function Ia(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fb(t){if(Ia(t)!==t)throw Error(B(188))}function r4(t){var e=t.alternate;if(!e){if(e=Ia(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return fb(i),t;if(o===r)return fb(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function ux(t){return t=r4(t),t!==null?cx(t):null}function cx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cx(t);if(e!==null)return e;t=t.sibling}return null}var fx=On.unstable_scheduleCallback,hb=On.unstable_cancelCallback,i4=On.unstable_shouldYield,o4=On.unstable_requestPaint,Xe=On.unstable_now,a4=On.unstable_getCurrentPriorityLevel,R0=On.unstable_ImmediatePriority,hx=On.unstable_UserBlockingPriority,uh=On.unstable_NormalPriority,s4=On.unstable_LowPriority,dx=On.unstable_IdlePriority,jd=null,Or=null;function l4(t){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(jd,t,void 0,(t.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:f4,u4=Math.log,c4=Math.LN2;function f4(t){return t>>>=0,t===0?32:31-(u4(t)/c4|0)|0}var rf=64,of=4194304;function ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ch(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=ql(s):(o&=a,o!==0&&(r=ql(o)))}else a=n&~i,a!==0?r=ql(a):o!==0&&(r=ql(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gr(e),i=1<<n,r|=t[n],e&=~i;return r}function h4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-gr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=h4(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Ev(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function px(){var t=rf;return rf<<=1,!(rf&4194240)&&(rf=64),t}function Qm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gr(e),t[e]=n}function p4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function N0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function mx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gx,D0,vx,yx,_x,bv=!1,af=[],Xi=null,Ji=null,Zi=null,Pu=new Map,Au=new Map,Ui=[],m4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function db(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(e.pointerId)}}function Ol(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=fc(e),e!==null&&D0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function g4(t,e,n,r,i){switch(e){case"focusin":return Xi=Ol(Xi,t,e,n,r,i),!0;case"dragenter":return Ji=Ol(Ji,t,e,n,r,i),!0;case"mouseover":return Zi=Ol(Zi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pu.set(o,Ol(Pu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Au.set(o,Ol(Au.get(o)||null,t,e,n,r,i)),!0}return!1}function wx(t){var e=Ho(t.target);if(e!==null){var n=Ia(e);if(n!==null){if(e=n.tag,e===13){if(e=lx(n),e!==null){t.blockedOn=e,_x(t.priority,function(){vx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $f(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vv=r,n.target.dispatchEvent(r),vv=null}else return e=fc(n),e!==null&&D0(e),t.blockedOn=n,!1;e.shift()}return!0}function pb(t,e,n){$f(t)&&n.delete(e)}function v4(){bv=!1,Xi!==null&&$f(Xi)&&(Xi=null),Ji!==null&&$f(Ji)&&(Ji=null),Zi!==null&&$f(Zi)&&(Zi=null),Pu.forEach(pb),Au.forEach(pb)}function kl(t,e){t.blockedOn===e&&(t.blockedOn=null,bv||(bv=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,v4)))}function Iu(t){function e(i){return kl(i,t)}if(0<af.length){kl(af[0],t);for(var n=1;n<af.length;n++){var r=af[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xi!==null&&kl(Xi,t),Ji!==null&&kl(Ji,t),Zi!==null&&kl(Zi,t),Pu.forEach(e),Au.forEach(e),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)wx(n),n.blockedOn===null&&Ui.shift()}var cs=Ei.ReactCurrentBatchConfig,fh=!0;function y4(t,e,n,r){var i=Ie,o=cs.transition;cs.transition=null;try{Ie=1,M0(t,e,n,r)}finally{Ie=i,cs.transition=o}}function _4(t,e,n,r){var i=Ie,o=cs.transition;cs.transition=null;try{Ie=4,M0(t,e,n,r)}finally{Ie=i,cs.transition=o}}function M0(t,e,n,r){if(fh){var i=Tv(t,e,n,r);if(i===null)ag(t,e,r,hh,n),db(t,r);else if(g4(i,t,e,n,r))r.stopPropagation();else if(db(t,r),e&4&&-1<m4.indexOf(t)){for(;i!==null;){var o=fc(i);if(o!==null&&gx(o),o=Tv(t,e,n,r),o===null&&ag(t,e,r,hh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ag(t,e,r,null,n)}}var hh=null;function Tv(t,e,n,r){if(hh=null,t=k0(r),t=Ho(t),t!==null)if(e=Ia(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hh=t,null}function Ex(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a4()){case R0:return 1;case hx:return 4;case uh:case s4:return 16;case dx:return 536870912;default:return 16}default:return 16}}var qi=null,L0=null,Ff=null;function bx(){if(Ff)return Ff;var t,e=L0,n=e.length,r,i="value"in qi?qi.value:qi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Ff=i.slice(t,1<r?1-r:void 0)}function Uf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sf(){return!0}function mb(){return!1}function jn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?sf:mb,this.isPropagationStopped=mb,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sf)},persist:function(){},isPersistent:sf}),e}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j0=jn(qs),cc=Ke({},qs,{view:0,detail:0}),w4=jn(cc),Xm,Jm,Rl,Vd=Ke({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rl&&(Rl&&t.type==="mousemove"?(Xm=t.screenX-Rl.screenX,Jm=t.screenY-Rl.screenY):Jm=Xm=0,Rl=t),Xm)},movementY:function(t){return"movementY"in t?t.movementY:Jm}}),gb=jn(Vd),E4=Ke({},Vd,{dataTransfer:0}),b4=jn(E4),T4=Ke({},cc,{relatedTarget:0}),Zm=jn(T4),S4=Ke({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),P4=jn(S4),A4=Ke({},qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I4=jn(A4),x4=Ke({},qs,{data:0}),vb=jn(x4),C4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k4[t])?!!e[t]:!1}function V0(){return R4}var N4=Ke({},cc,{key:function(t){if(t.key){var e=C4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V0,charCode:function(t){return t.type==="keypress"?Uf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D4=jn(N4),M4=Ke({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yb=jn(M4),L4=Ke({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V0}),j4=jn(L4),V4=Ke({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$4=jn(V4),F4=Ke({},Vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U4=jn(F4),B4=[9,13,27,32],$0=li&&"CompositionEvent"in window,iu=null;li&&"documentMode"in document&&(iu=document.documentMode);var z4=li&&"TextEvent"in window&&!iu,Tx=li&&(!$0||iu&&8<iu&&11>=iu),_b=String.fromCharCode(32),wb=!1;function Sx(t,e){switch(t){case"keyup":return B4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Px(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function W4(t,e){switch(t){case"compositionend":return Px(e);case"keypress":return e.which!==32?null:(wb=!0,_b);case"textInput":return t=e.data,t===_b&&wb?null:t;default:return null}}function K4(t,e){if(Ga)return t==="compositionend"||!$0&&Sx(t,e)?(t=bx(),Ff=L0=qi=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tx&&e.locale!=="ko"?null:e.data;default:return null}}var H4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!H4[t.type]:e==="textarea"}function Ax(t,e,n,r){rx(r),e=dh(e,"onChange"),0<e.length&&(n=new j0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ou=null,xu=null;function q4(t){jx(t,0)}function $d(t){var e=Xa(t);if(QI(e))return t}function G4(t,e){if(t==="change")return e}var Ix=!1;if(li){var eg;if(li){var tg="oninput"in document;if(!tg){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),tg=typeof bb.oninput=="function"}eg=tg}else eg=!1;Ix=eg&&(!document.documentMode||9<document.documentMode)}function Tb(){ou&&(ou.detachEvent("onpropertychange",xx),xu=ou=null)}function xx(t){if(t.propertyName==="value"&&$d(xu)){var e=[];Ax(e,xu,t,k0(t)),sx(q4,e)}}function Y4(t,e,n){t==="focusin"?(Tb(),ou=e,xu=n,ou.attachEvent("onpropertychange",xx)):t==="focusout"&&Tb()}function Q4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $d(xu)}function X4(t,e){if(t==="click")return $d(e)}function J4(t,e){if(t==="input"||t==="change")return $d(e)}function Z4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _r=typeof Object.is=="function"?Object.is:Z4;function Cu(t,e){if(_r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ov.call(e,i)||!_r(t[i],e[i]))return!1}return!0}function Sb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pb(t,e){var n=Sb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sb(n)}}function Cx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ox(){for(var t=window,e=ah();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ah(t.document)}return e}function F0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eV(t){var e=Ox(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Cx(n.ownerDocument.documentElement,n)){if(r!==null&&F0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Pb(n,o);var a=Pb(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tV=li&&"documentMode"in document&&11>=document.documentMode,Ya=null,Sv=null,au=null,Pv=!1;function Ab(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pv||Ya==null||Ya!==ah(r)||(r=Ya,"selectionStart"in r&&F0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),au&&Cu(au,r)||(au=r,r=dh(Sv,"onSelect"),0<r.length&&(e=new j0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ya)))}function lf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qa={animationend:lf("Animation","AnimationEnd"),animationiteration:lf("Animation","AnimationIteration"),animationstart:lf("Animation","AnimationStart"),transitionend:lf("Transition","TransitionEnd")},ng={},kx={};li&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Fd(t){if(ng[t])return ng[t];if(!Qa[t])return t;var e=Qa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kx)return ng[t]=e[n];return t}var Rx=Fd("animationend"),Nx=Fd("animationiteration"),Dx=Fd("animationstart"),Mx=Fd("transitionend"),Lx=new Map,Ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(t,e){Lx.set(t,e),Aa(e,[t])}for(var rg=0;rg<Ib.length;rg++){var ig=Ib[rg],nV=ig.toLowerCase(),rV=ig[0].toUpperCase()+ig.slice(1);So(nV,"on"+rV)}So(Rx,"onAnimationEnd");So(Nx,"onAnimationIteration");So(Dx,"onAnimationStart");So("dblclick","onDoubleClick");So("focusin","onFocus");So("focusout","onBlur");So(Mx,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function xb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n4(r,e,void 0,t),t.currentTarget=null}function jx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;xb(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;xb(i,s,u),o=l}}}if(lh)throw t=wv,lh=!1,wv=null,t}function Le(t,e){var n=e[Ov];n===void 0&&(n=e[Ov]=new Set);var r=t+"__bubble";n.has(r)||(Vx(e,t,2,!1),n.add(r))}function og(t,e,n){var r=0;e&&(r|=4),Vx(n,t,r,e)}var uf="_reactListening"+Math.random().toString(36).slice(2);function Ou(t){if(!t[uf]){t[uf]=!0,KI.forEach(function(n){n!=="selectionchange"&&(iV.has(n)||og(n,!1,t),og(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uf]||(e[uf]=!0,og("selectionchange",!1,e))}}function Vx(t,e,n,r){switch(Ex(e)){case 1:var i=y4;break;case 4:i=_4;break;default:i=M0}n=i.bind(null,e,n,t),i=void 0,!_v||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ag(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ho(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}sx(function(){var u=o,c=k0(n),h=[];e:{var d=Lx.get(t);if(d!==void 0){var p=j0,m=t;switch(t){case"keypress":if(Uf(n)===0)break e;case"keydown":case"keyup":p=D4;break;case"focusin":m="focus",p=Zm;break;case"focusout":m="blur",p=Zm;break;case"beforeblur":case"afterblur":p=Zm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=b4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=j4;break;case Rx:case Nx:case Dx:p=P4;break;case Mx:p=$4;break;case"scroll":p=w4;break;case"wheel":p=U4;break;case"copy":case"cut":case"paste":p=I4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yb}var y=(e&4)!==0,_=!y&&t==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var w=u,T;w!==null;){T=w;var x=T.stateNode;if(T.tag===5&&x!==null&&(T=x,v!==null&&(x=Su(w,v),x!=null&&y.push(ku(w,x,T)))),_)break;w=w.return}0<y.length&&(d=new p(d,m,null,n,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==vv&&(m=n.relatedTarget||n.fromElement)&&(Ho(m)||m[ui]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Ho(m):null,m!==null&&(_=Ia(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=gb,x="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=yb,x="onPointerLeave",v="onPointerEnter",w="pointer"),_=p==null?d:Xa(p),T=m==null?d:Xa(m),d=new y(x,w+"leave",p,n,c),d.target=_,d.relatedTarget=T,x=null,Ho(c)===u&&(y=new y(v,w+"enter",m,n,c),y.target=T,y.relatedTarget=_,x=y),_=x,p&&m)t:{for(y=p,v=m,w=0,T=y;T;T=$a(T))w++;for(T=0,x=v;x;x=$a(x))T++;for(;0<w-T;)y=$a(y),w--;for(;0<T-w;)v=$a(v),T--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=$a(y),v=$a(v)}y=null}else y=null;p!==null&&Cb(h,d,p,y,!1),m!==null&&_!==null&&Cb(h,_,m,y,!0)}}e:{if(d=u?Xa(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var O=G4;else if(Eb(d))if(Ix)O=J4;else{O=Q4;var D=Y4}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=X4);if(O&&(O=O(t,u))){Ax(h,O,n,c);break e}D&&D(t,d,u),t==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&hv(d,"number",d.value)}switch(D=u?Xa(u):window,t){case"focusin":(Eb(D)||D.contentEditable==="true")&&(Ya=D,Sv=u,au=null);break;case"focusout":au=Sv=Ya=null;break;case"mousedown":Pv=!0;break;case"contextmenu":case"mouseup":case"dragend":Pv=!1,Ab(h,n,c);break;case"selectionchange":if(tV)break;case"keydown":case"keyup":Ab(h,n,c)}var P;if($0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ga?Sx(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Tx&&n.locale!=="ko"&&(Ga||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ga&&(P=bx()):(qi=c,L0="value"in qi?qi.value:qi.textContent,Ga=!0)),D=dh(u,S),0<D.length&&(S=new vb(S,t,null,n,c),h.push({event:S,listeners:D}),P?S.data=P:(P=Px(n),P!==null&&(S.data=P)))),(P=z4?W4(t,n):K4(t,n))&&(u=dh(u,"onBeforeInput"),0<u.length&&(c=new vb("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=P))}jx(h,e)})}function ku(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Su(t,n),o!=null&&r.unshift(ku(t,o,i)),o=Su(t,e),o!=null&&r.push(ku(t,o,i))),t=t.return}return r}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cb(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Su(n,o),l!=null&&a.unshift(ku(n,l,s))):i||(l=Su(n,o),l!=null&&a.push(ku(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var oV=/\r\n?/g,aV=/\u0000|\uFFFD/g;function Ob(t){return(typeof t=="string"?t:""+t).replace(oV,`
`).replace(aV,"")}function cf(t,e,n){if(e=Ob(e),Ob(t)!==e&&n)throw Error(B(425))}function ph(){}var Av=null,Iv=null;function xv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cv=typeof setTimeout=="function"?setTimeout:void 0,sV=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,lV=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(t){return kb.resolve(null).then(t).catch(uV)}:Cv;function uV(t){setTimeout(function(){throw t})}function sg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Iu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iu(e)}function eo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Gs,Ru="__reactProps$"+Gs,ui="__reactContainer$"+Gs,Ov="__reactEvents$"+Gs,cV="__reactListeners$"+Gs,fV="__reactHandles$"+Gs;function Ho(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ui]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rb(t);t!==null;){if(n=t[Ir])return n;t=Rb(t)}return e}t=n,n=t.parentNode}return null}function fc(t){return t=t[Ir]||t[ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Ud(t){return t[Ru]||null}var kv=[],Ja=-1;function Po(t){return{current:t}}function Fe(t){0>Ja||(t.current=kv[Ja],kv[Ja]=null,Ja--)}function De(t,e){Ja++,kv[Ja]=t.current,t.current=e}var go={},Yt=Po(go),pn=Po(!1),ca=go;function Es(t,e){var n=t.type.contextTypes;if(!n)return go;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mn(t){return t=t.childContextTypes,t!=null}function mh(){Fe(pn),Fe(Yt)}function Nb(t,e,n){if(Yt.current!==go)throw Error(B(168));De(Yt,e),De(pn,n)}function $x(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,Yj(t)||"Unknown",i));return Ke({},n,r)}function gh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||go,ca=Yt.current,De(Yt,t),De(pn,pn.current),!0}function Db(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=$x(t,e,ca),r.__reactInternalMemoizedMergedChildContext=t,Fe(pn),Fe(Yt),De(Yt,t)):Fe(pn),De(pn,n)}var Yr=null,Bd=!1,lg=!1;function Fx(t){Yr===null?Yr=[t]:Yr.push(t)}function hV(t){Bd=!0,Fx(t)}function Ao(){if(!lg&&Yr!==null){lg=!0;var t=0,e=Ie;try{var n=Yr;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yr=null,Bd=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(t+1)),fx(R0,Ao),i}finally{Ie=e,lg=!1}}return null}var Za=[],es=0,vh=null,yh=0,zn=[],Wn=0,fa=null,Jr=1,Zr="";function Fo(t,e){Za[es++]=yh,Za[es++]=vh,vh=t,yh=e}function Ux(t,e,n){zn[Wn++]=Jr,zn[Wn++]=Zr,zn[Wn++]=fa,fa=t;var r=Jr;t=Zr;var i=32-gr(r)-1;r&=~(1<<i),n+=1;var o=32-gr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jr=1<<32-gr(e)+i|n<<i|r,Zr=o+t}else Jr=1<<o|n<<i|r,Zr=t}function U0(t){t.return!==null&&(Fo(t,1),Ux(t,1,0))}function B0(t){for(;t===vh;)vh=Za[--es],Za[es]=null,yh=Za[--es],Za[es]=null;for(;t===fa;)fa=zn[--Wn],zn[Wn]=null,Zr=zn[--Wn],zn[Wn]=null,Jr=zn[--Wn],zn[Wn]=null}var xn=null,An=null,Ue=!1,cr=null;function Bx(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,An=eo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fa!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,An=null,!0):!1;default:return!1}}function Rv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nv(t){if(Ue){var e=An;if(e){var n=e;if(!Mb(t,e)){if(Rv(t))throw Error(B(418));e=eo(n.nextSibling);var r=xn;e&&Mb(t,e)?Bx(r,n):(t.flags=t.flags&-4097|2,Ue=!1,xn=t)}}else{if(Rv(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ue=!1,xn=t}}}function Lb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function ff(t){if(t!==xn)return!1;if(!Ue)return Lb(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xv(t.type,t.memoizedProps)),e&&(e=An)){if(Rv(t))throw zx(),Error(B(418));for(;e;)Bx(t,e),e=eo(e.nextSibling)}if(Lb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=eo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=xn?eo(t.stateNode.nextSibling):null;return!0}function zx(){for(var t=An;t;)t=eo(t.nextSibling)}function bs(){An=xn=null,Ue=!1}function z0(t){cr===null?cr=[t]:cr.push(t)}var dV=Ei.ReactCurrentBatchConfig;function Nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function hf(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jb(t){var e=t._init;return e(t._payload)}function Wx(t){function e(v,w){if(t){var T=v.deletions;T===null?(v.deletions=[w],v.flags|=16):T.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=io(v,w),v.index=0,v.sibling=null,v}function o(v,w,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<w?(v.flags|=2,w):T):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,w,T,x){return w===null||w.tag!==6?(w=mg(T,v.mode,x),w.return=v,w):(w=i(w,T),w.return=v,w)}function l(v,w,T,x){var O=T.type;return O===qa?c(v,w,T.props.children,x,T.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vi&&jb(O)===w.type)?(x=i(w,T.props),x.ref=Nl(v,w,T),x.return=v,x):(x=Gf(T.type,T.key,T.props,null,v.mode,x),x.ref=Nl(v,w,T),x.return=v,x)}function u(v,w,T,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=gg(T,v.mode,x),w.return=v,w):(w=i(w,T.children||[]),w.return=v,w)}function c(v,w,T,x,O){return w===null||w.tag!==7?(w=ra(T,v.mode,x,O),w.return=v,w):(w=i(w,T),w.return=v,w)}function h(v,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=mg(""+w,v.mode,T),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ef:return T=Gf(w.type,w.key,w.props,null,v.mode,T),T.ref=Nl(v,null,w),T.return=v,T;case Ha:return w=gg(w,v.mode,T),w.return=v,w;case Vi:var x=w._init;return h(v,x(w._payload),T)}if(Hl(w)||xl(w))return w=ra(w,v.mode,T,null),w.return=v,w;hf(v,w)}return null}function d(v,w,T,x){var O=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:s(v,w,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ef:return T.key===O?l(v,w,T,x):null;case Ha:return T.key===O?u(v,w,T,x):null;case Vi:return O=T._init,d(v,w,O(T._payload),x)}if(Hl(T)||xl(T))return O!==null?null:c(v,w,T,x,null);hf(v,T)}return null}function p(v,w,T,x,O){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(T)||null,s(w,v,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ef:return v=v.get(x.key===null?T:x.key)||null,l(w,v,x,O);case Ha:return v=v.get(x.key===null?T:x.key)||null,u(w,v,x,O);case Vi:var D=x._init;return p(v,w,T,D(x._payload),O)}if(Hl(x)||xl(x))return v=v.get(T)||null,c(w,v,x,O,null);hf(w,x)}return null}function m(v,w,T,x){for(var O=null,D=null,P=w,S=w=0,I=null;P!==null&&S<T.length;S++){P.index>S?(I=P,P=null):I=P.sibling;var C=d(v,P,T[S],x);if(C===null){P===null&&(P=I);break}t&&P&&C.alternate===null&&e(v,P),w=o(C,w,S),D===null?O=C:D.sibling=C,D=C,P=I}if(S===T.length)return n(v,P),Ue&&Fo(v,S),O;if(P===null){for(;S<T.length;S++)P=h(v,T[S],x),P!==null&&(w=o(P,w,S),D===null?O=P:D.sibling=P,D=P);return Ue&&Fo(v,S),O}for(P=r(v,P);S<T.length;S++)I=p(P,v,S,T[S],x),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?S:I.key),w=o(I,w,S),D===null?O=I:D.sibling=I,D=I);return t&&P.forEach(function(R){return e(v,R)}),Ue&&Fo(v,S),O}function y(v,w,T,x){var O=xl(T);if(typeof O!="function")throw Error(B(150));if(T=O.call(T),T==null)throw Error(B(151));for(var D=O=null,P=w,S=w=0,I=null,C=T.next();P!==null&&!C.done;S++,C=T.next()){P.index>S?(I=P,P=null):I=P.sibling;var R=d(v,P,C.value,x);if(R===null){P===null&&(P=I);break}t&&P&&R.alternate===null&&e(v,P),w=o(R,w,S),D===null?O=R:D.sibling=R,D=R,P=I}if(C.done)return n(v,P),Ue&&Fo(v,S),O;if(P===null){for(;!C.done;S++,C=T.next())C=h(v,C.value,x),C!==null&&(w=o(C,w,S),D===null?O=C:D.sibling=C,D=C);return Ue&&Fo(v,S),O}for(P=r(v,P);!C.done;S++,C=T.next())C=p(P,v,S,C.value,x),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?S:C.key),w=o(C,w,S),D===null?O=C:D.sibling=C,D=C);return t&&P.forEach(function(N){return e(v,N)}),Ue&&Fo(v,S),O}function _(v,w,T,x){if(typeof T=="object"&&T!==null&&T.type===qa&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ef:e:{for(var O=T.key,D=w;D!==null;){if(D.key===O){if(O=T.type,O===qa){if(D.tag===7){n(v,D.sibling),w=i(D,T.props.children),w.return=v,v=w;break e}}else if(D.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vi&&jb(O)===D.type){n(v,D.sibling),w=i(D,T.props),w.ref=Nl(v,D,T),w.return=v,v=w;break e}n(v,D);break}else e(v,D);D=D.sibling}T.type===qa?(w=ra(T.props.children,v.mode,x,T.key),w.return=v,v=w):(x=Gf(T.type,T.key,T.props,null,v.mode,x),x.ref=Nl(v,w,T),x.return=v,v=x)}return a(v);case Ha:e:{for(D=T.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(v,w.sibling),w=i(w,T.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=gg(T,v.mode,x),w.return=v,v=w}return a(v);case Vi:return D=T._init,_(v,w,D(T._payload),x)}if(Hl(T))return m(v,w,T,x);if(xl(T))return y(v,w,T,x);hf(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,T),w.return=v,v=w):(n(v,w),w=mg(T,v.mode,x),w.return=v,v=w),a(v)):n(v,w)}return _}var Ts=Wx(!0),Kx=Wx(!1),_h=Po(null),wh=null,ts=null,W0=null;function K0(){W0=ts=wh=null}function H0(t){var e=_h.current;Fe(_h),t._currentValue=e}function Dv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fs(t,e){wh=t,W0=ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(W0!==t)if(t={context:t,memoizedValue:e,next:null},ts===null){if(wh===null)throw Error(B(308));ts=t,wh.dependencies={lanes:0,firstContext:t}}else ts=ts.next=t;return e}var qo=null;function q0(t){qo===null?qo=[t]:qo.push(t)}function Hx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,q0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ci(t,r)}function ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function G0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function to(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ci(t,n)}return i=r.interleaved,i===null?(e.next=e,q0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ci(t,n)}function Bf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,N0(t,n)}}function Vb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Eh(t,e,n,r){var i=t.updateQueue;$i=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,y=s;switch(d=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(p,h,d):m,d==null)break e;h=Ke({},h,d);break e;case 2:$i=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);da|=a,t.lanes=a,t.memoizedState=h}}function $b(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var hc={},kr=Po(hc),Nu=Po(hc),Du=Po(hc);function Go(t){if(t===hc)throw Error(B(174));return t}function Y0(t,e){switch(De(Du,e),De(Nu,t),De(kr,hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pv(e,t)}Fe(kr),De(kr,e)}function Ss(){Fe(kr),Fe(Nu),Fe(Du)}function Gx(t){Go(Du.current);var e=Go(kr.current),n=pv(e,t.type);e!==n&&(De(Nu,t),De(kr,n))}function Q0(t){Nu.current===t&&(Fe(kr),Fe(Nu))}var ze=Po(0);function bh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ug=[];function X0(){for(var t=0;t<ug.length;t++)ug[t]._workInProgressVersionPrimary=null;ug.length=0}var zf=Ei.ReactCurrentDispatcher,cg=Ei.ReactCurrentBatchConfig,ha=0,We=null,lt=null,gt=null,Th=!1,su=!1,Mu=0,pV=0;function $t(){throw Error(B(321))}function J0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_r(t[n],e[n]))return!1;return!0}function Z0(t,e,n,r,i,o){if(ha=o,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zf.current=t===null||t.memoizedState===null?yV:_V,t=n(r,i),su){o=0;do{if(su=!1,Mu=0,25<=o)throw Error(B(301));o+=1,gt=lt=null,e.updateQueue=null,zf.current=wV,t=n(r,i)}while(su)}if(zf.current=Sh,e=lt!==null&&lt.next!==null,ha=0,gt=lt=We=null,Th=!1,e)throw Error(B(300));return t}function e_(){var t=Mu!==0;return Mu=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?We.memoizedState=gt=t:gt=gt.next=t,gt}function Jn(){if(lt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=gt===null?We.memoizedState:gt.next;if(e!==null)gt=e,lt=t;else{if(t===null)throw Error(B(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},gt===null?We.memoizedState=gt=t:gt=gt.next=t}return gt}function Lu(t,e){return typeof e=="function"?e(t):e}function fg(t){var e=Jn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ha&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=h,a=r):l=l.next=h,We.lanes|=c,da|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,_r(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,We.lanes|=o,da|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hg(t){var e=Jn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);_r(o,e.memoizedState)||(fn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Yx(){}function Qx(t,e){var n=We,r=Jn(),i=e(),o=!_r(r.memoizedState,i);if(o&&(r.memoizedState=i,fn=!0),r=r.queue,t_(Zx.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,ju(9,Jx.bind(null,n,r,i,e),void 0,null),vt===null)throw Error(B(349));ha&30||Xx(n,e,i)}return i}function Xx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jx(t,e,n,r){e.value=n,e.getSnapshot=r,eC(e)&&tC(t)}function Zx(t,e,n){return n(function(){eC(e)&&tC(t)})}function eC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_r(t,n)}catch{return!0}}function tC(t){var e=ci(t,1);e!==null&&vr(e,t,1,-1)}function Fb(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:t},e.queue=t,t=t.dispatch=vV.bind(null,We,t),[e.memoizedState,t]}function ju(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nC(){return Jn().memoizedState}function Wf(t,e,n,r){var i=Pr();We.flags|=t,i.memoizedState=ju(1|e,n,void 0,r===void 0?null:r)}function zd(t,e,n,r){var i=Jn();r=r===void 0?null:r;var o=void 0;if(lt!==null){var a=lt.memoizedState;if(o=a.destroy,r!==null&&J0(r,a.deps)){i.memoizedState=ju(e,n,o,r);return}}We.flags|=t,i.memoizedState=ju(1|e,n,o,r)}function Ub(t,e){return Wf(8390656,8,t,e)}function t_(t,e){return zd(2048,8,t,e)}function rC(t,e){return zd(4,2,t,e)}function iC(t,e){return zd(4,4,t,e)}function oC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aC(t,e,n){return n=n!=null?n.concat([t]):null,zd(4,4,oC.bind(null,e,t),n)}function n_(){}function sC(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&J0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lC(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&J0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uC(t,e,n){return ha&21?(_r(n,e)||(n=px(),We.lanes|=n,da|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function mV(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=cg.transition;cg.transition={};try{t(!1),e()}finally{Ie=n,cg.transition=r}}function cC(){return Jn().memoizedState}function gV(t,e,n){var r=ro(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fC(t))hC(e,n);else if(n=Hx(t,e,n,r),n!==null){var i=nn();vr(n,t,r,i),dC(n,e,r)}}function vV(t,e,n){var r=ro(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fC(t))hC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,_r(s,a)){var l=e.interleaved;l===null?(i.next=i,q0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Hx(t,e,i,r),n!==null&&(i=nn(),vr(n,t,r,i),dC(n,e,r))}}function fC(t){var e=t.alternate;return t===We||e!==null&&e===We}function hC(t,e){su=Th=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,N0(t,n)}}var Sh={readContext:Xn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},yV={readContext:Xn,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:Ub,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wf(4194308,4,oC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wf(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gV.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:Fb,useDebugValue:n_,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=Fb(!1),e=t[0];return t=mV.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=Pr();if(Ue){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),vt===null)throw Error(B(349));ha&30||Xx(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ub(Zx.bind(null,r,o,t),[t]),r.flags|=2048,ju(9,Jx.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Pr(),e=vt.identifierPrefix;if(Ue){var n=Zr,r=Jr;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_V={readContext:Xn,useCallback:sC,useContext:Xn,useEffect:t_,useImperativeHandle:aC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:lC,useReducer:fg,useRef:nC,useState:function(){return fg(Lu)},useDebugValue:n_,useDeferredValue:function(t){var e=Jn();return uC(e,lt.memoizedState,t)},useTransition:function(){var t=fg(Lu)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:Yx,useSyncExternalStore:Qx,useId:cC,unstable_isNewReconciler:!1},wV={readContext:Xn,useCallback:sC,useContext:Xn,useEffect:t_,useImperativeHandle:aC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:lC,useReducer:hg,useRef:nC,useState:function(){return hg(Lu)},useDebugValue:n_,useDeferredValue:function(t){var e=Jn();return lt===null?e.memoizedState=t:uC(e,lt.memoizedState,t)},useTransition:function(){var t=hg(Lu)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:Yx,useSyncExternalStore:Qx,useId:cC,unstable_isNewReconciler:!1};function lr(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wd={isMounted:function(t){return(t=t._reactInternals)?Ia(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=ro(t),o=ii(r,i);o.payload=e,n!=null&&(o.callback=n),e=to(t,o,i),e!==null&&(vr(e,t,i,r),Bf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=ro(t),o=ii(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=to(t,o,i),e!==null&&(vr(e,t,i,r),Bf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=ro(t),i=ii(n,r);i.tag=2,e!=null&&(i.callback=e),e=to(t,i,r),e!==null&&(vr(e,t,r,n),Bf(e,t,r))}};function Bb(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Cu(n,r)||!Cu(i,o):!0}function pC(t,e,n){var r=!1,i=go,o=e.contextType;return typeof o=="object"&&o!==null?o=Xn(o):(i=mn(e)?ca:Yt.current,r=e.contextTypes,o=(r=r!=null)?Es(t,i):go),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function zb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wd.enqueueReplaceState(e,e.state,null)}function Lv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},G0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Xn(o):(o=mn(e)?ca:Yt.current,i.context=Es(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Mv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wd.enqueueReplaceState(i,i.state,null),Eh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ps(t,e){try{var n="",r=e;do n+=Gj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function dg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EV=typeof WeakMap=="function"?WeakMap:Map;function mC(t,e,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ah||(Ah=!0,qv=r),jv(t,e)},n}function gC(t,e,n){n=ii(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jv(t,e),typeof r!="function"&&(no===null?no=new Set([this]):no.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Wb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MV.bind(null,t,e,n),e.then(t,t))}function Kb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ii(-1,1),e.tag=2,to(n,e,1))),n.lanes|=1),t)}var bV=Ei.ReactCurrentOwner,fn=!1;function en(t,e,n,r){e.child=t===null?Kx(e,null,n,r):Ts(e,t.child,n,r)}function qb(t,e,n,r,i){n=n.render;var o=e.ref;return fs(e,i),r=Z0(t,e,n,r,o,i),n=e_(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(Ue&&n&&U0(e),e.flags|=1,en(t,e,r,i),e.child)}function Gb(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!c_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,vC(t,e,o,r,i)):(t=Gf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Cu,n(a,r)&&t.ref===e.ref)return fi(t,e,i)}return e.flags|=1,t=io(o,r),t.ref=e.ref,t.return=e,e.child=t}function vC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Cu(o,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,fi(t,e,i)}return Vv(t,e,n,r,i)}function yC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(rs,bn),bn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(rs,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(rs,bn),bn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,De(rs,bn),bn|=r;return en(t,e,i,n),e.child}function _C(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vv(t,e,n,r,i){var o=mn(n)?ca:Yt.current;return o=Es(e,o),fs(e,i),n=Z0(t,e,n,r,o,i),r=e_(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(Ue&&r&&U0(e),e.flags|=1,en(t,e,n,i),e.child)}function Yb(t,e,n,r,i){if(mn(n)){var o=!0;gh(e)}else o=!1;if(fs(e,i),e.stateNode===null)Kf(t,e),pC(e,n,r),Lv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=mn(n)?ca:Yt.current,u=Es(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&zb(e,a,r,u),$i=!1;var d=e.memoizedState;a.state=d,Eh(e,r,a,i),l=e.memoizedState,s!==r||d!==l||pn.current||$i?(typeof c=="function"&&(Mv(e,n,c,r),l=e.memoizedState),(s=$i||Bb(e,n,s,r,d,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,qx(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:lr(e.type,s),a.props=u,h=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=mn(n)?ca:Yt.current,l=Es(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||d!==l)&&zb(e,a,r,l),$i=!1,d=e.memoizedState,a.state=d,Eh(e,r,a,i);var m=e.memoizedState;s!==h||d!==m||pn.current||$i?(typeof p=="function"&&(Mv(e,n,p,r),m=e.memoizedState),(u=$i||Bb(e,n,u,r,d,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return $v(t,e,n,r,o,i)}function $v(t,e,n,r,i,o){_C(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Db(e,n,!1),fi(t,e,o);r=e.stateNode,bV.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ts(e,t.child,null,o),e.child=Ts(e,null,s,o)):en(t,e,s,o),e.memoizedState=r.state,i&&Db(e,n,!0),e.child}function wC(t){var e=t.stateNode;e.pendingContext?Nb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nb(t,e.context,!1),Y0(t,e.containerInfo)}function Qb(t,e,n,r,i){return bs(),z0(i),e.flags|=256,en(t,e,n,r),e.child}var Fv={dehydrated:null,treeContext:null,retryLane:0};function Uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function EC(t,e,n){var r=e.pendingProps,i=ze.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(ze,i&1),t===null)return Nv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=qd(a,r,0,null),t=ra(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Uv(n),e.memoizedState=Fv,t):r_(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return TV(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=io(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=io(s,o):(o=ra(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Uv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Fv,r}return o=t.child,t=o.sibling,r=io(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function r_(t,e){return e=qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function df(t,e,n,r){return r!==null&&z0(r),Ts(e,t.child,null,n),t=r_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TV(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=dg(Error(B(422))),df(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=qd({mode:"visible",children:r.children},i,0,null),o=ra(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ts(e,t.child,null,a),e.child.memoizedState=Uv(a),e.memoizedState=Fv,o);if(!(e.mode&1))return df(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(B(419)),r=dg(o,r,void 0),df(t,e,a,r)}if(s=(a&t.childLanes)!==0,fn||s){if(r=vt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ci(t,i),vr(r,t,i,-1))}return u_(),r=dg(Error(B(421))),df(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,An=eo(i.nextSibling),xn=e,Ue=!0,cr=null,t!==null&&(zn[Wn++]=Jr,zn[Wn++]=Zr,zn[Wn++]=fa,Jr=t.id,Zr=t.overflow,fa=e),e=r_(e,r.children),e.flags|=4096,e)}function Xb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dv(t.return,e,n)}function pg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function bC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(en(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xb(t,n,e);else if(t.tag===19)Xb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),pg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}pg(e,!0,n,null,o);break;case"together":pg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),da|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=io(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=io(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SV(t,e,n){switch(e.tag){case 3:wC(e),bs();break;case 5:Gx(e);break;case 1:mn(e.type)&&gh(e);break;case 4:Y0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(_h,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?EC(t,e,n):(De(ze,ze.current&1),t=fi(t,e,n),t!==null?t.sibling:null);De(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,yC(t,e,n)}return fi(t,e,n)}var TC,Bv,SC,PC;TC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bv=function(){};SC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Go(kr.current);var o=null;switch(n){case"input":i=cv(t,i),r=cv(t,r),o=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),o=[];break;case"textarea":i=dv(t,i),r=dv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ph)}mv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};PC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dl(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PV(t,e,n){var r=e.pendingProps;switch(B0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return mn(e.type)&&mh(),Ft(e),null;case 3:return r=e.stateNode,Ss(),Fe(pn),Fe(Yt),X0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ff(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Qv(cr),cr=null))),Bv(t,e),Ft(e),null;case 5:Q0(e);var i=Go(Du.current);if(n=e.type,t!==null&&e.stateNode!=null)SC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Ft(e),null}if(t=Go(kr.current),ff(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ir]=e,r[Ru]=o,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<Gl.length;i++)Le(Gl[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":ab(r,o),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Le("invalid",r);break;case"textarea":lb(r,o),Le("invalid",r)}mv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&cf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&cf(r.textContent,s,t),i=["children",""+s]):bu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Le("scroll",r)}switch(n){case"input":tf(r),sb(r,o,!0);break;case"textarea":tf(r),ub(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ph)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ir]=e,t[Ru]=r,TC(t,e,!1,!1),e.stateNode=t;e:{switch(a=gv(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gl.length;i++)Le(Gl[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":ab(t,r),i=cv(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),Le("invalid",t);break;case"textarea":lb(t,r),i=dv(t,r),Le("invalid",t);break;default:i=r}mv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?nx(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ex(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tu(t,l):typeof l=="number"&&Tu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Le("scroll",t):l!=null&&I0(t,o,l,a))}switch(n){case"input":tf(t),sb(t,r,!1);break;case"textarea":tf(t),ub(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ss(t,!!r.multiple,o,!1):r.defaultValue!=null&&ss(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ph)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)PC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Go(Du.current),Go(kr.current),ff(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(o=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:cf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Ft(e),null;case 13:if(Fe(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&An!==null&&e.mode&1&&!(e.flags&128))zx(),bs(),e.flags|=98560,o=!1;else if(o=ff(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Ir]=e}else bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),o=!1}else cr!==null&&(Qv(cr),cr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?ct===0&&(ct=3):u_())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return Ss(),Bv(t,e),t===null&&Ou(e.stateNode.containerInfo),Ft(e),null;case 10:return H0(e.type._context),Ft(e),null;case 17:return mn(e.type)&&mh(),Ft(e),null;case 19:if(Fe(ze),o=e.memoizedState,o===null)return Ft(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Dl(o,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=bh(t),a!==null){for(e.flags|=128,Dl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(ze,ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xe()>As&&(e.flags|=128,r=!0,Dl(o,!1),e.lanes=4194304)}else{if(!r)if(t=bh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ue)return Ft(e),null}else 2*Xe()-o.renderingStartTime>As&&n!==1073741824&&(e.flags|=128,r=!0,Dl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xe(),e.sibling=null,n=ze.current,De(ze,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return l_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function AV(t,e){switch(B0(e),e.tag){case 1:return mn(e.type)&&mh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ss(),Fe(pn),Fe(Yt),X0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Q0(e),null;case 13:if(Fe(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(ze),null;case 4:return Ss(),null;case 10:return H0(e.type._context),null;case 22:case 23:return l_(),null;case 24:return null;default:return null}}var pf=!1,Wt=!1,IV=typeof WeakSet=="function"?WeakSet:Set,G=null;function ns(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function zv(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var Jb=!1;function xV(t,e){if(Av=fh,t=Ox(),F0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(s=a+i),h!==o||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iv={focusedElem:t,selectionRange:n},fh=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,_=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:lr(e.type,y),_);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(x){Ye(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return m=Jb,Jb=!1,m}function lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&zv(e,n,o)}i=i.next}while(i!==r)}}function Kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AC(t){var e=t.alternate;e!==null&&(t.alternate=null,AC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[Ru],delete e[Ov],delete e[cV],delete e[fV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IC(t){return t.tag===5||t.tag===3||t.tag===4}function Zb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ph));else if(r!==4&&(t=t.child,t!==null))for(Kv(t,e,n),t=t.sibling;t!==null;)Kv(t,e,n),t=t.sibling}function Hv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hv(t,e,n),t=t.sibling;t!==null;)Hv(t,e,n),t=t.sibling}var At=null,ur=!1;function Di(t,e,n){for(n=n.child;n!==null;)xC(t,e,n),n=n.sibling}function xC(t,e,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(jd,n)}catch{}switch(n.tag){case 5:Wt||ns(n,e);case 6:var r=At,i=ur;At=null,Di(t,e,n),At=r,ur=i,At!==null&&(ur?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(ur?(t=At,n=n.stateNode,t.nodeType===8?sg(t.parentNode,n):t.nodeType===1&&sg(t,n),Iu(t)):sg(At,n.stateNode));break;case 4:r=At,i=ur,At=n.stateNode.containerInfo,ur=!0,Di(t,e,n),At=r,ur=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&zv(n,e,a),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!Wt&&(ns(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ye(n,e,s)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,Di(t,e,n),Wt=r):Di(t,e,n);break;default:Di(t,e,n)}}function eT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IV),e.forEach(function(r){var i=jV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:At=s.stateNode,ur=!1;break e;case 3:At=s.stateNode.containerInfo,ur=!0;break e;case 4:At=s.stateNode.containerInfo,ur=!0;break e}s=s.return}if(At===null)throw Error(B(160));xC(o,a,i),At=null,ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CC(e,t),e=e.sibling}function CC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),Sr(t),r&4){try{lu(3,t,t.return),Kd(3,t)}catch(y){Ye(t,t.return,y)}try{lu(5,t,t.return)}catch(y){Ye(t,t.return,y)}}break;case 1:ar(e,t),Sr(t),r&512&&n!==null&&ns(n,n.return);break;case 5:if(ar(e,t),Sr(t),r&512&&n!==null&&ns(n,n.return),t.flags&32){var i=t.stateNode;try{Tu(i,"")}catch(y){Ye(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&XI(i,o),gv(s,a);var u=gv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?nx(i,h):c==="dangerouslySetInnerHTML"?ex(i,h):c==="children"?Tu(i,h):I0(i,c,h,u)}switch(s){case"input":fv(i,o);break;case"textarea":JI(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ss(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?ss(i,!!o.multiple,o.defaultValue,!0):ss(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ru]=o}catch(y){Ye(t,t.return,y)}}break;case 6:if(ar(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Ye(t,t.return,y)}}break;case 3:if(ar(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(y){Ye(t,t.return,y)}break;case 4:ar(e,t),Sr(t);break;case 13:ar(e,t),Sr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(a_=Xe())),r&4&&eT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(u=Wt)||c,ar(e,t),Wt=u):ar(e,t),Sr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(G=t,c=t.child;c!==null;){for(h=G=c;G!==null;){switch(d=G,p=d.child,d.tag){case 0:case 11:case 14:case 15:lu(4,d,d.return);break;case 1:ns(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Ye(r,n,y)}}break;case 5:ns(d,d.return);break;case 22:if(d.memoizedState!==null){nT(h);continue}}p!==null?(p.return=d,G=p):nT(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=tx("display",a))}catch(y){Ye(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Ye(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ar(e,t),Sr(t),r&4&&eT(t);break;case 21:break;default:ar(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IC(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tu(i,""),r.flags&=-33);var o=Zb(t);Hv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Zb(t);Kv(t,s,a);break;default:throw Error(B(161))}}catch(l){Ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CV(t,e,n){G=t,OC(t)}function OC(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||pf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Wt;s=pf;var u=Wt;if(pf=a,(Wt=l)&&!u)for(G=i;G!==null;)a=G,l=a.child,a.tag===22&&a.memoizedState!==null?rT(i):l!==null?(l.return=a,G=l):rT(i);for(;o!==null;)G=o,OC(o),o=o.sibling;G=i,pf=s,Wt=u}tT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):tT(t)}}function tT(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$b(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$b(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Iu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Wt||e.flags&512&&Wv(e)}catch(d){Ye(e,e.return,d)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function nT(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function rT(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kd(4,e)}catch(l){Ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ye(e,i,l)}}var o=e.return;try{Wv(e)}catch(l){Ye(e,o,l)}break;case 5:var a=e.return;try{Wv(e)}catch(l){Ye(e,a,l)}}}catch(l){Ye(e,e.return,l)}if(e===t){G=null;break}var s=e.sibling;if(s!==null){s.return=e.return,G=s;break}G=e.return}}var OV=Math.ceil,Ph=Ei.ReactCurrentDispatcher,i_=Ei.ReactCurrentOwner,Qn=Ei.ReactCurrentBatchConfig,ye=0,vt=null,rt=null,kt=0,bn=0,rs=Po(0),ct=0,Vu=null,da=0,Hd=0,o_=0,uu=null,un=null,a_=0,As=1/0,Gr=null,Ah=!1,qv=null,no=null,mf=!1,Gi=null,Ih=0,cu=0,Gv=null,Hf=-1,qf=0;function nn(){return ye&6?Xe():Hf!==-1?Hf:Hf=Xe()}function ro(t){return t.mode&1?ye&2&&kt!==0?kt&-kt:dV.transition!==null?(qf===0&&(qf=px()),qf):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:Ex(t.type)),t):1}function vr(t,e,n,r){if(50<cu)throw cu=0,Gv=null,Error(B(185));uc(t,n,r),(!(ye&2)||t!==vt)&&(t===vt&&(!(ye&2)&&(Hd|=n),ct===4&&Bi(t,kt)),gn(t,r),n===1&&ye===0&&!(e.mode&1)&&(As=Xe()+500,Bd&&Ao()))}function gn(t,e){var n=t.callbackNode;d4(t,e);var r=ch(t,t===vt?kt:0);if(r===0)n!==null&&hb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hb(n),e===1)t.tag===0?hV(iT.bind(null,t)):Fx(iT.bind(null,t)),lV(function(){!(ye&6)&&Ao()}),n=null;else{switch(mx(r)){case 1:n=R0;break;case 4:n=hx;break;case 16:n=uh;break;case 536870912:n=dx;break;default:n=uh}n=VC(n,kC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kC(t,e){if(Hf=-1,qf=0,ye&6)throw Error(B(327));var n=t.callbackNode;if(hs()&&t.callbackNode!==n)return null;var r=ch(t,t===vt?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xh(t,r);else{e=r;var i=ye;ye|=2;var o=NC();(vt!==t||kt!==e)&&(Gr=null,As=Xe()+500,na(t,e));do try{NV();break}catch(s){RC(t,s)}while(1);K0(),Ph.current=o,ye=i,rt!==null?e=0:(vt=null,kt=0,e=ct)}if(e!==0){if(e===2&&(i=Ev(t),i!==0&&(r=i,e=Yv(t,i))),e===1)throw n=Vu,na(t,0),Bi(t,r),gn(t,Xe()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!kV(i)&&(e=xh(t,r),e===2&&(o=Ev(t),o!==0&&(r=o,e=Yv(t,o))),e===1))throw n=Vu,na(t,0),Bi(t,r),gn(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Uo(t,un,Gr);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=a_+500-Xe(),10<e)){if(ch(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cv(Uo.bind(null,t,un,Gr),e);break}Uo(t,un,Gr);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-gr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OV(r/1960))-r,10<r){t.timeoutHandle=Cv(Uo.bind(null,t,un,Gr),r);break}Uo(t,un,Gr);break;case 5:Uo(t,un,Gr);break;default:throw Error(B(329))}}}return gn(t,Xe()),t.callbackNode===n?kC.bind(null,t):null}function Yv(t,e){var n=uu;return t.current.memoizedState.isDehydrated&&(na(t,e).flags|=256),t=xh(t,e),t!==2&&(e=un,un=n,e!==null&&Qv(e)),t}function Qv(t){un===null?un=t:un.push.apply(un,t)}function kV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!_r(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~o_,e&=~Hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gr(e),r=1<<n;t[n]=-1,e&=~r}}function iT(t){if(ye&6)throw Error(B(327));hs();var e=ch(t,0);if(!(e&1))return gn(t,Xe()),null;var n=xh(t,e);if(t.tag!==0&&n===2){var r=Ev(t);r!==0&&(e=r,n=Yv(t,r))}if(n===1)throw n=Vu,na(t,0),Bi(t,e),gn(t,Xe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Uo(t,un,Gr),gn(t,Xe()),null}function s_(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(As=Xe()+500,Bd&&Ao())}}function pa(t){Gi!==null&&Gi.tag===0&&!(ye&6)&&hs();var e=ye;ye|=1;var n=Qn.transition,r=Ie;try{if(Qn.transition=null,Ie=1,t)return t()}finally{Ie=r,Qn.transition=n,ye=e,!(ye&6)&&Ao()}}function l_(){bn=rs.current,Fe(rs)}function na(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sV(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(B0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mh();break;case 3:Ss(),Fe(pn),Fe(Yt),X0();break;case 5:Q0(r);break;case 4:Ss();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:H0(r.type._context);break;case 22:case 23:l_()}n=n.return}if(vt=t,rt=t=io(t.current,null),kt=bn=e,ct=0,Vu=null,o_=Hd=da=0,un=uu=null,qo!==null){for(e=0;e<qo.length;e++)if(n=qo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}qo=null}return t}function RC(t,e){do{var n=rt;try{if(K0(),zf.current=Sh,Th){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Th=!1}if(ha=0,gt=lt=We=null,su=!1,Mu=0,i_.current=null,n===null||n.return===null){ct=1,Vu=e,rt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=kt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Kb(a);if(p!==null){p.flags&=-257,Hb(p,a,s,o,e),p.mode&1&&Wb(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){Wb(o,u,e),u_();break e}l=Error(B(426))}}else if(Ue&&s.mode&1){var _=Kb(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Hb(_,a,s,o,e),z0(Ps(l,s));break e}}o=l=Ps(l,s),ct!==4&&(ct=2),uu===null?uu=[o]:uu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=mC(o,l,e);Vb(o,v);break e;case 1:s=l;var w=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(no===null||!no.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=gC(o,s,e);Vb(o,x);break e}}o=o.return}while(o!==null)}MC(n)}catch(O){e=O,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(1)}function NC(){var t=Ph.current;return Ph.current=Sh,t===null?Sh:t}function u_(){(ct===0||ct===3||ct===2)&&(ct=4),vt===null||!(da&268435455)&&!(Hd&268435455)||Bi(vt,kt)}function xh(t,e){var n=ye;ye|=2;var r=NC();(vt!==t||kt!==e)&&(Gr=null,na(t,e));do try{RV();break}catch(i){RC(t,i)}while(1);if(K0(),ye=n,Ph.current=r,rt!==null)throw Error(B(261));return vt=null,kt=0,ct}function RV(){for(;rt!==null;)DC(rt)}function NV(){for(;rt!==null&&!i4();)DC(rt)}function DC(t){var e=jC(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?MC(t):rt=e,i_.current=null}function MC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AV(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,rt=null;return}}else if(n=PV(n,e,bn),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);ct===0&&(ct=5)}function Uo(t,e,n){var r=Ie,i=Qn.transition;try{Qn.transition=null,Ie=1,DV(t,e,n,r)}finally{Qn.transition=i,Ie=r}return null}function DV(t,e,n,r){do hs();while(Gi!==null);if(ye&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(p4(t,o),t===vt&&(rt=vt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mf||(mf=!0,VC(uh,function(){return hs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qn.transition,Qn.transition=null;var a=Ie;Ie=1;var s=ye;ye|=4,i_.current=null,xV(t,n),CC(n,t),eV(Iv),fh=!!Av,Iv=Av=null,t.current=n,CV(n),o4(),ye=s,Ie=a,Qn.transition=o}else t.current=n;if(mf&&(mf=!1,Gi=t,Ih=i),o=t.pendingLanes,o===0&&(no=null),l4(n.stateNode),gn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ah)throw Ah=!1,t=qv,qv=null,t;return Ih&1&&t.tag!==0&&hs(),o=t.pendingLanes,o&1?t===Gv?cu++:(cu=0,Gv=t):cu=0,Ao(),null}function hs(){if(Gi!==null){var t=mx(Ih),e=Qn.transition,n=Ie;try{if(Qn.transition=null,Ie=16>t?16:t,Gi===null)var r=!1;else{if(t=Gi,Gi=null,Ih=0,ye&6)throw Error(B(331));var i=ye;for(ye|=4,G=t.current;G!==null;){var o=G,a=o.child;if(G.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(G=u;G!==null;){var c=G;switch(c.tag){case 0:case 11:case 15:lu(8,c,o)}var h=c.child;if(h!==null)h.return=c,G=h;else for(;G!==null;){c=G;var d=c.sibling,p=c.return;if(AC(c),c===u){G=null;break}if(d!==null){d.return=p,G=d;break}G=p}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}G=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,G=a;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:lu(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,G=v;break e}G=o.return}}var w=t.current;for(G=w;G!==null;){a=G;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,G=T;else e:for(a=w;G!==null;){if(s=G,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Kd(9,s)}}catch(O){Ye(s,s.return,O)}if(s===a){G=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,G=x;break e}G=s.return}}if(ye=i,Ao(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(jd,t)}catch{}r=!0}return r}finally{Ie=n,Qn.transition=e}}return!1}function oT(t,e,n){e=Ps(n,e),e=mC(t,e,1),t=to(t,e,1),e=nn(),t!==null&&(uc(t,1,e),gn(t,e))}function Ye(t,e,n){if(t.tag===3)oT(t,t,n);else for(;e!==null;){if(e.tag===3){oT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(no===null||!no.has(r))){t=Ps(n,t),t=gC(e,t,1),e=to(e,t,1),t=nn(),e!==null&&(uc(e,1,t),gn(e,t));break}}e=e.return}}function MV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(kt&n)===n&&(ct===4||ct===3&&(kt&130023424)===kt&&500>Xe()-a_?na(t,0):o_|=n),gn(t,e)}function LC(t,e){e===0&&(t.mode&1?(e=of,of<<=1,!(of&130023424)&&(of=4194304)):e=1);var n=nn();t=ci(t,e),t!==null&&(uc(t,e,n),gn(t,n))}function LV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LC(t,n)}function jV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),LC(t,n)}var jC;jC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,SV(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Ue&&e.flags&1048576&&Ux(e,yh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kf(t,e),t=e.pendingProps;var i=Es(e,Yt.current);fs(e,n),i=Z0(null,e,r,t,i,n);var o=e_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(o=!0,gh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,G0(e),i.updater=Wd,e.stateNode=i,i._reactInternals=e,Lv(e,r,t,n),e=$v(null,e,r,!0,o,n)):(e.tag=0,Ue&&o&&U0(e),en(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$V(r),t=lr(r,t),i){case 0:e=Vv(null,e,r,t,n);break e;case 1:e=Yb(null,e,r,t,n);break e;case 11:e=qb(null,e,r,t,n);break e;case 14:e=Gb(null,e,r,lr(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Vv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Yb(t,e,r,i,n);case 3:e:{if(wC(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,qx(t,e),Eh(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ps(Error(B(423)),e),e=Qb(t,e,r,n,i);break e}else if(r!==i){i=Ps(Error(B(424)),e),e=Qb(t,e,r,n,i);break e}else for(An=eo(e.stateNode.containerInfo.firstChild),xn=e,Ue=!0,cr=null,n=Kx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bs(),r===i){e=fi(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return Gx(e),t===null&&Nv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,xv(r,i)?a=null:o!==null&&xv(r,o)&&(e.flags|=32),_C(t,e),en(t,e,a,n),e.child;case 6:return t===null&&Nv(e),null;case 13:return EC(t,e,n);case 4:return Y0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ts(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),qb(t,e,r,i,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,De(_h,r._currentValue),r._currentValue=a,o!==null)if(_r(o.value,a)){if(o.children===i.children&&!pn.current){e=fi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ii(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Dv(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(B(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Dv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}en(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fs(e,n),i=Xn(i),r=r(i),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,i=lr(r,e.pendingProps),i=lr(r.type,i),Gb(t,e,r,i,n);case 15:return vC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Kf(t,e),e.tag=1,mn(r)?(t=!0,gh(e)):t=!1,fs(e,n),pC(e,r,i),Lv(e,r,i,n),$v(null,e,r,!0,t,n);case 19:return bC(t,e,n);case 22:return yC(t,e,n)}throw Error(B(156,e.tag))};function VC(t,e){return fx(t,e)}function VV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new VV(t,e,n,r)}function c_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $V(t){if(typeof t=="function")return c_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===C0)return 11;if(t===O0)return 14}return 2}function io(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gf(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")c_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case qa:return ra(n.children,i,o,e);case x0:a=8,i|=8;break;case av:return t=Gn(12,n,e,i|2),t.elementType=av,t.lanes=o,t;case sv:return t=Gn(13,n,e,i),t.elementType=sv,t.lanes=o,t;case lv:return t=Gn(19,n,e,i),t.elementType=lv,t.lanes=o,t;case GI:return qd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HI:a=10;break e;case qI:a=9;break e;case C0:a=11;break e;case O0:a=14;break e;case Vi:a=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Gn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ra(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function qd(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=GI,t.lanes=n,t.stateNode={isHidden:!1},t}function mg(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function gg(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qm(0),this.expirationTimes=Qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f_(t,e,n,r,i,o,a,s,l){return t=new FV(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},G0(o),t}function UV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $C(t){if(!t)return go;t=t._reactInternals;e:{if(Ia(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(mn(n))return $x(t,n,e)}return e}function FC(t,e,n,r,i,o,a,s,l){return t=f_(n,r,!0,t,i,o,a,s,l),t.context=$C(null),n=t.current,r=nn(),i=ro(n),o=ii(r,i),o.callback=e??null,to(n,o,i),t.current.lanes=i,uc(t,i,r),gn(t,r),t}function Gd(t,e,n,r){var i=e.current,o=nn(),a=ro(i);return n=$C(n),e.context===null?e.context=n:e.pendingContext=n,e=ii(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=to(i,e,a),t!==null&&(vr(t,i,a,o),Bf(t,i,a)),a}function Ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function h_(t,e){aT(t,e),(t=t.alternate)&&aT(t,e)}function BV(){return null}var UC=typeof reportError=="function"?reportError:function(t){console.error(t)};function d_(t){this._internalRoot=t}Yd.prototype.render=d_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Gd(t,e,null,null)};Yd.prototype.unmount=d_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pa(function(){Gd(null,t,null,null)}),e[ui]=null}};function Yd(t){this._internalRoot=t}Yd.prototype.unstable_scheduleHydration=function(t){if(t){var e=yx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ui.length&&e!==0&&e<Ui[n].priority;n++);Ui.splice(n,0,t),n===0&&wx(t)}};function p_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sT(){}function zV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ch(a);o.call(u)}}var a=FC(e,r,t,0,null,!1,!1,"",sT);return t._reactRootContainer=a,t[ui]=a.current,Ou(t.nodeType===8?t.parentNode:t),pa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Ch(l);s.call(u)}}var l=f_(t,0,!1,null,null,!1,!1,"",sT);return t._reactRootContainer=l,t[ui]=l.current,Ou(t.nodeType===8?t.parentNode:t),pa(function(){Gd(e,l,n,r)}),l}function Xd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Ch(a);s.call(l)}}Gd(e,a,t,i)}else a=zV(n,e,t,i,r);return Ch(a)}gx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ql(e.pendingLanes);n!==0&&(N0(e,n|1),gn(e,Xe()),!(ye&6)&&(As=Xe()+500,Ao()))}break;case 13:pa(function(){var r=ci(t,1);if(r!==null){var i=nn();vr(r,t,1,i)}}),h_(t,1)}};D0=function(t){if(t.tag===13){var e=ci(t,134217728);if(e!==null){var n=nn();vr(e,t,134217728,n)}h_(t,134217728)}};vx=function(t){if(t.tag===13){var e=ro(t),n=ci(t,e);if(n!==null){var r=nn();vr(n,t,e,r)}h_(t,e)}};yx=function(){return Ie};_x=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};yv=function(t,e,n){switch(e){case"input":if(fv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ud(r);if(!i)throw Error(B(90));QI(r),fv(r,i)}}}break;case"textarea":JI(t,n);break;case"select":e=n.value,e!=null&&ss(t,!!n.multiple,e,!1)}};ox=s_;ax=pa;var WV={usingClientEntryPoint:!1,Events:[fc,Xa,Ud,rx,ix,s_]},Ml={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KV={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ux(t),t===null?null:t.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||BV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{jd=gf.inject(KV),Or=gf}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WV;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p_(e))throw Error(B(200));return UV(t,e,null,n)};Ln.createRoot=function(t,e){if(!p_(t))throw Error(B(299));var n=!1,r="",i=UC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=f_(t,1,!1,null,null,n,!1,r,i),t[ui]=e.current,Ou(t.nodeType===8?t.parentNode:t),new d_(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=ux(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return pa(t)};Ln.hydrate=function(t,e,n){if(!Qd(e))throw Error(B(200));return Xd(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!p_(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=UC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=FC(e,null,t,1,n??null,i,!1,o,a),t[ui]=e.current,Ou(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yd(e)};Ln.render=function(t,e,n){if(!Qd(e))throw Error(B(200));return Xd(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!Qd(t))throw Error(B(40));return t._reactRootContainer?(pa(function(){Xd(null,null,t,!1,function(){t._reactRootContainer=null,t[ui]=null})}),!0):!1};Ln.unstable_batchedUpdates=s_;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Xd(t,e,n,!1,r)};Ln.version="18.3.1-next-f1338f8080-20240426";function BC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BC)}catch(t){console.error(t)}}BC(),BI.exports=Ln;var m_=BI.exports,lT=m_;iv.createRoot=lT.createRoot,iv.hydrateRoot=lT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(this,arguments)}var Yi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yi||(Yi={}));const uT="popstate";function HV(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return Xv("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Oh(i)}return GV(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qV(){return Math.random().toString(36).substr(2,8)}function cT(t,e){return{usr:t.state,key:t.key,idx:e}}function Xv(t,e,n,r){return n===void 0&&(n=null),$u({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ys(e):e,{state:n,key:e&&e.key||r||qV()})}function Oh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Yi.Pop,l=null,u=c();u==null&&(u=0,a.replaceState($u({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function h(){s=Yi.Pop;let _=c(),v=_==null?null:_-u;u=_,l&&l({action:s,location:y.location,delta:v})}function d(_,v){s=Yi.Push;let w=Xv(y.location,_,v);n&&n(w,_),u=c()+1;let T=cT(w,u),x=y.createHref(w);try{a.pushState(T,"",x)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(x)}o&&l&&l({action:s,location:y.location,delta:1})}function p(_,v){s=Yi.Replace;let w=Xv(y.location,_,v);n&&n(w,_),u=c();let T=cT(w,u),x=y.createHref(w);a.replaceState(T,"",x),o&&l&&l({action:s,location:y.location,delta:0})}function m(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:Oh(_);return w=w.replace(/ $/,"%20"),Je(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let y={get action(){return s},get location(){return t(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uT,h),l=_,()=>{i.removeEventListener(uT,h),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let v=m(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(_){return a.go(_)}};return y}var fT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fT||(fT={}));function YV(t,e,n){return n===void 0&&(n="/"),QV(t,e,n,!1)}function QV(t,e,n,r){let i=typeof e=="string"?Ys(e):e,o=g_(i.pathname||"/",n);if(o==null)return null;let a=WC(t);XV(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=l6(o);s=a6(a[l],u,r)}return s}function WC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=oo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),WC(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:i6(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of KC(o.path))i(o,a,l)}),e}function KC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=KC(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function XV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JV=/^:[\w-]+$/,ZV=3,e6=2,t6=1,n6=10,r6=-2,hT=t=>t==="*";function i6(t,e){let n=t.split("/"),r=n.length;return n.some(hT)&&(r+=r6),e&&(r+=e6),n.filter(i=>!hT(i)).reduce((i,o)=>i+(JV.test(o)?ZV:o===""?t6:n6),r)}function o6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function a6(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",h=dT({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=dT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:oo([o,h.pathname]),pathnameBase:h6(oo([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=oo([o,h.pathnameBase]))}return a}function dT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=s6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let y=s[h]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=s[h];return p&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function s6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function l6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function g_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function u6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ys(t):t;return{pathname:n?n.startsWith("/")?n:c6(n,e):e,search:d6(r),hash:p6(i)}}function c6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function v_(t,e){let n=f6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function y_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ys(t):(i=$u({},t),Je(!i.pathname||!i.pathname.includes("?"),vg("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),vg("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),vg("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}s=h>=0?e[h]:"/"}let l=u6(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const oo=t=>t.join("/").replace(/\/\/+/g,"/"),h6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),d6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HC=["post","put","patch","delete"];new Set(HC);const g6=["get",...HC];new Set(g6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}const __=b.createContext(null),v6=b.createContext(null),Io=b.createContext(null),Jd=b.createContext(null),bi=b.createContext({outlet:null,matches:[],isDataRoute:!1}),qC=b.createContext(null);function y6(t,e){let{relative:n}=e===void 0?{}:e;Qs()||Je(!1);let{basename:r,navigator:i}=b.useContext(Io),{hash:o,pathname:a,search:s}=YC(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:oo([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Qs(){return b.useContext(Jd)!=null}function Xs(){return Qs()||Je(!1),b.useContext(Jd).location}function GC(t){b.useContext(Io).static||b.useLayoutEffect(t)}function Js(){let{isDataRoute:t}=b.useContext(bi);return t?R6():_6()}function _6(){Qs()||Je(!1);let t=b.useContext(__),{basename:e,future:n,navigator:r}=b.useContext(Io),{matches:i}=b.useContext(bi),{pathname:o}=Xs(),a=JSON.stringify(v_(i,n.v7_relativeSplatPath)),s=b.useRef(!1);return GC(()=>{s.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let h=y_(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:oo([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,a,o,t])}function w6(){let{matches:t}=b.useContext(bi),e=t[t.length-1];return e?e.params:{}}function YC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Io),{matches:i}=b.useContext(bi),{pathname:o}=Xs(),a=JSON.stringify(v_(i,r.v7_relativeSplatPath));return b.useMemo(()=>y_(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function E6(t,e){return b6(t,e)}function b6(t,e,n,r){Qs()||Je(!1);let{navigator:i}=b.useContext(Io),{matches:o}=b.useContext(bi),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Xs(),c;if(e){var h;let _=typeof e=="string"?Ys(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||Je(!1),c=_}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=YV(t,{pathname:p}),y=I6(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:oo([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:oo([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&y?b.createElement(Jd.Provider,{value:{location:Fu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Yi.Pop}},y):y}function T6(){let t=k6(),e=m6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,o)}const S6=b.createElement(T6,null);class P6 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(bi.Provider,{value:this.props.routeContext},b.createElement(qC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A6(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(__);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(bi.Provider,{value:e},r)}function I6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);c>=0||Je(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:p}=n,m=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,h,d)=>{let p,m=!1,y=null,_=null;n&&(p=s&&h.route.id?s[h.route.id]:void 0,y=h.route.errorElement||S6,l&&(u<0&&d===0?(N6("route-fallback",!1),m=!0,_=null):u===d&&(m=!0,_=h.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,d+1)),w=()=>{let T;return p?T=y:m?T=_:h.route.Component?T=b.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=c,b.createElement(A6,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?b.createElement(P6,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var QC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(QC||{}),kh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kh||{});function x6(t){let e=b.useContext(__);return e||Je(!1),e}function C6(t){let e=b.useContext(v6);return e||Je(!1),e}function O6(t){let e=b.useContext(bi);return e||Je(!1),e}function XC(t){let e=O6(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function k6(){var t;let e=b.useContext(qC),n=C6(kh.UseRouteError),r=XC(kh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function R6(){let{router:t}=x6(QC.UseNavigateStable),e=XC(kh.UseNavigateStable),n=b.useRef(!1);return GC(()=>{n.current=!0}),b.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fu({fromRouteId:e},o)))},[t,e])}const pT={};function N6(t,e,n){!e&&!pT[t]&&(pT[t]=!0)}function D6(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function JC(t){let{to:e,replace:n,state:r,relative:i}=t;Qs()||Je(!1);let{future:o,static:a}=b.useContext(Io),{matches:s}=b.useContext(bi),{pathname:l}=Xs(),u=Js(),c=y_(e,v_(s,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return b.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function sr(t){Je(!1)}function M6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yi.Pop,navigator:o,static:a=!1,future:s}=t;Qs()&&Je(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:o,static:a,future:Fu({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Ys(r));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:m="default"}=r,y=b.useMemo(()=>{let _=g_(c,l);return _==null?null:{location:{pathname:_,search:h,hash:d,state:p,key:m},navigationType:i}},[l,c,h,d,p,m,i]);return y==null?null:b.createElement(Io.Provider,{value:u},b.createElement(Jd.Provider,{children:n,value:y}))}function L6(t){let{children:e,location:n}=t;return E6(Jv(e),n)}new Promise(()=>{});function Jv(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let o=[...e,i];if(r.type===b.Fragment){n.push.apply(n,Jv(r.props.children,o));return}r.type!==sr&&Je(!1),!r.props.index||!r.props.children||Je(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Jv(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(this,arguments)}function j6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function V6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $6(t,e){return t.button===0&&(!e||e==="_self")&&!V6(t)}const F6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U6="6";try{window.__reactRouterVersion=U6}catch{}const B6="startTransition",mT=Uj[B6];function z6(t){let{basename:e,children:n,future:r,window:i}=t,o=b.useRef();o.current==null&&(o.current=HV({window:i,v5Compat:!0}));let a=o.current,[s,l]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=b.useCallback(h=>{u&&mT?mT(()=>l(h)):l(h)},[l,u]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.useEffect(()=>D6(r),[r]),b.createElement(M6,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const W6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ey=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,d=j6(e,F6),{basename:p}=b.useContext(Io),m,y=!1;if(typeof u=="string"&&K6.test(u)&&(m=u,W6))try{let T=new URL(window.location.href),x=u.startsWith("//")?new URL(T.protocol+u):new URL(u),O=g_(x.pathname,p);x.origin===T.origin&&O!=null?u=O+x.search+x.hash:y=!0}catch{}let _=y6(u,{relative:i}),v=H6(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:h});function w(T){r&&r(T),T.defaultPrevented||v(T)}return b.createElement("a",Zv({},d,{href:m||_,onClick:y||o?r:w,ref:n,target:l}))});var gT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gT||(gT={}));var vT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vT||(vT={}));function H6(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=Js(),u=Xs(),c=YC(t,{relative:a});return b.useCallback(h=>{if($6(h,n)){h.preventDefault();let d=r!==void 0?r:Oh(u)===Oh(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}const q6=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},G6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},eO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||h==null)throw new Y6;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Y6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q6=function(t){const e=ZC(t);return eO.encodeByteArray(e,!0)},Rh=function(t){return Q6(t).replace(/\./g,"")},tO=function(t){try{return eO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=()=>X6().__FIREBASE_DEFAULTS__,Z6=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},e3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tO(t[1]);return e&&JSON.parse(e)},Zd=()=>{try{return q6()||J6()||Z6()||e3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nO=t=>{var e,n;return(n=(e=Zd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},t3=t=>{const e=nO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rO=()=>{var t;return(t=Zd())==null?void 0:t.config},iO=t=>{var e;return(e=Zd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},s="";return[Rh(JSON.stringify(n)),Rh(JSON.stringify(a)),s].join(".")}const fu={};function i3(){const t={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?t.emulator.push(e):t.prod.push(e);return t}function o3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yT=!1;function aO(t,e){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||fu[t]===e||fu[t]||yT)return;fu[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",o=i3().prod.length>0;function a(){const d=document.getElementById(r);d&&d.remove()}function s(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{yT=!0,a()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=o3(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),_=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const T=d.element;s(T),c(_,y);const x=u();l(w,v),T.append(w,m,_,x),document.body.appendChild(T)}o?(m.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function s3(){var e;const t=(e=Zd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f3(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function h3(){return!s3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d3(){try{return typeof indexedDB=="object"}catch{return!1}}function p3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="FirebaseError";class Ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=m3,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?g3(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Ti(i,s,r)}}function g3(t,e){return t.replace(v3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const v3=/\{\$([^}]+)}/g;function y3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ma(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(_T(o)&&_T(a)){if(!ma(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _T(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _3(t,e){const n=new w3(t,e);return n.subscribe.bind(n)}class w3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yg),i.error===void 0&&(i.error=yg),i.complete===void 0&&(i.complete=yg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class ga{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new n3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S3(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function T3(t){return t===Bo?void 0:t}function S3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const A3={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},I3=pe.INFO,x3={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},C3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=x3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w_{constructor(e){this.name=e,this._logLevel=I3,this._logHandler=C3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const O3=(t,e)=>e.some(n=>t instanceof n);let wT,ET;function k3(){return wT||(wT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R3(){return ET||(ET=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sO=new WeakMap,ty=new WeakMap,lO=new WeakMap,_g=new WeakMap,E_=new WeakMap;function N3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ao(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&sO.set(n,t)}).catch(()=>{}),E_.set(e,t),e}function D3(t){if(ty.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});ty.set(t,e)}let ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function M3(t){ny=t(ny)}function L3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wg(this),e,...n);return lO.set(r,e.sort?e.sort():[e]),ao(r)}:R3().includes(t)?function(...e){return t.apply(wg(this),e),ao(sO.get(this))}:function(...e){return ao(t.apply(wg(this),e))}}function j3(t){return typeof t=="function"?L3(t):(t instanceof IDBTransaction&&D3(t),O3(t,k3())?new Proxy(t,ny):t)}function ao(t){if(t instanceof IDBRequest)return N3(t);if(_g.has(t))return _g.get(t);const e=j3(t);return e!==t&&(_g.set(t,e),E_.set(e,t)),e}const wg=t=>E_.get(t);function V3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=ao(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ao(a.result),l.oldVersion,l.newVersion,ao(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const $3=["get","getKey","getAll","getAllKeys","count"],F3=["put","add","delete","clear"],Eg=new Map;function bT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Eg.get(e))return Eg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=F3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$3.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Eg.set(e,o),o}M3(t=>({...t,get:(e,n,r)=>bT(e,n)||t.get(e,n,r),has:(e,n)=>!!bT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ry="@firebase/app",TT="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new w_("@firebase/app"),z3="@firebase/app-compat",W3="@firebase/analytics-compat",K3="@firebase/analytics",H3="@firebase/app-check-compat",q3="@firebase/app-check",G3="@firebase/auth",Y3="@firebase/auth-compat",Q3="@firebase/database",X3="@firebase/data-connect",J3="@firebase/database-compat",Z3="@firebase/functions",e$="@firebase/functions-compat",t$="@firebase/installations",n$="@firebase/installations-compat",r$="@firebase/messaging",i$="@firebase/messaging-compat",o$="@firebase/performance",a$="@firebase/performance-compat",s$="@firebase/remote-config",l$="@firebase/remote-config-compat",u$="@firebase/storage",c$="@firebase/storage-compat",f$="@firebase/firestore",h$="@firebase/ai",d$="@firebase/firestore-compat",p$="firebase",m$="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="[DEFAULT]",g$={[ry]:"fire-core",[z3]:"fire-core-compat",[K3]:"fire-analytics",[W3]:"fire-analytics-compat",[q3]:"fire-app-check",[H3]:"fire-app-check-compat",[G3]:"fire-auth",[Y3]:"fire-auth-compat",[Q3]:"fire-rtdb",[X3]:"fire-data-connect",[J3]:"fire-rtdb-compat",[Z3]:"fire-fn",[e$]:"fire-fn-compat",[t$]:"fire-iid",[n$]:"fire-iid-compat",[r$]:"fire-fcm",[i$]:"fire-fcm-compat",[o$]:"fire-perf",[a$]:"fire-perf-compat",[s$]:"fire-rc",[l$]:"fire-rc-compat",[u$]:"fire-gcs",[c$]:"fire-gcs-compat",[f$]:"fire-fst",[d$]:"fire-fst-compat",[h$]:"fire-vertex","fire-js":"fire-js",[p$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,v$=new Map,oy=new Map;function ST(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Is(t){const e=t.name;if(oy.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,t);for(const n of Nh.values())ST(n,t);for(const n of v$.values())ST(n,t);return!0}function b_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new dc("app","Firebase",y$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=m$;function uO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:iy,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw so.create("bad-app-name",{appName:String(i)});if(n||(n=rO()),!n)throw so.create("no-options");const o=Nh.get(i);if(o){if(ma(n,o.options)&&ma(r,o.config))return o;throw so.create("duplicate-app",{appName:i})}const a=new P3(i);for(const l of oy.values())a.addComponent(l);const s=new _$(n,r,a);return Nh.set(i,s),s}function cO(t=iy){const e=Nh.get(t);if(!e&&t===iy&&rO())return uO();if(!e)throw so.create("no-app",{appName:t});return e}function lo(t,e,n){let r=g$[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(a.join(" "));return}Is(new ga(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$="firebase-heartbeat-database",E$=1,Uu="firebase-heartbeat-store";let bg=null;function fO(){return bg||(bg=V3(w$,E$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw so.create("idb-open",{originalErrorMessage:t.message})})),bg}async function b$(t){try{const n=(await fO()).transaction(Uu),r=await n.objectStore(Uu).get(hO(t));return await n.done,r}catch(e){if(e instanceof Ti)hi.warn(e.message);else{const n=so.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function PT(t,e){try{const r=(await fO()).transaction(Uu,"readwrite");await r.objectStore(Uu).put(e,hO(t)),await r.done}catch(n){if(n instanceof Ti)hi.warn(n.message);else{const r=so.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(r.message)}}}function hO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=1024,S$=30;class P${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>S$){const a=x$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AT(),{heartbeatsToSend:r,unsentEntries:i}=A$(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return hi.warn(n),""}}}function AT(){return new Date().toISOString().substring(0,10)}function A$(t,e=T$){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),IT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d3()?p3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function IT(t){return Rh(JSON.stringify({version:2,heartbeats:t})).length}function x$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t){Is(new ga("platform-logger",e=>new U3(e),"PRIVATE")),Is(new ga("heartbeat",e=>new P$(e),"PRIVATE")),lo(ry,TT,t),lo(ry,TT,"esm2020"),lo("fire-js","")}C$("");function dO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O$=dO,pO=new dc("auth","Firebase",dO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new w_("@firebase/auth");function k$(t,...e){Dh.logLevel<=pe.WARN&&Dh.warn(`Auth (${tl}): ${t}`,...e)}function Yf(t,...e){Dh.logLevel<=pe.ERROR&&Dh.error(`Auth (${tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw S_(t,...e)}function vn(t,...e){return S_(t,...e)}function T_(t,e,n){const r={...O$(),[e]:n};return new dc("auth","Firebase",r).create(e,{appName:t.name})}function uo(t){return T_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jr(t,"argument-error"),T_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function S_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pO.create(t,...e)}function Y(t,e,...n){if(!t)throw S_(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yf(e),new Error(e)}function di(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function mO(){return xT()==="http:"||xT()==="https:"}function xT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mO()||u3()||"connection"in navigator)?navigator.onLine:!0}function D$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=a3()||c3()}get(){return N$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j$=new pc(3e4,6e4);function Kr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Er(t,e,n,r,i={}){return vO(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=el({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return l3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Zs(t.emulatorConfig.host)&&(u.credentials="include"),gO.fetch()(await yO(t,t.config.apiHost,n,s),u)})}async function vO(t,e,n){t._canInitEmulator=!1;const r={...M$,...e};try{const i=new $$(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Yl(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Yl(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw T_(t,c,u);jr(t,c)}}catch(i){if(i instanceof Ti)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function ep(t,e,n,r,i={}){const o=await Er(t,e,n,r,i);return"mfaPendingCredential"in o&&jr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function yO(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?P_(t.config,i):`${t.config.apiScheme}://${i}`;return L$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function V$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vn(this.auth,"network-request-failed")),j$.get())})}}function Yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){return t!==void 0&&t.getResponse!==void 0}function OT(t){return t!==void 0&&t.enterprise!==void 0}class _O{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return V$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F$(t){return(await Er(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function wO(t,e){return Er(t,"GET","/v2/recaptchaConfig",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e){return Er(t,"POST","/v1/accounts:delete",e)}async function Mh(t,e){return Er(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B$(t,e=!1){const n=Xt(t),r=await n.getIdToken(e),i=A_(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:hu(Tg(i.auth_time)),issuedAtTime:hu(Tg(i.iat)),expirationTime:hu(Tg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Tg(t){return Number(t)*1e3}function A_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const i=tO(n);return i?JSON.parse(i):(Yf("Failed to decode base64 JWT payload"),null)}catch(i){return Yf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function kT(t){const e=A_(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ti&&z$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Bu(t,Mh(e,{idToken:n}));Y(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(h=i.providerUserInfo)!=null&&h.length?EO(i.providerUserInfo):[],a=H$(t.providerData,o),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sy(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function K$(t){const e=Xt(t);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e){const n=await vO(t,{},async()=>{const r=el({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await yO(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&Zs(t.emulatorConfig.host)&&(l.credentials="include"),gO.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G$(t,e){return Er(t,"POST","/v2/accounts:revokeToken",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=kT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await q$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new ds;return r&&(Y(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ds,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new W$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Bu(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B$(this,e)}reload(){return K$(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(uo(this.auth));const e=await this.getIdToken();return await Bu(this,U$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:h,emailVerified:d,isAnonymous:p,providerData:m,stsTokenManager:y}=n;Y(h&&y,e,"internal-error");const _=ds.fromJSON(this.name,y);Y(typeof h=="string",e,"internal-error"),Mi(r,e.name),Mi(i,e.name),Y(typeof d=="boolean",e,"internal-error"),Y(typeof p=="boolean",e,"internal-error"),Mi(o,e.name),Mi(a,e.name),Mi(s,e.name),Mi(l,e.name),Mi(u,e.name),Mi(c,e.name);const v=new mr({uid:h,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:_,createdAt:u,lastLoginAt:c});return m&&Array.isArray(m)&&(v.providerData=m.map(w=>({...w}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new ds;i.updateFromServerResponse(n);const o=new mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?EO(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new ds;s.updateFromIdToken(r);const l=new mr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new sy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;function ti(t){di(t instanceof Function,"Expected a class definition");let e=RT.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bO.type="NONE";const NT=bO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e,n){return`firebase:${t}:${e}:${n}`}class ps{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Qf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?mr._fromGetAccountInfoResponse(this.auth,n,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ps(ti(NT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ti(NT);const a=Qf(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){let h;if(typeof c=="string"){const d=await Mh(e,{idToken:c}).catch(()=>{});if(!d)break;h=await mr._fromGetAccountInfoResponse(e,d,c)}else h=mr._fromJSON(e,c);u!==o&&(s=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ps(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ps(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xO(e))return"Blackberry";if(CO(e))return"Webos";if(SO(e))return"Safari";if((e.includes("chrome/")||PO(e))&&!e.includes("edge/"))return"Chrome";if(IO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TO(t=Qt()){return/firefox\//i.test(t)}function SO(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PO(t=Qt()){return/crios\//i.test(t)}function AO(t=Qt()){return/iemobile/i.test(t)}function IO(t=Qt()){return/android/i.test(t)}function xO(t=Qt()){return/blackberry/i.test(t)}function CO(t=Qt()){return/webos/i.test(t)}function I_(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y$(t=Qt()){var e;return I_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Q$(){return f3()&&document.documentMode===10}function OO(t=Qt()){return I_(t)||IO(t)||CO(t)||xO(t)||/windows phone/i.test(t)||AO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t,e=[]){let n;switch(t){case"Browser":n=DT(Qt());break;case"Worker":n=`${DT(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J$(t,e={}){return Er(t,"GET","/v2/passwordPolicy",Kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=6;class eF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Z$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MT(this),this.idTokenSubscription=new MT(this),this.beforeStateQueue=new X$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await ps.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),r=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Hn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(uo(this));const n=e?Xt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J$(this),n=new eF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await ps.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&k$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Si(t){return Xt(t)}class MT{constructor(e){this.auth=e,this.observer=null,this.addObserver=_3(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nF(t){mc=t}function x_(t){return mc.loadJS(t)}function rF(){return mc.recaptchaV2Script}function iF(){return mc.recaptchaEnterpriseScript}function oF(){return mc.gapiScript}function RO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=500,sF=6e4,vf=1e12;class lF{constructor(e){this.auth=e,this.counter=vf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new fF(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||vf;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||vf;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||vf;return(r=this._widgets.get(n))==null||r.execute(),""}}class uF{constructor(){this.enterprise=new cF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fF{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Y(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=hF(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},sF)},aF))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function hF(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const dF="recaptcha-enterprise",du="NO_RECAPTCHA";class NO{constructor(e){this.type=dF,this.auth=Si(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{wO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new _O(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;OT(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(du)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uF().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&OT(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=iF();l.length!==0&&(l+=s),x_(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function Ll(t,e,n,r=!1,i=!1){const o=new NO(t);let a;if(i)a=du;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Sg(t,e,n,r,i){var o,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Ll(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ll(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const s=await Ll(t,e,n);return r(t,s).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const c=await Ll(t,e,n,!1,!0);return r(t,c)}return Promise.reject(l)})}else{const s=await Ll(t,e,n,!1,!0);return r(t,s)}else return Promise.reject(i+" provider is not supported.")}async function pF(t){const e=Si(t),n=await wO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new _O(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new NO(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t,e){const n=b_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ma(o,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function gF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vF(t,e,n){const r=Si(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=DO(e),{host:a,port:s}=yF(e),l=s===null?"":`:${s}`,u={url:`${o}//${a}${l}/`},c=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(ma(u,r.config.emulator)&&ma(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Zs(a)?(oO(`${o}//${a}${l}`),aO("Auth",!0)):i||_F()}function DO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yF(t){const e=DO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:LT(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:LT(a)}}}function LT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _F(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(t,e){return ep(t,"POST","/v1/accounts:signInWithIdp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="http://localhost";class va extends C_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new va(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ms(e,n)}buildRequest(){const e={requestUri:wF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=el(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(t,e){return Er(t,"POST","/v1/accounts:sendVerificationCode",Kr(t,e))}async function EF(t,e){return ep(t,"POST","/v1/accounts:signInWithPhoneNumber",Kr(t,e))}async function bF(t,e){const n=await ep(t,"POST","/v1/accounts:signInWithPhoneNumber",Kr(t,e));if(n.temporaryProof)throw Yl(t,"account-exists-with-different-credential",n);return n}const TF={USER_NOT_FOUND:"user-not-found"};async function SF(t,e){const n={...e,operation:"REAUTH"};return ep(t,"POST","/v1/accounts:signInWithPhoneNumber",Kr(t,n),TF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends C_{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new pu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new pu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return EF(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return bF(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return SF(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new pu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends O_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends gc{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return va._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xr.credential(n,r)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends gc{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends gc{constructor(){super("twitter.com")}static credential(e,n){return va._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await mr._fromIdTokenResponse(e,r,i),a=VT(r);return new xs({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=VT(r);return new xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function VT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Ti{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jh(e,n,r,i)}}function MO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(t,o,e,r):o})}async function PF(t,e,n=!1){const r=await Bu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(uo(r));const i="reauthenticate";try{const o=await Bu(t,MO(r,i,e,t),n);Y(o.idToken,r,"internal-error");const a=A_(o.idToken);Y(a,r,"internal-error");const{sub:s}=a;return Y(t.uid===s,r,"user-mismatch"),xs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e,n=!1){if(Hn(t.app))return Promise.reject(uo(t));const r="signIn",i=await MO(t,r,e),o=await xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function IF(t,e){return LO(Si(t),e)}function xF(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function CF(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}function OF(t,e,n,r){return Xt(t).onAuthStateChanged(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t,e){return Er(t,"POST","/v2/accounts/mfaEnrollment:start",Kr(t,e))}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=1e3,RF=10;class VO extends jO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Q$()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,RF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VO.type="LOCAL";const NF=VO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O extends jO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$O.type="SESSION";const FO=$O;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await DF(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=k_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(){return window}function LF(t){nt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){return typeof nt().WorkerGlobalScope<"u"&&typeof nt().importScripts=="function"}async function jF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $F(){return R_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firebaseLocalStorageDb",FF=1,$h="firebaseLocalStorage",BO="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function np(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function UF(){const t=indexedDB.deleteDatabase(UO);return new vc(t).toPromise()}function ly(){const t=indexedDB.open(UO,FF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($h,{keyPath:BO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($h)?e(r):(r.close(),await UF(),e(await ly()))})})}async function FT(t,e,n){const r=np(t,!0).put({[BO]:e,value:n});return new vc(r).toPromise()}async function BF(t,e){const n=np(t,!1).get(e),r=await new vc(n).toPromise();return r===void 0?null:r.value}function UT(t,e){const n=np(t,!0).delete(e);return new vc(n).toPromise()}const zF=800,WF=3;class zO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ly(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tp._getInstance($F()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await jF(),!this.activeServiceWorker)return;this.sender=new MF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ly();return await FT(e,Vh,"1"),await UT(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>FT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=np(i,!1).getAll();return new vc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zO.type="LOCAL";const KF=zO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e){return Er(t,"POST","/v2/accounts/mfaSignIn:start",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=RO("rcb"),HF=new pc(3e4,6e4);class qF{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=nt().grecaptcha)!=null&&e.render)}load(e,n=""){return Y(GF(n),e,"argument-error"),this.shouldResolveImmediately(n)&&CT(nt().grecaptcha)?Promise.resolve(nt().grecaptcha):new Promise((r,i)=>{const o=nt().setTimeout(()=>{i(vn(e,"network-request-failed"))},HF.get());nt()[Pg]=()=>{nt().clearTimeout(o),delete nt()[Pg];const s=nt().grecaptcha;if(!s||!CT(s)){i(vn(e,"internal-error"));return}const l=s.render;s.render=(u,c)=>{const h=l(u,c);return this.counter++,h},this.hostLanguage=n,r(s)};const a=`${rF()}?${el({onload:Pg,render:"explicit",hl:n})}`;x_(a).catch(()=>{clearTimeout(o),i(vn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=nt().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function GF(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class YF{async load(e){return new lF(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="recaptcha",QF={theme:"light",type:"image"};class WO{constructor(e,n,r={...QF}){this.parameters=r,this.type=mu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Si(e),this.isInvisible=this.parameters.size==="invisible",Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;Y(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new YF:new qF,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const o=a=>{a&&(this.tokenChangeListeners.delete(o),i(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=nt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Y(mO()&&!R_(),this.auth,"internal-error"),await XF(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await F$(this.auth);Y(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function XF(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=pu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function KO(t,e,n){if(Hn(t.app))return Promise.reject(uo(t));const r=Si(t),i=await ZF(r,e,Xt(n));return new JF(i,o=>IF(r,o))}async function ZF(t,e,n){var r;if(!t._getRecaptchaConfig())try{await pF(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){Y(o.type==="enroll",t,"internal-error");const a={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Sg(t,a,"mfaSmsEnrollment",async(c,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===du){Y((n==null?void 0:n.type)===mu,c,"argument-error");const d=await Ag(c,h,n);return $T(c,d)}return $T(c,h)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).phoneSessionInfo.sessionInfo}else{Y(o.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Y(a,t,"missing-multi-factor-info");const s={mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Sg(t,s,"mfaSmsSignIn",async(h,d)=>{if(d.phoneSignInInfo.captchaResponse===du){Y((n==null?void 0:n.type)===mu,h,"argument-error");const p=await Ag(h,d,n);return BT(h,p)}return BT(h,d)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Sg(t,o,"sendVerificationCode",async(u,c)=>{if(c.captchaResponse===du){Y((n==null?void 0:n.type)===mu,u,"argument-error");const h=await Ag(u,c,n);return jT(u,h)}return jT(u,c)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function Ag(t,e,n){Y(n.type===mu,t,"argument-error");const r=await n.verify();Y(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,s=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:a,clientType:s,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,s=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:s}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t,e){return e?ti(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_ extends C_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eU(t){return LO(t.auth,new N_(t),t.bypassAuthState)}function tU(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),AF(n,new N_(t),t.bypassAuthState)}async function nU(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),PF(n,new N_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eU;case"linkViaPopup":case"linkViaRedirect":return nU;case"reauthViaPopup":case"reauthViaRedirect":return tU;default:jr(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=new pc(2e3,1e4);async function GO(t,e,n){if(Hn(t.app))return Promise.reject(vn(t,"operation-not-supported-in-this-environment"));const r=Si(t);R$(t,e,O_);const i=HO(r,n);return new Yo(r,"signInViaPopup",e,i).executeNotNull()}class Yo extends qO{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=k_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rU.get())};e()}}Yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="pendingRedirect",Xf=new Map;class oU extends qO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xf.get(this.auth._key());if(!e){try{const r=await aU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aU(t,e){const n=uU(e),r=lU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sU(t,e){Xf.set(t._key(),e)}function lU(t){return ti(t._redirectPersistence)}function uU(t){return Qf(iU,t.config.apiKey,t.name)}async function cU(t,e,n=!1){if(Hn(t.app))return Promise.reject(uo(t));const r=Si(t),i=HO(r,e),a=await new oU(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=10*60*1e3;class hU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YO(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fU&&this.cachedEventUids.clear(),this.cachedEventUids.has(zT(e))}saveEventToCache(e){this.cachedEventUids.add(zT(e)),this.lastProcessedEventTime=Date.now()}}function zT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e={}){return Er(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gU=/^https?/;async function vU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pU(t);for(const n of e)try{if(yU(n))return}catch{}jr(t,"unauthorized-domain")}function yU(t){const e=ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!gU.test(n))return!1;if(mU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new pc(3e4,6e4);function WT(){const t=nt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wU(t){return new Promise((e,n)=>{var i,o,a;function r(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(vn(t,"network-request-failed"))},timeout:_U.get()})}if((o=(i=nt().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=nt().gapi)!=null&&a.load)r();else{const s=RO("iframefcb");return nt()[s]=()=>{gapi.load?r():n(vn(t,"network-request-failed"))},x_(`${oF()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Jf=null,e})}let Jf=null;function EU(t){return Jf=Jf||wU(t),Jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new pc(5e3,15e3),TU="__/auth/iframe",SU="emulator/auth/iframe",PU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IU(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P_(e,SU):`https://${t.config.authDomain}/${TU}`,r={apiKey:e.apiKey,appName:t.name,v:tl},i=AU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${el(r).slice(1)}`}async function xU(t){const e=await EU(t),n=nt().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:IU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=vn(t,"network-request-failed"),s=nt().setTimeout(()=>{o(a)},bU.get());function l(){nt().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OU=500,kU=600,RU="_blank",NU="http://localhost";class KT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DU(t,e,n,r=OU,i=kU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...CU,width:r.toString(),height:i.toString(),top:o,left:a},u=Qt().toLowerCase();n&&(s=PO(u)?RU:n),TO(u)&&(e=e||NU,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(Y$(u)&&s!=="_self")return MU(e||"",s),new KT(null);const h=window.open(e||"",s,c);Y(h,t,"popup-blocked");try{h.focus()}catch{}return new KT(h)}function MU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="__/auth/handler",jU="emulator/auth/handler",VU=encodeURIComponent("fac");async function HT(t,e,n,r,i,o){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tl,eventId:i};if(e instanceof O_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",y3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(o||{}))a[c]=h}if(e instanceof gc){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${VU}=${encodeURIComponent(l)}`:"";return`${$U(t)}?${el(s).slice(1)}${u}`}function $U({config:t}){return t.emulator?P_(t,jU):`https://${t.authDomain}/${LU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="webStorageSupport";class FU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FO,this._completeRedirectFn=cU,this._overrideRedirectResult=sU}async _openPopup(e,n,r,i){var a;di((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await HT(e,n,r,ay(),i);return DU(e,o,k_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await HT(e,n,r,ay(),i);return LF(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xU(e),r=new hU(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ig,{type:Ig},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[Ig];o!==void 0&&n(!!o),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OO()||SO()||I_()}}const UU=FU;var qT="@firebase/auth",GT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WU(t){Is(new ga("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Y(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kO(t)},u=new tF(r,i,o,l);return gF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Is(new ga("auth-internal",e=>{const n=Si(e.getProvider("auth").getImmediate());return(r=>new BU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lo(qT,GT,zU(t)),lo(qT,GT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=5*60,HU=iO("authIdTokenMaxAge")||KU;let YT=null;const qU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HU)return;const i=n==null?void 0:n.token;YT!==i&&(YT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GU(t=cO()){const e=b_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mF(t,{popupRedirectResolver:UU,persistence:[KF,NF,FO]}),r=iO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=qU(o.toString());CF(n,a,()=>a(n.currentUser)),xF(n,s=>a(s))}}const i=nO("auth");return i&&vF(n,`http://${i}`),n}function YU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}nF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=vn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",YU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WU("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function QU(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(h){a(h)}}function l(c){try{u(r.throw(c))}catch(h){a(h)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}function XU(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var is=function(){return is=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},is.apply(this,arguments)},QO=function(t){return{loading:t==null,value:t}},JU=function(){return function(t,e){switch(e.type){case"error":return is(is({},t),{error:e.error,loading:!1,value:void 0});case"reset":return QO(e.defaultValue);case"value":return is(is({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},ZU=function(t){var e=t?t():void 0,n=b.useReducer(JU(),QO(e)),r=n[0],i=n[1],o=b.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),a=b.useCallback(function(l){i({type:"error",error:l})},[]),s=b.useCallback(function(l){i({type:"value",value:l})},[]);return b.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:a,setValue:s,value:r.value}},[r.error,r.loading,o,a,s,r.value])},e5=function(t,e){var n=ZU(function(){return t.currentUser}),r=n.error,i=n.loading,o=n.setError,a=n.setValue,s=n.value;return b.useEffect(function(){var l=OF(t,function(u){return QU(void 0,void 0,void 0,function(){var c;return XU(this,function(h){switch(h.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),o(c),[3,4];case 4:return a(u),[2]}})})},o);return function(){l()}},[t]),[s,i,r]},t5="firebase",n5="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(t5,n5,"app");var QT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,XO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function I(){}I.prototype=S.prototype,P.D=S.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(C,R,N){for(var k=Array(arguments.length-2),re=2;re<arguments.length;re++)k[re-2]=arguments[re];return S.prototype[R].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,S,I){I||(I=0);var C=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)C[R]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(R=0;16>R;++R)C[R]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=P.g[0],I=P.g[1],R=P.g[2];var N=P.g[3],k=S+(N^I&(R^N))+C[0]+3614090360&4294967295;S=I+(k<<7&4294967295|k>>>25),k=N+(R^S&(I^R))+C[1]+3905402710&4294967295,N=S+(k<<12&4294967295|k>>>20),k=R+(I^N&(S^I))+C[2]+606105819&4294967295,R=N+(k<<17&4294967295|k>>>15),k=I+(S^R&(N^S))+C[3]+3250441966&4294967295,I=R+(k<<22&4294967295|k>>>10),k=S+(N^I&(R^N))+C[4]+4118548399&4294967295,S=I+(k<<7&4294967295|k>>>25),k=N+(R^S&(I^R))+C[5]+1200080426&4294967295,N=S+(k<<12&4294967295|k>>>20),k=R+(I^N&(S^I))+C[6]+2821735955&4294967295,R=N+(k<<17&4294967295|k>>>15),k=I+(S^R&(N^S))+C[7]+4249261313&4294967295,I=R+(k<<22&4294967295|k>>>10),k=S+(N^I&(R^N))+C[8]+1770035416&4294967295,S=I+(k<<7&4294967295|k>>>25),k=N+(R^S&(I^R))+C[9]+2336552879&4294967295,N=S+(k<<12&4294967295|k>>>20),k=R+(I^N&(S^I))+C[10]+4294925233&4294967295,R=N+(k<<17&4294967295|k>>>15),k=I+(S^R&(N^S))+C[11]+2304563134&4294967295,I=R+(k<<22&4294967295|k>>>10),k=S+(N^I&(R^N))+C[12]+1804603682&4294967295,S=I+(k<<7&4294967295|k>>>25),k=N+(R^S&(I^R))+C[13]+4254626195&4294967295,N=S+(k<<12&4294967295|k>>>20),k=R+(I^N&(S^I))+C[14]+2792965006&4294967295,R=N+(k<<17&4294967295|k>>>15),k=I+(S^R&(N^S))+C[15]+1236535329&4294967295,I=R+(k<<22&4294967295|k>>>10),k=S+(R^N&(I^R))+C[1]+4129170786&4294967295,S=I+(k<<5&4294967295|k>>>27),k=N+(I^R&(S^I))+C[6]+3225465664&4294967295,N=S+(k<<9&4294967295|k>>>23),k=R+(S^I&(N^S))+C[11]+643717713&4294967295,R=N+(k<<14&4294967295|k>>>18),k=I+(N^S&(R^N))+C[0]+3921069994&4294967295,I=R+(k<<20&4294967295|k>>>12),k=S+(R^N&(I^R))+C[5]+3593408605&4294967295,S=I+(k<<5&4294967295|k>>>27),k=N+(I^R&(S^I))+C[10]+38016083&4294967295,N=S+(k<<9&4294967295|k>>>23),k=R+(S^I&(N^S))+C[15]+3634488961&4294967295,R=N+(k<<14&4294967295|k>>>18),k=I+(N^S&(R^N))+C[4]+3889429448&4294967295,I=R+(k<<20&4294967295|k>>>12),k=S+(R^N&(I^R))+C[9]+568446438&4294967295,S=I+(k<<5&4294967295|k>>>27),k=N+(I^R&(S^I))+C[14]+3275163606&4294967295,N=S+(k<<9&4294967295|k>>>23),k=R+(S^I&(N^S))+C[3]+4107603335&4294967295,R=N+(k<<14&4294967295|k>>>18),k=I+(N^S&(R^N))+C[8]+1163531501&4294967295,I=R+(k<<20&4294967295|k>>>12),k=S+(R^N&(I^R))+C[13]+2850285829&4294967295,S=I+(k<<5&4294967295|k>>>27),k=N+(I^R&(S^I))+C[2]+4243563512&4294967295,N=S+(k<<9&4294967295|k>>>23),k=R+(S^I&(N^S))+C[7]+1735328473&4294967295,R=N+(k<<14&4294967295|k>>>18),k=I+(N^S&(R^N))+C[12]+2368359562&4294967295,I=R+(k<<20&4294967295|k>>>12),k=S+(I^R^N)+C[5]+4294588738&4294967295,S=I+(k<<4&4294967295|k>>>28),k=N+(S^I^R)+C[8]+2272392833&4294967295,N=S+(k<<11&4294967295|k>>>21),k=R+(N^S^I)+C[11]+1839030562&4294967295,R=N+(k<<16&4294967295|k>>>16),k=I+(R^N^S)+C[14]+4259657740&4294967295,I=R+(k<<23&4294967295|k>>>9),k=S+(I^R^N)+C[1]+2763975236&4294967295,S=I+(k<<4&4294967295|k>>>28),k=N+(S^I^R)+C[4]+1272893353&4294967295,N=S+(k<<11&4294967295|k>>>21),k=R+(N^S^I)+C[7]+4139469664&4294967295,R=N+(k<<16&4294967295|k>>>16),k=I+(R^N^S)+C[10]+3200236656&4294967295,I=R+(k<<23&4294967295|k>>>9),k=S+(I^R^N)+C[13]+681279174&4294967295,S=I+(k<<4&4294967295|k>>>28),k=N+(S^I^R)+C[0]+3936430074&4294967295,N=S+(k<<11&4294967295|k>>>21),k=R+(N^S^I)+C[3]+3572445317&4294967295,R=N+(k<<16&4294967295|k>>>16),k=I+(R^N^S)+C[6]+76029189&4294967295,I=R+(k<<23&4294967295|k>>>9),k=S+(I^R^N)+C[9]+3654602809&4294967295,S=I+(k<<4&4294967295|k>>>28),k=N+(S^I^R)+C[12]+3873151461&4294967295,N=S+(k<<11&4294967295|k>>>21),k=R+(N^S^I)+C[15]+530742520&4294967295,R=N+(k<<16&4294967295|k>>>16),k=I+(R^N^S)+C[2]+3299628645&4294967295,I=R+(k<<23&4294967295|k>>>9),k=S+(R^(I|~N))+C[0]+4096336452&4294967295,S=I+(k<<6&4294967295|k>>>26),k=N+(I^(S|~R))+C[7]+1126891415&4294967295,N=S+(k<<10&4294967295|k>>>22),k=R+(S^(N|~I))+C[14]+2878612391&4294967295,R=N+(k<<15&4294967295|k>>>17),k=I+(N^(R|~S))+C[5]+4237533241&4294967295,I=R+(k<<21&4294967295|k>>>11),k=S+(R^(I|~N))+C[12]+1700485571&4294967295,S=I+(k<<6&4294967295|k>>>26),k=N+(I^(S|~R))+C[3]+2399980690&4294967295,N=S+(k<<10&4294967295|k>>>22),k=R+(S^(N|~I))+C[10]+4293915773&4294967295,R=N+(k<<15&4294967295|k>>>17),k=I+(N^(R|~S))+C[1]+2240044497&4294967295,I=R+(k<<21&4294967295|k>>>11),k=S+(R^(I|~N))+C[8]+1873313359&4294967295,S=I+(k<<6&4294967295|k>>>26),k=N+(I^(S|~R))+C[15]+4264355552&4294967295,N=S+(k<<10&4294967295|k>>>22),k=R+(S^(N|~I))+C[6]+2734768916&4294967295,R=N+(k<<15&4294967295|k>>>17),k=I+(N^(R|~S))+C[13]+1309151649&4294967295,I=R+(k<<21&4294967295|k>>>11),k=S+(R^(I|~N))+C[4]+4149444226&4294967295,S=I+(k<<6&4294967295|k>>>26),k=N+(I^(S|~R))+C[11]+3174756917&4294967295,N=S+(k<<10&4294967295|k>>>22),k=R+(S^(N|~I))+C[2]+718787259&4294967295,R=N+(k<<15&4294967295|k>>>17),k=I+(N^(R|~S))+C[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+N&4294967295}r.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var I=S-this.blockSize,C=this.B,R=this.h,N=0;N<S;){if(R==0)for(;N<=I;)i(this,P,N),N+=this.blockSize;if(typeof P=="string"){for(;N<S;)if(C[R++]=P.charCodeAt(N++),R==this.blockSize){i(this,C),R=0;break}}else for(;N<S;)if(C[R++]=P[N++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=S},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var I=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=I&255,I/=256;for(this.u(P),P=Array(16),S=I=0;4>S;++S)for(var C=0;32>C;C+=8)P[I++]=this.g[S]>>>C&255;return P};function o(P,S){var I=s;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=S(P)}function a(P,S){this.h=S;for(var I=[],C=!0,R=P.length-1;0<=R;R--){var N=P[R]|0;C&&N==S||(I[R]=N,C=!1)}this.g=I}var s={};function l(P){return-128<=P&&128>P?o(P,function(S){return new a([S|0],0>S?-1:0)}):new a([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return h;if(0>P)return _(u(-P));for(var S=[],I=1,C=0;P>=I;C++)S[C]=P/I|0,I*=4294967296;return new a(S,0)}function c(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return _(c(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),C=h,R=0;R<P.length;R+=8){var N=Math.min(8,P.length-R),k=parseInt(P.substring(R,R+N),S);8>N?(N=u(Math.pow(S,N)),C=C.j(N).add(u(k))):(C=C.j(I),C=C.add(u(k)))}return C}var h=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-_(this).m();for(var P=0,S=1,I=0;I<this.g.length;I++){var C=this.i(I);P+=(0<=C?C:4294967296+C)*S,S*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(m(this))return"0";if(y(this))return"-"+_(this).toString(P);for(var S=u(Math.pow(P,6)),I=this,C="";;){var R=x(I,S).g;I=v(I,R.j(S));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=R,m(I))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function m(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function y(P){return P.h==-1}t.l=function(P){return P=v(this,P),y(P)?-1:m(P)?0:1};function _(P){for(var S=P.g.length,I=[],C=0;C<S;C++)I[C]=~P.g[C];return new a(I,~P.h).add(d)}t.abs=function(){return y(this)?_(this):this},t.add=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],C=0,R=0;R<=S;R++){var N=C+(this.i(R)&65535)+(P.i(R)&65535),k=(N>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);C=k>>>16,N&=65535,k&=65535,I[R]=k<<16|N}return new a(I,I[I.length-1]&-2147483648?-1:0)};function v(P,S){return P.add(_(S))}t.j=function(P){if(m(this)||m(P))return h;if(y(this))return y(P)?_(this).j(_(P)):_(_(this).j(P));if(y(P))return _(this.j(_(P)));if(0>this.l(p)&&0>P.l(p))return u(this.m()*P.m());for(var S=this.g.length+P.g.length,I=[],C=0;C<2*S;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<P.g.length;R++){var N=this.i(C)>>>16,k=this.i(C)&65535,re=P.i(R)>>>16,he=P.i(R)&65535;I[2*C+2*R]+=k*he,w(I,2*C+2*R),I[2*C+2*R+1]+=N*he,w(I,2*C+2*R+1),I[2*C+2*R+1]+=k*re,w(I,2*C+2*R+1),I[2*C+2*R+2]+=N*re,w(I,2*C+2*R+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new a(I,0)};function w(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function T(P,S){this.g=P,this.h=S}function x(P,S){if(m(S))throw Error("division by zero");if(m(P))return new T(h,h);if(y(P))return S=x(_(P),S),new T(_(S.g),_(S.h));if(y(S))return S=x(P,_(S)),new T(_(S.g),S.h);if(30<P.g.length){if(y(P)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var I=d,C=S;0>=C.l(P);)I=O(I),C=O(C);var R=D(I,1),N=D(C,1);for(C=D(C,2),I=D(I,2);!m(C);){var k=N.add(C);0>=k.l(P)&&(R=R.add(I),N=k),C=D(C,1),I=D(I,1)}return S=v(P,R.j(S)),new T(R,S)}for(R=h;0<=P.l(S);){for(I=Math.max(1,Math.floor(P.m()/S.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(I),k=N.j(S);y(k)||0<k.l(P);)I-=C,N=u(I),k=N.j(S);m(N)&&(N=d),R=R.add(N),P=v(P,k)}return new T(R,P)}t.A=function(P){return x(this,P).h},t.and=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)&P.i(C);return new a(I,this.h&P.h)},t.or=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)|P.i(C);return new a(I,this.h|P.h)},t.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)^P.i(C);return new a(I,this.h^P.h)};function O(P){for(var S=P.g.length+1,I=[],C=0;C<S;C++)I[C]=P.i(C)<<1|P.i(C-1)>>>31;return new a(I,P.h)}function D(P,S){var I=S>>5;S%=32;for(var C=P.g.length-I,R=[],N=0;N<C;N++)R[N]=0<S?P.i(N+I)>>>S|P.i(N+I+1)<<32-S:P.i(N+I);return new a(R,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XO=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,co=a}).apply(typeof QT<"u"?QT:typeof self<"u"?self:typeof window<"u"?window:{});var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JO,Ql,ZO,Zf,uy,ek,tk,nk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,g,E){return f==Array.prototype||f==Object.prototype||(f[g]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof yf=="object"&&yf];for(var g=0;g<f.length;++g){var E=f[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,g){if(g)e:{var E=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var L=f[A];if(!(L in E))break e;E=E[L]}f=f[f.length-1],A=E[f],g=g(A),g!=A&&g!=null&&e(E,f,{configurable:!0,writable:!0,value:g})}}function o(f,g){f instanceof String&&(f+="");var E=0,A=!1,L={next:function(){if(!A&&E<f.length){var j=E++;return{value:g(j,f[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(f){return f||function(){return o(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(f){var g=typeof f;return g=g!="object"?g:f?Array.isArray(f)?"array":g:"null",g=="array"||g=="object"&&typeof f.length=="number"}function u(f){var g=typeof f;return g=="object"&&f!=null||g=="function"}function c(f,g,E){return f.call.apply(f.bind,arguments)}function h(f,g,E){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),f.apply(g,L)}}return function(){return f.apply(g,arguments)}}function d(f,g,E){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function p(f,g){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function m(f,g){function E(){}E.prototype=g.prototype,f.aa=g.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(A,L,j){for(var W=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)W[Ce-2]=arguments[Ce];return g.prototype[L].apply(A,W)}}function y(f){const g=f.length;if(0<g){const E=Array(g);for(let A=0;A<g;A++)E[A]=f[A];return E}return[]}function _(f,g){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(l(A)){const L=f.length||0,j=A.length||0;f.length=L+j;for(let W=0;W<j;W++)f[L+W]=A[W]}else f.push(A)}}class v{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(f){return/^[\s\xa0]*$/.test(f)}function T(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function x(f){return x[" "](f),f}x[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function D(f,g,E){for(const A in f)g.call(E,f[A],A,f)}function P(f,g){for(const E in f)g.call(void 0,f[E],E,f)}function S(f){const g={};for(const E in f)g[E]=f[E];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,g){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)f[E]=A[E];for(let j=0;j<I.length;j++)E=I[j],Object.prototype.hasOwnProperty.call(A,E)&&(f[E]=A[E])}}function R(f){var g=1;f=f.split(":");const E=[];for(;0<g&&f.length;)E.push(f.shift()),g--;return f.length&&E.push(f.join(":")),E}function N(f){s.setTimeout(()=>{throw f},0)}function k(){var f=q;let g=null;return f.g&&(g=f.g,f.g=f.g.next,f.g||(f.h=null),g.next=null),g}class re{constructor(){this.h=this.g=null}add(g,E){const A=he.get();A.set(g,E),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new v(()=>new Se,f=>f.reset());class Se{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,z=!1,q=new re,te=()=>{const f=s.Promise.resolve(void 0);oe=()=>{f.then(de)}};var de=()=>{for(var f;f=k();){try{f.h.call(f.g)}catch(E){N(E)}var g=he;g.j(f),100>g.h&&(g.h++,f.next=g.g,g.g=f)}z=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(f,g){this.type=f,this.g=this.target=g,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,g=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};s.addEventListener("test",E,g),s.removeEventListener("test",E,g)}catch{}return f}();function qe(f,g){if(ue.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=g,g=f.relatedTarget){if(O){e:{try{x(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else E=="mouseover"?g=f.fromElement:E=="mouseout"&&(g=f.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ir[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&qe.aa.h.call(this)}}m(qe,ue);var ir={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Vn="closure_listenable_"+(1e6*Math.random()|0),Tm=0;function X(f,g,E,A,L){this.listener=f,this.proxy=null,this.src=g,this.type=E,this.capture=!!A,this.ha=L,this.key=++Tm,this.da=this.fa=!1}function le(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ce(f){this.src=f,this.g={},this.h=0}ce.prototype.add=function(f,g,E,A,L){var j=f.toString();f=this.g[j],f||(f=this.g[j]=[],this.h++);var W=dt(f,g,A,L);return-1<W?(g=f[W],E||(g.fa=!1)):(g=new X(g,this.src,j,!!A,L),g.fa=E,f.push(g)),g};function U(f,g){var E=g.type;if(E in f.g){var A=f.g[E],L=Array.prototype.indexOf.call(A,g,void 0),j;(j=0<=L)&&Array.prototype.splice.call(A,L,1),j&&(le(g),f.g[E].length==0&&(delete f.g[E],f.h--))}}function dt(f,g,E,A){for(var L=0;L<f.length;++L){var j=f[L];if(!j.da&&j.listener==g&&j.capture==!!E&&j.ha==A)return L}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Tt={};function Mt(f,g,E,A,L){if(A&&A.once)return nE(f,g,E,A,L);if(Array.isArray(g)){for(var j=0;j<g.length;j++)Mt(f,g[j],E,A,L);return null}return E=Im(E),f&&f[Vn]?f.K(g,E,u(A)?!!A.capture:!!A,L):Tr(f,g,E,!1,A,L)}function Tr(f,g,E,A,L,j){if(!g)throw Error("Invalid event type");var W=u(L)?!!L.capture:!!L,Ce=Pm(f);if(Ce||(f[Ee]=Ce=new ce(f)),E=Ce.add(g,E,A,W,j),E.proxy)return E;if(A=Lc(),E.proxy=A,A.src=f,A.listener=E,f.addEventListener)bt||(L=W),L===void 0&&(L=!1),f.addEventListener(g.toString(),A,L);else if(f.attachEvent)f.attachEvent(iE(g.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Lc(){function f(E){return g.call(f.src,f.listener,E)}const g=QL;return f}function nE(f,g,E,A,L){if(Array.isArray(g)){for(var j=0;j<g.length;j++)nE(f,g[j],E,A,L);return null}return E=Im(E),f&&f[Vn]?f.L(g,E,u(A)?!!A.capture:!!A,L):Tr(f,g,E,!0,A,L)}function rE(f,g,E,A,L){if(Array.isArray(g))for(var j=0;j<g.length;j++)rE(f,g[j],E,A,L);else A=u(A)?!!A.capture:!!A,E=Im(E),f&&f[Vn]?(f=f.i,g=String(g).toString(),g in f.g&&(j=f.g[g],E=dt(j,E,A,L),-1<E&&(le(j[E]),Array.prototype.splice.call(j,E,1),j.length==0&&(delete f.g[g],f.h--)))):f&&(f=Pm(f))&&(g=f.g[g.toString()],f=-1,g&&(f=dt(g,E,A,L)),(E=-1<f?g[f]:null)&&Sm(E))}function Sm(f){if(typeof f!="number"&&f&&!f.da){var g=f.src;if(g&&g[Vn])U(g.i,f);else{var E=f.type,A=f.proxy;g.removeEventListener?g.removeEventListener(E,A,f.capture):g.detachEvent?g.detachEvent(iE(E),A):g.addListener&&g.removeListener&&g.removeListener(A),(E=Pm(g))?(U(E,f),E.h==0&&(E.src=null,g[Ee]=null)):le(f)}}}function iE(f){return f in Tt?Tt[f]:Tt[f]="on"+f}function QL(f,g){if(f.da)f=!0;else{g=new qe(g,this);var E=f.listener,A=f.ha||f.src;f.fa&&Sm(f),f=E.call(A,g)}return f}function Pm(f){return f=f[Ee],f instanceof ce?f:null}var Am="__closure_events_fn_"+(1e9*Math.random()>>>0);function Im(f){return typeof f=="function"?f:(f[Am]||(f[Am]=function(g){return f.handleEvent(g)}),f[Am])}function Lt(){K.call(this),this.i=new ce(this),this.M=this,this.F=null}m(Lt,K),Lt.prototype[Vn]=!0,Lt.prototype.removeEventListener=function(f,g,E,A){rE(this,f,g,E,A)};function Jt(f,g){var E,A=f.F;if(A)for(E=[];A;A=A.F)E.push(A);if(f=f.M,A=g.type||g,typeof g=="string")g=new ue(g,f);else if(g instanceof ue)g.target=g.target||f;else{var L=g;g=new ue(A,f),C(g,L)}if(L=!0,E)for(var j=E.length-1;0<=j;j--){var W=g.g=E[j];L=jc(W,A,!0,g)&&L}if(W=g.g=f,L=jc(W,A,!0,g)&&L,L=jc(W,A,!1,g)&&L,E)for(j=0;j<E.length;j++)W=g.g=E[j],L=jc(W,A,!1,g)&&L}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var f=this.i,g;for(g in f.g){for(var E=f.g[g],A=0;A<E.length;A++)le(E[A]);delete f.g[g],f.h--}}this.F=null},Lt.prototype.K=function(f,g,E,A){return this.i.add(String(f),g,!1,E,A)},Lt.prototype.L=function(f,g,E,A){return this.i.add(String(f),g,!0,E,A)};function jc(f,g,E,A){if(g=f.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,j=0;j<g.length;++j){var W=g[j];if(W&&!W.da&&W.capture==E){var Ce=W.listener,St=W.ha||W.src;W.fa&&U(f.i,W),L=Ce.call(St,A)!==!1&&L}}return L&&!A.defaultPrevented}function oE(f,g,E){if(typeof f=="function")E&&(f=d(f,E));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:s.setTimeout(f,g||0)}function aE(f){f.g=oE(()=>{f.g=null,f.i&&(f.i=!1,aE(f))},f.l);const g=f.h;f.h=null,f.m.apply(null,g)}class XL extends K{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:aE(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ml(f){K.call(this),this.h=f,this.g={}}m(ml,K);var sE=[];function lE(f){D(f.g,function(g,E){this.g.hasOwnProperty(E)&&Sm(g)},f),f.g={}}ml.prototype.N=function(){ml.aa.N.call(this),lE(this)},ml.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xm=s.JSON.stringify,JL=s.JSON.parse,ZL=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Cm(){}Cm.prototype.h=null;function uE(f){return f.h||(f.h=f.i())}function cE(){}var gl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Om(){ue.call(this,"d")}m(Om,ue);function km(){ue.call(this,"c")}m(km,ue);var Mo={},fE=null;function Vc(){return fE=fE||new Lt}Mo.La="serverreachability";function hE(f){ue.call(this,Mo.La,f)}m(hE,ue);function vl(f){const g=Vc();Jt(g,new hE(g))}Mo.STAT_EVENT="statevent";function dE(f,g){ue.call(this,Mo.STAT_EVENT,f),this.stat=g}m(dE,ue);function Zt(f){const g=Vc();Jt(g,new dE(g,f))}Mo.Ma="timingevent";function pE(f,g){ue.call(this,Mo.Ma,f),this.size=g}m(pE,ue);function yl(f,g){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},g)}function _l(){this.g=!0}_l.prototype.xa=function(){this.g=!1};function ej(f,g,E,A,L,j){f.info(function(){if(f.g)if(j)for(var W="",Ce=j.split("&"),St=0;St<Ce.length;St++){var _e=Ce[St].split("=");if(1<_e.length){var jt=_e[0];_e=_e[1];var Vt=jt.split("_");W=2<=Vt.length&&Vt[1]=="type"?W+(jt+"="+_e+"&"):W+(jt+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+g+`
`+E+`
`+W})}function tj(f,g,E,A,L,j,W){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+g+`
`+E+`
`+j+" "+W})}function Ma(f,g,E,A){f.info(function(){return"XMLHTTP TEXT ("+g+"): "+rj(f,E)+(A?" "+A:"")})}function nj(f,g){f.info(function(){return"TIMEOUT: "+g})}_l.prototype.info=function(){};function rj(f,g){if(!f.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var A=E[f];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return xm(E)}catch{return g}}var $c={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rm;function Fc(){}m(Fc,Cm),Fc.prototype.g=function(){return new XMLHttpRequest},Fc.prototype.i=function(){return{}},Rm=new Fc;function ki(f,g,E,A){this.j=f,this.i=g,this.l=E,this.R=A||1,this.U=new ml(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gE}function gE(){this.i=null,this.g="",this.h=!1}var vE={},Nm={};function Dm(f,g,E){f.L=1,f.v=Wc(Hr(g)),f.m=E,f.P=!0,yE(f,null)}function yE(f,g){f.F=Date.now(),Uc(f),f.A=Hr(f.v);var E=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),RE(E.i,"t",A),f.C=0,E=f.j.J,f.h=new gE,f.g=QE(f.j,E?g:null,!f.m),0<f.O&&(f.M=new XL(d(f.Y,f,f.g),f.O)),g=f.U,E=f.g,A=f.ca;var L="readystatechange";Array.isArray(L)||(L&&(sE[0]=L.toString()),L=sE);for(var j=0;j<L.length;j++){var W=Mt(E,L[j],A||g.handleEvent,!1,g.h||g);if(!W)break;g.g[W.key]=W}g=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,g)):(f.u="GET",f.g.ea(f.A,f.u,null,g)),vl(),ej(f.i,f.u,f.A,f.l,f.R,f.m)}ki.prototype.ca=function(f){f=f.target;const g=this.M;g&&qr(f)==3?g.j():this.Y(f)},ki.prototype.Y=function(f){try{if(f==this.g)e:{const Vt=qr(this.g);var g=this.g.Ba();const Va=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||$E(this.g)))){this.J||Vt!=4||g==7||(g==8||0>=Va?vl(3):vl(2)),Mm(this);var E=this.g.Z();this.X=E;t:if(_E(this)){var A=$E(this.g);f="";var L=A.length,j=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),wl(this);var W="";break t}this.h.i=new s.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,f+=this.h.i.decode(A[g],{stream:!(j&&g==L-1)});A.length=0,this.h.g+=f,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=E==200,tj(this.i,this.u,this.A,this.l,this.R,Vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,St=this.g;if((Ce=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ce)){var _e=Ce;break t}}_e=null}if(E=_e)Ma(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lm(this,E);else{this.o=!1,this.s=3,Zt(12),Lo(this),wl(this);break e}}if(this.P){E=!0;let or;for(;!this.J&&this.C<W.length;)if(or=ij(this,W),or==Nm){Vt==4&&(this.s=4,Zt(14),E=!1),Ma(this.i,this.l,null,"[Incomplete Response]");break}else if(or==vE){this.s=4,Zt(15),Ma(this.i,this.l,W,"[Invalid Chunk]"),E=!1;break}else Ma(this.i,this.l,or,null),Lm(this,or);if(_E(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||W.length!=0||this.h.h||(this.s=1,Zt(16),E=!1),this.o=this.o&&E,!E)Ma(this.i,this.l,W,"[Invalid Chunked Response]"),Lo(this),wl(this);else if(0<W.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Bm(jt),jt.M=!0,Zt(11))}}else Ma(this.i,this.l,W,null),Lm(this,W);Vt==4&&Lo(this),this.o&&!this.J&&(Vt==4?HE(this.j,this):(this.o=!1,Uc(this)))}else Ej(this.g),E==400&&0<W.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Lo(this),wl(this)}}}catch{}finally{}};function _E(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ij(f,g){var E=f.C,A=g.indexOf(`
`,E);return A==-1?Nm:(E=Number(g.substring(E,A)),isNaN(E)?vE:(A+=1,A+E>g.length?Nm:(g=g.slice(A,A+E),f.C=A+E,g)))}ki.prototype.cancel=function(){this.J=!0,Lo(this)};function Uc(f){f.S=Date.now()+f.I,wE(f,f.I)}function wE(f,g){if(f.B!=null)throw Error("WatchDog timer not null");f.B=yl(d(f.ba,f),g)}function Mm(f){f.B&&(s.clearTimeout(f.B),f.B=null)}ki.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(nj(this.i,this.A),this.L!=2&&(vl(),Zt(17)),Lo(this),this.s=2,wl(this)):wE(this,this.S-f)};function wl(f){f.j.G==0||f.J||HE(f.j,f)}function Lo(f){Mm(f);var g=f.M;g&&typeof g.ma=="function"&&g.ma(),f.M=null,lE(f.U),f.g&&(g=f.g,f.g=null,g.abort(),g.ma())}function Lm(f,g){try{var E=f.j;if(E.G!=0&&(E.g==f||jm(E.h,f))){if(!f.K&&jm(E.h,f)&&E.G==3){try{var A=E.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Qc(E),Gc(E);else break e;Um(E),Zt(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=yl(d(E.Za,E),6e3));if(1>=TE(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Vo(E,11)}else if((f.K||E.g==f)&&Qc(E),!w(g))for(L=E.Da.g.parse(g),g=0;g<L.length;g++){let _e=L[g];if(E.T=_e[0],_e=_e[1],E.G==2)if(_e[0]=="c"){E.K=_e[1],E.ia=_e[2];const jt=_e[3];jt!=null&&(E.la=jt,E.j.info("VER="+E.la));const Vt=_e[4];Vt!=null&&(E.Aa=Vt,E.j.info("SVER="+E.Aa));const Va=_e[5];Va!=null&&typeof Va=="number"&&0<Va&&(A=1.5*Va,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const or=f.g;if(or){const Jc=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jc){var j=A.h;j.g||Jc.indexOf("spdy")==-1&&Jc.indexOf("quic")==-1&&Jc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Vm(j,j.h),j.h=null))}if(A.D){const zm=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;zm&&(A.ya=zm,Me(A.I,A.D,zm))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var W=f;if(A.qa=YE(A,A.J?A.ia:null,A.W),W.K){SE(A.h,W);var Ce=W,St=A.L;St&&(Ce.I=St),Ce.B&&(Mm(Ce),Uc(Ce)),A.g=W}else WE(A);0<E.i.length&&Yc(E)}else _e[0]!="stop"&&_e[0]!="close"||Vo(E,7);else E.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Vo(E,7):Fm(E):_e[0]!="noop"&&E.l&&E.l.ta(_e),E.v=0)}}vl(4)}catch{}}var oj=class{constructor(f,g){this.g=f,this.map=g}};function EE(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bE(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function TE(f){return f.h?1:f.g?f.g.size:0}function jm(f,g){return f.h?f.h==g:f.g?f.g.has(g):!1}function Vm(f,g){f.g?f.g.add(g):f.h=g}function SE(f,g){f.h&&f.h==g?f.h=null:f.g&&f.g.has(g)&&f.g.delete(g)}EE.prototype.cancel=function(){if(this.i=PE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function PE(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let g=f.i;for(const E of f.g.values())g=g.concat(E.D);return g}return y(f.i)}function aj(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var g=[],E=f.length,A=0;A<E;A++)g.push(f[A]);return g}g=[],E=0;for(A in f)g[E++]=f[A];return g}function sj(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var g=[];f=f.length;for(var E=0;E<f;E++)g.push(E);return g}g=[],E=0;for(const A in f)g[E++]=A;return g}}}function AE(f,g){if(f.forEach&&typeof f.forEach=="function")f.forEach(g,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,g,void 0);else for(var E=sj(f),A=aj(f),L=A.length,j=0;j<L;j++)g.call(void 0,A[j],E&&E[j],f)}var IE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lj(f,g){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var A=f[E].indexOf("="),L=null;if(0<=A){var j=f[E].substring(0,A);L=f[E].substring(A+1)}else j=f[E];g(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function jo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof jo){this.h=f.h,Bc(this,f.j),this.o=f.o,this.g=f.g,zc(this,f.s),this.l=f.l;var g=f.i,E=new Tl;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),xE(this,E),this.m=f.m}else f&&(g=String(f).match(IE))?(this.h=!1,Bc(this,g[1]||"",!0),this.o=El(g[2]||""),this.g=El(g[3]||"",!0),zc(this,g[4]),this.l=El(g[5]||"",!0),xE(this,g[6]||"",!0),this.m=El(g[7]||"")):(this.h=!1,this.i=new Tl(null,this.h))}jo.prototype.toString=function(){var f=[],g=this.j;g&&f.push(bl(g,CE,!0),":");var E=this.g;return(E||g=="file")&&(f.push("//"),(g=this.o)&&f.push(bl(g,CE,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(bl(E,E.charAt(0)=="/"?fj:cj,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",bl(E,dj)),f.join("")};function Hr(f){return new jo(f)}function Bc(f,g,E){f.j=E?El(g,!0):g,f.j&&(f.j=f.j.replace(/:$/,""))}function zc(f,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);f.s=g}else f.s=null}function xE(f,g,E){g instanceof Tl?(f.i=g,pj(f.i,f.h)):(E||(g=bl(g,hj)),f.i=new Tl(g,f.h))}function Me(f,g,E){f.i.set(g,E)}function Wc(f){return Me(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function El(f,g){return f?g?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function bl(f,g,E){return typeof f=="string"?(f=encodeURI(f).replace(g,uj),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function uj(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var CE=/[#\/\?@]/g,cj=/[#\?:]/g,fj=/[#\?]/g,hj=/[#\?@]/g,dj=/#/g;function Tl(f,g){this.h=this.g=null,this.i=f||null,this.j=!!g}function Ri(f){f.g||(f.g=new Map,f.h=0,f.i&&lj(f.i,function(g,E){f.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=Tl.prototype,t.add=function(f,g){Ri(this),this.i=null,f=La(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(g),this.h+=1,this};function OE(f,g){Ri(f),g=La(f,g),f.g.has(g)&&(f.i=null,f.h-=f.g.get(g).length,f.g.delete(g))}function kE(f,g){return Ri(f),g=La(f,g),f.g.has(g)}t.forEach=function(f,g){Ri(this),this.g.forEach(function(E,A){E.forEach(function(L){f.call(g,L,A,this)},this)},this)},t.na=function(){Ri(this);const f=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let A=0;A<g.length;A++){const L=f[A];for(let j=0;j<L.length;j++)E.push(g[A])}return E},t.V=function(f){Ri(this);let g=[];if(typeof f=="string")kE(this,f)&&(g=g.concat(this.g.get(La(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)g=g.concat(f[E])}return g},t.set=function(f,g){return Ri(this),this.i=null,f=La(this,f),kE(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[g]),this.h+=1,this},t.get=function(f,g){return f?(f=this.V(f),0<f.length?String(f[0]):g):g};function RE(f,g,E){OE(f,g),0<E.length&&(f.i=null,f.g.set(La(f,g),y(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var A=g[E];const j=encodeURIComponent(String(A)),W=this.V(A);for(A=0;A<W.length;A++){var L=j;W[A]!==""&&(L+="="+encodeURIComponent(String(W[A]))),f.push(L)}}return this.i=f.join("&")};function La(f,g){return g=String(g),f.j&&(g=g.toLowerCase()),g}function pj(f,g){g&&!f.j&&(Ri(f),f.i=null,f.g.forEach(function(E,A){var L=A.toLowerCase();A!=L&&(OE(this,A),RE(this,L,E))},f)),f.j=g}function mj(f,g){const E=new _l;if(s.Image){const A=new Image;A.onload=p(Ni,E,"TestLoadImage: loaded",!0,g,A),A.onerror=p(Ni,E,"TestLoadImage: error",!1,g,A),A.onabort=p(Ni,E,"TestLoadImage: abort",!1,g,A),A.ontimeout=p(Ni,E,"TestLoadImage: timeout",!1,g,A),s.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else g(!1)}function gj(f,g){const E=new _l,A=new AbortController,L=setTimeout(()=>{A.abort(),Ni(E,"TestPingServer: timeout",!1,g)},1e4);fetch(f,{signal:A.signal}).then(j=>{clearTimeout(L),j.ok?Ni(E,"TestPingServer: ok",!0,g):Ni(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Ni(E,"TestPingServer: error",!1,g)})}function Ni(f,g,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function vj(){this.g=new ZL}function yj(f,g,E){const A=E||"";try{AE(f,function(L,j){let W=L;u(L)&&(W=xm(L)),g.push(A+j+"="+encodeURIComponent(W))})}catch(L){throw g.push(A+"type="+encodeURIComponent("_badmap")),L}}function Kc(f){this.l=f.Ub||null,this.j=f.eb||!1}m(Kc,Cm),Kc.prototype.g=function(){return new Hc(this.l,this.j)},Kc.prototype.i=function(f){return function(){return f}}({});function Hc(f,g){Lt.call(this),this.D=f,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Hc,Lt),t=Hc.prototype,t.open=function(f,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=g,this.readyState=1,Pl(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(g.body=f),(this.D||s).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sl(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Pl(this)),this.g&&(this.readyState=3,Pl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;NE(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function NE(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var g=f.value?f.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!f.done}))&&(this.response=this.responseText+=g)}f.done?Sl(this):Pl(this),this.readyState==3&&NE(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Sl(this))},t.Qa=function(f){this.g&&(this.response=f,Sl(this))},t.ga=function(){this.g&&Sl(this)};function Sl(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Pl(f)}t.setRequestHeader=function(f,g){this.u.append(f,g)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=g.next();return f.join(`\r
`)};function Pl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function DE(f){let g="";return D(f,function(E,A){g+=A,g+=":",g+=E,g+=`\r
`}),g}function $m(f,g,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=DE(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Me(f,g,E))}function Ge(f){Lt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Ge,Lt);var _j=/^https?$/i,wj=["POST","PUT"];t=Ge.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,g,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);g=g?g.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rm.g(),this.v=this.o?uE(this.o):uE(Rm),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(g,String(f),!0),this.B=!1}catch(j){ME(this,j);return}if(f=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())E.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(j=>j.toLowerCase()=="content-type"),L=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(wj,g,void 0))||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of E)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{VE(this),this.u=!0,this.g.send(f),this.u=!1}catch(j){ME(this,j)}};function ME(f,g){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=g,f.m=5,LE(f),qc(f)}function LE(f){f.A||(f.A=!0,Jt(f,"complete"),Jt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Jt(this,"complete"),Jt(this,"abort"),qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qc(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jE(this):this.bb())},t.bb=function(){jE(this)};function jE(f){if(f.h&&typeof a<"u"&&(!f.v[1]||qr(f)!=4||f.Z()!=2)){if(f.u&&qr(f)==4)oE(f.Ea,0,f);else if(Jt(f,"readystatechange"),qr(f)==4){f.h=!1;try{const W=f.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var A;if(A=W===0){var L=String(f.D).match(IE)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),A=!_j.test(L?L.toLowerCase():"")}E=A}if(E)Jt(f,"complete"),Jt(f,"success");else{f.m=6;try{var j=2<qr(f)?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.Z()+"]",LE(f)}}finally{qc(f)}}}}function qc(f,g){if(f.g){VE(f);const E=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,g||Jt(f,"ready");try{E.onreadystatechange=A}catch{}}}function VE(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function qr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var g=this.g.responseText;return f&&g.indexOf(f)==0&&(g=g.substring(f.length)),JL(g)}};function $E(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ej(f){const g={};f=(f.g&&2<=qr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(w(f[A]))continue;var E=R(f[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const j=g[L]||[];g[L]=j,j.push(E)}P(g,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Al(f,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||g}function FE(f){this.Aa=0,this.i=[],this.j=new _l,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Al("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Al("baseRetryDelayMs",5e3,f),this.cb=Al("retryDelaySeedMs",1e4,f),this.Wa=Al("forwardChannelMaxRetries",2,f),this.wa=Al("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new EE(f&&f.concurrentRequestLimit),this.Da=new vj,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=FE.prototype,t.la=8,t.G=1,t.connect=function(f,g,E,A){Zt(0),this.W=f,this.H=g||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=YE(this,null,this.W),Yc(this)};function Fm(f){if(UE(f),f.G==3){var g=f.U++,E=Hr(f.I);if(Me(E,"SID",f.K),Me(E,"RID",g),Me(E,"TYPE","terminate"),Il(f,E),g=new ki(f,f.j,g),g.L=2,g.v=Wc(Hr(E)),E=!1,s.navigator&&s.navigator.sendBeacon)try{E=s.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&s.Image&&(new Image().src=g.v,E=!0),E||(g.g=QE(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Uc(g)}GE(f)}function Gc(f){f.g&&(Bm(f),f.g.cancel(),f.g=null)}function UE(f){Gc(f),f.u&&(s.clearTimeout(f.u),f.u=null),Qc(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function Yc(f){if(!bE(f.h)&&!f.s){f.s=!0;var g=f.Ga;oe||te(),z||(oe(),z=!0),q.add(g,f),f.B=0}}function bj(f,g){return TE(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=g.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=yl(d(f.Ga,f,g),qE(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const L=new ki(this,this.j,f);let j=this.o;if(this.S&&(j?(j=S(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=zE(this,L,g),E=Hr(this.I),Me(E,"RID",f),Me(E,"CVER",22),this.D&&Me(E,"X-HTTP-Session-Id",this.D),Il(this,E),j&&(this.O?g="headers="+encodeURIComponent(String(DE(j)))+"&"+g:this.m&&$m(E,this.m,j)),Vm(this.h,L),this.Ua&&Me(E,"TYPE","init"),this.P?(Me(E,"$req",g),Me(E,"SID","null"),L.T=!0,Dm(L,E,null)):Dm(L,E,g),this.G=2}}else this.G==3&&(f?BE(this,f):this.i.length==0||bE(this.h)||BE(this))};function BE(f,g){var E;g?E=g.l:E=f.U++;const A=Hr(f.I);Me(A,"SID",f.K),Me(A,"RID",E),Me(A,"AID",f.T),Il(f,A),f.m&&f.o&&$m(A,f.m,f.o),E=new ki(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),g&&(f.i=g.D.concat(f.i)),g=zE(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Vm(f.h,E),Dm(E,A,g)}function Il(f,g){f.H&&D(f.H,function(E,A){Me(g,A,E)}),f.l&&AE({},function(E,A){Me(g,A,E)})}function zE(f,g,E){E=Math.min(f.i.length,E);var A=f.l?d(f.l.Na,f.l,f):null;e:{var L=f.i;let j=-1;for(;;){const W=["count="+E];j==-1?0<E?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Ce=!0;for(let St=0;St<E;St++){let _e=L[St].g;const jt=L[St].map;if(_e-=j,0>_e)j=Math.max(0,L[St].g-100),Ce=!1;else try{yj(jt,W,"req"+_e+"_")}catch{A&&A(jt)}}if(Ce){A=W.join("&");break e}}}return f=f.i.splice(0,E),g.D=f,A}function WE(f){if(!f.g&&!f.u){f.Y=1;var g=f.Fa;oe||te(),z||(oe(),z=!0),q.add(g,f),f.v=0}}function Um(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=yl(d(f.Fa,f),qE(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,KE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=yl(d(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Gc(this),KE(this))};function Bm(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function KE(f){f.g=new ki(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var g=Hr(f.qa);Me(g,"RID","rpc"),Me(g,"SID",f.K),Me(g,"AID",f.T),Me(g,"CI",f.F?"0":"1"),!f.F&&f.ja&&Me(g,"TO",f.ja),Me(g,"TYPE","xmlhttp"),Il(f,g),f.m&&f.o&&$m(g,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Wc(Hr(g)),E.m=null,E.P=!0,yE(E,f)}t.Za=function(){this.C!=null&&(this.C=null,Gc(this),Um(this),Zt(19))};function Qc(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function HE(f,g){var E=null;if(f.g==g){Qc(f),Bm(f),f.g=null;var A=2}else if(jm(f.h,g))E=g.D,SE(f.h,g),A=1;else return;if(f.G!=0){if(g.o)if(A==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var L=f.B;A=Vc(),Jt(A,new pE(A,E)),Yc(f)}else WE(f);else if(L=g.s,L==3||L==0&&0<g.X||!(A==1&&bj(f,g)||A==2&&Um(f)))switch(E&&0<E.length&&(g=f.h,g.i=g.i.concat(E)),L){case 1:Vo(f,5);break;case 4:Vo(f,10);break;case 3:Vo(f,6);break;default:Vo(f,2)}}}function qE(f,g){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*g}function Vo(f,g){if(f.j.info("Error code "+g),g==2){var E=d(f.fb,f),A=f.Xa;const L=!A;A=new jo(A||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Bc(A,"https"),Wc(A),L?mj(A.toString(),E):gj(A.toString(),E)}else Zt(2);f.G=0,f.l&&f.l.sa(g),GE(f),UE(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function GE(f){if(f.G=0,f.ka=[],f.l){const g=PE(f.h);(g.length!=0||f.i.length!=0)&&(_(f.ka,g),_(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function YE(f,g,E){var A=E instanceof jo?Hr(E):new jo(E);if(A.g!="")g&&(A.g=g+"."+A.g),zc(A,A.s);else{var L=s.location;A=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var j=new jo(null);A&&Bc(j,A),g&&(j.g=g),L&&zc(j,L),E&&(j.l=E),A=j}return E=f.D,g=f.ya,E&&g&&Me(A,E,g),Me(A,"VER",f.la),Il(f,A),A}function QE(f,g,E){if(g&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=f.Ca&&!f.pa?new Ge(new Kc({eb:E})):new Ge(f.pa),g.Ha(f.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function XE(){}t=XE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xc(){}Xc.prototype.g=function(f,g){return new _n(f,g)};function _n(f,g){Lt.call(this),this.g=new FE(g),this.l=f,this.h=g&&g.messageUrlParams||null,f=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(f?f["X-WebChannel-Content-Type"]=g.messageContentType:f={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(f?f["X-WebChannel-Client-Profile"]=g.va:f={"X-WebChannel-Client-Profile":g.va}),this.g.S=f,(f=g&&g.Sb)&&!w(f)&&(this.g.m=f),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,f=this.h,f!==null&&g in f&&(f=this.h,g in f&&delete f[g])),this.j=new ja(this)}m(_n,Lt),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Fm(this.g)},_n.prototype.o=function(f){var g=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=xm(f),f=E);g.i.push(new oj(g.Ya++,f)),g.G==3&&Yc(g)},_n.prototype.N=function(){this.g.l=null,delete this.j,Fm(this.g),delete this.g,_n.aa.N.call(this)};function JE(f){Om.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var g=f.__sm__;if(g){e:{for(const E in g){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,g=g!==null&&f in g?g[f]:void 0),this.data=g}else this.data=f}m(JE,Om);function ZE(){km.call(this),this.status=1}m(ZE,km);function ja(f){this.g=f}m(ja,XE),ja.prototype.ua=function(){Jt(this.g,"a")},ja.prototype.ta=function(f){Jt(this.g,new JE(f))},ja.prototype.sa=function(f){Jt(this.g,new ZE)},ja.prototype.ra=function(){Jt(this.g,"b")},Xc.prototype.createWebChannel=Xc.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,nk=function(){return new Xc},tk=function(){return Vc()},ek=Mo,uy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$c.NO_ERROR=0,$c.TIMEOUT=8,$c.HTTP_ERROR=6,Zf=$c,mE.COMPLETE="complete",ZO=mE,cE.EventType=gl,gl.OPEN="a",gl.CLOSE="b",gl.ERROR="c",gl.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,Ql=cE,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,JO=Ge}).apply(typeof yf<"u"?yf:typeof self<"u"?self:typeof window<"u"?window:{});const XT="@firebase/firestore",JT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new w_("@firebase/firestore");function Ba(){return ya.logLevel}function H(t,...e){if(ya.logLevel<=pe.DEBUG){const n=e.map(D_);ya.debug(`Firestore (${nl}): ${t}`,...n)}}function pi(t,...e){if(ya.logLevel<=pe.ERROR){const n=e.map(D_);ya.error(`Firestore (${nl}): ${t}`,...n)}}function Cs(t,...e){if(ya.logLevel<=pe.WARN){const n=e.map(D_);ya.warn(`Firestore (${nl}): ${t}`,...n)}}function D_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,rk(t,r,n)}function rk(t,e,n){let r=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw pi(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||rk(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class i5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o5{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new oi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new oi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new ik(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class a5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new a5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ZT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ZT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=u5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function cy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return xg(i)===xg(o)?me(i,o):xg(i)?1:-1}return me(t.length,e.length)}const c5=55296,f5=57343;function xg(t){const e=t.charCodeAt(0);return e>=c5&&e<=f5}function Os(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ar.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return me(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),i=Ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):cy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return co.fromString(e.substring(4,e.length-2))}}class Ve extends Ar{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const h5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Ar{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return h5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eS}static keyField(){return new Ct([eS])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Z(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Z(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ve.fromString(e))}static fromName(e){return new ne(Ve.fromString(e).popFirst(5))}static empty(){return new ne(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e,n){if(!n)throw new Z(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function d5(t,e,n,r){if(e===!0&&r===!0)throw new Z(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tS(t){if(!ne.isDocumentKey(t))throw new Z(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nS(t){if(ne.isDocumentKey(t))throw new Z(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ak(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function L_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function Vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=L_(t);throw new Z(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function yc(t,e){if(!ak(t))throw new Z(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Z(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=-62135596800,iS=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iS);return new $e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rS)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iS}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yc(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:it("string",$e._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new $e(0,0))}static max(){return new ae(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function p5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new vo(i,ne.empty(),e)}function m5(t){return new vo(t.readTime,t.key,zu)}class vo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vo(ae.min(),ne.empty(),zu)}static max(){return new vo(ae.max(),ne.empty(),zu)}}function g5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==v5)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function _5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function il(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-1;function ip(t){return t==null}function Fh(t){return t===0&&1/t==-1/0}function w5(t){return typeof t=="number"&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="";function E5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oS(e)),e=b5(t.get(n),e);return oS(e)}function b5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case sk:n+="";break;default:n+=o}}return n}function oS(t){return t+sk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=o??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new It(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sS(this.data.getIterator())}getIteratorFrom(e){return new sS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class sS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new In([])}unionWith(e){let n=new ft(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uk("Invalid base64 string: "+o):o}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const T5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=T5.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="server_timestamp",fk="__type__",hk="__previous_value__",dk="__local_write_time__";function V_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fk])==null?void 0:r.stringValue)===ck}function op(t){const e=t.mapValue.fields[hk];return V_(e)?op(e):e}function Wu(t){const e=yo(t.mapValue.fields[dk].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,i,o,a,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Uh="(default)";class Ku{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="__type__",mk="__max__",wf={mapValue:{fields:{__type__:{stringValue:mk}}}},gk="__vector__",Bh="value";function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?V_(t)?4:A5(t)?9007199254740991:P5(t)?10:11:ie(28295,{value:t})}function $r(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=yo(i.timestampValue),s=yo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return _o(i.bytesValue).isEqual(_o(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Qe(i.geoPointValue.latitude)===Qe(o.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qe(i.integerValue)===Qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Qe(i.doubleValue),s=Qe(o.doubleValue);return a===s?Fh(a)===Fh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Os(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(aS(a)!==aS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!$r(a[l],s[l])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function Hu(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function ks(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=Qe(o.integerValue||o.doubleValue),l=Qe(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return lS(t.timestampValue,e.timestampValue);case 4:return lS(Wu(t),Wu(e));case 5:return cy(t.stringValue,e.stringValue);case 6:return function(o,a){const s=_o(o),l=_o(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=me(s[u],l[u]);if(c!==0)return c}return me(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=me(Qe(o.latitude),Qe(a.latitude));return s!==0?s:me(Qe(o.longitude),Qe(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var d,p,m,y;const s=o.fields||{},l=a.fields||{},u=(d=s[Bh])==null?void 0:d.arrayValue,c=(p=l[Bh])==null?void 0:p.arrayValue,h=me(((m=u==null?void 0:u.values)==null?void 0:m.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return h!==0?h:uS(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===wf.mapValue&&a===wf.mapValue)return 0;if(o===wf.mapValue)return 1;if(a===wf.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=cy(l[h],c[h]);if(d!==0)return d;const p=ks(s[l[h]],u[c[h]]);if(p!==0)return p}return me(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function lS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=yo(t),r=yo(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function uS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ks(n[i],r[i]);if(o)return o}return me(n.length,r.length)}function Rs(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=fy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${fy(n.fields[a])}`;return i+"}"}(t.mapValue):ie(61005,{value:t})}function eh(t){switch(wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=op(t);return e?16+eh(e):16;case 5:return 2*t.stringValue.length;case 6:return _o(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+eh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return xo(r.fields,(o,a)=>{i+=o.length+eh(a)}),i}(t.mapValue);default:throw ie(13486,{value:t})}}function hy(t){return!!t&&"integerValue"in t}function $_(t){return!!t&&"arrayValue"in t}function cS(t){return!!t&&"nullValue"in t}function fS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function P5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pk])==null?void 0:r.stringValue)===gk}function gu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(t.arrayValue.values[n]);return e}return{...t}}function A5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=gu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new cn(gu(this.value))}}function vk(t){const e=[];return xo(t.fields,(n,r)=>{const i=new Ct([n]);if(th(r)){const o=vk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Kt(e,0,ae.min(),ae.min(),ae.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new Kt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Kt(e,2,n,ae.min(),ae.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,ae.min(),ae.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.position=e,this.inclusive=n}}function hS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(a.referenceValue),n.key):r=ks(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function dS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function I5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{}class ut extends yk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C5(e,n,r):n==="array-contains"?new R5(e,r):n==="in"?new N5(e,r):n==="not-in"?new D5(e,r):n==="array-contains-any"?new M5(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new O5(e,r):new k5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ks(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends yk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fr(e,n)}matches(e){return _k(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _k(t){return t.op==="and"}function wk(t){return x5(t)&&_k(t)}function x5(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function dy(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+Rs(t.value);if(wk(t))return t.filters.map(e=>dy(e)).join(",");{const e=t.filters.map(n=>dy(n)).join(",");return`${t.op}(${e})`}}function Ek(t,e){return t instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof Fr?function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&Ek(a,i.filters[s]),!0):!1}(t,e):void ie(19439)}function bk(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Rs(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(bk).join(" ,")+"}"}(t):"Filter"}class C5 extends ut{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class O5 extends ut{constructor(e,n){super(e,"in",n),this.keys=Tk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k5 extends ut{constructor(e,n){super(e,"not-in",n),this.keys=Tk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Tk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class R5 extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $_(n)&&Hu(n.arrayValue,this.value)}}class N5 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class D5 extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hu(this.value.arrayValue,n)}}class M5 extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Te=null}}function pS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new L5(t,e,n,r,i,o,a)}function F_(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rs(r)).join(",")),e.Te=n}return e.Te}function U_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ek(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dS(t.startAt,e.startAt)&&dS(t.endAt,e.endAt)}function py(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j5(t,e,n,r,i,o,a,s){return new ap(t,e,n,r,i,o,a,s)}function B_(t){return new ap(t)}function mS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V5(t){return t.collectionGroup!==null}function vu(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new ft(Ct.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Wh(o,r))}),n.has(Ct.keyField().canonicalString())||e.Ie.push(new Wh(Ct.keyField(),r))}return e.Ie}function Rr(t){const e=se(t);return e.Ee||(e.Ee=$5(e,vu(t))),e.Ee}function $5(t,e){if(t.limitType==="F")return pS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Wh(i.field,o)});const n=t.endAt?new zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zh(t.startAt.position,t.startAt.inclusive):null;return pS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function my(t,e,n){return new ap(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sp(t,e){return U_(Rr(t),Rr(e))&&t.limitType===e.limitType}function Sk(t){return`${F_(Rr(t))}|lt:${t.limitType}`}function za(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bk(i)).join(", ")}]`),ip(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rs(i)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function lp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of vu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=hS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,vu(r),i)||r.endAt&&!function(a,s,l){const u=hS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,vu(r),i))}(t,e)}function F5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Pk(t){return(e,n)=>{let r=!1;for(const i of vu(t)){const o=U5(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function U5(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?ks(l,u):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return lk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=new He(ne.comparator);function mi(){return B5}const Ak=new He(ne.comparator);function Xl(...t){let e=Ak;for(const n of t)e=e.insert(n.key,n);return e}function Ik(t){let e=Ak;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qo(){return yu()}function xk(){return yu()}function yu(){return new xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const z5=new He(ne.comparator),W5=new ft(ne.comparator);function ge(...t){let e=W5;for(const n of t)e=e.add(n);return e}const K5=new ft(me);function H5(){return K5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function Ck(t){return{integerValue:""+t}}function q5(t,e){return w5(e)?Ck(e):z_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this._=void 0}}function G5(t,e,n){return t instanceof qu?function(i,o){const a={fields:{[fk]:{stringValue:ck},[dk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&V_(o)&&(o=op(o)),o&&(a.fields[hk]=o),{mapValue:a}}(n,e):t instanceof Gu?kk(t,e):t instanceof Yu?Rk(t,e):function(i,o){const a=Ok(i,o),s=gS(a)+gS(i.Ae);return hy(a)&&hy(i.Ae)?Ck(s):z_(i.serializer,s)}(t,e)}function Y5(t,e,n){return t instanceof Gu?kk(t,e):t instanceof Yu?Rk(t,e):n}function Ok(t,e){return t instanceof Kh?function(r){return hy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class qu extends up{}class Gu extends up{constructor(e){super(),this.elements=e}}function kk(t,e){const n=Nk(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yu extends up{constructor(e){super(),this.elements=e}}function Rk(t,e){let n=Nk(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class Kh extends up{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gS(t){return Qe(t.integerValue||t.doubleValue)}function Nk(t){return $_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n){this.field=e,this.transform=n}}function X5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gu&&i instanceof Gu||r instanceof Yu&&i instanceof Yu?Os(r.elements,i.elements,$r):r instanceof Kh&&i instanceof Kh?$r(r.Ae,i.Ae):r instanceof qu&&i instanceof qu}(t.transform,e.transform)}class J5{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cp{}function Dk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lk(t.key,yr.none()):new _c(t.key,t.data,yr.none());{const n=t.data,r=cn.empty();let i=new ft(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Co(t.key,r,new In(i.toArray()),yr.none())}}function Z5(t,e,n){t instanceof _c?function(i,o,a){const s=i.value.clone(),l=yS(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Co?function(i,o,a){if(!nh(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=yS(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(Mk(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function _u(t,e,n,r){return t instanceof _c?function(o,a,s,l){if(!nh(o.precondition,a))return s;const u=o.value.clone(),c=_S(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Co?function(o,a,s,l){if(!nh(o.precondition,a))return s;const u=_S(o.fieldTransforms,l,a),c=a.data;return c.setAll(Mk(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,a,s){return nh(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function eB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Ok(r.transform,i||null);o!=null&&(n===null&&(n=cn.empty()),n.set(r.field,o))}return n||null}function vS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Os(r,i,(o,a)=>X5(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _c extends cp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Co extends cp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Mk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yS(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Y5(a,s,n[i]))}return r}function _S(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,G5(o,a,e))}return r}class Lk extends cp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tB extends cp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Z5(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xk();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=Dk(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,(n,r)=>vS(n,r))&&Os(this.baseMutations,e.baseMutations,(n,r)=>vS(n,r))}}class W_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return z5}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new W_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,ve;function oB(t){switch(t){case F.OK:return ie(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function jk(t){if(t===void 0)return pi("GRPC error has no .code"),F.UNKNOWN;switch(t){case tt.OK:return F.OK;case tt.CANCELLED:return F.CANCELLED;case tt.UNKNOWN:return F.UNKNOWN;case tt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case tt.INTERNAL:return F.INTERNAL;case tt.UNAVAILABLE:return F.UNAVAILABLE;case tt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case tt.NOT_FOUND:return F.NOT_FOUND;case tt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case tt.ABORTED:return F.ABORTED;case tt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case tt.DATA_LOSS:return F.DATA_LOSS;default:return ie(39323,{code:t})}}(ve=tt||(tt={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=new co([4294967295,4294967295],0);function wS(t){const e=aB().encode(t),n=new XO;return n.update(e),new Uint8Array(n.digest())}function ES(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new co([n,r],0),new co([i,o],0)]}class K_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=co.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(co.fromNumber(r)));return i.compare(sB)===1&&(i=new co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wS(e),[r,i]=ES(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new K_(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.ge===0)return;const n=wS(e),[r,i]=ES(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fp(ae.min(),i,new He(me),mi(),ge())}}class wc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wc(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Vk{constructor(e,n){this.targetId=e,this.Ce=n}}class $k{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bS{constructor(){this.ve=0,this.Fe=TS(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie(38017,{changeType:o})}}),new wc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=TS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lB{constructor(e){this.Ge=e,this.ze=new Map,this.je=mi(),this.Je=Ef(),this.He=Ef(),this.Ye=new He(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(py(o))if(r===0){const a=new ne(o.path);this.et(n,a,Kt.newNoDocument(a,ae.min()))}else Te(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const s=this.ut(e),l=s?this.ct(s,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=_o(r).toUint8Array()}catch(l){if(l instanceof uk)return Cs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new K_(a,i,o)}catch(l){return Cs(l instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Ge.ht(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const s=this.ot(a);if(s){if(o.current&&py(s.target)){const l=new ne(s.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Kt.newNoDocument(l,e))}o.Be&&(n.set(a,o.ke()),o.qe())}});let r=ge();this.He.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const i=new fp(e,n,this.Ye,this.je,r);return this.je=mi(),this.Je=Ef(),this.He=Ef(),this.Ye=new He(me),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ft(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ft(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ef(){return new He(ne.comparator)}function TS(){return new He(ne.comparator)}const uB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),cB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),fB=(()=>({and:"AND",or:"OR"}))();class hB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gy(t,e){return t.useProto3Json||ip(e)?e:{value:e}}function Hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dB(t,e){return Hh(t,e.toTimestamp())}function Nr(t){return Te(!!t,49232),ae.fromTimestamp(function(n){const r=yo(n);return new $e(r.seconds,r.nanos)}(t))}function H_(t,e){return vy(t,e).canonicalString()}function vy(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Uk(t){const e=Ve.fromString(t);return Te(Hk(e),10190,{key:e.toString()}),e}function yy(t,e){return H_(t.databaseId,e.path)}function Cg(t,e){const n=Uk(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(zk(n))}function Bk(t,e){return H_(t.databaseId,e)}function pB(t){const e=Uk(t);return e.length===4?Ve.emptyPath():zk(e)}function _y(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zk(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function SS(t,e,n){return{name:yy(t,e),fields:n.value.mapValue.fields}}function mB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Te(c===void 0||typeof c=="string",58123),Nt.fromBase64String(c||"")):(Te(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Nt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?F.UNKNOWN:jk(u.code);return new Z(c,u.message||"")}(a);n=new $k(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cg(t,r.document.name),o=Nr(r.document.updateTime),a=r.document.createTime?Nr(r.document.createTime):ae.min(),s=new cn({mapValue:{fields:r.document.fields}}),l=Kt.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new rh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cg(t,r.document),o=r.readTime?Nr(r.readTime):ae.min(),a=Kt.newNoDocument(i,o),s=r.removedTargetIds||[];n=new rh([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cg(t,r.document),o=r.removedTargetIds||[];n=new rh([],o,i,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new iB(i,o),s=r.targetId;n=new Vk(s,a)}}return n}function gB(t,e){let n;if(e instanceof _c)n={update:SS(t,e.key,e.value)};else if(e instanceof Lk)n={delete:yy(t,e.key)};else if(e instanceof Co)n={update:SS(t,e.key,e.data),updateMask:PB(e.fieldMask)};else{if(!(e instanceof tB))return ie(16599,{Vt:e.type});n={verify:yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof qu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Gu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Yu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Kh)return{fieldPath:a.field.canonicalString(),increment:s.Ae};throw ie(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:dB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie(27497)}(t,e.precondition)),n}function vB(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?Nr(i.updateTime):Nr(o);return a.isEqual(ae.min())&&(a=Nr(o)),new J5(a,i.transformResults||[])}(n,e))):[]}function yB(t,e){return{documents:[Bk(t,e.path)]}}function _B(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Bk(t,i);const o=function(u){if(u.length!==0)return Kk(Fr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Wa(d.field),direction:bB(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=gy(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function wB(t){let e=pB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=Wk(h);return d instanceof Fr&&wk(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(d=>function(m){return new Wh(Ka(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(h){let d;return d=typeof h=="object"?h.value:h,ip(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new zh(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new zh(p,d)}(n.endAt)),j5(e,i,a,o,s,"F",l,u)}function EB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ka(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ka(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ka(n.unaryFilter.field);return ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ka(n.unaryFilter.field);return ut.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return ut.create(Ka(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>Wk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function bB(t){return uB[t]}function TB(t){return cB[t]}function SB(t){return fB[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function Ka(t){return Ct.fromServerFormat(t.fieldPath)}function Kk(t){return t instanceof ut?function(n){if(n.op==="=="){if(fS(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(cS(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fS(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(cS(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:TB(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(i=>Kk(i));return r.length===1?r[0]:{compositeFilter:{op:SB(n.op),filters:r}}}(t):ie(54877,{filter:t})}function PB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Hk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r,i,o=ae.min(),a=ae.min(),s=Nt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.yt=e}}function IB(t){const e=wB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?my(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(){this.Cn=new CB}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(vo.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class CB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qk=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(qk,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ns(0)}static cr(){return new Ns(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="LruGarbageCollector",OB=1048576;function IS([t,e],[n,r]){const i=me(t,n);return i===0?me(e,r):i}class kB{constructor(e){this.Ir=e,this.buffer=new ft(IS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();IS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(AS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){il(n)?H(AS,"Ignoring IndexedDB error during garbage collection: ",n):await rl(n)}await this.Vr(3e5)})}}class NB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(rp.ce);const r=new kB(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(PS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,s=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ba()<=pe.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function DB(t,e){return new NB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.changes=new xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_u(r.mutation,i,In.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Qo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Xl();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=mi();const a=yu(),s=function(){return yu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Co)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),_u(c.mutation,u,c.mutation.getFieldMask(),$e.now())):a.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>s.set(u,new LB(c,a.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=yu();let i=new He((a,s)=>a-s),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||In.empty();c=s.applyToLocalView(u,c),r.set(l,c);const h=(i.get(s.batchId)||ge()).add(l);i=i.insert(s.batchId,h)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,h=xk();c.forEach(d=>{if(!o.has(d)){const p=Dk(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):$.resolve(Qo());let s=zu,l=o;return a.next(u=>$.forEach(u,(c,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),o.get(c)?$.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ge())).next(c=>({batchId:s,changes:Ik(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Xl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Xl();return this.indexManager.getCollectionParents(e,o).next(s=>$.forEach(s,l=>{const u=function(h,d){return new ap(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Kt.newInvalidDocument(c)))});let s=Xl();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&_u(c.mutation,u,In.empty(),$e.now()),lp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:IB(i.bundledQuery),readTime:Nr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.overlays=new He(ne.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return $.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Qo(),o=n.length+1,a=new ne(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new He((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Qo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Qo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return $.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new rB(n,r));let o=this.qr.get(n);o===void 0&&(o=ge(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.Qr=new ft(pt.$r),this.Ur=new ft(pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new pt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new Ve([])),r=new pt(n,e),i=new pt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Ve([])),r=new pt(n,e),i=new pt(n,e+1);let o=ge();return this.Ur.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new pt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ft(pt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new nB(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Zr=this.Zr.add(new pt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return $.resolve(a)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?j_:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],a=>{const s=this.Xr(a.Yr);o.push(s)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(me);return n.forEach(i=>{const o=new pt(i,0),a=new pt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],s=>{r=r.add(s.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ne.isDocumentKey(o)||(o=o.child(""));const a=new pt(new ne(o),0);let s=new ft(me);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},a),$.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,i=>{const o=new pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new pt(n,0),i=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.ri=e,this.docs=function(){return new He(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=mi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=mi();const a=n.path,s=new ne(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||g5(m5(c),r)<=0||(i.has(c.key)||lp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ie(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zB(this)}getSize(e){return $.resolve(this.size)}}class zB extends MB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.persistence=e,this.si=new xa(n=>F_(n),U_),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.oi=0,this._i=new q_,this.targetCount=0,this.ai=Ns.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ns(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.ui={},this.overlays={},this.ci=new rp(0),this.li=!1,this.li=!0,this.hi=new FB,this.referenceDelegate=e(this),this.Pi=new WB(this),this.indexManager=new xB,this.remoteDocumentCache=function(i){return new BB(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new AB(n),this.Ii=new VB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $B,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new UB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new KB(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class KB extends y5{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.Ri=new q_,this.Vi=null}static mi(e){return new G_(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const i=ne.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.pi=new xa(r=>E5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=DB(this,n)}static mi(e,n){return new qh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(s=>{s||(r++,o.removeEntry(a,ae.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ge(),i=ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Y_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return h3()?8:_5(Qt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new HB;return this.Ss(e,n,a).next(s=>{if(o.result=s,this.Vs)return this.bs(e,n,a,s.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ba()<=pe.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ba()<=pe.DEBUG&&H("QueryEngine","Query:",za(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ba()<=pe.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):$.resolve())}ys(e,n){if(mS(n))return $.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=my(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ge(...o);return this.ps.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,s);return this.Cs(n,u,a,l.readTime)?this.ys(e,my(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return mS(n)||i.isEqual(ae.min())?$.resolve(null):this.ps.getDocuments(e,r).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,i)?$.resolve(null):(Ba()<=pe.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(n)),this.vs(e,a,n,p5(i,zu)).next(s=>s))})}Ds(e,n){let r=new ft(Pk(e));return n.forEach((i,o)=>{lp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ba()<=pe.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",za(n)),this.ps.getDocumentsMatchingQuery(e,n,vo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="LocalStore",GB=3e8;class YB{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new He(me),this.xs=new xa(o=>F_(o),U_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function QB(t,e,n,r){return new YB(t,e,n,r)}async function Yk(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=ge();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:s}))})})}function XB(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const h=u.batch,d=h.keys();let p=$.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(y=>{const _=u.docVersions.get(m);Te(_!==null,48541),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=ge();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Qk(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function JB(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;s.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Nt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(y,_,v){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=GB?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,p,c)&&s.push(n.Pi.updateTargetData(o,p))});let l=mi(),u=ge();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(ZB(o,a,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(ae.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(h=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return $.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function ZB(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=mi();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):H(Q_,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function e9(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=j_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t9(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new Qi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function wy(t,e,n){const r=se(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!il(a))throw a;H(Q_,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function xS(t,e,n){const r=se(t);let i=ae.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const h=se(l),d=h.xs.get(c);return d!==void 0?$.resolve(h.Ms.get(d)):h.Pi.getTargetData(u,c)}(r,a,Rr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:ae.min(),n?o:ge())).next(s=>(n9(r,F5(e),s),{documents:s,Qs:o})))}function n9(t,e,n){let r=t.Os.get(e)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class CS{constructor(){this.activeTargetIds=H5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r9{constructor(){this.Mo=new CS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="ConnectivityMonitor";class kS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(OS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(OS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf=null;function Ey(){return bf===null?bf=function(){return 268435456+Math.round(2147483648*Math.random())}():bf++,"0x"+bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="RestConnection",o9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Uh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const a=Ey(),s=this.zo(e,n.toUriEncodedString());H(Og,`Sending RPC '${e}' ${a}:`,s,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(s),c=Zs(u);return this.Jo(e,s,l,r,c).then(h=>(H(Og,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Cs(Og,`RPC '${e}' ${a} failed with error: `,h,"url: ",s,"request:",r),h})}Ho(e,n,r,i,o,a){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=o9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class l9 extends a9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const a=Ey();return new Promise((s,l)=>{const u=new JO;u.setWithCredentials(!0),u.listenOnce(ZO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zf.NO_ERROR:const h=u.getResponseJson();H(Ut,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),s(h);break;case Zf.TIMEOUT:H(Ut,`RPC '${e}' ${a} timed out`),l(new Z(F.DEADLINE_EXCEEDED,"Request time out"));break;case Zf.HTTP_ERROR:const d=u.getStatus();if(H(Ut,`RPC '${e}' ${a} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(m.status);l(new Z(y,m.message))}else l(new Z(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(F.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{H(Ut,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);H(Ut,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=Ey(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=nk(),s=tk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");H(Ut,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=a.createWebChannel(c,l);this.I_(h);let d=!1,p=!1;const m=new s9({Yo:_=>{p?H(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(H(Ut,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),H(Ut,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},Zo:()=>h.close()}),y=(_,v,w)=>{_.listen(v,T=>{try{w(T)}catch(x){setTimeout(()=>{throw x},0)}})};return y(h,Ql.EventType.OPEN,()=>{p||(H(Ut,`RPC '${e}' stream ${i} transport opened.`),m.o_())}),y(h,Ql.EventType.CLOSE,()=>{p||(p=!0,H(Ut,`RPC '${e}' stream ${i} transport closed`),m.a_(),this.E_(h))}),y(h,Ql.EventType.ERROR,_=>{p||(p=!0,Cs(Ut,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),m.a_(new Z(F.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ql.EventType.MESSAGE,_=>{var v;if(!p){const w=_.data[0];Te(!!w,16349);const T=w,x=(T==null?void 0:T.error)||((v=T[0])==null?void 0:v.error);if(x){H(Ut,`RPC '${e}' stream ${i} received error:`,x);const O=x.status;let D=function(I){const C=tt[I];if(C!==void 0)return jk(C)}(O),P=x.message;D===void 0&&(D=F.INTERNAL,P="Unknown error status: "+O+" with message "+x.message),p=!0,m.a_(new Z(D,P)),h.close()}else H(Ut,`RPC '${e}' stream ${i} received:`,w),m.u_(w)}}),y(s,ek.STAT_EVENT,_=>{_.stat===uy.PROXY?H(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===uy.NOPROXY&&H(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t){return new hB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="PersistentStream";class Jk{constructor(e,n,r,i,o,a,s,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Z(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(RS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(RS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u9 extends Jk{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ae.min():a.readTime?Nr(a.readTime):ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=_y(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=py(l)?{documents:yB(o,l)}:{query:_B(o,l).ft},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=Fk(o,a.resumeToken);const u=gy(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(ae.min())>0){s.readTime=Hh(o,a.snapshotVersion.toTimestamp());const u=gy(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=EB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=_y(this.serializer),n.removeTarget=e,this.q_(n)}}class c9 extends Jk{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vB(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_y(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gB(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{}class h9 extends f9{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,vy(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(F.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Ho(e,vy(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Z(F.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class d9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class p9{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Ca(this)&&(H(_a,"Restarting streams for network reachability change."),await async function(l){const u=se(l);u.Ea.add(4),await Ec(u),u.Ra.set("Unknown"),u.Ea.delete(4),await dp(u)}(this))})}),this.Ra=new d9(r,i)}}async function dp(t){if(Ca(t))for(const e of t.da)await e(!0)}async function Ec(t){for(const e of t.da)await e(!1)}function Zk(t,e){const n=se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ew(n)?Z_(n):ol(n).O_()&&J_(n,e))}function X_(t,e){const n=se(t),r=ol(n);n.Ia.delete(e),r.O_()&&eR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ca(n)&&n.Ra.set("Unknown"))}function J_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(t).Y_(e)}function eR(t,e){t.Va.Ue(e),ol(t).Z_(e)}function Z_(t){t.Va=new lB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.Ra.ua()}function ew(t){return Ca(t)&&!ol(t).x_()&&t.Ia.size>0}function Ca(t){return se(t).Ea.size===0}function tR(t){t.Va=void 0}async function m9(t){t.Ra.set("Online")}async function g9(t){t.Ia.forEach((e,n)=>{J_(t,e)})}async function v9(t,e){tR(t),ew(t)?(t.Ra.ha(e),Z_(t)):t.Ra.set("Unknown")}async function y9(t,e,n){if(t.Ra.set("Online"),e instanceof $k&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(r){H(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gh(t,r)}else if(e instanceof rh?t.Va.Ze(e):e instanceof Vk?t.Va.st(e):t.Va.tt(e),!n.isEqual(ae.min()))try{const r=await Qk(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Va.Tt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Nt.EMPTY_BYTE_STRING,c.snapshotVersion)),eR(o,l);const h=new Qi(c.target,l,u,c.sequenceNumber);J_(o,h)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){H(_a,"Failed to raise snapshot:",r),await Gh(t,r)}}async function Gh(t,e,n){if(!il(e))throw e;t.Ea.add(1),await Ec(t),t.Ra.set("Offline"),n||(n=()=>Qk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(_a,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dp(t)})}function nR(t,e){return e().catch(n=>Gh(t,n,e))}async function pp(t){const e=se(t),n=Eo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:j_;for(;_9(e);)try{const i=await e9(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,w9(e,i)}catch(i){await Gh(e,i)}rR(e)&&iR(e)}function _9(t){return Ca(t)&&t.Ta.length<10}function w9(t,e){t.Ta.push(e);const n=Eo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function rR(t){return Ca(t)&&!Eo(t).x_()&&t.Ta.length>0}function iR(t){Eo(t).start()}async function E9(t){Eo(t).ra()}async function b9(t){const e=Eo(t);for(const n of t.Ta)e.ea(n.mutations)}async function T9(t,e,n){const r=t.Ta.shift(),i=W_.from(r,e,n);await nR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pp(t)}async function S9(t,e){e&&Eo(t).X_&&await async function(r,i){if(function(a){return oB(a)&&a!==F.ABORTED}(i.code)){const o=r.Ta.shift();Eo(r).B_(),await nR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await pp(r)}}(t,e),rR(t)&&iR(t)}async function NS(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),H(_a,"RemoteStore received new credentials");const r=Ca(n);n.Ea.add(3),await Ec(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dp(n)}async function P9(t,e){const n=se(t);e?(n.Ea.delete(2),await dp(n)):e||(n.Ea.add(2),await Ec(n),n.Ra.set("Unknown"))}function ol(t){return t.ma||(t.ma=function(n,r,i){const o=se(n);return o.sa(),new u9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:m9.bind(null,t),t_:g9.bind(null,t),r_:v9.bind(null,t),H_:y9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ew(t)?Z_(t):t.Ra.set("Unknown")):(await t.ma.stop(),tR(t))})),t.ma}function Eo(t){return t.fa||(t.fa=function(n,r,i){const o=se(n);return o.sa(),new c9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:E9.bind(null,t),r_:S9.bind(null,t),ta:b9.bind(null,t),na:T9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await pp(t)):(await t.fa.stop(),t.Ta.length>0&&(H(_a,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new tw(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nw(t,e){if(pi("AsyncQueue",`${e}: ${t}`),il(t))return new Z(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static emptySet(e){return new gs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Xl(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.ga=new He(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ds{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Ds(e,n,gs.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class I9{constructor(){this.queries=MS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),o=i.queries;i.queries=MS(),o.forEach((a,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new Z(F.ABORTED,"Firestore shutting down"))}}function MS(){return new xa(t=>Sk(t),sp)}async function oR(t,e){const n=se(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new A9,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=nw(a,`Initialization of query '${za(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&rw(n)}async function aR(t,e){const n=se(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x9(t,e){const n=se(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.Sa)s.Fa(i)&&(r=!0);a.wa=i}}r&&rw(n)}function C9(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function rw(t){t.Ca.forEach(e=>{e.next()})}var by,LS;(LS=by||(by={})).Ma="default",LS.Cache="cache";class sR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ds(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==by.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.key=e}}class uR{constructor(e){this.key=e}}class O9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=Pk(e),this.tu=new gs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new DS,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=lp(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;d&&p?d.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),_=!0):this.su(d,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),_=!0):d&&!p&&(r.track({type:1,doc:d}),_=!0,(l||u)&&(s=!0)),_&&(p?(a=a.add(p),o=y?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:a,iu:r,Cs:s,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((c,h)=>function(p,m){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:_})}};return y(p)-y(m)}(c.type,h.type)||this.eu(c.doc,h.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new Ds(this.query,e.tu,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new DS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new uR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new lR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ds.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const iw="SyncEngine";class k9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class R9{constructor(e){this.key=e,this.hu=!1}}class N9{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new xa(s=>Sk(s),sp),this.Iu=new Map,this.Eu=new Set,this.du=new He(ne.comparator),this.Au=new Map,this.Ru=new q_,this.Vu={},this.mu=new Map,this.fu=Ns.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function D9(t,e,n=!0){const r=mR(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await cR(r,e,n,!0),i}async function M9(t,e){const n=mR(t);await cR(n,e,!0,!1)}async function cR(t,e,n,r){const i=await t9(t.localStore,Rr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await L9(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Zk(t.remoteStore,i),s}async function L9(t,e,n,r,i){t.pu=(h,d,p)=>async function(y,_,v,w){let T=_.view.ru(v);T.Cs&&(T=await xS(y.localStore,_.query,!1).then(({documents:P})=>_.view.ru(P,T)));const x=w&&w.targetChanges.get(_.targetId),O=w&&w.targetMismatches.get(_.targetId)!=null,D=_.view.applyChanges(T,y.isPrimaryClient,x,O);return VS(y,_.targetId,D.au),D.snapshot}(t,h,d,p);const o=await xS(t.localStore,e,!0),a=new O9(e,o.Qs),s=a.ru(o.documents),l=wc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);VS(t,n,u.au);const c=new k9(e,n,a);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function j9(t,e,n){const r=se(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(a=>!sp(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&X_(r.remoteStore,i.targetId),Ty(r,i.targetId)}).catch(rl)):(Ty(r,i.targetId),await wy(r.localStore,i.targetId,!0))}async function V9(t,e){const n=se(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),X_(n.remoteStore,r.targetId))}async function $9(t,e,n){const r=H9(t);try{const i=await function(a,s){const l=se(a),u=$e.now(),c=s.reduce((p,m)=>p.add(m.key),ge());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=mi(),y=ge();return l.Ns.getEntries(p,c).next(_=>{m=_,m.forEach((v,w)=>{w.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{h=_;const v=[];for(const w of s){const T=eB(w,h.get(w.key).overlayedDocument);T!=null&&v.push(new Co(w.key,T,vk(T.value.mapValue),yr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,s)}).next(_=>{d=_;const v=_.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(p,_.batchId,v)})}).then(()=>({batchId:d.batchId,changes:Ik(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new He(me)),u=u.insert(s,l),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await bc(r,i.changes),await pp(r.remoteStore)}catch(i){const o=nw(i,"Failed to persist write");n.reject(o)}}async function fR(t,e){const n=se(t);try{const r=await JB(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Au.get(o);a&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Te(a.hu,14607):i.removedDocuments.size>0&&(Te(a.hu,42227),a.hu=!1))}),await bc(n,r,e)}catch(r){await rl(r)}}function jS(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=se(a);l.onlineState=s;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Sa)d.va(s)&&(u=!0)}),u&&rw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F9(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new He(ne.comparator);a=a.insert(o,Kt.newNoDocument(o,ae.min()));const s=ge().add(o),l=new fp(ae.min(),new Map,new He(me),a,s);await fR(r,l),r.du=r.du.remove(o),r.Au.delete(e),ow(r)}else await wy(r.localStore,e,!1).then(()=>Ty(r,e,n)).catch(rl)}async function U9(t,e){const n=se(t),r=e.batch.batchId;try{const i=await XB(n.localStore,e);dR(n,r,null),hR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bc(n,i)}catch(i){await rl(i)}}async function B9(t,e,n){const r=se(t);try{const i=await function(a,s){const l=se(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(h=>(Te(h!==null,37113),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);dR(r,e,n),hR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bc(r,i)}catch(i){await rl(i)}}function hR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function dR(t,e,n){const r=se(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ty(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||pR(t,r)})}function pR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(X_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ow(t))}function VS(t,e,n){for(const r of n)r instanceof lR?(t.Ru.addReference(r.key,e),z9(t,r)):r instanceof uR?(H(iw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||pR(t,r.key)):ie(19791,{wu:r})}function z9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(H(iw,"New document in limbo: "+n),t.Eu.add(r),ow(t))}function ow(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Ve.fromString(e)),r=t.fu.next();t.Au.set(r,new R9(n)),t.du=t.du.insert(n,r),Zk(t.remoteStore,new Qi(Rr(B_(n.path)),r,"TargetPurposeLimboResolution",rp.ce))}}async function bc(t,e,n){const r=se(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{a.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Y_.As(l.targetId,u);o.push(h)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,u){const c=se(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,d=>$.forEach(d.Es,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>$.forEach(d.ds,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!il(h))throw h;H(Q_,"Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.Ms.get(d),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.Ms=c.Ms.insert(d,y)}}}(r.localStore,o))}async function W9(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){H(iw,"User change. New user:",e.toKey());const r=await Yk(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(s=>{s.forEach(l=>{l.reject(new Z(F.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bc(n,r.Ls)}}function K9(t,e){const n=se(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let i=ge();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const s=n.Tu.get(a);i=i.unionWith(s.view.nu)}return i}}function mR(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F9.bind(null,e),e.Pu.H_=x9.bind(null,e.eventManager),e.Pu.yu=C9.bind(null,e.eventManager),e}function H9(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B9.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QB(this.persistence,new qB,e.initialUser,this.serializer)}Cu(e){return new Gk(G_.mi,this.serializer)}Du(e){return new r9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class q9 extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof qh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Gk(r=>qh.mi(r,n),this.serializer)}}class Sy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W9.bind(null,this.syncEngine),await P9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I9}()}createDatastore(e){const n=hp(e.databaseInfo.databaseId),r=function(o){return new l9(o)}(e.databaseInfo);return function(o,a,s,l){return new h9(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new p9(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>jS(this.syncEngine,n,0),function(){return kS.v()?new kS:new i9}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const h=new N9(i,o,a,s,l,u);return c&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=se(i);H(_a,"RemoteStore shutting down."),o.Ea.add(5),await Ec(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Sy.provider={build:()=>new Sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="FirestoreClient";class G9{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=M_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{H(bo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(H(bo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rg(t,e){t.asyncQueue.verifyOperationInProgress(),H(bo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Yk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $S(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Y9(t);H(bo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>NS(e.remoteStore,i)),t._onlineComponents=e}async function Y9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(bo,"Using user provided OfflineComponentProvider");try{await Rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Cs("Error using user provided cache. Falling back to memory cache: "+n),await Rg(t,new Yh)}}else H(bo,"Using default OfflineComponentProvider"),await Rg(t,new q9(void 0));return t._offlineComponents}async function vR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(bo,"Using user provided OnlineComponentProvider"),await $S(t,t._uninitializedComponentsProvider._online)):(H(bo,"Using default OnlineComponentProvider"),await $S(t,new Sy))),t._onlineComponents}function Q9(t){return vR(t).then(e=>e.syncEngine)}async function yR(t){const e=await vR(t),n=e.eventManager;return n.onListen=D9.bind(null,e.syncEngine),n.onUnlisten=j9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V9.bind(null,e.syncEngine),n}function X9(t,e,n={}){const r=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new gR({next:d=>{c.Nu(),a.enqueueAndForget(()=>aR(o,h));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new Z(F.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new Z(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new sR(B_(s.path),c,{includeMetadataChanges:!0,qa:!0});return oR(o,h)}(await yR(t),t.asyncQueue,e,n,r)),r.promise}function J9(t,e,n={}){const r=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new gR({next:d=>{c.Nu(),a.enqueueAndForget(()=>aR(o,h)),d.fromCache&&l.source==="server"?u.reject(new Z(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new sR(s,c,{includeMetadataChanges:!0,qa:!0});return oR(o,h)}(await yR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firestore.googleapis.com",US=!0;class BS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wR,this.ssl=US}else this.host=e.host,this.ssl=e.ssl??US;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OB)throw new Z(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_R(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new r5;switch(r.type){case"firstParty":return new s5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FS.get(n);r&&(H("ComponentProvider","Removing Datastore"),FS.delete(n),r.terminate())}(this),Promise.resolve()}}function Z9(t,e,n,r={}){var u;t=Vr(t,mp);const i=Zs(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(oO(`https://${s}`),aO("Firestore",!0)),o.host!==wR&&o.host!==s&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:r};if(!ma(l,a)&&(t._setSettings(l),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=zt.MOCK_USER;else{c=r3(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Z(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new zt(d)}t._authCredentials=new i5(new ik(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gp(this.firestore,e,this._query)}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yc(n,ot._jsonSchema))return new ot(e,r||null,new ne(Ve.fromString(n.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:it("string",ot._jsonSchemaVersion),referencePath:it("string")};class fo extends gp{constructor(e,n,r){super(e,n,B_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new ne(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function Qh(t,e,...n){if(t=Xt(t),ok("collection","path",e),t instanceof mp){const r=Ve.fromString(e,...n);return nS(r),new fo(t,null,r)}{if(!(t instanceof ot||t instanceof fo))throw new Z(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return nS(r),new fo(t.firestore,null,r)}}function Ms(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=M_.newId()),ok("doc","path",e),t instanceof mp){const r=Ve.fromString(e,...n);return tS(r),new ot(t,null,new ne(r))}{if(!(t instanceof ot||t instanceof fo))throw new Z(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return tS(r),new ot(t.firestore,t instanceof fo?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="AsyncQueue";class WS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xk(this,"async_queue_retry"),this._c=()=>{const r=kg();r&&H(zS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new oi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!il(e))throw e;H(zS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",KS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=tw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ie(47125,{Pc:KS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function KS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class al extends mp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WS(e),this._firestoreClient=void 0,await e}}}function ez(t,e){const n=typeof t=="object"?t:cO(),r=typeof t=="string"?t:e||Uh,i=b_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=t3("firestore");o&&Z9(i,...o)}return i}function aw(t){if(t._terminated)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tz(t),t._firestoreClient}function tz(t){var r,i,o;const e=t._freezeSettings(),n=function(s,l,u,c){return new S5(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_R(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new G9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Nt.fromBase64String(e))}catch(n){throw new Z(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yc(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:it("string",qn._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(yc(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:it("string",Dr._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yc(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mr(e.vectorValues);throw new Z(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:it("string",Mr._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=/^__.*__$/;class rz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,n,this.fieldTransforms):new _c(e,this.data,n,this.fieldTransforms)}}class ER{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class sw{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bR(this.Ac)&&nz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hp(e)}Cc(e,n,r,i=!1){return new sw({Ac:e,methodName:n,Dc:r,path:Ct.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lw(t){const e=t._freezeSettings(),n=hp(t._databaseId);return new iz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TR(t,e,n,r,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);cw("Data must be an object, but it was:",a,r);const s=SR(r,a);let l,u;if(o.merge)l=new In(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=Py(e,h,n);if(!a.contains(d))throw new Z(F.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);AR(c,d)||c.push(d)}l=new In(c),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new rz(new cn(s),l,u)}class _p extends yp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _p}}class uw extends yp{_toFieldTransform(e){return new Q5(e.path,new qu)}isEqual(e){return e instanceof uw}}function oz(t,e,n,r){const i=t.Cc(1,e,n);cw("Data must be an object, but it was:",i,r);const o=[],a=cn.empty();xo(r,(l,u)=>{const c=fw(e,l,n);u=Xt(u);const h=i.yc(c);if(u instanceof _p)o.push(c);else{const d=wp(u,h);d!=null&&(o.push(c),a.set(c,d))}});const s=new In(o);return new ER(a,s,i.fieldTransforms)}function az(t,e,n,r,i,o){const a=t.Cc(1,e,n),s=[Py(e,r,n)],l=[i];if(o.length%2!=0)throw new Z(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(Py(e,o[d])),l.push(o[d+1]);const u=[],c=cn.empty();for(let d=s.length-1;d>=0;--d)if(!AR(u,s[d])){const p=s[d];let m=l[d];m=Xt(m);const y=a.yc(p);if(m instanceof _p)u.push(p);else{const _=wp(m,y);_!=null&&(u.push(p),c.set(p,_))}}const h=new In(u);return new ER(c,h,a.fieldTransforms)}function wp(t,e){if(PR(t=Xt(t)))return cw("Unsupported field value:",e,t),SR(t,e);if(t instanceof yp)return function(r,i){if(!bR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=wp(s,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=$e.fromDate(r);return{timestampValue:Hh(i.serializer,o)}}if(r instanceof $e){const o=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hh(i.serializer,o)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:Fk(i.serializer,r._byteString)};if(r instanceof ot){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:H_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mr)return function(a,s){return{mapValue:{fields:{[pk]:{stringValue:gk},[Bh]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return z_(s.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${L_(r)}`)}(t,e)}function SR(t,e){const n={};return lk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,(r,i)=>{const o=wp(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function PR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Dr||t instanceof qn||t instanceof ot||t instanceof yp||t instanceof Mr)}function cw(t,e,n){if(!PR(n)||!ak(n)){const r=L_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Py(t,e,n){if((e=Xt(e))instanceof vp)return e._internalPath;if(typeof e=="string")return fw(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const sz=new RegExp("[~\\*/\\[\\]]");function fw(t,e,n){if(e.search(sz)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vp(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Z(F.INVALID_ARGUMENT,s+t+l)}function AR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lz extends IR{data(){return super.data()}}function xR(t,e){return typeof e=="string"?fw(t,e):e instanceof vp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cz{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Bh].arrayValue)==null?void 0:i.values)==null?void 0:o.map(a=>Qe(a.doubleValue));return new Mr(n)}convertGeoPoint(e){return new Dr(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=op(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=yo(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Te(Hk(r),9688,{name:e});const i=new Ku(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends IR{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:it("string",ia._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class ih extends ia{data(e={}){return super.data(e)}}class vs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ih(this._firestore,this._userDataWriter,r.key,r,new Zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new ih(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Zl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new ih(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Zl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:fz(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=M_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){t=Vr(t,ot);const e=Vr(t.firestore,al);return X9(aw(e),t._key).then(n=>dz(e,t,n))}vs._jsonSchemaVersion="firestore/querySnapshot/1.0",vs._jsonSchema={type:it("string",vs._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class OR extends cz{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function kR(t){t=Vr(t,gp);const e=Vr(t.firestore,al),n=aw(e),r=new OR(e);return uz(t._query),J9(n,t._query).then(i=>new vs(e,r,t,i))}function RR(t,e,n){t=Vr(t,ot);const r=Vr(t.firestore,al),i=CR(t.converter,e,n);return hw(r,[TR(lw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yr.none())])}function hz(t,e,n,...r){t=Vr(t,ot);const i=Vr(t.firestore,al),o=lw(i);let a;return a=typeof(e=Xt(e))=="string"||e instanceof vp?az(o,"updateDoc",t._key,e,n,r):oz(o,"updateDoc",t._key,e),hw(i,[a.toMutation(t._key,yr.exists(!0))])}function NR(t,e){const n=Vr(t.firestore,al),r=Ms(t),i=CR(t.converter,e);return hw(n,[TR(lw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}function hw(t,e){return function(r,i){const o=new oi;return r.asyncQueue.enqueueAndForget(async()=>$9(await Q9(r),i,o)),o.promise}(aw(t),e)}function dz(t,e,n){const r=n.docs.get(e._key),i=new OR(t);return new ia(t,i,e._key,r,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}function DR(){return new uw("serverTimestamp")}(function(e,n=!0){(function(i){nl=i})(tl),Is(new ga("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new al(new o5(r.getProvider("auth-internal")),new l5(a,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(u.options.projectId,c)}(a,i),a);return o={useFetchStreams:n,...o},s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),lo(XT,JT,e),lo(XT,JT,"esm2020")})();const pz={apiKey:"AIzaSyAbswMvuB3kHMVZk2D9SeoQHBpmG9hZgwU",authDomain:"imagique-holding.firebaseapp.com",projectId:"imagique-holding",storageBucket:"imagique-holding.appspot.com",messagingSenderId:"62617776910",appId:"1:62617776910:web:5da1183e6e8444571a9d5f",measurementId:"G-TVSCD2N4V4"},MR=uO(pz),gi=ez(MR),oa=GU(MR),$o=({children:t})=>{const[e,n]=e5(oa);return n?M.createElement("p",null,"Chargement..."):e?t:M.createElement(JC,{to:"/login",replace:!0})},mz=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,o]=b.useState(null),[a,s]=b.useState("choose"),l=Js(),u=async()=>{window.recaptchaVerifier=new WO(oa,"recaptcha",{size:"invisible"});try{const m=await KO(oa,t,window.recaptchaVerifier);o(m),s("verifyOtp"),alert("📲 Code OTP envoyé")}catch(m){alert("Erreur envoi OTP : "+m.message)}},c=async()=>{try{const m=await i.confirm(n);await d(m.user,"client"),alert("✅ Connexion réussie"),await p(m.user.uid)}catch{alert("❌ OTP invalide")}},h=async()=>{const m=new xr;try{const y=await GO(oa,m);await d(y.user,"client"),alert("✅ Connexion Google réussie"),await p(y.user.uid)}catch(y){alert("Erreur Google : "+y.message)}},d=async(m,y)=>{const _=Ms(gi,"users",m.uid);(await Jh(_)).exists()||await RR(_,{uid:m.uid,nom:m.displayName||"",email:m.email||"",phone:m.phoneNumber||"",role:y,createdAt:new Date})},p=async m=>{const y=Ms(gi,"users",m),_=await Jh(y);if(_.exists()){const v=_.data().role;l(v==="admin"?"/dashboard":v==="agent"?"/commandes":"/suivi")}else alert("Utilisateur non trouvé.")};return M.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-tr from-indigo-700 via-purple-600 to-pink-500"},M.createElement("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md"},M.createElement("h2",{className:"text-xl font-bold mb-6 text-center text-gray-800"},"🔐 Connexion"),a==="choose"&&M.createElement(M.Fragment,null,M.createElement("button",{onClick:h,className:"w-full mb-4 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700"},"Se connecter avec Google"),M.createElement("hr",{className:"my-4"}),M.createElement("input",{type:"tel",placeholder:"+243...",value:t,onChange:m=>e(m.target.value),className:"input w-full mb-4 border rounded p-2"}),M.createElement("div",{id:"recaptcha"}),M.createElement("button",{onClick:u,className:"w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700"},"Recevoir un code OTP")),a==="verifyOtp"&&M.createElement(M.Fragment,null,M.createElement("input",{type:"text",placeholder:"Entrez le code OTP",value:n,onChange:m=>r(m.target.value),className:"input w-full mb-4 border rounded p-2"}),M.createElement("button",{onClick:c,className:"w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700"},"Valider le code"))))};var LR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HS=M.createContext&&M.createContext(LR),gz=["attr","size","title"];function vz(t,e){if(t==null)return{};var n=yz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function qS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(n),!0).forEach(function(r){_z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _z(t,e,n){return e=wz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wz(t){var e=Ez(t,"string");return typeof e=="symbol"?e:e+""}function Ez(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jR(t){return t&&t.map((e,n)=>M.createElement(e.tag,ed({key:n},e.attr),jR(e.child)))}function Tc(t){return e=>M.createElement(bz,Zh({attr:ed({},t.attr)},e),jR(t.child))}function bz(t){var e=n=>{var{attr:r,size:i,title:o}=t,a=vz(t,gz),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),M.createElement("svg",Zh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:ed(ed({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&M.createElement("title",null,o),t.children)};return HS!==void 0?M.createElement(HS.Consumer,null,n=>e(n)):e(LR)}function Tz(t){return Tc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Sz(t){return Tc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function Pz(t){return Tc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(t)}function Az(t){return Tc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function Iz(t){return Tc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const xz="/assets/logo-imagique-45070c9b.png",Cz=()=>{const t=Xs(),e=[{path:"/dashboard",label:"Tableau de bord",icon:M.createElement(Sz,null)},{path:"/commandes",label:"Commandes",icon:M.createElement(Tz,null)},{path:"/ajouter-commande",label:"Ajouter commande",icon:M.createElement(Az,null)},{path:"/clients",label:"Clients",icon:M.createElement(Iz,null)},{path:"/finances",label:"Finances",icon:M.createElement(Pz,null)}];return M.createElement("div",{className:"w-64 min-h-screen bg-[#12063F] text-white flex flex-col p-4 shadow-lg"},M.createElement("div",{className:"flex items-center gap-3 mb-10"},M.createElement("img",{src:xz,alt:"Logo",className:"h-10 w-10 object-contain"}),M.createElement("h1",{className:"text-xl font-bold text-white"},"IMAGIQUE")),M.createElement("nav",{className:"flex flex-col gap-2"},e.map(({path:n,label:r,icon:i})=>{const o=t.pathname===n;return M.createElement(ey,{key:n,to:n,className:`flex items-center gap-3 px-4 py-2 rounded transition ${o?"bg-white text-[#12063F] font-semibold":"hover:bg-white/20"}`},i,M.createElement("span",null,r))})))},Oz=()=>M.createElement("header",{className:"bg-white shadow px-6 py-4 flex justify-between items-center border-b border-pink-100"},M.createElement("div",{className:"flex items-center gap-4"},M.createElement("h1",{className:"text-2xl font-bold text-[#EC1E79]"},"IMAGIQUE HOLDING")),M.createElement("div",{className:"text-gray-600"},"Bienvenue 👋")),kz=[{title:"Commandes en cours",value:8},{title:"Commandes livrées",value:23},{title:"Revenus ce mois",value:"2 700 $"},{title:"Dépenses internes",value:"950 $"}],Rz=()=>M.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4"},kz.map((t,e)=>M.createElement("div",{key:e,className:"bg-white rounded-xl shadow-md p-4"},M.createElement("h3",{className:"text-gray-600 text-sm"},t.title),M.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-2"},t.value))));function VR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ae(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VR(t))&&(r&&(r+=" "),r+=e);return r}var Ep={},$R={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})($R);var dw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(dw);var pw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(pw);var bp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,a="",s="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const u=n[o];s?u==="\\"&&o+1<i?(o++,a+=n[o]):u===s?s="":a+=u:l?u==='"'||u==="'"?s=u:u==="]"?(l=!1,r.push(a),a=""):a+=u:u==="["?(l=!0,a&&(r.push(a),a="")):u==="."?a&&(r.push(a),a=""):a+=u,o++}return a&&r.push(a),r}t.toPath=e})(bp);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$R,n=dw,r=pw,i=bp;function o(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?n.isDeepKey(l)?o(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return a(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function a(s,l,u){if(l.length===0)return u;let c=s;for(let h=0;h<l.length;h++){if(c==null||e.isUnsafeProperty(l[h]))return u;c=c[l[h]]}return c===void 0?u:c}t.get=o})(Ep);var Nz=Ep.get;const wa=Wr(Nz);var FR={exports:{}},Re={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw=Symbol.for("react.transitional.element"),gw=Symbol.for("react.portal"),Tp=Symbol.for("react.fragment"),Sp=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),Ap=Symbol.for("react.consumer"),Ip=Symbol.for("react.context"),xp=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Op=Symbol.for("react.suspense_list"),kp=Symbol.for("react.memo"),Rp=Symbol.for("react.lazy"),Dz=Symbol.for("react.view_transition"),Mz=Symbol.for("react.client.reference");function tr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mw:switch(t=t.type,t){case Tp:case Pp:case Sp:case Cp:case Op:case Dz:return t;default:switch(t=t&&t.$$typeof,t){case Ip:case xp:case Rp:case kp:return t;case Ap:return t;default:return e}}case gw:return e}}}Re.ContextConsumer=Ap;Re.ContextProvider=Ip;Re.Element=mw;Re.ForwardRef=xp;Re.Fragment=Tp;Re.Lazy=Rp;Re.Memo=kp;Re.Portal=gw;Re.Profiler=Pp;Re.StrictMode=Sp;Re.Suspense=Cp;Re.SuspenseList=Op;Re.isContextConsumer=function(t){return tr(t)===Ap};Re.isContextProvider=function(t){return tr(t)===Ip};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mw};Re.isForwardRef=function(t){return tr(t)===xp};Re.isFragment=function(t){return tr(t)===Tp};Re.isLazy=function(t){return tr(t)===Rp};Re.isMemo=function(t){return tr(t)===kp};Re.isPortal=function(t){return tr(t)===gw};Re.isProfiler=function(t){return tr(t)===Pp};Re.isStrictMode=function(t){return tr(t)===Sp};Re.isSuspense=function(t){return tr(t)===Cp};Re.isSuspenseList=function(t){return tr(t)===Op};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Tp||t===Pp||t===Sp||t===Cp||t===Op||typeof t=="object"&&t!==null&&(t.$$typeof===Rp||t.$$typeof===kp||t.$$typeof===Ip||t.$$typeof===Ap||t.$$typeof===xp||t.$$typeof===Mz||t.getModuleId!==void 0)};Re.typeOf=tr;FR.exports=Re;var Lz=FR.exports,hn=t=>t===0?0:t>0?1:-1,kn=t=>typeof t=="number"&&t!=+t,Xo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,J=t=>(typeof t=="number"||t instanceof Number)&&!kn(t),Ur=t=>J(t)||typeof t=="string",jz=0,Ls=t=>{var e=++jz;return"".concat(t||"").concat(e)},wr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(e)&&typeof e!="string")return r;var o;if(Xo(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return kn(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},UR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},fr=(t,e)=>J(t)&&J(e)?n=>t+n*(e-t):()=>e;function BR(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):wa(r,e))===n)}var ke=t=>t===null||typeof t>"u",Sc=t=>ke(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Vz=["viewBox","children"],$z=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GS=["points","pathLength"],Ng={svg:Vz,polygon:GS,polyline:GS},vw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yw=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{vw.includes(i)&&(r[i]=e||(o=>n[i](n,o)))}),r},Fz=(t,e,n)=>r=>(t(e,n,r),null),Np=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];vw.includes(i)&&typeof o=="function"&&(r||(r={}),r[i]=Fz(o,e,n))}),r},YS=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",QS=null,Dg=null,zR=t=>{if(t===QS&&Array.isArray(Dg))return Dg;var e=[];return b.Children.forEach(t,n=>{ke(n)||(Lz.isFragment(n)?e=e.concat(zR(n.props.children)):e.push(n))}),Dg=e,QS=t,e};function _w(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>YS(i)):r=[YS(e)],zR(t).forEach(i=>{var o=wa(i,"type.displayName")||wa(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var WR=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Uz=(t,e,n,r)=>{var i,o=(i=r&&(Ng==null?void 0:Ng[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&o.includes(e)||$z.includes(e))||n&&vw.includes(e)},be=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var a;Uz((a=r)===null||a===void 0?void 0:a[o],o,e,n)&&(i[o]=r[o])}),i},Bz=["children","width","height","viewBox","className","style","title","desc"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ay.apply(null,arguments)}function zz(t,e){if(t==null)return{};var n,r,i=Wz(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ww=b.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:s,title:l,desc:u}=t,c=zz(t,Bz),h=o||{width:r,height:i,x:0,y:0},d=Ae("recharts-surface",a);return b.createElement("svg",Ay({},be(c,!0,"svg"),{className:d,width:r,height:i,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),b.createElement("title",null,l),b.createElement("desc",null,u),n)}),Kz=["children","className"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iy.apply(null,arguments)}function Hz(t,e){if(t==null)return{};var n,r,i=qz(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rn=b.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Hz(t,Kz),o=Ae("recharts-layer",r);return b.createElement("g",Iy({className:o},be(i,!0),{ref:e}),n)}),KR=b.createContext(null),Gz=()=>b.useContext(KR);function Ne(t){return function(){return t}}const HR=Math.cos,td=Math.sin,br=Math.sqrt,nd=Math.PI,Dp=2*nd,xy=Math.PI,Cy=2*xy,zo=1e-6,Yz=Cy-zo;function qR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Qz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qR;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Xz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qR:Qz(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,h=s-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>zo)if(!(Math.abs(h*l-u*c)>zo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,y=l*l+u*u,_=p*p+m*m,v=Math.sqrt(y),w=Math.sqrt(d),T=o*Math.tan((xy-Math.acos((y+d-_)/(2*v*w)))/2),x=T/w,O=T/v;Math.abs(x-1)>zo&&this._append`L${e+x*c},${n+x*h}`,this._append`A${o},${o},0,0,${+(h*p>c*m)},${this._x1=e+O*l},${this._y1=n+O*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,h=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>zo||Math.abs(this._y1-c)>zo)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%Cy+Cy),d>Yz?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:d>zo&&this._append`A${r},${r},0,${+(d>=xy)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ew(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Xz(e)}function bw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GR(t){this._context=t}GR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Mp(t){return new GR(t)}function YR(t){return t[0]}function QR(t){return t[1]}function XR(t,e){var n=Ne(!0),r=null,i=Mp,o=null,a=Ew(s);t=typeof t=="function"?t:t===void 0?YR:Ne(t),e=typeof e=="function"?e:e===void 0?QR:Ne(e);function s(l){var u,c=(l=bw(l)).length,h,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,u,l),+e(h,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ne(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ne(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ne(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Tf(t,e,n){var r=null,i=Ne(!0),o=null,a=Mp,s=null,l=Ew(u);t=typeof t=="function"?t:t===void 0?YR:Ne(+t),e=typeof e=="function"?e:Ne(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?QR:Ne(+n);function u(h){var d,p,m,y=(h=bw(h)).length,_,v=!1,w,T=new Array(y),x=new Array(y);for(o==null&&(s=a(w=l())),d=0;d<=y;++d){if(!(d<y&&i(_=h[d],d,h))===v)if(v=!v)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(T[m],x[m]);s.lineEnd(),s.areaEnd()}v&&(T[d]=+t(_,d,h),x[d]=+e(_,d,h),s.point(r?+r(_,d,h):T[d],n?+n(_,d,h):x[d]))}if(w)return s=null,w+""||null}function c(){return XR().defined(i).curve(a).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ne(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ne(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ne(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ne(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ne(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ne(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ne(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),u):a},u.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),u):o},u}class JR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Jz(t){return new JR(t,!0)}function Zz(t){return new JR(t,!1)}const Tw={draw(t,e){const n=br(e/nd);t.moveTo(n,0),t.arc(0,0,n,0,Dp)}},e8={draw(t,e){const n=br(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ZR=br(1/3),t8=ZR*2,n8={draw(t,e){const n=br(e/t8),r=n*ZR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},r8={draw(t,e){const n=br(e),r=-n/2;t.rect(r,r,n,n)}},i8=.8908130915292852,e2=td(nd/10)/td(7*nd/10),o8=td(Dp/10)*e2,a8=-HR(Dp/10)*e2,s8={draw(t,e){const n=br(e*i8),r=o8*n,i=a8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Dp*o/5,s=HR(a),l=td(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Mg=br(3),l8={draw(t,e){const n=-br(e/(Mg*3));t.moveTo(0,n*2),t.lineTo(-Mg*n,-n),t.lineTo(Mg*n,-n),t.closePath()}},$n=-.5,Fn=br(3)/2,Oy=1/br(12),u8=(Oy/2+1)*3,c8={draw(t,e){const n=br(e/u8),r=n/2,i=n*Oy,o=r,a=n*Oy+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo($n*r-Fn*i,Fn*r+$n*i),t.lineTo($n*o-Fn*a,Fn*o+$n*a),t.lineTo($n*s-Fn*l,Fn*s+$n*l),t.lineTo($n*r+Fn*i,$n*i-Fn*r),t.lineTo($n*o+Fn*a,$n*a-Fn*o),t.lineTo($n*s+Fn*l,$n*l-Fn*s),t.closePath()}};function f8(t,e){let n=null,r=Ew(i);t=typeof t=="function"?t:Ne(t||Tw),e=typeof e=="function"?e:Ne(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ne(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ne(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function rd(){}function id(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function t2(t){this._context=t}t2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:id(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:id(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function h8(t){return new t2(t)}function n2(t){this._context=t}n2.prototype={areaStart:rd,areaEnd:rd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:id(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d8(t){return new n2(t)}function r2(t){this._context=t}r2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:id(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function p8(t){return new r2(t)}function i2(t){this._context=t}i2.prototype={areaStart:rd,areaEnd:rd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function m8(t){return new i2(t)}function XS(t){return t<0?-1:1}function JS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(XS(o)+XS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function ZS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Lg(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function od(t){this._context=t}od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lg(this,this._t0,ZS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Lg(this,ZS(this,n=JS(this,t,e)),n);break;default:Lg(this,this._t0,n=JS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function o2(t){this._context=new a2(t)}(o2.prototype=Object.create(od.prototype)).point=function(t,e){od.prototype.point.call(this,e,t)};function a2(t){this._context=t}a2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function g8(t){return new od(t)}function v8(t){return new o2(t)}function s2(t){this._context=t}s2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=eP(t),i=eP(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function eP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function y8(t){return new s2(t)}function Lp(t,e){this._context=t,this._t=e}Lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _8(t){return new Lp(t,.5)}function w8(t){return new Lp(t,0)}function E8(t){return new Lp(t,1)}function js(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ky(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function b8(t,e){return t[e]}function T8(t){const e=[];return e.key=t,e}function S8(){var t=Ne([]),e=ky,n=js,r=b8;function i(o){var a=Array.from(t.apply(this,arguments),T8),s,l=a.length,u=-1,c;for(const h of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(h,a[s].key,u,o)]).data=h;for(s=0,c=bw(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ne(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ne(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?ky:typeof o=="function"?o:Ne(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??js,i):n},i}function P8(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}js(t,e)}}function A8(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}js(t,e)}}function I8(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],h=c[r][1]||0,d=c[r-1][1]||0,p=(h-d)/2,m=0;m<s;++m){var y=t[e[m]],_=y[r][1]||0,v=y[r-1][1]||0;p+=_-v}l+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,js(t,e)}}var x8=["type","size","sizeType"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(null,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){C8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C8(t,e,n){return(e=O8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O8(t){var e=k8(t,"string");return typeof e=="symbol"?e:e+""}function k8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R8(t,e){if(t==null)return{};var n,r,i=N8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var l2={symbolCircle:Tw,symbolCross:e8,symbolDiamond:n8,symbolSquare:r8,symbolStar:s8,symbolTriangle:l8,symbolWye:c8},D8=Math.PI/180,M8=t=>{var e="symbol".concat(Sc(t));return l2[e]||Tw},L8=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*D8;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},j8=(t,e)=>{l2["symbol".concat(Sc(t))]=e},Sw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=R8(t,x8),o=nP(nP({},i),{},{type:e,size:n,sizeType:r}),a=()=>{var h=M8(e),d=f8().type(h).size(L8(n,r,e));return d()},{className:s,cx:l,cy:u}=o,c=be(o,!0);return l===+l&&u===+u&&n===+n?b.createElement("path",Ry({},c,{className:Ae("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(u,")"),d:a()})):null};Sw.registerSymbol=j8;function Ny(){return Ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(null,arguments)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){Pw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pw(t,e,n){return(e=$8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $8(t){var e=F8(t,"string");return typeof e=="symbol"?e:e+""}function F8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Un=32;class Aw extends b.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Un/2,o=Un/6,a=Un/3,s=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Un,y2:i,className:"recharts-legend-icon"});if(l==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Un,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return b.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Un/8,"h").concat(Un,"v").concat(Un*3/4,"h").concat(-Un,"z"),className:"recharts-legend-icon"});if(b.isValidElement(e.legendIcon)){var u=V8({},e);return delete u.legendIcon,b.cloneElement(e.legendIcon,u)}return b.createElement(Sw,{fill:s,cx:i,cy:i,size:Un,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=this.props,s={x:0,y:0,width:Un,height:Un},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((c,h)=>{var d=c.formatter||i,p=Ae({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:c.inactive});if(c.type==="none")return null;var m=c.inactive?o:c.color,y=d?d(c.value,c,h):c.value;return b.createElement("li",Ny({className:p,style:l,key:"legend-item-".concat(h)},Np(this.props,c,h)),b.createElement(ww,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(y," legend icon")},this.renderIcon(c,a)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},y))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Pw(Aw,"displayName","Legend");Pw(Aw,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var u2={},c2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],s=r(a);i.has(s)||i.set(s,a)}return Array.from(i.values())}t.uniqBy=e})(c2);var Iw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Iw);var f2={},jp={},h2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(h2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h2;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(jp);var d2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(d2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jp,n=d2;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(f2);var p2={},m2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ep;function n(r){return function(i){return e.get(i,r)}}t.property=n})(m2);var g2={},jg={},Vg={},xw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(xw);var Cw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Cw);var Vp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Vp);var iP;function U8(){return iP||(iP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ow(),n=xw,r=Cw,i=Vp;function o(h,d,p){return typeof p!="function"?e.isMatch(h,d):a(h,d,function m(y,_,v,w,T,x){const O=p(y,_,v,w,T,x);return O!==void 0?!!O:a(y,_,m,x)},new Map)}function a(h,d,p,m){if(d===h)return!0;switch(typeof d){case"object":return s(h,d,p,m);case"function":return Object.keys(d).length>0?a(h,{...d},p,m):i.eq(h,d);default:return n.isObject(h)?typeof d=="string"?d==="":!0:i.eq(h,d)}}function s(h,d,p,m){if(d==null)return!0;if(Array.isArray(d))return u(h,d,p,m);if(d instanceof Map)return l(h,d,p,m);if(d instanceof Set)return c(h,d,p,m);const y=Object.keys(d);if(h==null)return y.length===0;if(y.length===0)return!0;if(m&&m.has(d))return m.get(d)===h;m&&m.set(d,h);try{for(let _=0;_<y.length;_++){const v=y[_];if(!r.isPrimitive(h)&&!(v in h)||d[v]===void 0&&h[v]!==void 0||d[v]===null&&h[v]!==null||!p(h[v],d[v],v,h,d,m))return!1}return!0}finally{m&&m.delete(d)}}function l(h,d,p,m){if(d.size===0)return!0;if(!(h instanceof Map))return!1;for(const[y,_]of d.entries()){const v=h.get(y);if(p(v,_,y,h,d,m)===!1)return!1}return!0}function u(h,d,p,m){if(d.length===0)return!0;if(!Array.isArray(h))return!1;const y=new Set;for(let _=0;_<d.length;_++){const v=d[_];let w=!1;for(let T=0;T<h.length;T++){if(y.has(T))continue;const x=h[T];let O=!1;if(p(x,v,_,h,d,m)&&(O=!0),O){y.add(T),w=!0;break}}if(!w)return!1}return!0}function c(h,d,p,m){return d.size===0?!0:h instanceof Set?u([...h],[...d],p,m):!1}t.isMatchWith=o,t.isSetMatch=c}(Vg)),Vg}var oP;function Ow(){return oP||(oP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U8();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(jg)),jg}var v2={},kw={},Rw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Rw);var $p={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})($p);var Fp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",h="[object Function]",d="[object ArrayBuffer]",p="[object Object]",m="[object Error]",y="[object DataView]",_="[object Uint8Array]",v="[object Uint8ClampedArray]",w="[object Uint16Array]",T="[object Uint32Array]",x="[object BigUint64Array]",O="[object Int8Array]",D="[object Int16Array]",P="[object Int32Array]",S="[object BigInt64Array]",I="[object Float32Array]",C="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=d,t.arrayTag=c,t.bigInt64ArrayTag=S,t.bigUint64ArrayTag=x,t.booleanTag=i,t.dataViewTag=y,t.dateTag=s,t.errorTag=m,t.float32ArrayTag=I,t.float64ArrayTag=C,t.functionTag=h,t.int16ArrayTag=D,t.int32ArrayTag=P,t.int8ArrayTag=O,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=T,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=v})(Fp);var y2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(y2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rw,n=$p,r=Fp,i=Cw,o=y2;function a(c,h){return s(c,void 0,c,new Map,h)}function s(c,h,d,p=new Map,m=void 0){const y=m==null?void 0:m(c,h,d,p);if(y!=null)return y;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const _=new Array(c.length);p.set(c,_);for(let v=0;v<c.length;v++)_[v]=s(c[v],v,d,p,m);return Object.hasOwn(c,"index")&&(_.index=c.index),Object.hasOwn(c,"input")&&(_.input=c.input),_}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const _=new RegExp(c.source,c.flags);return _.lastIndex=c.lastIndex,_}if(c instanceof Map){const _=new Map;p.set(c,_);for(const[v,w]of c)_.set(v,s(w,v,d,p,m));return _}if(c instanceof Set){const _=new Set;p.set(c,_);for(const v of c)_.add(s(v,void 0,d,p,m));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const _=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,_);for(let v=0;v<c.length;v++)_[v]=s(c[v],v,d,p,m);return _}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const _=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,_),l(_,c,d,p,m),_}if(typeof File<"u"&&c instanceof File){const _=new File([c],c.name,{type:c.type});return p.set(c,_),l(_,c,d,p,m),_}if(c instanceof Blob){const _=new Blob([c],{type:c.type});return p.set(c,_),l(_,c,d,p,m),_}if(c instanceof Error){const _=new c.constructor;return p.set(c,_),_.message=c.message,_.name=c.name,_.stack=c.stack,_.cause=c.cause,l(_,c,d,p,m),_}if(typeof c=="object"&&u(c)){const _=Object.create(Object.getPrototypeOf(c));return p.set(c,_),l(_,c,d,p,m),_}return c}function l(c,h,d=c,p,m){const y=[...Object.keys(h),...e.getSymbols(h)];for(let _=0;_<y.length;_++){const v=y[_],w=Object.getOwnPropertyDescriptor(c,v);(w==null||w.writable)&&(c[v]=s(h[v],v,d,p,m))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=s,t.copyProperties=l})(kw);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kw;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(v2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ow(),n=v2;function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(g2);var _2={},w2={},E2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kw,n=Fp;function r(i,o){return e.cloneDeepWith(i,(a,s,l,u)=>{const c=o==null?void 0:o(a,s,l,u);if(c!=null)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(E2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E2;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(w2);var b2={},Nw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Nw);var T2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$p;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(T2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dw,n=Nw,r=T2,i=bp;function o(a,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&e.isDeepKey(s)&&(a==null?void 0:a[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=a;for(let c=0;c<l.length;c++){const h=l[c];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}t.has=o})(b2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ow(),n=pw,r=w2,i=Ep,o=b2;function a(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?o.has(u,s):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=a})(_2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iw,n=m2,r=g2,i=_2;function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(p2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c2,n=Iw,r=f2,i=p2;function o(a,s=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(s)):[]}t.uniqBy=o})(u2);var B8=u2.uniqBy;const aP=Wr(B8);function S2(t,e,n){return e===!0?aP(t,n):typeof e=="function"?aP(t,e):t}var P2={exports:{}},A2={},I2={exports:{}},x2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vs=b;function z8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var W8=typeof Object.is=="function"?Object.is:z8,K8=Vs.useState,H8=Vs.useEffect,q8=Vs.useLayoutEffect,G8=Vs.useDebugValue;function Y8(t,e){var n=e(),r=K8({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return q8(function(){i.value=n,i.getSnapshot=e,$g(i)&&o({inst:i})},[t,n,e]),H8(function(){return $g(i)&&o({inst:i}),t(function(){$g(i)&&o({inst:i})})},[t]),G8(n),n}function $g(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!W8(t,n)}catch{return!0}}function Q8(t,e){return e()}var X8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Q8:Y8;x2.useSyncExternalStore=Vs.useSyncExternalStore!==void 0?Vs.useSyncExternalStore:X8;I2.exports=x2;var J8=I2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up=b,Z8=J8;function e7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var t7=typeof Object.is=="function"?Object.is:e7,n7=Z8.useSyncExternalStore,r7=Up.useRef,i7=Up.useEffect,o7=Up.useMemo,a7=Up.useDebugValue;A2.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=r7(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=o7(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var m=a.value;if(i(m,p))return h=m}return h=p}if(m=h,t7(c,p))return m;var y=r(p);return i!==void 0&&i(m,y)?(c=p,m):(c=p,h=y)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var s=n7(t,o[0],o[1]);return i7(function(){a.hasValue=!0,a.value=s},[s]),a7(s),s};P2.exports=A2;var s7=P2.exports,Dw=b.createContext(null),l7=t=>t,Ze=()=>{var t=b.useContext(Dw);return t?t.store.dispatch:l7},oh=()=>{},u7=()=>oh,c7=(t,e)=>t===e;function ee(t){var e=b.useContext(Dw);return s7.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:u7,e?e.store.getState:oh,e?e.store.getState:oh,e?t:oh,c7)}function f7(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function h7(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function d7(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var sP=t=>Array.isArray(t)?t:[t];function p7(t){const e=Array.isArray(t[0])?t[0]:t;return d7(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function m7(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var g7=class{constructor(t){this.value=t}deref(){return this.value}},v7=typeof WeakRef<"u"?WeakRef:g7,y7=0,lP=1;function Sf(){return{s:y7,v:void 0,o:null,p:null}}function C2(t,e={}){let n=Sf();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var h;let s=n;const{length:l}=arguments;for(let d=0,p=l;d<p;d++){const m=arguments[d];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=s.o;y===null&&(s.o=y=new WeakMap);const _=y.get(m);_===void 0?(s=Sf(),y.set(m,s)):s=_}else{let y=s.p;y===null&&(s.p=y=new Map);const _=y.get(m);_===void 0?(s=Sf(),y.set(m,s)):s=_}}const u=s;let c;if(s.s===lP)c=s.v;else if(c=t.apply(null,arguments),o++,r){const d=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;d!=null&&r(d,c)&&(c=d,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new v7(c):c}return u.s=lP,u.v=c,c}return a.clearCache=()=>{n=Sf(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function _7(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),f7(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:h,memoizeOptions:d=[],argsMemoize:p=C2,argsMemoizeOptions:m=[],devModeChecks:y={}}=c,_=sP(d),v=sP(m),w=p7(i),T=h(function(){return o++,u.apply(null,arguments)},..._),x=p(function(){a++;const D=m7(w,arguments);return s=T.apply(null,D),s},...v);return Object.assign(x,{resultFunc:u,memoizedResultFunc:T,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:h,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var V=_7(C2),w7=Object.assign((t,e=V)=>{h7(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,s,l)=>(a[n[l]]=s,a),{}))},{withTypes:()=>w7}),O2={},k2={},R2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),s=e(i);if(a===s&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?s-a:a-s}return 0};t.compareValues=n})(R2);var N2={},Mw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Mw);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mw,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(N2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R2,n=N2,r=bp;function i(o,a,s,l){if(o==null)return[];s=l?void 0:s,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,m)=>{let y=p;for(let _=0;_<m.length&&y!=null;++_)y=y[m[_]];return y},c=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,h=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:h.map(m=>c(m,p))})).slice().sort((p,m)=>{for(let y=0;y<h.length;y++){const _=e.compareValues(p.criteria[y],m.criteria[y],s[y]);if(_!==0)return _}return 0}).map(p=>p.original)}t.orderBy=i})(k2);var D2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<o?a(c,l+1):i.push(c)}};return a(n,0),i}t.flatten=e})(D2);var Lw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nw,n=jp,r=xw,i=Vp;function o(a,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&e.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],a):!1}t.isIterateeCall=o})(Lw);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k2,n=D2,r=Lw;function i(o,...a){const s=a.length;return s>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:s>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(O2);var E7=O2.sortBy;const Bp=Wr(E7);var M2=t=>t.legend.settings,b7=t=>t.legend.size,T7=t=>t.legend.payload,S7=V([T7,M2],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Bp(r,n):r});function P7(){return ee(S7)}var Pf=1;function L2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>Pf||Math.abs(a.left-e.left)>Pf||Math.abs(a.top-e.top)>Pf||Math.abs(a.width-e.width)>Pf)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Pt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var A7=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),uP=A7,Fg=()=>Math.random().toString(36).substring(7).split("").join("."),I7={INIT:`@@redux/INIT${Fg()}`,REPLACE:`@@redux/REPLACE${Fg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Fg()}`},ad=I7;function jw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function j2(t,e,n){if(typeof t!="function")throw new Error(Pt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pt(1));return n(j2)(t,e)}let r=t,i=e,o=new Map,a=o,s=0,l=!1;function u(){a===o&&(a=new Map,o.forEach((_,v)=>{a.set(v,_)}))}function c(){if(l)throw new Error(Pt(3));return i}function h(_){if(typeof _!="function")throw new Error(Pt(4));if(l)throw new Error(Pt(5));let v=!0;u();const w=s++;return a.set(w,_),function(){if(v){if(l)throw new Error(Pt(6));v=!1,u(),a.delete(w),o=null}}}function d(_){if(!jw(_))throw new Error(Pt(7));if(typeof _.type>"u")throw new Error(Pt(8));if(typeof _.type!="string")throw new Error(Pt(17));if(l)throw new Error(Pt(9));try{l=!0,i=r(i,_)}finally{l=!1}return(o=a).forEach(w=>{w()}),_}function p(_){if(typeof _!="function")throw new Error(Pt(10));r=_,d({type:ad.REPLACE})}function m(){const _=h;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Pt(11));function w(){const x=v;x.next&&x.next(c())}return w(),{unsubscribe:_(w)}},[uP](){return this}}}return d({type:ad.INIT}),{dispatch:d,subscribe:h,getState:c,replaceReducer:p,[uP]:m}}function x7(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ad.INIT})>"u")throw new Error(Pt(12));if(typeof n(void 0,{type:ad.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function V2(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{x7(n)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const h=r[c],d=n[h],p=a[h],m=d(p,s);if(typeof m>"u")throw s&&s.type,new Error(Pt(14));u[h]=m,l=l||m!==p}return l=l||r.length!==Object.keys(a).length,l?u:a}}function sd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function C7(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Pt(15))};const a={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},s=t.map(l=>l(a));return o=sd(...s)(i.dispatch),{...i,dispatch:o}}}function $2(t){return jw(t)&&"type"in t&&typeof t.type=="string"}var F2=Symbol.for("immer-nothing"),cP=Symbol.for("immer-draftable"),Nn=Symbol.for("immer-state");function dr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var $s=Object.getPrototypeOf;function Ea(t){return!!t&&!!t[Nn]}function vi(t){var e;return t?U2(t)||Array.isArray(t)||!!t[cP]||!!((e=t.constructor)!=null&&e[cP])||Wp(t)||Kp(t):!1}var O7=Object.prototype.constructor.toString();function U2(t){if(!t||typeof t!="object")return!1;const e=$s(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===O7}function ld(t,e){zp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function zp(t){const e=t[Nn];return e?e.type_:Array.isArray(t)?1:Wp(t)?2:Kp(t)?3:0}function Dy(t,e){return zp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function B2(t,e,n){const r=zp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function k7(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Wp(t){return t instanceof Map}function Kp(t){return t instanceof Set}function Wo(t){return t.copy_||t.base_}function My(t,e){if(Wp(t))return new Map(t);if(Kp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=U2(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Nn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[a]})}return Object.create($s(t),r)}else{const r=$s(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Vw(t,e=!1){return Hp(t)||Ea(t)||!vi(t)||(zp(t)>1&&(t.set=t.add=t.clear=t.delete=R7),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Vw(r,!0))),t}function R7(){dr(2)}function Hp(t){return Object.isFrozen(t)}var N7={};function ba(t){const e=N7[t];return e||dr(0,t),e}var Qu;function z2(){return Qu}function D7(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fP(t,e){e&&(ba("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ly(t){jy(t),t.drafts_.forEach(M7),t.drafts_=null}function jy(t){t===Qu&&(Qu=t.parent_)}function hP(t){return Qu=D7(Qu,t)}function M7(t){const e=t[Nn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function dP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Nn].modified_&&(Ly(e),dr(4)),vi(t)&&(t=ud(e,t),e.parent_||cd(e,t)),e.patches_&&ba("Patches").generateReplacementPatches_(n[Nn].base_,t,e.patches_,e.inversePatches_)):t=ud(e,n,[]),Ly(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==F2?t:void 0}function ud(t,e,n){if(Hp(e))return e;const r=e[Nn];if(!r)return ld(e,(i,o)=>pP(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return cd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,a=!1;r.type_===3&&(o=new Set(i),i.clear(),a=!0),ld(o,(s,l)=>pP(t,r,i,s,l,n,a)),cd(t,i,!1),n&&t.patches_&&ba("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function pP(t,e,n,r,i,o,a){if(Ea(i)){const s=o&&e&&e.type_!==3&&!Dy(e.assigned_,r)?o.concat(r):void 0,l=ud(t,i,s);if(B2(n,r,l),Ea(l))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(vi(i)&&!Hp(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ud(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&cd(t,i)}}function cd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Vw(e,n)}function L7(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:z2(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=$w;n&&(i=[r],o=Xu);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var $w={get(t,e){if(e===Nn)return t;const n=Wo(t);if(!Dy(n,e))return j7(t,n,e);const r=n[e];return t.finalized_||!vi(r)?r:r===Ug(t.base_,e)?(Bg(t),t.copy_[e]=$y(r,t)):r},has(t,e){return e in Wo(t)},ownKeys(t){return Reflect.ownKeys(Wo(t))},set(t,e,n){const r=W2(Wo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ug(Wo(t),e),o=i==null?void 0:i[Nn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(k7(n,i)&&(n!==void 0||Dy(t.base_,e)))return!0;Bg(t),Vy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ug(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Bg(t),Vy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Wo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){dr(11)},getPrototypeOf(t){return $s(t.base_)},setPrototypeOf(){dr(12)}},Xu={};ld($w,(t,e)=>{Xu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xu.deleteProperty=function(t,e){return Xu.set.call(this,t,e,void 0)};Xu.set=function(t,e,n){return $w.set.call(this,t[0],e,n,t[0])};function Ug(t,e){const n=t[Nn];return(n?Wo(n):t)[e]}function j7(t,e,n){var i;const r=W2(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function W2(t,e){if(!(e in t))return;let n=$s(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=$s(n)}}function Vy(t){t.modified_||(t.modified_=!0,t.parent_&&Vy(t.parent_))}function Bg(t){t.copy_||(t.copy_=My(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var V7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(l=o,...u){return a.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&dr(6),r!==void 0&&typeof r!="function"&&dr(7);let i;if(vi(e)){const o=hP(this),a=$y(e,void 0);let s=!0;try{i=n(a),s=!1}finally{s?Ly(o):jy(o)}return fP(o,r),dP(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===F2&&(i=void 0),this.autoFreeze_&&Vw(i,!0),r){const o=[],a=[];ba("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else dr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...s)=>this.produceWithPatches(a,l=>e(l,...s));let r,i;return[this.produce(e,n,(a,s)=>{r=a,i=s}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){vi(t)||dr(8),Ea(t)&&(t=ai(t));const e=hP(this),n=$y(t,void 0);return n[Nn].isManual_=!0,jy(e),n}finishDraft(t,e){const n=t&&t[Nn];(!n||!n.isManual_)&&dr(9);const{scope_:r}=n;return fP(r,e),dP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ba("Patches").applyPatches_;return Ea(t)?r(t,e):this.produce(t,i=>r(i,e))}};function $y(t,e){const n=Wp(t)?ba("MapSet").proxyMap_(t,e):Kp(t)?ba("MapSet").proxySet_(t,e):L7(t,e);return(e?e.scope_:z2()).drafts_.push(n),n}function ai(t){return Ea(t)||dr(10,t),K2(t)}function K2(t){if(!vi(t)||Hp(t))return t;const e=t[Nn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=My(t,e.scope_.immer_.useStrictShallowCopy_)}else n=My(t,!0);return ld(n,(r,i)=>{B2(n,r,K2(i))}),e&&(e.finalized_=!1),n}var Dn=new V7,H2=Dn.produce;Dn.produceWithPatches.bind(Dn);Dn.setAutoFreeze.bind(Dn);Dn.setUseStrictShallowCopy.bind(Dn);Dn.applyPatches.bind(Dn);Dn.createDraft.bind(Dn);Dn.finishDraft.bind(Dn);function q2(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var $7=q2(),F7=q2,U7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sd:sd.apply(null,arguments)};function Zn(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Cn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>$2(r)&&r.type===t,n}var G2=class eu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,eu.prototype)}static get[Symbol.species](){return eu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new eu(...e[0].concat(this)):new eu(...e.concat(this))}};function mP(t){return vi(t)?H2(t,()=>{}):t}function Af(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function B7(t){return typeof t=="boolean"}var z7=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new G2;return n&&(B7(n)?a.push($7):a.push(F7(n.extraArgument))),a},W7="RTK_autoBatch",gP=t=>e=>{setTimeout(e,t)},K7=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gP(10):t.type==="callback"?t.queueNotification:gP(t.timeout),u=()=>{a=!1,o&&(o=!1,s.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const h=()=>i&&c(),d=r.subscribe(h);return s.add(c),()=>{d(),s.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[W7]),o=!i,o&&(a||(a=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},H7=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new G2(t);return r&&i.push(K7(typeof r=="object"?r:void 0)),i};function q7(t){const e=z7(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(jw(n))l=V2(n);else throw new Error(Cn(1));let u;typeof r=="function"?u=r(e):u=e();let c=sd;i&&(c=U7({trace:!1,...typeof i=="object"&&i}));const h=C7(...u),d=H7(h);let p=typeof s=="function"?s(d):d();const m=c(...p);return j2(l,a,m)}function Y2(t){const e={},n=[];let r;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(Cn(28));if(s in e)throw new Error(Cn(29));return e[s]=a,i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function G7(t){return typeof t=="function"}function Y7(t,e){let[n,r,i]=Y2(e),o;if(G7(t))o=()=>mP(t());else{const s=mP(t);o=()=>s}function a(s=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(Ea(c)){const p=h(c,l);return p===void 0?c:p}else{if(vi(c))return H2(c,d=>h(d,l));{const d=h(c,l);if(d===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return c},s)}return a.getInitialState=o,a}var Q7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",X7=(t=21)=>{let e="",n=t;for(;n--;)e+=Q7[Math.random()*64|0];return e},J7=Symbol.for("rtk-slice-createasyncthunk");function Z7(t,e){return`${t}/${e}`}function eW({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[J7];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Cn(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(nW()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(x,O){const D=typeof x=="string"?x:x.type;if(!D)throw new Error(Cn(12));if(D in u.sliceCaseReducersByType)throw new Error(Cn(13));return u.sliceCaseReducersByType[D]=O,c},addMatcher(x,O){return u.sliceMatchers.push({matcher:x,reducer:O}),c},exposeAction(x,O){return u.actionCreators[x]=O,c},exposeCaseReducer(x,O){return u.sliceCaseReducersByName[x]=O,c}};l.forEach(x=>{const O=s[x],D={reducerName:x,type:Z7(o,x),createNotation:typeof i.reducers=="function"};iW(O)?aW(D,O,c,e):rW(D,O,c)});function h(){const[x={},O=[],D=void 0]=typeof i.extraReducers=="function"?Y2(i.extraReducers):[i.extraReducers],P={...x,...u.sliceCaseReducersByType};return Y7(i.initialState,S=>{for(let I in P)S.addCase(I,P[I]);for(let I of u.sliceMatchers)S.addMatcher(I.matcher,I.reducer);for(let I of O)S.addMatcher(I.matcher,I.reducer);D&&S.addDefaultCase(D)})}const d=x=>x,p=new Map,m=new WeakMap;let y;function _(x,O){return y||(y=h()),y(x,O)}function v(){return y||(y=h()),y.getInitialState()}function w(x,O=!1){function D(S){let I=S[x];return typeof I>"u"&&O&&(I=Af(m,D,v)),I}function P(S=d){const I=Af(p,O,()=>new WeakMap);return Af(I,S,()=>{const C={};for(const[R,N]of Object.entries(i.selectors??{}))C[R]=tW(N,S,()=>Af(m,S,v),O);return C})}return{reducerPath:x,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const T={name:o,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...w(a),injectInto(x,{reducerPath:O,...D}={}){const P=O??a;return x.inject({reducerPath:P,reducer:_},D),{...T,...w(P,!0)}}};return T}}function tW(t,e,n,r){function i(o,...a){let s=e(o);return typeof s>"u"&&r&&(s=n()),t(s,...a)}return i.unwrapped=t,i}var nr=eW();function nW(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function rW({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!oW(r))throw new Error(Cn(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?Zn(t,a):Zn(t))}function iW(t){return t._reducerDefinitionType==="asyncThunk"}function oW(t){return t._reducerDefinitionType==="reducerWithPrepare"}function aW({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Cn(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=n,h=i(t,o,c);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),s&&r.addCase(h.pending,s),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:a||If,pending:s||If,rejected:l||If,settled:u||If})}function If(){}var sW="task",Q2="listener",X2="completed",Fw="cancelled",lW=`task-${Fw}`,uW=`task-${X2}`,Fy=`${Q2}-${Fw}`,cW=`${Q2}-${X2}`,qp=class{constructor(t){Wm(this,"name","TaskAbortError");Wm(this,"message");this.code=t,this.message=`${sW} ${Fw} (reason: ${t})`}},Uw=(t,e)=>{if(typeof t!="function")throw new TypeError(Cn(32))},fd=()=>{},J2=(t,e=fd)=>(t.catch(e),t),Z2=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),aa=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},sa=t=>{if(t.aborted){const{reason:e}=t;throw new qp(e)}};function eN(t,e){let n=fd;return new Promise((r,i)=>{const o=()=>i(new qp(t.reason));if(t.aborted){o();return}n=Z2(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=fd})}var fW=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof qp?"cancelled":"rejected",error:n}}finally{e==null||e()}},hd=t=>e=>J2(eN(t,e).then(n=>(sa(t),n))),tN=t=>{const e=hd(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ys}=Object,vP={},Gp="listenerMiddleware",hW=(t,e)=>{const n=r=>Z2(t,()=>aa(r,t.reason));return(r,i)=>{Uw(r);const o=new AbortController;n(o);const a=fW(async()=>{sa(t),sa(o.signal);const s=await r({pause:hd(o.signal),delay:tN(o.signal),signal:o.signal});return sa(o.signal),s},()=>aa(o,uW));return i!=null&&i.autoJoin&&e.push(a.catch(fd)),{result:hd(t)(a),cancel(){aa(o,lW)}}}},dW=(t,e)=>{const n=async(r,i)=>{sa(e);let o=()=>{};const s=[new Promise((l,u)=>{let c=t({predicate:r,effect:(h,d)=>{d.unsubscribe(),l([h,d.getState(),d.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await eN(e,Promise.race(s));return sa(e),l}finally{o()}};return(r,i)=>J2(n(r,i))},nN=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Zn(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Cn(21));return Uw(o),{predicate:i,type:e,effect:o}},rN=ys(t=>{const{type:e,predicate:n,effect:r}=nN(t);return{id:X7(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Cn(22))}}},{withTypes:()=>rN}),yP=(t,e)=>{const{type:n,effect:r,predicate:i}=nN(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Uy=t=>{t.pending.forEach(e=>{aa(e,Fy)})},pW=t=>()=>{t.forEach(Uy),t.clear()},_P=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},iN=ys(Zn(`${Gp}/add`),{withTypes:()=>iN}),mW=Zn(`${Gp}/removeAll`),oN=ys(Zn(`${Gp}/remove`),{withTypes:()=>oN}),gW=(...t)=>{console.error(`${Gp}/error`,...t)},Pc=(t={})=>{const e=new Map,{extra:n,onError:r=gW}=t;Uw(r);const i=c=>(c.unsubscribe=()=>e.delete(c.id),e.set(c.id,c),h=>{c.unsubscribe(),h!=null&&h.cancelActive&&Uy(c)}),o=c=>{const h=yP(e,c)??rN(c);return i(h)};ys(o,{withTypes:()=>o});const a=c=>{const h=yP(e,c);return h&&(h.unsubscribe(),c.cancelActive&&Uy(h)),!!h};ys(a,{withTypes:()=>a});const s=async(c,h,d,p)=>{const m=new AbortController,y=dW(o,m.signal),_=[];try{c.pending.add(m),await Promise.resolve(c.effect(h,ys({},d,{getOriginalState:p,condition:(v,w)=>y(v,w).then(Boolean),take:y,delay:tN(m.signal),pause:hd(m.signal),extra:n,signal:m.signal,fork:hW(m.signal,_),unsubscribe:c.unsubscribe,subscribe:()=>{e.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((v,w,T)=>{v!==m&&(aa(v,Fy),T.delete(v))})},cancel:()=>{aa(m,Fy),c.pending.delete(m)},throwIfCancelled:()=>{sa(m.signal)}})))}catch(v){v instanceof qp||_P(r,v,{raisedBy:"effect"})}finally{await Promise.all(_),aa(m,cW),c.pending.delete(m)}},l=pW(e);return{middleware:c=>h=>d=>{if(!$2(d))return h(d);if(iN.match(d))return o(d.payload);if(mW.match(d)){l();return}if(oN.match(d))return a(d.payload);let p=c.getState();const m=()=>{if(p===vP)throw new Error(Cn(23));return p};let y;try{if(y=h(d),e.size>0){const _=c.getState(),v=Array.from(e.values());for(const w of v){let T=!1;try{T=w.predicate(d,_,p)}catch(x){T=!1,_P(r,x,{raisedBy:"predicate"})}T&&s(w,d,c,m)}}}finally{p=vP}return y},startListening:o,stopListening:a,clearListeners:l}};function Cn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},aN=nr({name:"chartLayout",initialState:vW,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:yW,setLayout:_W,setChartSize:wW,setScale:EW}=aN.actions,bW=aN.reducer;function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){TW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TW(t,e,n){return(e=SW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SW(t){var e=PW(t,"string");return typeof e=="symbol"?e:e+""}function PW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dd=Math.PI/180,AW=t=>t*180/Math.PI,Ot=(t,e,n,r)=>({x:t+Math.cos(-dd*r)*n,y:e+Math.sin(-dd*r)*n}),IW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},CW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=xW({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:AW(l),angleInRadian:l}},OW=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},kW=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},RW=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=CW({x:n,y:r},e),{innerRadius:a,outerRadius:s}=e;if(i<a||i>s||i===0)return null;var{startAngle:l,endAngle:u}=OW(e),c=o,h;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;h=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;h=c>=u&&c<=l}return h?EP(EP({},e),{},{radius:i,angle:kW(c,e)}):null};function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return(e=DW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DW(t){var e=MW(t,"string");return typeof e=="symbol"?e:e+""}function MW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gt(t,e,n){return ke(t)||ke(e)?n:Ur(e)?wa(t,e,n):typeof e=="function"?e(t):n}var LW=(t,e,n,r,i)=>{var o,a=-1,s=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u=l>0?n[l-1].coordinate:n[s-1].coordinate,c=n[l].coordinate,h=l>=s-1?n[0].coordinate:n[l+1].coordinate,d=void 0;if(hn(c-u)!==hn(h-c)){var p=[];if(hn(h-c)===hn(i[1]-i[0])){d=h;var m=c+i[1]-i[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{d=u;var y=h+i[1]-i[0];p[0]=Math.min(c,(y+c)/2),p[1]=Math.max(c,(y+c)/2)}var _=[Math.min(c,(d+c)/2),Math.max(c,(d+c)/2)];if(t>_[0]&&t<=_[1]||t>=p[0]&&t<=p[1]){({index:a}=n[l]);break}}else{var v=Math.min(u,h),w=Math.max(u,h);if(t>(v+c)/2&&t<=(w+c)/2){({index:a}=n[l]);break}}}else if(e){for(var T=0;T<s;T++)if(T===0&&t<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<s-1&&t>(e[T].coordinate+e[T-1].coordinate)/2&&t<=(e[T].coordinate+e[T+1].coordinate)/2||T===s-1&&t>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},jW=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=e;if((s==="vertical"||s==="horizontal"&&a==="middle")&&o!=="center"&&J(t[o]))return Kn(Kn({},t),{},{[o]:t[o]+(r||0)});if((s==="horizontal"||s==="vertical"&&o==="center")&&a!=="middle"&&J(t[a]))return Kn(Kn({},t),{},{[a]:t[a]+(i||0)})}return t},Oo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",sN=(t,e,n,r)=>{if(r)return t.map(s=>s.coordinate);var i,o,a=t.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===n&&(o=!0),s.coordinate));return i||a.push(e),o||a.push(n),a},lN=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:h,niceTicks:d,axisType:p}=t;if(!a)return null;var m=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=(e||n)&&i==="category"&&a.bandwidth?a.bandwidth()/m:0;if(y=p==="angleAxis"&&o&&o.length>=2?hn(o[0]-o[1])*2*y:y,e&&(h||d)){var _=(h||d||[]).map((v,w)=>{var T=r?r.indexOf(v):v;return{coordinate:a(T)+y,value:v,offset:y,index:w}});return _.filter(v=>!kn(v.coordinate))}return l&&u?u.map((v,w)=>({coordinate:a(v)+y,value:v,index:w,offset:y})):a.ticks&&!n&&c!=null?a.ticks(c).map((v,w)=>({coordinate:a(v)+y,value:v,offset:y,index:w})):a.domain().map((v,w)=>({coordinate:a(v)+y,value:r?r[v]:v,index:w,offset:y}))},TP=1e-4,VW=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-TP,o=Math.max(r[0],r[1])+TP,a=t(e[0]),s=t(e[n-1]);(a<i||a>o||s<i||s>o)&&t.domain([e[0],e[n-1]])}},$W=(t,e)=>{if(!e||e.length!==2||!J(e[0])||!J(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!J(t[0])||t[0]<n)&&(i[0]=n),(!J(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},FW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var s=kn(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+s,o=t[a][n][1])}},UW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=kn(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},BW={sign:FW,expand:P8,none:js,silhouette:A8,wiggle:I8,positive:UW},zW=(t,e,n)=>{var r=BW[n],i=S8().keys(e).value((o,a)=>+Gt(o,a,0)).order(ky).offset(r);return i(t)};function uN(t){return t==null?void 0:String(t)}function SP(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ke(i[e.dataKey])){var s=BR(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Gt(i,ke(a)?e.dataKey:a);return ke(l)?null:e.scale(l)}var PP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var s=Gt(o,e.dataKey,e.scale.domain()[a]);return ke(s)?null:e.scale(s)-i/2+r},WW=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},KW=t=>{var e=t.flat(2).filter(J);return[Math.min(...e),Math.max(...e)]},HW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],qW=(t,e,n)=>{if(t!=null)return HW(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,s=a.reduce((l,u)=>{var c=KW(u.slice(e,n+1));return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},AP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ju=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Bp(e,c=>c.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function xP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Kn(Kn({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Yp(t,e){if(t)return String(t);if(typeof e=="string")return e}function GW(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?RW({x:t,y:e},r):null}var YW=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:a}=r;return Kn(Kn(Kn({},r),Ot(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return Kn(Kn(Kn({},r),Ot(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},QW=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Pi=t=>t.layout.width,Ai=t=>t.layout.height,XW=t=>t.layout.scale,cN=t=>t.layout.margin,Bw=V(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),zw=V(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),JW="data-recharts-item-index",ZW="data-recharts-item-data-key",Qp=60;function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){eK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eK(t,e,n){return(e=tK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tK(t){var e=nK(t,"string");return typeof e=="symbol"?e:e+""}function nK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rK=t=>t.brush.height,yt=V([Pi,Ai,cN,rK,Bw,zw,M2,b7],(t,e,n,r,i,o,a,s)=>{var l=o.reduce((m,y)=>{var{orientation:_}=y;if(!y.mirror&&!y.hide){var v=typeof y.width=="number"?y.width:Qp;return Li(Li({},m),{},{[_]:m[_]+v})}return m},{left:n.left||0,right:n.right||0}),u=i.reduce((m,y)=>{var{orientation:_}=y;return!y.mirror&&!y.hide?Li(Li({},m),{},{[_]:wa(m,"".concat(_))+y.height}):m},{top:n.top||0,bottom:n.bottom||0}),c=Li(Li({},u),l),h=c.bottom;c.bottom+=r,c=jW(c,a,s);var d=t-c.left-c.right,p=e-c.top-c.bottom;return Li(Li({brushBottom:h},c),{},{width:Math.max(d,0),height:Math.max(p,0)})}),iK=V(yt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),fN=V(Pi,Ai,(t,e)=>({x:0,y:0,width:t,height:e})),oK=b.createContext(null),an=()=>b.useContext(oK)!=null,Xp=t=>t.brush,Jp=V([Xp,yt,cN],(t,e,n)=>({height:t.height,x:J(t.x)?t.x:e.left,y:J(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:J(t.width)?t.width:e.width})),Ww=()=>{var t,e=an(),n=ee(iK),r=ee(Jp),i=(t=ee(Xp))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},aK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hN=()=>{var t;return(t=ee(yt))!==null&&t!==void 0?t:aK},Kw=()=>ee(Pi),Hw=()=>ee(Ai),sK={top:0,right:0,bottom:0,left:0},lK=()=>{var t;return(t=ee(e=>e.layout.margin))!==null&&t!==void 0?t:sK},xe=t=>t.layout.layoutType,Zp=()=>ee(xe),uK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dN=nr({name:"legend",initialState:uK,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=ai(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:OP,setLegendSettings:cK,addLegendPayload:fK,removeLegendPayload:hK}=dN.actions,dK=dN.reducer,pK=["contextPayload"];function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(null,arguments)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){qw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qw(t,e,n){return(e=mK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mK(t){var e=gK(t,"string");return typeof e=="symbol"?e:e+""}function gK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vK(t,e){if(t==null)return{};var n,r,i=yK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _K(t){return t.value}function wK(t){var{contextPayload:e}=t,n=vK(t,pK),r=S2(e,t.payloadUniqBy,_K),i=Fs(Fs({},n),{},{payload:r});return b.isValidElement(t.content)?b.cloneElement(t.content,i):typeof t.content=="function"?b.createElement(t.content,i):b.createElement(Aw,i)}function EK(t,e,n,r,i,o){var{layout:a,align:s,verticalAlign:l}=e,u,c;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&a==="vertical"?u={left:((r||0)-o.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?c={top:((i||0)-o.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Fs(Fs({},u),c)}function bK(t){var e=Ze();return b.useEffect(()=>{e(cK(t))},[e,t]),null}function TK(t){var e=Ze();return b.useEffect(()=>(e(OP(t)),()=>{e(OP({width:0,height:0}))}),[e,t]),null}function SK(t){var e=P7(),n=Gz(),r=lK(),{width:i,height:o,wrapperStyle:a,portal:s}=t,[l,u]=L2([e]),c=Kw(),h=Hw(),d=c-(r.left||0)-(r.right||0),p=em.getWidthOrHeight(t.layout,o,i,d),m=s?a:Fs(Fs({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||o||"auto"},EK(a,t,r,c,h,l)),a),y=s??n;if(y==null)return null;var _=b.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},b.createElement(bK,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),b.createElement(TK,{width:l.width,height:l.height}),b.createElement(wK,By({},t,p,{margin:r,chartWidth:c,chartHeight:h,contextPayload:e})));return m_.createPortal(_,y)}class em extends b.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&J(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return b.createElement(SK,this.props)}}qw(em,"displayName","Legend");qw(em,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(null,arguments)}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){PK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PK(t,e,n){return(e=AK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AK(t){var e=IK(t,"string");return typeof e=="symbol"?e:e+""}function IK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xK(t){return Array.isArray(t)&&Ur(t[0])&&Ur(t[1])?t.join(" ~ "):t}var CK=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:h,accessibilityLayer:d=!1}=t,p=()=>{if(o&&o.length){var O={padding:0,margin:0},D=(s?Bp(o,s):o).map((P,S)=>{if(P.type==="none")return null;var I=P.formatter||a||xK,{value:C,name:R}=P,N=C,k=R;if(I){var re=I(C,R,P,S,o);if(Array.isArray(re))[N,k]=re;else if(re!=null)N=re;else return null}var he=zg({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:he},Ur(k)?b.createElement("span",{className:"recharts-tooltip-item-name"},k):null,Ur(k)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},N),b.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},m=zg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=zg({margin:0},i),_=!ke(c),v=_?c:"",w=Ae("recharts-default-tooltip",l),T=Ae("recharts-tooltip-label",u);_&&h&&o!==void 0&&o!==null&&(v=h(c,o));var x=d?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",zy({className:w,style:m},x),b.createElement("p",{className:T,style:y},b.isValidElement(v)?v:"".concat(v)),p())},jl="recharts-tooltip-wrapper",OK={visibility:"hidden"};function kK(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ae(jl,{["".concat(jl,"-right")]:J(n)&&e&&J(e.x)&&n>=e.x,["".concat(jl,"-left")]:J(n)&&e&&J(e.x)&&n<e.x,["".concat(jl,"-bottom")]:J(r)&&e&&J(e.y)&&r>=e.y,["".concat(jl,"-top")]:J(r)&&e&&J(e.y)&&r<e.y})}function NP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=t;if(o&&J(o[r]))return o[r];var c=n[r]-s-(i>0?i:0),h=n[r]+i;if(e[r])return a[r]?c:h;var d=l[r];if(d==null)return 0;if(a[r]){var p=c,m=d;return p<m?Math.max(h,d):Math.max(c,d)}if(u==null)return 0;var y=h+s,_=d+u;return y>_?Math.max(c,d):Math.max(h,d)}function RK(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function NK(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:s,viewBox:l}=t,u,c,h;return a.height>0&&a.width>0&&n?(c=NP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=NP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=RK({translateX:c,translateY:h,useTranslate3d:s})):u=OK,{cssProperties:u,cssClasses:kK({translateX:c,translateY:h,coordinate:n})}}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){Wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wy(t,e,n){return(e=DK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DK(t){var e=MK(t,"string");return typeof e=="symbol"?e:e+""}function MK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class LK extends b.PureComponent{constructor(){super(...arguments),Wy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Wy(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:h,useTranslate3d:d,viewBox:p,wrapperStyle:m,lastBoundingBox:y,innerRef:_,hasPortalFromProps:v}=this.props,{cssClasses:w,cssProperties:T}=NK({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:c,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:d,viewBox:p}),x=v?{}:xf(xf({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),O=xf(xf({},x),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},m);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:O,ref:_},o)}}var jK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sl={isSsr:jK()},pN=()=>ee(t=>t.rootProps.accessibilityLayer);function Mn(t){return Number.isFinite(t)}function pd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ky.apply(null,arguments)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){VK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VK(t,e,n){return(e=$K(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $K(t){var e=FK(t,"string");return typeof e=="symbol"?e:e+""}function FK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jP={curveBasisClosed:d8,curveBasisOpen:p8,curveBasis:h8,curveBumpX:Jz,curveBumpY:Zz,curveLinearClosed:m8,curveLinear:Mp,curveMonotoneX:g8,curveMonotoneY:v8,curveNatural:y8,curveStep:_8,curveStepAfter:E8,curveStepBefore:w8},Cf=t=>Mn(t.x)&&Mn(t.y),Vl=t=>t.x,$l=t=>t.y,UK=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Sc(t));return(n==="curveMonotone"||n==="curveBump")&&e?jP["".concat(n).concat(e==="vertical"?"Y":"X")]:jP[n]||Mp},BK=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=UK(e,i),s=o?n.filter(Cf):n,l;if(Array.isArray(r)){var u=o?r.filter(h=>Cf(h)):r,c=s.map((h,d)=>LP(LP({},h),{},{base:u[d]}));return i==="vertical"?l=Tf().y($l).x1(Vl).x0(h=>h.base.x):l=Tf().x(Vl).y1($l).y0(h=>h.base.y),l.defined(Cf).curve(a),l(c)}return i==="vertical"&&J(r)?l=Tf().y($l).x1(Vl).x0(r):J(r)?l=Tf().x(Vl).y1($l).y0(r):l=XR().x(Vl).y($l),l.defined(Cf).curve(a),l(s)},mN=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?BK(t):r;return b.createElement("path",Ky({},be(t,!1),yw(t),{className:Ae("recharts-curve",e),d:o===null?void 0:o,ref:i}))},zK=["x","y","top","left","width","height","className"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(null,arguments)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){KK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KK(t,e,n){return(e=HK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HK(t){var e=qK(t,"string");return typeof e=="symbol"?e:e+""}function qK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GK(t,e){if(t==null)return{};var n,r,i=YK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QK=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),XK=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:s}=t,l=GK(t,zK),u=WK({x:e,y:n,top:r,left:i,width:o,height:a},l);return!J(e)||!J(n)||!J(o)||!J(a)||!J(r)||!J(i)?null:b.createElement("path",Hy({},be(u,!0),{className:Ae("recharts-cross",s),d:QK(e,n,o,a,r,i)}))};function JK(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){eH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eH(t,e,n){return(e=tH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tH(t){var e=nH(t,"string");return typeof e=="symbol"?e:e+""}function nH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ii(t,e){var n=ZK({},t),r=e,i=Object.keys(e),o=i.reduce((a,s)=>(a[s]===void 0&&r[s]!==void 0&&(a[s]=r[s]),a),n);return o}var gN={},vN={},yN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(yN);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yN,n=Rw,r=$p,i=Fp,o=Vp;function a(u,c,h){return s(u,c,void 0,void 0,void 0,void 0,h)}function s(u,c,h,d,p,m,y){const _=y(u,c,h,d,p,m);if(_!==void 0)return _;if(typeof u==typeof c)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===c;case"number":return u===c||Object.is(u,c);case"function":return u===c;case"object":return l(u,c,m,y)}return l(u,c,m,y)}function l(u,c,h,d){if(Object.is(u,c))return!0;let p=r.getTag(u),m=r.getTag(c);if(p===i.argumentsTag&&(p=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),p!==m)return!1;switch(p){case i.stringTag:return u.toString()===c.toString();case i.numberTag:{const v=u.valueOf(),w=c.valueOf();return o.eq(v,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),c.valueOf());case i.regexpTag:return u.source===c.source&&u.flags===c.flags;case i.functionTag:return u===c}h=h??new Map;const y=h.get(u),_=h.get(c);if(y!=null&&_!=null)return y===c;h.set(u,c),h.set(c,u);try{switch(p){case i.mapTag:{if(u.size!==c.size)return!1;for(const[v,w]of u.entries())if(!c.has(v)||!s(w,c.get(v),v,u,c,h,d))return!1;return!0}case i.setTag:{if(u.size!==c.size)return!1;const v=Array.from(u.values()),w=Array.from(c.values());for(let T=0;T<v.length;T++){const x=v[T],O=w.findIndex(D=>s(x,D,void 0,u,c,h,d));if(O===-1)return!1;w.splice(O,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(c)||u.length!==c.length)return!1;for(let v=0;v<u.length;v++)if(!s(u[v],c[v],v,u,c,h,d))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==c.byteLength?!1:l(new Uint8Array(u),new Uint8Array(c),h,d);case i.dataViewTag:return u.byteLength!==c.byteLength||u.byteOffset!==c.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(c),h,d);case i.errorTag:return u.name===c.name&&u.message===c.message;case i.objectTag:{if(!(l(u.constructor,c.constructor,h,d)||e.isPlainObject(u)&&e.isPlainObject(c)))return!1;const w=[...Object.keys(u),...n.getSymbols(u)],T=[...Object.keys(c),...n.getSymbols(c)];if(w.length!==T.length)return!1;for(let x=0;x<w.length;x++){const O=w[x],D=u[O];if(!Object.hasOwn(c,O))return!1;const P=c[O];if(!s(D,P,O,u,c,h,d))return!1}return!0}default:return!1}}finally{h.delete(u),h.delete(c)}}t.isEqualWith=a})(vN);var _N={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(_N);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vN,n=_N;function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(gN);var rH=gN.isEqual;const iH=Wr(rH);function oH(t){var e={},n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,[l,...u]=s;if(typeof l=="number"){i=t.setTimeout(o.bind(null,u),l);return}o(l),i=t.setTimeout(o.bind(null,u));return}typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}var md=1e-4,wN=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],EN=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),FP=(t,e)=>n=>{var r=wN(t,e);return EN(r,n)},aH=(t,e)=>n=>{var r=wN(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return EN(i,n)},UP=function(){for(var e,n,r,i,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else a.length===4&&([e,r,n,i]=a);var u=FP(e,n),c=FP(r,i),h=aH(e,n),d=m=>m>1?1:m<0?0:m,p=m=>{for(var y=m>1?1:m,_=y,v=0;v<8;++v){var w=u(_)-y,T=h(_);if(Math.abs(w-y)<md||T<md)return c(_);_=d(_-w/T)}return c(_)};return p.isStepper=!1,p},sH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,s,l)=>{var u=-(a-s)*n,c=l*r,h=l+(u-c)*i/1e3,d=l*i/1e3+a;return Math.abs(d-s)<md&&Math.abs(h)<md?[s,0]:[d,h]};return o.isStepper=!0,o.dt=i,o},lH=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UP(t);case"spring":return sH();default:if(t.split("(")[0]==="cubic-bezier")return UP(t)}return typeof t=="function"?t:null};function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){uH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uH(t,e,n){return(e=cH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cH(t){var e=fH(t,"string");return typeof e=="symbol"?e:e+""}function fH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hH=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),dH=(t,e,n)=>t.map(r=>"".concat(hH(r)," ").concat(e,"ms ").concat(n)).join(","),pH=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Zu=(t,e)=>Object.keys(e).reduce((n,r)=>zP(zP({},n),{},{[r]:t(r,e[r])}),{});function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){mH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mH(t,e,n){return(e=gH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gH(t){var e=vH(t,"string");return typeof e=="symbol"?e:e+""}function vH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gd=(t,e,n)=>t+(e-t)*n,qy=t=>{var{from:e,to:n}=t;return e!==n},bN=(t,e,n)=>{var r=Zu((i,o)=>{if(qy(o)){var[a,s]=t(o.from,o.to,o.velocity);return xt(xt({},o),{},{from:a,velocity:s})}return o},e);return n<1?Zu((i,o)=>qy(o)?xt(xt({},o),{},{velocity:gd(o.velocity,r[i].velocity,n),from:gd(o.from,r[i].from,n)}):o,e):bN(t,r,n-1)};function yH(t,e,n,r,i,o){var a,s=r.reduce((d,p)=>xt(xt({},d),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>Zu((d,p)=>p.from,s),u=()=>!Object.values(s).filter(qy).length,c=null,h=d=>{a||(a=d);var p=d-a,m=p/n.dt;s=bN(n,s,m),i(xt(xt(xt({},t),e),l())),a=d,u()||(c=o.setTimeout(h))};return()=>(c=o.setTimeout(h),()=>{c()})}function _H(t,e,n,r,i,o,a){var s=null,l=i.reduce((h,d)=>xt(xt({},h),{},{[d]:[t[d],e[d]]}),{}),u,c=h=>{u||(u=h);var d=(h-u)/r,p=Zu((y,_)=>gd(..._,n(d)),l);if(o(xt(xt(xt({},t),e),p)),d<1)s=a.setTimeout(c);else{var m=Zu((y,_)=>gd(..._,n(1)),l);o(xt(xt(xt({},t),e),m))}};return()=>(s=a.setTimeout(c),()=>{s()})}const wH=(t,e,n,r,i,o)=>{var a=pH(t,e);return n.isStepper===!0?yH(t,e,n,a,i,o):_H(t,e,n,r,a,i,o)};class EH{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}var bH=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(null,arguments)}function TH(t,e){if(t==null)return{};var n,r,i=SH(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jo(t,e,n){return(e=PH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PH(t){var e=AH(t,"string");return typeof e=="symbol"?e:e+""}function AH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IH(){return oH(new EH)}class Gw extends b.PureComponent{constructor(e,n){super(e,n),Jo(this,"mounted",!1),Jo(this,"manager",null),Jo(this,"stopJSAnimation",null),Jo(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:a,children:s,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof s=="function"&&(this.state={style:a});return}if(o){if(typeof s=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:a,from:s}=this.props,{style:l}=this.state;if(r){if(!n){var u={style:i?{[i]:a}:a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(u);return}if(!(iH(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=c||o?s:e.to;if(this.state&&l){var d={style:i?{[i]:h}:h};(i&&l[i]!==h||!i&&l!==h)&&this.setState(d)}this.runAnimation(ji(ji({},this.props),{},{from:h,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:a,onAnimationEnd:s,onAnimationStart:l}=e,u=wH(n,r,lH(o),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=u()};this.manager.start([l,a,c,i,s])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:a,onAnimationStart:s,onAnimationEnd:l,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(e);return}var c=i?{[i]:o}:o,h=dH(Object.keys(c),r,a);this.manager.start([s,n,ji(ji({},c),{},{transition:h}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:a,isActive:s,from:l,to:u,canBegin:c,onAnimationEnd:h,shouldReAnimate:d,onAnimationReStart:p,animationManager:m}=e,y=TH(e,bH),_=b.Children.count(n),v=this.state.style;if(typeof n=="function")return n(v);if(!s||_===0||i<=0)return n;var w=T=>{var{style:x={},className:O}=T.props,D=b.cloneElement(T,ji(ji({},y),{},{style:ji(ji({},x),v),className:O}));return D};return _===1?w(b.Children.only(n)):b.createElement("div",null,b.Children.map(n,T=>w(T)))}}Jo(Gw,"displayName","Animate");Jo(Gw,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var xH=b.createContext(null);function Ta(t){var e,n,r=b.useContext(xH);return b.createElement(Gw,Gy({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:IH()}))}function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(null,arguments)}var HP=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,s=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],h=0,d=4;h<d;h++)c[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(e+a*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(t+s*c[0],",").concat(e)),u+="L ".concat(t+n-s*c[1],",").concat(e),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+a*c[1])),u+="L ".concat(t+n,",").concat(e+r-a*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(t+n-s*c[2],",").concat(e+r)),u+="L ".concat(t+s*c[3],",").concat(e+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-a*c[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(t,",").concat(e+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+s*p,",").concat(e,`
            L `).concat(t+n-s*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n,",").concat(e+a*p,`
            L `).concat(t+n,",").concat(e+r-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n-s*p,",").concat(e+r,`
            L `).concat(t+s*p,",").concat(e+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+r-a*p," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},CH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TN=t=>{var e=Ii(t,CH),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:o,y:a,width:s,height:l,radius:u,className:c}=e,{animationEasing:h,animationDuration:d,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:y}=e;if(o!==+o||a!==+a||s!==+s||l!==+l||s===0||l===0)return null;var _=Ae("recharts-rectangle",c);return y?b.createElement(Ta,{canBegin:r>0,from:{width:s,height:l,x:o,y:a},to:{width:s,height:l,x:o,y:a},duration:d,animationEasing:h,isActive:y},v=>{var{width:w,height:T,x,y:O}=v;return b.createElement(Ta,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:d,isActive:m,easing:h},b.createElement("path",vd({},be(e,!0),{className:_,d:HP(x,O,w,T,u),ref:n})))}):b.createElement("path",vd({},be(e,!0),{className:_,d:HP(o,a,s,l,u)}))};function SN(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=Ot(e,n,r,i),s=Ot(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yy.apply(null,arguments)}var OH=(t,e)=>{var n=hn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Of=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=t,u=s*(a?1:-1)+r,c=Math.asin(s/u)/dd,h=l?i:i+o*c,d=Ot(e,n,u,h),p=Ot(e,n,r,h),m=l?i-o*c:i,y=Ot(e,n,u*Math.cos(c*dd),m);return{center:d,circleTangency:p,lineTangency:y,theta:c}},PN=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,s=OH(o,a),l=o+s,u=Ot(e,n,i,o),c=Ot(e,n,i,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(o>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var d=Ot(e,n,r,o),p=Ot(e,n,r,l);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(o<=l),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},kH=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:u}=t,c=hn(u-l),{circleTangency:h,lineTangency:d,theta:p}=Of({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),{circleTangency:m,lineTangency:y,theta:_}=Of({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),v=s?Math.abs(l-u):Math.abs(l-u)-p-_;if(v<0)return a?"M ".concat(d.x,",").concat(d.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):PN({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var w="M ".concat(d.x,",").concat(d.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:x,theta:O}=Of({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:D,lineTangency:P,theta:S}=Of({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),I=s?Math.abs(l-u):Math.abs(l-u)-O-S;if(I<0&&o===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(x.x,",").concat(x.y,"Z")}else w+="L".concat(e,",").concat(n,"Z");return w},RH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AN=t=>{var e=Ii(t,RH),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:h}=e;if(o<i||u===c)return null;var d=Ae("recharts-sector",h),p=o-i,m=wr(a,p,0,!0),y;return m>0&&Math.abs(u-c)<360?y=kH({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):y=PN({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),b.createElement("path",Yy({},be(e,!0),{className:d,d:y}))};function NH(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:s,cy:l,innerRadius:u,outerRadius:c,angle:h}=e,d=Ot(s,l,u,h),p=Ot(s,l,c,h);r=d.x,i=d.y,o=p.x,a=p.y}else return SN(e);return[{x:r,y:i},{x:o,y:a}]}var IN={},xN={},CN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mw;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(CN);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CN;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(xN);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lw,n=xN;function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const s=Math.max(Math.ceil((o-i)/(a||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=a;return l}t.range=r})(IN);var DH=IN.range;const ON=Wr(DH);function ho(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MH(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yw(t){let e,n,r;t.length!==2?(e=ho,n=(s,l)=>ho(t(s),l),r=(s,l)=>t(s)-l):(e=t===ho||t===MH?t:LH,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function LH(){return 0}function kN(t){return t===null?NaN:+t}function*jH(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const VH=Yw(ho),$H=VH.right;Yw(kN).center;const Ac=$H;class qP extends Map{constructor(e,n=BH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(GP(this,e))}has(e){return super.has(GP(this,e))}set(e,n){return super.set(FH(this,e),n)}delete(e){return super.delete(UH(this,e))}}function GP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function FH({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function UH({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function BH(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zH(t=ho){if(t===ho)return RN;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function RN(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const WH=Math.sqrt(50),KH=Math.sqrt(10),HH=Math.sqrt(2);function yd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=WH?10:o>=KH?5:o>=HH?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?yd(t,e,n*2):[s,l,u]}function Qy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?yd(e,t,n):yd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Xy(t,e,n){return e=+e,t=+t,n=+n,yd(t,e,n)[2]}function Jy(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Xy(e,t,n):Xy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function YP(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function QP(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function NN(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?RN:zH(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/l+d)),m=Math.min(r,Math.floor(e+(l-u)*h/l+d));NN(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(Fl(t,n,e),i(t[r],o)>0&&Fl(t,n,r);a<s;){for(Fl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Fl(t,n,s):(++s,Fl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Fl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function qH(t,e,n){if(t=Float64Array.from(jH(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return QP(t);if(e>=1)return YP(t);var r,i=(r-1)*e,o=Math.floor(i),a=YP(NN(t,o).subarray(0,o+1)),s=QP(t.subarray(o+1));return a+(s-a)*(i-o)}}function GH(t,e,n=kN){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function YH(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function rr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Zy=Symbol("implicit");function Qw(){var t=new qP,e=[],n=[],r=Zy;function i(o){let a=t.get(o);if(a===void 0){if(r!==Zy)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new qP;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Qw(e,n).unknown(r)},rr.apply(i,arguments),i}function Xw(){var t=Qw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var d=e().length,p=i<r,m=p?i:r,y=p?r:i;o=(y-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(y-m-o*(d-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var _=YH(d).map(function(v){return m+o*v});return n(p?_.reverse():_)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,h()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),h()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),h()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return Xw(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},rr.apply(h(),arguments)}function DN(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DN(e())},t}function QH(){return DN(Xw.apply(null,arguments).paddingInner(1))}function Jw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function MN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ic(){}var ec=.7,_d=1/ec,_s="\\s*([+-]?\\d+)\\s*",tc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XH=/^#([0-9a-f]{3,8})$/,JH=new RegExp(`^rgb\\(${_s},${_s},${_s}\\)$`),ZH=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),eq=new RegExp(`^rgba\\(${_s},${_s},${_s},${tc}\\)$`),tq=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${tc}\\)$`),nq=new RegExp(`^hsl\\(${tc},${Lr},${Lr}\\)$`),rq=new RegExp(`^hsla\\(${tc},${Lr},${Lr},${tc}\\)$`),XP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jw(Ic,nc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:JP,formatHex:JP,formatHex8:iq,formatHsl:oq,formatRgb:ZP,toString:ZP});function JP(){return this.rgb().formatHex()}function iq(){return this.rgb().formatHex8()}function oq(){return LN(this).formatHsl()}function ZP(){return this.rgb().formatRgb()}function nc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=XH.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eA(e):n===3?new dn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?kf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?kf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JH.exec(t))?new dn(e[1],e[2],e[3],1):(e=ZH.exec(t))?new dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eq.exec(t))?kf(e[1],e[2],e[3],e[4]):(e=tq.exec(t))?kf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nq.exec(t))?rA(e[1],e[2]/100,e[3]/100,1):(e=rq.exec(t))?rA(e[1],e[2]/100,e[3]/100,e[4]):XP.hasOwnProperty(t)?eA(XP[t]):t==="transparent"?new dn(NaN,NaN,NaN,0):null}function eA(t){return new dn(t>>16&255,t>>8&255,t&255,1)}function kf(t,e,n,r){return r<=0&&(t=e=n=NaN),new dn(t,e,n,r)}function aq(t){return t instanceof Ic||(t=nc(t)),t?(t=t.rgb(),new dn(t.r,t.g,t.b,t.opacity)):new dn}function e0(t,e,n,r){return arguments.length===1?aq(t):new dn(t,e,n,r??1)}function dn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Jw(dn,e0,MN(Ic,{brighter(t){return t=t==null?_d:Math.pow(_d,t),new dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ec:Math.pow(ec,t),new dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dn(la(this.r),la(this.g),la(this.b),wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tA,formatHex:tA,formatHex8:sq,formatRgb:nA,toString:nA}));function tA(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}`}function sq(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}${Zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function nA(){const t=wd(this.opacity);return`${t===1?"rgb(":"rgba("}${la(this.r)}, ${la(this.g)}, ${la(this.b)}${t===1?")":`, ${t})`}`}function wd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function la(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zo(t){return t=la(t),(t<16?"0":"")+t.toString(16)}function rA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pr(t,e,n,r)}function LN(t){if(t instanceof pr)return new pr(t.h,t.s,t.l,t.opacity);if(t instanceof Ic||(t=nc(t)),!t)return new pr;if(t instanceof pr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new pr(a,s,l,t.opacity)}function lq(t,e,n,r){return arguments.length===1?LN(t):new pr(t,e,n,r??1)}function pr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Jw(pr,lq,MN(Ic,{brighter(t){return t=t==null?_d:Math.pow(_d,t),new pr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ec:Math.pow(ec,t),new pr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new dn(Wg(t>=240?t-240:t+120,i,r),Wg(t,i,r),Wg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new pr(iA(this.h),Rf(this.s),Rf(this.l),wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wd(this.opacity);return`${t===1?"hsl(":"hsla("}${iA(this.h)}, ${Rf(this.s)*100}%, ${Rf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iA(t){return t=(t||0)%360,t<0?t+360:t}function Rf(t){return Math.max(0,Math.min(1,t||0))}function Wg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Zw=t=>()=>t;function uq(t,e){return function(n){return t+n*e}}function cq(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fq(t){return(t=+t)==1?jN:function(e,n){return n-e?cq(e,n,t):Zw(isNaN(e)?n:e)}}function jN(t,e){var n=e-t;return n?uq(t,n):Zw(isNaN(t)?e:t)}const oA=function t(e){var n=fq(e);function r(i,o){var a=n((i=e0(i)).r,(o=e0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=jN(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function hq(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function dq(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pq(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ll(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function mq(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ed(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gq(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ll(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var t0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kg=new RegExp(t0.source,"g");function vq(t){return function(){return t}}function yq(t){return function(e){return t(e)+""}}function _q(t,e){var n=t0.lastIndex=Kg.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=t0.exec(t))&&(i=Kg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ed(r,i)})),n=Kg.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?yq(l[0].x):vq(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function ll(t,e){var n=typeof e,r;return e==null||n==="boolean"?Zw(e):(n==="number"?Ed:n==="string"?(r=nc(e))?(e=r,oA):_q:e instanceof nc?oA:e instanceof Date?mq:dq(e)?hq:Array.isArray(e)?pq:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gq:Ed)(t,e)}function e1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function wq(t,e){e===void 0&&(e=t,t=ll);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Eq(t){return function(){return t}}function bd(t){return+t}var aA=[0,1];function tn(t){return t}function n0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Eq(isNaN(e)?NaN:.5)}function bq(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Tq(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=n0(i,r),o=n(a,o)):(r=n0(r,i),o=n(o,a)),function(s){return o(r(s))}}function Sq(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=n0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Ac(t,s,1,r)-1;return o[l](i[l](s))}}function xc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function tm(){var t=aA,e=aA,n=ll,r,i,o,a=tn,s,l,u;function c(){var d=Math.min(t.length,e.length);return a!==tn&&(a=bq(t[0],t[d-1])),s=d>2?Sq:Tq,l=u=null,h}function h(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return h.invert=function(d){return a(i((u||(u=s(e,t.map(r),Ed)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,bd),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=e1,c()},h.clamp=function(d){return arguments.length?(a=d?!0:tn,c()):a!==tn},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,p){return r=d,i=p,c()}}function t1(){return tm()(tn,tn)}function Pq(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Td(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Us(t){return t=Td(Math.abs(t)),t?t[1]:NaN}function Aq(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Iq(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var xq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rc(t){if(!(e=xq.exec(t)))throw new Error("invalid format: "+t);var e;return new n1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rc.prototype=n1.prototype;function n1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}n1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cq(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var VN;function Oq(t,e){var n=Td(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(VN=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Td(t,Math.max(0,e+o-1))[0]}function sA(t,e){var n=Td(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const lA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pq,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sA(t*100,e),r:sA,s:Oq,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uA(t){return t}var cA=Array.prototype.map,fA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function kq(t){var e=t.grouping===void 0||t.thousands===void 0?uA:Aq(cA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?uA:Iq(cA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=rc(h);var d=h.fill,p=h.align,m=h.sign,y=h.symbol,_=h.zero,v=h.width,w=h.comma,T=h.precision,x=h.trim,O=h.type;O==="n"?(w=!0,O="g"):lA[O]||(T===void 0&&(T=12),x=!0,O="g"),(_||d==="0"&&p==="=")&&(_=!0,d="0",p="=");var D=y==="$"?n:y==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",P=y==="$"?r:/[%p]/.test(O)?a:"",S=lA[O],I=/[defgprs%]/.test(O);T=T===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function C(R){var N=D,k=P,re,he,Se;if(O==="c")k=S(R)+k,R="";else{R=+R;var oe=R<0||1/R<0;if(R=isNaN(R)?l:S(Math.abs(R),T),x&&(R=Cq(R)),oe&&+R==0&&m!=="+"&&(oe=!1),N=(oe?m==="("?m:s:m==="-"||m==="("?"":m)+N,k=(O==="s"?fA[8+VN/3]:"")+k+(oe&&m==="("?")":""),I){for(re=-1,he=R.length;++re<he;)if(Se=R.charCodeAt(re),48>Se||Se>57){k=(Se===46?i+R.slice(re+1):R.slice(re))+k,R=R.slice(0,re);break}}}w&&!_&&(R=e(R,1/0));var z=N.length+R.length+k.length,q=z<v?new Array(v-z+1).join(d):"";switch(w&&_&&(R=e(q+R,q.length?v-k.length:1/0),q=""),p){case"<":R=N+R+k+q;break;case"=":R=N+q+R+k;break;case"^":R=q.slice(0,z=q.length>>1)+N+R+k+q.slice(z);break;default:R=q+N+R+k;break}return o(R)}return C.toString=function(){return h+""},C}function c(h,d){var p=u((h=rc(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Us(d)/3)))*3,y=Math.pow(10,-m),_=fA[8+m/3];return function(v){return p(y*v)+_}}return{format:u,formatPrefix:c}}var Nf,r1,$N;Rq({thousands:",",grouping:[3],currency:["$",""]});function Rq(t){return Nf=kq(t),r1=Nf.format,$N=Nf.formatPrefix,Nf}function Nq(t){return Math.max(0,-Us(Math.abs(t)))}function Dq(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Us(e)/3)))*3-Us(Math.abs(t)))}function Mq(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Us(e)-Us(t))+1}function FN(t,e,n,r){var i=Jy(t,e,n),o;switch(r=rc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Dq(i,a))&&(r.precision=o),$N(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Mq(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Nq(i))&&(r.precision=o-(r.type==="%")*2);break}}return r1(r)}function ko(t){var e=t.domain;return t.ticks=function(n){var r=e();return Qy(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return FN(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Xy(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function UN(){var t=t1();return t.copy=function(){return xc(t,UN())},rr.apply(t,arguments),ko(t)}function BN(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,bd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return BN(t).unknown(e)},t=arguments.length?Array.from(t,bd):[0,1],ko(n)}function zN(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function hA(t){return Math.log(t)}function dA(t){return Math.exp(t)}function Lq(t){return-Math.log(-t)}function jq(t){return-Math.exp(-t)}function Vq(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $q(t){return t===10?Vq:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fq(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pA(t){return(e,n)=>-t(-e,n)}function i1(t){const e=t(hA,dA),n=e.domain;let r=10,i,o;function a(){return i=Fq(r),o=$q(r),n()[0]<0?(i=pA(i),o=pA(o),t(Lq,jq)):t(hA,dA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let d=i(u),p=i(c),m,y;const _=s==null?10:+s;let v=[];if(!(r%1)&&p-d<_){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(y=d<0?m/o(-d):m*o(d),!(y<u)){if(y>c)break;v.push(y)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(y=d>0?m/o(-d):m*o(d),!(y<u)){if(y>c)break;v.push(y)}v.length*2<_&&(v=Qy(u,c,_))}else v=Qy(d,p,Math.min(p-d,_)).map(o);return h?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=rc(l)).precision==null&&(l.trim=!0),l=r1(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(zN(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function WN(){const t=i1(tm()).domain([1,10]);return t.copy=()=>xc(t,WN()).base(t.base()),rr.apply(t,arguments),t}function mA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function o1(t){var e=1,n=t(mA(e),gA(e));return n.constant=function(r){return arguments.length?t(mA(e=+r),gA(e)):e},ko(n)}function KN(){var t=o1(tm());return t.copy=function(){return xc(t,KN()).constant(t.constant())},rr.apply(t,arguments)}function vA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Uq(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Bq(t){return t<0?-t*t:t*t}function a1(t){var e=t(tn,tn),n=1;function r(){return n===1?t(tn,tn):n===.5?t(Uq,Bq):t(vA(n),vA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ko(e)}function s1(){var t=a1(tm());return t.copy=function(){return xc(t,s1()).exponent(t.exponent())},rr.apply(t,arguments),t}function zq(){return s1.apply(null,arguments).exponent(.5)}function yA(t){return Math.sign(t)*t*t}function Wq(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function HN(){var t=t1(),e=[0,1],n=!1,r;function i(o){var a=Wq(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(yA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,bd)).map(yA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return HN(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},rr.apply(i,arguments),ko(i)}function qN(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=GH(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Ac(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ho),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return qN().domain(t).range(e).unknown(r)},rr.apply(o,arguments)}function GN(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Ac(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return GN().domain([t,e]).range(i).unknown(o)},rr.apply(ko(a),arguments)}function YN(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Ac(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return YN().domain(t).range(e).unknown(n)},rr.apply(i,arguments)}const Hg=new Date,qg=new Date;function ht(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>ht(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Hg.setTime(+o),qg.setTime(+a),t(Hg),t(qg),Math.floor(n(Hg,qg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Sd=ht(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ht(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Sd);Sd.range;const ni=1e3,Yn=ni*60,ri=Yn*60,yi=ri*24,l1=yi*7,_A=yi*30,Gg=yi*365,ea=ht(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getUTCSeconds());ea.range;const u1=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ni)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getMinutes());u1.range;const c1=ht(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getUTCMinutes());c1.range;const f1=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ni-t.getMinutes()*Yn)},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getHours());f1.range;const h1=ht(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getUTCHours());h1.range;const Cc=ht(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yn)/yi,t=>t.getDate()-1);Cc.range;const nm=ht(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yi,t=>t.getUTCDate()-1);nm.range;const QN=ht(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yi,t=>Math.floor(t/yi));QN.range;function Oa(t){return ht(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Yn)/l1)}const rm=Oa(0),Pd=Oa(1),Kq=Oa(2),Hq=Oa(3),Bs=Oa(4),qq=Oa(5),Gq=Oa(6);rm.range;Pd.range;Kq.range;Hq.range;Bs.range;qq.range;Gq.range;function ka(t){return ht(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/l1)}const im=ka(0),Ad=ka(1),Yq=ka(2),Qq=ka(3),zs=ka(4),Xq=ka(5),Jq=ka(6);im.range;Ad.range;Yq.range;Qq.range;zs.range;Xq.range;Jq.range;const d1=ht(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());d1.range;const p1=ht(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());p1.range;const _i=ht(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());_i.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});_i.range;const wi=ht(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());wi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});wi.range;function XN(t,e,n,r,i,o){const a=[[ea,1,ni],[ea,5,5*ni],[ea,15,15*ni],[ea,30,30*ni],[o,1,Yn],[o,5,5*Yn],[o,15,15*Yn],[o,30,30*Yn],[i,1,ri],[i,3,3*ri],[i,6,6*ri],[i,12,12*ri],[r,1,yi],[r,2,2*yi],[n,1,l1],[e,1,_A],[e,3,3*_A],[t,1,Gg]];function s(u,c,h){const d=c<u;d&&([u,c]=[c,u]);const p=h&&typeof h.range=="function"?h:l(u,c,h),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,h){const d=Math.abs(c-u)/h,p=Yw(([,,_])=>_).right(a,d);if(p===a.length)return t.every(Jy(u/Gg,c/Gg,h));if(p===0)return Sd.every(Math.max(Jy(u,c,h),1));const[m,y]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return m.every(y)}return[s,l]}const[Zq,eG]=XN(wi,p1,im,QN,h1,c1),[tG,nG]=XN(_i,d1,rm,Cc,f1,u1);function Yg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ul(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rG(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Bl(i),c=zl(i),h=Bl(o),d=zl(o),p=Bl(a),m=zl(a),y=Bl(s),_=zl(s),v=Bl(l),w=zl(l),T={a:oe,A:z,b:q,B:te,c:null,d:PA,e:PA,f:AG,g:LG,G:VG,H:TG,I:SG,j:PG,L:JN,m:IG,M:xG,p:de,q:K,Q:xA,s:CA,S:CG,u:OG,U:kG,V:RG,w:NG,W:DG,x:null,X:null,y:MG,Y:jG,Z:$G,"%":IA},x={a:ue,A:bt,b:qe,B:ir,c:null,d:AA,e:AA,f:zG,g:ZG,G:tY,H:FG,I:UG,j:BG,L:eD,m:WG,M:KG,p:Vn,q:Tm,Q:xA,s:CA,S:HG,u:qG,U:GG,V:YG,w:QG,W:XG,x:null,X:null,y:JG,Y:eY,Z:nY,"%":IA},O={a:C,A:R,b:N,B:k,c:re,d:TA,e:TA,f:_G,g:bA,G:EA,H:SA,I:SA,j:mG,L:yG,m:pG,M:gG,p:I,q:dG,Q:EG,s:bG,S:vG,u:lG,U:uG,V:cG,w:sG,W:fG,x:he,X:Se,y:bA,Y:EA,Z:hG,"%":wG};T.x=D(n,T),T.X=D(r,T),T.c=D(e,T),x.x=D(n,x),x.X=D(r,x),x.c=D(e,x);function D(X,le){return function(ce){var U=[],dt=-1,Ee=0,Tt=X.length,Mt,Tr,Lc;for(ce instanceof Date||(ce=new Date(+ce));++dt<Tt;)X.charCodeAt(dt)===37&&(U.push(X.slice(Ee,dt)),(Tr=wA[Mt=X.charAt(++dt)])!=null?Mt=X.charAt(++dt):Tr=Mt==="e"?" ":"0",(Lc=le[Mt])&&(Mt=Lc(ce,Tr)),U.push(Mt),Ee=dt+1);return U.push(X.slice(Ee,dt)),U.join("")}}function P(X,le){return function(ce){var U=Ul(1900,void 0,1),dt=S(U,X,ce+="",0),Ee,Tt;if(dt!=ce.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(le&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(Ee=Qg(Ul(U.y,0,1)),Tt=Ee.getUTCDay(),Ee=Tt>4||Tt===0?Ad.ceil(Ee):Ad(Ee),Ee=nm.offset(Ee,(U.V-1)*7),U.y=Ee.getUTCFullYear(),U.m=Ee.getUTCMonth(),U.d=Ee.getUTCDate()+(U.w+6)%7):(Ee=Yg(Ul(U.y,0,1)),Tt=Ee.getDay(),Ee=Tt>4||Tt===0?Pd.ceil(Ee):Pd(Ee),Ee=Cc.offset(Ee,(U.V-1)*7),U.y=Ee.getFullYear(),U.m=Ee.getMonth(),U.d=Ee.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),Tt="Z"in U?Qg(Ul(U.y,0,1)).getUTCDay():Yg(Ul(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(Tt+5)%7:U.w+U.U*7-(Tt+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Qg(U)):Yg(U)}}function S(X,le,ce,U){for(var dt=0,Ee=le.length,Tt=ce.length,Mt,Tr;dt<Ee;){if(U>=Tt)return-1;if(Mt=le.charCodeAt(dt++),Mt===37){if(Mt=le.charAt(dt++),Tr=O[Mt in wA?le.charAt(dt++):Mt],!Tr||(U=Tr(X,ce,U))<0)return-1}else if(Mt!=ce.charCodeAt(U++))return-1}return U}function I(X,le,ce){var U=u.exec(le.slice(ce));return U?(X.p=c.get(U[0].toLowerCase()),ce+U[0].length):-1}function C(X,le,ce){var U=p.exec(le.slice(ce));return U?(X.w=m.get(U[0].toLowerCase()),ce+U[0].length):-1}function R(X,le,ce){var U=h.exec(le.slice(ce));return U?(X.w=d.get(U[0].toLowerCase()),ce+U[0].length):-1}function N(X,le,ce){var U=v.exec(le.slice(ce));return U?(X.m=w.get(U[0].toLowerCase()),ce+U[0].length):-1}function k(X,le,ce){var U=y.exec(le.slice(ce));return U?(X.m=_.get(U[0].toLowerCase()),ce+U[0].length):-1}function re(X,le,ce){return S(X,e,le,ce)}function he(X,le,ce){return S(X,n,le,ce)}function Se(X,le,ce){return S(X,r,le,ce)}function oe(X){return a[X.getDay()]}function z(X){return o[X.getDay()]}function q(X){return l[X.getMonth()]}function te(X){return s[X.getMonth()]}function de(X){return i[+(X.getHours()>=12)]}function K(X){return 1+~~(X.getMonth()/3)}function ue(X){return a[X.getUTCDay()]}function bt(X){return o[X.getUTCDay()]}function qe(X){return l[X.getUTCMonth()]}function ir(X){return s[X.getUTCMonth()]}function Vn(X){return i[+(X.getUTCHours()>=12)]}function Tm(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var le=D(X+="",T);return le.toString=function(){return X},le},parse:function(X){var le=P(X+="",!1);return le.toString=function(){return X},le},utcFormat:function(X){var le=D(X+="",x);return le.toString=function(){return X},le},utcParse:function(X){var le=P(X+="",!0);return le.toString=function(){return X},le}}}var wA={"-":"",_:" ",0:"0"},_t=/^\s*\d+/,iG=/^%/,oG=/[\\^$*+?|[\]().{}]/g;function we(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function aG(t){return t.replace(oG,"\\$&")}function Bl(t){return new RegExp("^(?:"+t.map(aG).join("|")+")","i")}function zl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sG(t,e,n){var r=_t.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lG(t,e,n){var r=_t.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function EA(t,e,n){var r=_t.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function bA(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hG(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dG(t,e,n){var r=_t.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function pG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TA(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mG(t,e,n){var r=_t.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function SA(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yG(t,e,n){var r=_t.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _G(t,e,n){var r=_t.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wG(t,e,n){var r=iG.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function EG(t,e,n){var r=_t.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bG(t,e,n){var r=_t.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function PA(t,e){return we(t.getDate(),e,2)}function TG(t,e){return we(t.getHours(),e,2)}function SG(t,e){return we(t.getHours()%12||12,e,2)}function PG(t,e){return we(1+Cc.count(_i(t),t),e,3)}function JN(t,e){return we(t.getMilliseconds(),e,3)}function AG(t,e){return JN(t,e)+"000"}function IG(t,e){return we(t.getMonth()+1,e,2)}function xG(t,e){return we(t.getMinutes(),e,2)}function CG(t,e){return we(t.getSeconds(),e,2)}function OG(t){var e=t.getDay();return e===0?7:e}function kG(t,e){return we(rm.count(_i(t)-1,t),e,2)}function ZN(t){var e=t.getDay();return e>=4||e===0?Bs(t):Bs.ceil(t)}function RG(t,e){return t=ZN(t),we(Bs.count(_i(t),t)+(_i(t).getDay()===4),e,2)}function NG(t){return t.getDay()}function DG(t,e){return we(Pd.count(_i(t)-1,t),e,2)}function MG(t,e){return we(t.getFullYear()%100,e,2)}function LG(t,e){return t=ZN(t),we(t.getFullYear()%100,e,2)}function jG(t,e){return we(t.getFullYear()%1e4,e,4)}function VG(t,e){var n=t.getDay();return t=n>=4||n===0?Bs(t):Bs.ceil(t),we(t.getFullYear()%1e4,e,4)}function $G(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+we(e/60|0,"0",2)+we(e%60,"0",2)}function AA(t,e){return we(t.getUTCDate(),e,2)}function FG(t,e){return we(t.getUTCHours(),e,2)}function UG(t,e){return we(t.getUTCHours()%12||12,e,2)}function BG(t,e){return we(1+nm.count(wi(t),t),e,3)}function eD(t,e){return we(t.getUTCMilliseconds(),e,3)}function zG(t,e){return eD(t,e)+"000"}function WG(t,e){return we(t.getUTCMonth()+1,e,2)}function KG(t,e){return we(t.getUTCMinutes(),e,2)}function HG(t,e){return we(t.getUTCSeconds(),e,2)}function qG(t){var e=t.getUTCDay();return e===0?7:e}function GG(t,e){return we(im.count(wi(t)-1,t),e,2)}function tD(t){var e=t.getUTCDay();return e>=4||e===0?zs(t):zs.ceil(t)}function YG(t,e){return t=tD(t),we(zs.count(wi(t),t)+(wi(t).getUTCDay()===4),e,2)}function QG(t){return t.getUTCDay()}function XG(t,e){return we(Ad.count(wi(t)-1,t),e,2)}function JG(t,e){return we(t.getUTCFullYear()%100,e,2)}function ZG(t,e){return t=tD(t),we(t.getUTCFullYear()%100,e,2)}function eY(t,e){return we(t.getUTCFullYear()%1e4,e,4)}function tY(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zs(t):zs.ceil(t),we(t.getUTCFullYear()%1e4,e,4)}function nY(){return"+0000"}function IA(){return"%"}function xA(t){return+t}function CA(t){return Math.floor(+t/1e3)}var Fa,nD,rD;rY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rY(t){return Fa=rG(t),nD=Fa.format,Fa.parse,rD=Fa.utcFormat,Fa.utcParse,Fa}function iY(t){return new Date(t)}function oY(t){return t instanceof Date?+t:+new Date(+t)}function m1(t,e,n,r,i,o,a,s,l,u){var c=t1(),h=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),y=u("%I:%M"),_=u("%I %p"),v=u("%a %d"),w=u("%b %d"),T=u("%B"),x=u("%Y");function O(D){return(l(D)<D?p:s(D)<D?m:a(D)<D?y:o(D)<D?_:r(D)<D?i(D)<D?v:w:n(D)<D?T:x)(D)}return c.invert=function(D){return new Date(h(D))},c.domain=function(D){return arguments.length?d(Array.from(D,oY)):d().map(iY)},c.ticks=function(D){var P=d();return t(P[0],P[P.length-1],D??10)},c.tickFormat=function(D,P){return P==null?O:u(P)},c.nice=function(D){var P=d();return(!D||typeof D.range!="function")&&(D=e(P[0],P[P.length-1],D??10)),D?d(zN(P,D)):c},c.copy=function(){return xc(c,m1(t,e,n,r,i,o,a,s,l,u))},c}function aY(){return rr.apply(m1(tG,nG,_i,d1,rm,Cc,f1,u1,ea,nD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sY(){return rr.apply(m1(Zq,eG,wi,p1,im,nm,h1,c1,ea,rD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var t=0,e=1,n,r,i,o,a=tn,s=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(a=h,u):a};function c(h){return function(d){var p,m;return arguments.length?([p,m]=d,a=h(p,m),u):[a(0),a(1)]}}return u.range=c(ll),u.rangeRound=c(e1),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Ro(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iD(){var t=ko(om()(tn));return t.copy=function(){return Ro(t,iD())},xi.apply(t,arguments)}function oD(){var t=i1(om()).domain([1,10]);return t.copy=function(){return Ro(t,oD()).base(t.base())},xi.apply(t,arguments)}function aD(){var t=o1(om());return t.copy=function(){return Ro(t,aD()).constant(t.constant())},xi.apply(t,arguments)}function g1(){var t=a1(om());return t.copy=function(){return Ro(t,g1()).exponent(t.exponent())},xi.apply(t,arguments)}function lY(){return g1.apply(null,arguments).exponent(.5)}function sD(){var t=[],e=tn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ac(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ho),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>qH(t,o/r))},n.copy=function(){return sD(e).domain(t)},xi.apply(n,arguments)}function am(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=tn,c,h=!1,d;function p(y){return isNaN(y=+y)?d:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(h?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(h=!!y,p):h},p.interpolator=function(y){return arguments.length?(u=y,p):u};function m(y){return function(_){var v,w,T;return arguments.length?([v,w,T]=_,u=wq(y,[v,w,T]),p):[u(0),u(.5),u(1)]}}return p.range=m(ll),p.rangeRound=m(e1),p.unknown=function(y){return arguments.length?(d=y,p):d},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function lD(){var t=ko(am()(tn));return t.copy=function(){return Ro(t,lD())},xi.apply(t,arguments)}function uD(){var t=i1(am()).domain([.1,1,10]);return t.copy=function(){return Ro(t,uD()).base(t.base())},xi.apply(t,arguments)}function cD(){var t=o1(am());return t.copy=function(){return Ro(t,cD()).constant(t.constant())},xi.apply(t,arguments)}function v1(){var t=a1(am());return t.copy=function(){return Ro(t,v1()).exponent(t.exponent())},xi.apply(t,arguments)}function uY(){return v1.apply(null,arguments).exponent(.5)}const tu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xw,scaleDiverging:lD,scaleDivergingLog:uD,scaleDivergingPow:v1,scaleDivergingSqrt:uY,scaleDivergingSymlog:cD,scaleIdentity:BN,scaleImplicit:Zy,scaleLinear:UN,scaleLog:WN,scaleOrdinal:Qw,scalePoint:QH,scalePow:s1,scaleQuantile:qN,scaleQuantize:GN,scaleRadial:HN,scaleSequential:iD,scaleSequentialLog:oD,scaleSequentialPow:g1,scaleSequentialQuantile:sD,scaleSequentialSqrt:lY,scaleSequentialSymlog:aD,scaleSqrt:zq,scaleSymlog:KN,scaleThreshold:YN,scaleTime:aY,scaleUtc:sY,tickFormat:FN},Symbol.toStringTag,{value:"Module"}));var Ra=t=>t.chartData,cY=V([Ra],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),y1=(t,e,n,r)=>r?cY(t):Ra(t);function Ws(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Mn(e)&&Mn(n))return!0}return!1}function OA(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function fY(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Mn(n))i=n;else if(typeof n=="function")return;if(Mn(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(Ws(a))return a}}function hY(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ws(r))return OA(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,s;if(i==="auto")e!=null&&(a=Math.min(...e));else if(J(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&AP.test(i)){var l=AP.exec(i);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(s=Math.max(...e));else if(J(o))s=o;else if(typeof o=="function")try{e!=null&&(s=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&IP.test(o)){var c=IP.exec(o);if(c==null||e==null)s=void 0;else{var h=+c[1];s=e[1]+h}}else s=e==null?void 0:e[1];var d=[a,s];if(Ws(d))return e==null?d:OA(d,e,n)}}}var ul=1e9,dY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},w1,Be=!0,er="[DecimalError] ",ua=er+"Invalid argument: ",_1=er+"Exponent out of range: ",cl=Math.floor,Ko=Math.pow,pY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn,mt=1e7,je=7,fD=9007199254740991,Id=cl(fD/je),Q={};Q.absoluteValue=Q.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Q.comparedTo=Q.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Q.decimalPlaces=Q.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*je;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Q.dividedBy=Q.div=function(t){return si(this,new this.constructor(t))};Q.dividedToIntegerBy=Q.idiv=function(t){var e=this,n=e.constructor;return Oe(si(e,new n(t),0,1),n.precision)};Q.equals=Q.eq=function(t){return!this.cmp(t)};Q.exponent=function(){return at(this)};Q.greaterThan=Q.gt=function(t){return this.cmp(t)>0};Q.greaterThanOrEqualTo=Q.gte=function(t){return this.cmp(t)>=0};Q.isInteger=Q.isint=function(){return this.e>this.d.length-2};Q.isNegative=Q.isneg=function(){return this.s<0};Q.isPositive=Q.ispos=function(){return this.s>0};Q.isZero=function(){return this.s===0};Q.lessThan=Q.lt=function(t){return this.cmp(t)<0};Q.lessThanOrEqualTo=Q.lte=function(t){return this.cmp(t)<1};Q.logarithm=Q.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pn))throw Error(er+"NaN");if(n.s<1)throw Error(er+(n.s?"NaN":"-Infinity"));return n.eq(Pn)?new r(0):(Be=!1,e=si(ic(n,o),ic(t,o),o),Be=!0,Oe(e,i))};Q.minus=Q.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pD(e,t):hD(e,(t.s=-t.s,t))};Q.modulo=Q.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(er+"NaN");return n.s?(Be=!1,e=si(n,t,0,1).times(t),Be=!0,n.minus(e)):Oe(new r(n),i)};Q.naturalExponential=Q.exp=function(){return dD(this)};Q.naturalLogarithm=Q.ln=function(){return ic(this)};Q.negated=Q.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Q.plus=Q.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hD(e,t):pD(e,(t.s=-t.s,t))};Q.precision=Q.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ua+t);if(e=at(i)+1,r=i.d.length-1,n=r*je+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Q.squareRoot=Q.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(er+"NaN")}for(t=at(s),Be=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Cr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(si(s,o,a+2)).times(.5),Cr(o.d).slice(0,a)===(e=Cr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Oe(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Be=!0,Oe(r,n)};Q.times=Q.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,h=c.constructor,d=c.d,p=(t=new h(t)).d;if(!c.s||!t.s)return new h(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%mt|0,e=s/mt|0;o[i]=(o[i]+e)%mt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Be?Oe(t,h.precision):t};Q.toDecimalPlaces=Q.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Br(t,0,ul),e===void 0?e=r.rounding:Br(e,0,8),Oe(n,t+at(n)+1,e))};Q.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Sa(r,!0):(Br(t,0,ul),e===void 0?e=i.rounding:Br(e,0,8),r=Oe(new i(r),t+1,e),n=Sa(r,!0,t+1)),n};Q.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Sa(i):(Br(t,0,ul),e===void 0?e=o.rounding:Br(e,0,8),r=Oe(new o(i),t+at(i)+1,e),n=Sa(r.abs(),!1,t+at(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Q.toInteger=Q.toint=function(){var t=this,e=t.constructor;return Oe(new e(t),at(t)+1,e.rounding)};Q.toNumber=function(){return+this};Q.toPower=Q.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Pn);if(s=new l(s),!s.s){if(t.s<1)throw Error(er+"Infinity");return s}if(s.eq(Pn))return s;if(r=l.precision,t.eq(Pn))return Oe(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=fD){for(i=new l(Pn),e=Math.ceil(r/je+4),Be=!1;n%2&&(i=i.times(s),RA(i.d,e)),n=cl(n/2),n!==0;)s=s.times(s),RA(s.d,e);return Be=!0,t.s<0?new l(Pn).div(i):Oe(i,r)}}else if(o<0)throw Error(er+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Be=!1,i=t.times(ic(s,r+u)),Be=!0,i=dD(i),i.s=o,i};Q.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=at(i),r=Sa(i,n<=o.toExpNeg||n>=o.toExpPos)):(Br(t,1,ul),e===void 0?e=o.rounding:Br(e,0,8),i=Oe(new o(i),t,e),n=at(i),r=Sa(i,t<=n||n<=o.toExpNeg,t)),r};Q.toSignificantDigits=Q.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Br(t,1,ul),e===void 0?e=r.rounding:Br(e,0,8)),Oe(new r(n),t,e)};Q.toString=Q.valueOf=Q.val=Q.toJSON=Q[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=at(t),n=t.constructor;return Sa(t,e<=n.toExpNeg||e>=n.toExpPos)};function hD(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,h=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Be?Oe(e,h):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(h/je),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/mt|0,l[o]%=mt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Be?Oe(e,h):e}function Br(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ua+t)}function Cr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=je-r.length,n&&(o+=Fi(n)),o+=r;a=t[e],r=a+"",n=je-r.length,n&&(o+=Fi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var si=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%mt|0,a=o/mt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*mt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,h,d,p,m,y,_,v,w,T,x,O,D,P,S,I=r.constructor,C=r.s==i.s?1:-1,R=r.d,N=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(er+"Division by zero");for(l=r.e-i.e,P=N.length,O=R.length,p=new I(C),m=p.d=[],u=0;N[u]==(R[u]||0);)++u;if(N[u]>(R[u]||0)&&--l,o==null?w=o=I.precision:a?w=o+(at(r)-at(i))+1:w=o,w<0)return new I(0);if(w=w/je+2|0,u=0,P==1)for(c=0,N=N[0],w++;(u<O||c)&&w--;u++)T=c*mt+(R[u]||0),m[u]=T/N|0,c=T%N|0;else{for(c=mt/(N[0]+1)|0,c>1&&(N=t(N,c),R=t(R,c),P=N.length,O=R.length),x=P,y=R.slice(0,P),_=y.length;_<P;)y[_++]=0;S=N.slice(),S.unshift(0),D=N[0],N[1]>=mt/2&&++D;do c=0,s=e(N,y,P,_),s<0?(v=y[0],P!=_&&(v=v*mt+(y[1]||0)),c=v/D|0,c>1?(c>=mt&&(c=mt-1),h=t(N,c),d=h.length,_=y.length,s=e(h,y,d,_),s==1&&(c--,n(h,P<d?S:N,d))):(c==0&&(s=c=1),h=N.slice()),d=h.length,d<_&&h.unshift(0),n(y,h,_),s==-1&&(_=y.length,s=e(N,y,P,_),s<1&&(c++,n(y,P<_?S:N,_))),_=y.length):s===0&&(c++,y=[0]),m[u++]=c,s&&y[0]?y[_++]=R[x]||0:(y=[R[x]],_=1);while((x++<O||y[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,Oe(p,a?o+at(p)+1:o)}}();function dD(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,h=c.precision;if(at(t)>16)throw Error(_1+at(t));if(!t.s)return new c(Pn);for(e==null?(Be=!1,s=h):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ko(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Pn),c.precision=s;;){if(i=Oe(i.times(t),s),n=n.times(++l),a=o.plus(si(i,n,s)),Cr(a.d).slice(0,s)===Cr(o.d).slice(0,s)){for(;u--;)o=Oe(o.times(o),s);return c.precision=h,e==null?(Be=!0,Oe(o,h)):o}o=a}}function at(t){for(var e=t.e*je,n=t.d[0];n>=10;n/=10)e++;return e}function Xg(t,e,n){if(e>t.LN10.sd())throw Be=!0,n&&(t.precision=n),Error(er+"LN10 precision limit exceeded");return Oe(new t(t.LN10),e)}function Fi(t){for(var e="";t--;)e+="0";return e}function ic(t,e){var n,r,i,o,a,s,l,u,c,h=1,d=10,p=t,m=p.d,y=p.constructor,_=y.precision;if(p.s<1)throw Error(er+(p.s?"NaN":"-Infinity"));if(p.eq(Pn))return new y(0);if(e==null?(Be=!1,u=_):u=e,p.eq(10))return e==null&&(Be=!0),Xg(y,u);if(u+=d,y.precision=u,n=Cr(m),r=n.charAt(0),o=at(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Cr(p.d),r=n.charAt(0),h++;o=at(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1))}else return l=Xg(y,u+2,_).times(o+""),p=ic(new y(r+"."+n.slice(1)),u-d).plus(l),y.precision=_,e==null?(Be=!0,Oe(p,_)):p;for(s=a=p=si(p.minus(Pn),p.plus(Pn),u),c=Oe(p.times(p),u),i=3;;){if(a=Oe(a.times(c),u),l=s.plus(si(a,new y(i),u)),Cr(l.d).slice(0,u)===Cr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Xg(y,u+2,_).times(o+""))),s=si(s,new y(h),u),y.precision=_,e==null?(Be=!0,Oe(s,_)):s;s=l,i+=2}}function kA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cl(n/je),t.d=[],r=(n+1)%je,n<0&&(r+=je),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=je;r<i;)t.d.push(+e.slice(r,r+=je));e=e.slice(r),r=je-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Be&&(t.e>Id||t.e<-Id))throw Error(_1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Oe(t,e,n){var r,i,o,a,s,l,u,c,h=t.d;for(a=1,o=h[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=je,i=e,u=h[c=0];else{if(c=Math.ceil((r+1)/je),o=h.length,c>=o)return t;for(u=o=h[c],a=1;o>=10;o/=10)a++;r%=je,i=r-je+a}if(n!==void 0&&(o=Ko(10,a-i-1),s=u/o%10|0,l=e<0||h[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ko(10,a-i):0:h[c-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(o=at(t),h.length=1,e=e-o-1,h[0]=Ko(10,(je-e%je)%je),t.e=cl(-e/je)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=c,o=1,c--):(h.length=c+1,o=Ko(10,je-r),h[c]=i>0?(u/Ko(10,a-i)%Ko(10,i)|0)*o:0),l)for(;;)if(c==0){(h[0]+=o)==mt&&(h[0]=1,++t.e);break}else{if(h[c]+=o,h[c]!=mt)break;h[c--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(Be&&(t.e>Id||t.e<-Id))throw Error(_1+at(t));return t}function pD(t,e){var n,r,i,o,a,s,l,u,c,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Be?Oe(e,p):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=h.length):(n=h,r=u,s=l.length),i=Math.max(Math.ceil(p/je),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=h.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){c=l[i]<h[i];break}a=0}for(c&&(n=l,l=h,h=n,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=mt-1;--l[o],l[i]+=mt}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Be?Oe(e,p):e):new d(0)}function Sa(t,e,n){var r,i=at(t),o=Cr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Fi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Fi(-i-1)+o,n&&(r=n-a)>0&&(o+=Fi(r))):i>=a?(o+=Fi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Fi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Fi(r))),t.s<0?"-"+o:o}function RA(t,e){if(t.length>e)return t.length=e,!0}function mD(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ua+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return kA(a,o.toString())}else if(typeof o!="string")throw Error(ua+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,pY.test(o))kA(a,o);else throw Error(ua+o)}if(i.prototype=Q,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mD,i.config=i.set=mY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mY(t){if(!t||typeof t!="object")throw Error(er+"Object expected");var e,n,r,i=["precision",1,ul,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ua+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ua+n+": "+r);return this}var w1=mD(dY);Pn=new w1(1);const Pe=w1;var gY=t=>t,gD={"@@functional/placeholder":!0},vD=t=>t===gD,NA=t=>function e(){return arguments.length===0||arguments.length===1&&vD(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},yD=(t,e)=>t===1?e:NA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==gD).length;return o>=t?e(...r):yD(t-o,NA(function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var u=r.map(c=>vD(c)?s.shift():c);return e(...u,...s)}))}),sm=t=>yD(t.length,t),r0=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},vY=sm((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),yY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return gY;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((s,l)=>l(s),o(...arguments))}},i0=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),_D=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((a,s)=>{var l;return a===((l=e)===null||l===void 0?void 0:l[s])})||(e=i,n=t(...i)),n}};function wD(t){var e;return t===0?e=1:e=Math.floor(new Pe(t).abs().log(10).toNumber())+1,e}function ED(t,e,n){for(var r=new Pe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}sm((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});sm((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});sm((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var bD=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},TD=(t,e,n)=>{if(t.lte(0))return new Pe(0);var r=wD(t.toNumber()),i=new Pe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Pe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?new Pe(l.toNumber()):new Pe(Math.ceil(l.toNumber()))},_Y=(t,e,n)=>{var r=new Pe(1),i=new Pe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Pe(10).pow(wD(t)-1),i=new Pe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Pe(Math.floor(t)))}else t===0?i=new Pe(Math.floor((e-1)/2)):n||(i=new Pe(Math.floor(t)));var a=Math.floor((e-1)/2),s=yY(vY(l=>i.add(new Pe(l-a).mul(r)).toNumber()),r0);return s(0,e)},SD=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Pe(0),tickMin:new Pe(0),tickMax:new Pe(0)};var a=TD(new Pe(n).sub(e).div(r-1),i,o),s;e<=0&&n>=0?s=new Pe(0):(s=new Pe(e).add(n).div(2),s=s.sub(new Pe(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),u=Math.ceil(new Pe(n).sub(s).div(a).toNumber()),c=l+u+1;return c>r?SD(e,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:a,tickMin:s.sub(new Pe(l).mul(a)),tickMax:s.add(new Pe(u).mul(a))})};function wY(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[a,s]=bD([e,n]);if(a===-1/0||s===1/0){var l=s===1/0?[a,...r0(0,r-1).map(()=>1/0)]:[...r0(0,r-1).map(()=>-1/0),s];return e>n?i0(l):l}if(a===s)return _Y(a,r,i);var{step:u,tickMin:c,tickMax:h}=SD(a,s,o,i,0),d=ED(c,h.add(new Pe(.1).mul(u)),u);return e>n?i0(d):d}function EY(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=bD([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var s=Math.max(e,2),l=TD(new Pe(a).sub(o).div(s-1),i,0),u=[...ED(new Pe(o),new Pe(a),l),a];return i===!1&&(u=u.map(c=>Math.round(c))),n>r?i0(u):u}var bY=_D(wY),TY=_D(EY),PD=t=>t.rootProps.maxBarSize,SY=t=>t.rootProps.barGap,AD=t=>t.rootProps.barCategoryGap,PY=t=>t.rootProps.barSize,lm=t=>t.rootProps.stackOffset,E1=t=>t.options.chartName,b1=t=>t.rootProps.syncId,ID=t=>t.rootProps.syncMethod,T1=t=>t.options.eventEmitter,Qr={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Tn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},um=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},AY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qr.angleAxisId,includeHidden:!1,name:void 0,reversed:Qr.reversed,scale:Qr.scale,tick:Qr.tick,tickCount:void 0,ticks:void 0,type:Qr.type,unit:void 0},IY={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tn.scale,tick:Tn.tick,tickCount:Tn.tickCount,ticks:void 0,type:Tn.type,unit:void 0},xY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qr.scale,tick:Qr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},CY={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tn.scale,tick:Tn.tick,tickCount:Tn.tickCount,ticks:void 0,type:"category",unit:void 0},S1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?xY:AY,P1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?CY:IY,cm=t=>t.polarOptions,A1=V([Pi,Ai,yt],IW),xD=V([cm,A1],(t,e)=>{if(t!=null)return wr(t.innerRadius,e,0)}),CD=V([cm,A1],(t,e)=>{if(t!=null)return wr(t.outerRadius,e,e*.8)}),OY=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},OD=V([cm],OY);V([S1,OD],um);var kD=V([A1,xD,CD],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});V([P1,kD],um);var kY=V([xe,cm,xD,CD,Pi,Ai],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:s,startAngle:l,endAngle:u}=e;return{cx:wr(a,i,i/2),cy:wr(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),wt=(t,e)=>e,fm=(t,e,n)=>n;function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){RY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RY(t,e,n){return(e=NY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NY(t){var e=DY(t,"string");return typeof e=="symbol"?e:e+""}function DY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o0=[0,"auto"],wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ci=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??wn},En={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:o0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qp},No=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??En},MY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},I1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??MY},yn=(t,e,n)=>{switch(e){case"xAxis":return Ci(t,n);case"yAxis":return No(t,n);case"zAxis":return I1(t,n);case"angleAxis":return S1(t,n);case"radiusAxis":return P1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},LY=(t,e,n)=>{switch(e){case"xAxis":return Ci(t,n);case"yAxis":return No(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Oc=(t,e,n)=>{switch(e){case"xAxis":return Ci(t,n);case"yAxis":return No(t,n);case"angleAxis":return S1(t,n);case"radiusAxis":return P1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},RD=t=>t.graphicalItems.countOfBars>0;function ND(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var hm=t=>t.graphicalItems.cartesianItems,jY=V([wt,fm],ND),DD=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),kc=V([hm,yn,jY],DD),MD=t=>t.filter(e=>e.stackId===void 0),VY=V([kc],MD),LD=t=>t.map(e=>e.data).filter(Boolean).flat(1),$Y=V([kc],LD),jD=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},dm=V([$Y,y1],jD),VD=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Gt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Gt(i,r)}))):t.map(r=>({value:r})),pm=V([dm,yn,kc],VD);function $D(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Na(t){return t.filter(e=>Ur(e)||e instanceof Date).map(Number).filter(e=>kn(e)===!1)}function FY(t,e,n){return!n||typeof e!="number"||kn(e)?[]:n.length?Na(n.flatMap(r=>{var i=Gt(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!Mn(o)||!Mn(a)))return[e-o,e+a]})):[]}var FD=(t,e,n)=>{var r={},i=e.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[a,s]=o,l=s.map(u=>u.dataKey);return[a,{stackedData:zW(t,l,n),graphicalItems:s}]}))},a0=V([dm,kc,lm],FD),UD=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=qW(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},UY=V([a0,Ra,wt],UD),BD=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(o=>{var a,s,l=(a=o.errorBars)===null||a===void 0?void 0:a.filter(c=>$D(r,c)),u=Gt(i,(s=e.dataKey)!==null&&s!==void 0?s:o.dataKey);return{value:u,errorDomain:FY(i,u,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:Gt(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),BY=V(dm,yn,VY,wt,BD);function zY(t){var{value:e}=t;if(Ur(e)||e instanceof Date)return e}var WY=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Na(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},KY=(t,e,n)=>{var r=t.map(zY).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&UR(r))?ON(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},x1=t=>{var e;if(t==null||!("domain"in t))return o0;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Na(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:o0},C1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),s=Math.max(...o);return[a,s]}},zD=t=>t.referenceElements.dots,fl=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),HY=V([zD,wt,fm],fl),WD=t=>t.referenceElements.areas,qY=V([WD,wt,fm],fl),KD=t=>t.referenceElements.lines,GY=V([KD,wt,fm],fl),HD=(t,e)=>{var n=Na(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},YY=V(HY,wt,HD),qD=(t,e)=>{var n=Na(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},QY=V([qY,wt],qD),GD=(t,e)=>{var n=Na(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},XY=V(GY,wt,GD),JY=V(YY,XY,QY,(t,e,n)=>C1(t,n,e)),ZY=V([yn],x1),YD=(t,e,n,r,i)=>{var o=fY(e,t.allowDataOverflow);return o??hY(e,C1(n,i,WY(r)),t.allowDataOverflow)},eQ=V([yn,ZY,UY,BY,JY],YD),tQ=[0,1],QD=(t,e,n,r,i,o,a)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:s,type:l}=t,u=Oo(e,o);return u&&s==null?ON(0,n.length):l==="category"?KY(r,t,u):i==="expand"?tQ:a}},O1=V([yn,xe,dm,pm,lm,wt,eQ],QD),XD=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var s="scale".concat(Sc(o));return s in tu?s:"point"}}},Rc=V([yn,xe,RD,E1,wt],XD);function nQ(t){if(t!=null){if(t in tu)return tu[t]();var e="scale".concat(Sc(t));if(e in tu)return tu[e]()}}function k1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=nQ(e);if(i!=null){var o=i.domain(n).range(r);return VW(o),o}}}var JD=(t,e,n)=>{var r=x1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ws(t))return bY(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ws(t))return TY(t,e.tickCount,e.allowDecimals)}},R1=V([O1,Oc,Rc],JD),ZD=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ws(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],s=n[n.length-1];return[Math.min(i,o),Math.max(a,s)]}return e},rQ=V([yn,O1,R1,wt],ZD),iQ=V(pm,yn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Na(t.map(s=>s.value))).sort((s,l)=>s-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),eM=V(iQ,xe,AD,yt,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Mn(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=wr(n,t*o),s=t*o/2;return s-a-(s-a)/o*a}return 0}),oQ=(t,e)=>{var n=Ci(t,e);return n==null||typeof n.padding!="string"?0:eM(t,"xAxis",e,n.padding)},aQ=(t,e)=>{var n=No(t,e);return n==null||typeof n.padding!="string"?0:eM(t,"yAxis",e,n.padding)},sQ=V(Ci,oQ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),lQ=V(No,aQ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),uQ=V([yt,sQ,Jp,Xp,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),cQ=V([yt,xe,lQ,Jp,Xp,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Nc=(t,e,n,r)=>{var i;switch(e){case"xAxis":return uQ(t,n,r);case"yAxis":return cQ(t,n,r);case"zAxis":return(i=I1(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return OD(t);case"radiusAxis":return kD(t,n);default:return}},tM=V([yn,Nc],um),hl=V([yn,Rc,rQ,tM],k1);V(kc,wt,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>$D(e,n)));function nM(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var mm=(t,e)=>e,gm=(t,e,n)=>n,fQ=V(Bw,mm,gm,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(nM)),hQ=V(zw,mm,gm,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(nM)),rM=(t,e)=>({width:t.width,height:e.height}),dQ=(t,e)=>{var n=typeof e.width=="number"?e.width:Qp;return{width:n,height:t.height}},iM=V(yt,Ci,rM),pQ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},mQ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},gQ=V(Ai,yt,fQ,mm,gm,(t,e,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=rM(e,s);a==null&&(a=pQ(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;o[s.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),o}),vQ=V(Pi,yt,hQ,mm,gm,(t,e,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=dQ(e,s);a==null&&(a=mQ(e,r,t));var u=r==="left"&&!i||r==="right"&&i;o[s.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),o}),yQ=(t,e)=>{var n=yt(t),r=Ci(t,e);if(r!=null){var i=gQ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},_Q=(t,e)=>{var n=yt(t),r=No(t,e);if(r!=null){var i=vQ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},oM=V(yt,No,(t,e)=>{var n=typeof e.width=="number"?e.width:Qp;return{width:n,height:t.height}}),MA=(t,e,n)=>{switch(e){case"xAxis":return iM(t,n).width;case"yAxis":return oM(t,n).height;default:return}},aM=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=Oo(t,r),l=e.map(u=>u.value);if(a&&s&&o==="category"&&i&&UR(l))return l}},N1=V([xe,pm,yn,wt],aM),sM=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=Oo(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(s=>s.value)}},D1=V([xe,pm,Oc,wt],sM),LA=V([xe,LY,Rc,hl,N1,D1,Nc,R1,wt],(t,e,n,r,i,o,a,s,l)=>{if(e==null)return null;var u=Oo(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:s,range:a,realScaleType:n,scale:r}}),wQ=(t,e,n,r,i,o,a,s,l)=>{if(!(e==null||r==null)){var u=Oo(t,l),{type:c,ticks:h,tickCount:d}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&o!=null&&o.length>=2?hn(o[0]-o[1])*2*m:m;var y=h||i;if(y){var _=y.map((v,w)=>{var T=a?a.indexOf(v):v;return{index:w,coordinate:r(T)+m,value:v,offset:m}});return _.filter(v=>!kn(v.coordinate))}return u&&s?s.map((v,w)=>({coordinate:r(v)+m,value:v,index:w,offset:m})):r.ticks?r.ticks(d).map(v=>({coordinate:r(v)+m,value:v,offset:m})):r.domain().map((v,w)=>({coordinate:r(v)+m,value:a?a[v]:v,index:w,offset:m}))}},lM=V([xe,Oc,Rc,hl,R1,Nc,N1,D1,wt],wQ),EQ=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var s=Oo(t,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?hn(r[0]-r[1])*2*u:u,s&&o?o.map((c,h)=>({coordinate:n(c)+u,value:c,index:h,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,h)=>({coordinate:n(c)+u,value:i?i[c]:c,index:h,offset:u}))}},To=V([xe,Oc,hl,Nc,N1,D1,wt],EQ),zr=V(yn,hl,(t,e)=>{if(!(t==null||e==null))return xd(xd({},t),{},{scale:e})}),bQ=V([yn,Rc,O1,tM],k1);V((t,e,n)=>I1(t,n),bQ,(t,e)=>{if(!(t==null||e==null))return xd(xd({},t),{},{scale:e})});var TQ=V([xe,Bw,zw],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),uM=t=>t.options.defaultTooltipEventType,cM=t=>t.options.validateTooltipEventTypes;function fM(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function M1(t,e){var n=uM(t),r=cM(t);return fM(e,n,r)}function SQ(t){return ee(e=>M1(e,t))}var hM=(t,e)=>{var n,r=Number(e);if(!(kn(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},PQ=t=>t.tooltip.settings,Hi={active:!1,index:null,dataKey:void 0,coordinate:void 0},AQ={itemInteraction:{click:Hi,hover:Hi},axisInteraction:{click:Hi,hover:Hi},keyboardInteraction:Hi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},dM=nr({name:"tooltip",initialState:AQ,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=ai(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:IQ,removeTooltipEntrySettings:xQ,setTooltipSettingsState:CQ,setActiveMouseOverItemIndex:pM,mouseLeaveItem:OQ,mouseLeaveChart:mM,setActiveClickItemIndex:kQ,setMouseOverAxisIndex:gM,setMouseClickAxisIndex:RQ,setSyncInteraction:s0,setKeyboardInteraction:l0}=dM.actions,NQ=dM.reducer;function jA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(n),!0).forEach(function(r){DQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e,n){return(e=MQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MQ(t){var e=LQ(t,"string");return typeof e=="symbol"?e:e+""}function LQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function VQ(t){return t.index!=null}var vM=(t,e,n,r)=>{if(e==null)return Hi;var i=jQ(t,e,n);if(i==null)return Hi;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(VQ(i)){if(o)return Df(Df({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Df(Df({},Hi),{},{coordinate:i.coordinate})},L1=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Mn(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},yM=(t,e,n,r,i,o,a,s)=>{if(!(o==null||s==null)){var l=a[0],u=l==null?void 0:s(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:c.coordinate}}}},_M=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},Dc=t=>t.options.tooltipPayloadSearcher,dl=t=>t.tooltip;function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return(e=FQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQ(t){var e=UQ(t,"string");return typeof e=="symbol"?e:e+""}function UQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BQ(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function zQ(t,e){return t??e}var wM=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,h=[];return t.reduce((d,p)=>{var m,{dataDefinedOnItem:y,settings:_}=p,v=zQ(y,s),w=BQ(v,u,c),T=(m=_==null?void 0:_.dataKey)!==null&&m!==void 0?m:r==null?void 0:r.dataKey,x=_==null?void 0:_.nameKey,O;if(r!=null&&r.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?O=BR(w,r.dataKey,i):O=o(w,e,l,x),Array.isArray(O))O.forEach(P=>{var S=$A($A({},_),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});d.push(xP({tooltipEntrySettings:S,dataKey:P.dataKey,payload:P.payload,value:Gt(P.payload,P.dataKey),name:P.name}))});else{var D;d.push(xP({tooltipEntrySettings:_,dataKey:T,payload:O,value:Gt(O,T),name:(D=Gt(O,x))!==null&&D!==void 0?D:_==null?void 0:_.name}))}return d},h)}},Et=t=>{var e=xe(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},pl=t=>t.tooltip.settings.axisId,Dt=t=>{var e=Et(t),n=pl(t);return Oc(t,e,n)},j1=V([Dt,xe,RD,E1,Et],XD),WQ=V([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),KQ=V([Et,pl],ND),vm=V([WQ,Dt,KQ],DD),HQ=V([vm],LD),Da=V([HQ,Ra],jD),V1=V([Da,Dt,vm],VD),qQ=V([Dt],x1),GQ=V([Da,vm,lm],FD),YQ=V([GQ,Ra,Et],UD),QQ=V([vm],MD),XQ=V([Da,Dt,QQ,Et],BD),JQ=V([zD,Et,pl],fl),ZQ=V([JQ,Et],HD),eX=V([WD,Et,pl],fl),tX=V([eX,Et],qD),nX=V([KD,Et,pl],fl),rX=V([nX,Et],GD),iX=V([ZQ,rX,tX],C1),oX=V([Dt,qQ,YQ,XQ,iX],YD),EM=V([Dt,xe,Da,V1,lm,Et,oX],QD),aX=V([EM,Dt,j1],JD),sX=V([Dt,EM,aX,Et],ZD),bM=t=>{var e=Et(t),n=pl(t),r=!1;return Nc(t,e,n,r)},TM=V([Dt,bM],um),SM=V([Dt,j1,sX,TM],k1),lX=V([xe,V1,Dt,Et],aM),uX=V([xe,V1,Dt,Et],sM),cX=(t,e,n,r,i,o,a,s)=>{if(e){var{type:l}=e,u=Oo(t,s);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return h=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?hn(i[0]-i[1])*2*h:h,u&&a?a.map((d,p)=>({coordinate:r(d)+h,value:d,index:p,offset:h})):r.domain().map((d,p)=>({coordinate:r(d)+h,value:o?o[d]:d,index:p,offset:h}))}}},Oi=V([xe,Dt,j1,SM,bM,lX,uX,Et],cX),$1=V([uM,cM,PQ],(t,e,n)=>fM(n.shared,t,e)),PM=t=>t.tooltip.settings.trigger,F1=t=>t.tooltip.settings.defaultIndex,ym=V([dl,$1,PM,F1],vM),Pa=V([ym,Da],L1),AM=V([Oi,Pa],hM),IM=V([ym],t=>{if(t)return t.dataKey}),xM=V([dl,$1,PM,F1],_M),fX=V([Pi,Ai,xe,yt,Oi,F1,xM,Dc],yM),hX=V([ym,fX],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),dX=V([ym],t=>t.active),pX=V([xM,Pa,Ra,Dt,AM,Dc,$1],wM),mX=V([pX],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){gX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gX(t,e,n){return(e=vX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vX(t){var e=yX(t,"string");return typeof e=="symbol"?e:e+""}function yX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _X=()=>ee(Dt),wX=()=>{var t=_X(),e=ee(Oi),n=ee(SM);return Ju(UA(UA({},t),{},{scale:n}),e)},EX=()=>ee(E1),U1=(t,e)=>e,CM=(t,e,n)=>n,B1=(t,e,n,r)=>r,bX=V(Oi,t=>Bp(t,e=>e.coordinate)),z1=V([dl,U1,CM,B1],vM),OM=V([z1,Da],L1),TX=(t,e,n)=>{if(e!=null){var r=dl(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},kM=V([dl,U1,CM,B1],_M),Cd=V([Pi,Ai,xe,yt,Oi,B1,kM,Dc],yM),SX=V([z1,Cd],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),RM=V(Oi,OM,hM),PX=V([kM,OM,Ra,Dt,RM,Dc,U1],wM),AX=V([z1],t=>({isActive:t.active,activeIndex:t.index})),IX=(t,e,n,r,i,o,a,s)=>{if(!(!t||!e||!r||!i||!o)){var l=GW(t.chartX,t.chartY,e,n,s);if(l){var u=QW(l,e),c=LW(u,a,o,r,i),h=YW(e,o,c,l);return{activeIndex:String(c),activeCoordinate:h}}}};function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u0.apply(null,arguments)}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){xX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xX(t,e,n){return(e=CX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CX(t){var e=OX(t,"string");return typeof e=="symbol"?e:e+""}function OX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kX(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:a,cursor:s,tooltipEventType:l,chartName:u}=t,c=e,h=n,d=r;if(!s||!c||u!=="ScatterChart"&&l!=="axis")return null;var p,m;if(u==="ScatterChart")p=c,m=XK;else if(u==="BarChart")p=JK(a,c,i,o),m=TN;else if(a==="radial"){var{cx:y,cy:_,radius:v,startAngle:w,endAngle:T}=SN(c);p={cx:y,cy:_,startAngle:w,endAngle:T,innerRadius:v,outerRadius:v},m=AN}else p={points:NH(a,c,i)},m=mN;var x=typeof s=="object"&&"className"in s?s.className:void 0,O=Mf(Mf(Mf(Mf({stroke:"#ccc",pointerEvents:"none"},i),p),be(s,!1)),{},{payload:h,payloadIndex:d,className:Ae("recharts-tooltip-cursor",x)});return b.isValidElement(s)?b.cloneElement(s,O):b.createElement(m,O)}function RX(t){var e=wX(),n=hN(),r=Zp(),i=EX();return b.createElement(kX,u0({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var NM=b.createContext(null),NX=()=>b.useContext(NM),DM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,h||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,m=new Array(p);d<p;d++)m[d]=h[d].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},s.prototype.emit=function(u,c,h,d,p,m){var y=n?n+u:u;if(!this._events[y])return!1;var _=this._events[y],v=arguments.length,w,T;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),v){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,h),!0;case 4:return _.fn.call(_.context,c,h,d),!0;case 5:return _.fn.call(_.context,c,h,d,p),!0;case 6:return _.fn.call(_.context,c,h,d,p,m),!0}for(T=1,w=new Array(v-1);T<v;T++)w[T-1]=arguments[T];_.fn.apply(_.context,w)}else{var x=_.length,O;for(T=0;T<x;T++)switch(_[T].once&&this.removeListener(u,_[T].fn,void 0,!0),v){case 1:_[T].fn.call(_[T].context);break;case 2:_[T].fn.call(_[T].context,c);break;case 3:_[T].fn.call(_[T].context,c,h);break;case 4:_[T].fn.call(_[T].context,c,h,d);break;default:if(!w)for(O=1,w=new Array(v-1);O<v;O++)w[O-1]=arguments[O];_[T].fn.apply(_[T].context,w)}}return!0},s.prototype.on=function(u,c,h){return o(this,u,c,h,!1)},s.prototype.once=function(u,c,h){return o(this,u,c,h,!0)},s.prototype.removeListener=function(u,c,h,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!h||m.context===h)&&a(this,p);else{for(var y=0,_=[],v=m.length;y<v;y++)(m[y].fn!==c||d&&!m[y].once||h&&m[y].context!==h)&&_.push(m[y]);_.length?this._events[p]=_.length===1?_[0]:_:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(DM);var DX=DM.exports;const MX=Wr(DX);var oc=new MX,c0="recharts.syncEvent.tooltip",zA="recharts.syncEvent.brush";function MM(t,e){if(e){var n=Number.parseInt(e,10);if(!kn(n))return t==null?void 0:t[n]}}var LX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},LM=nr({name:"options",initialState:LX,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jX=LM.reducer,{createEventEmitter:VX}=LM.actions;function $X(t){return t.tooltip.syncInteraction}var FX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jM=nr({name:"chartData",initialState:FX,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:WA,setDataStartEndIndexes:UX,setComputedData:Hre}=jM.actions,BX=jM.reducer,VM=()=>{};function zX(){var t=ee(b1),e=ee(T1),n=Ze(),r=ee(ID),i=ee(Oi),o=Zp(),a=Ww(),s=ee(l=>l.rootProps.className);b.useEffect(()=>{if(t==null)return VM;var l=(u,c,h)=>{if(e!==h&&t===u){if(r==="index"){n(c);return}if(i!=null){var d;if(typeof r=="function"){var p={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},m=r(i,p);d=i[m]}else r==="value"&&(d=i.find(D=>String(D.value)===c.payload.label));var{coordinate:y}=c.payload;if(d==null||c.payload.active===!1||y==null||a==null){n(s0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:v}=y,w=Math.min(_,a.x+a.width),T=Math.min(v,a.y+a.height),x={x:o==="horizontal"?d.coordinate:w,y:o==="horizontal"?T:d.coordinate},O=s0({active:c.payload.active,coordinate:x,dataKey:c.payload.dataKey,index:String(d.index),label:c.payload.label});n(O)}}};return oc.on(c0,l),()=>{oc.off(c0,l)}},[s,n,e,t,r,i,o,a])}function WX(){var t=ee(b1),e=ee(T1),n=Ze();b.useEffect(()=>{if(t==null)return VM;var r=(i,o,a)=>{e!==a&&t===i&&n(UX(o))};return oc.on(zA,r),()=>{oc.off(zA,r)}},[n,e,t])}function KX(){var t=Ze();b.useEffect(()=>{t(VX())},[t]),zX(),WX()}function HX(t,e,n,r,i,o){var a=ee(d=>TX(d,t,e)),s=ee(T1),l=ee(b1),u=ee(ID),c=ee($X),h=c==null?void 0:c.active;b.useEffect(()=>{if(!h&&l!=null&&s!=null){var d=s0({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});oc.emit(c0,l,d,s)}},[h,n,a,i,r,s,l,u,o])}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(n),!0).forEach(function(r){qX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qX(t,e,n){return(e=GX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GX(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QX(t){return t.dataKey}function XX(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(CK,e)}var qA=[],JX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!sl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $M(t){var e=Ii(t,JX),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:a,filterNull:s,isAnimationActive:l,offset:u,payloadUniqBy:c,position:h,reverseDirection:d,useTranslate3d:p,wrapperStyle:m,cursor:y,shared:_,trigger:v,defaultIndex:w,portal:T,axisId:x}=e,O=Ze(),D=typeof w=="number"?String(w):w;b.useEffect(()=>{O(CQ({shared:_,trigger:v,axisId:x,active:n,defaultIndex:D}))},[O,_,v,x,n,D]);var P=Ww(),S=pN(),I=SQ(_),{activeIndex:C,isActive:R}=ee(qe=>AX(qe,I,v,D)),N=ee(qe=>PX(qe,I,v,D)),k=ee(qe=>RM(qe,I,v,D)),re=ee(qe=>SX(qe,I,v,D)),he=N,Se=NX(),oe=n??R,[z,q]=L2([he,oe]),te=I==="axis"?k:void 0;HX(I,v,re,te,C,oe);var de=T??Se;if(de==null)return null;var K=he??qA;oe||(K=qA),s&&K.length&&(K=S2(he.filter(qe=>qe.value!=null&&(qe.hide!==!0||e.includeHidden)),c,QX));var ue=K.length>0,bt=b.createElement(LK,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:l,active:oe,coordinate:re,hasPayload:ue,offset:u,position:h,reverseDirection:d,useTranslate3d:p,viewBox:P,wrapperStyle:m,lastBoundingBox:z,innerRef:q,hasPortalFromProps:!!T},XX(a,HA(HA({},e),{},{payload:K,label:te,active:oe,coordinate:re,accessibilityLayer:S})));return b.createElement(b.Fragment,null,m_.createPortal(bt,de),oe&&b.createElement(RX,{cursor:y,tooltipEventType:I,coordinate:re,payload:he,index:C}))}var FM={},UM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=0,i={}){typeof i!="object"&&(i={});let o=null,a=null,s=null,l=0,u=null,c;const{leading:h=!1,trailing:d=!0,maxWait:p}=i,m="maxWait"in i,y=m?Math.max(Number(p)||0,r):0,_=P=>(o!==null&&(c=n.apply(a,o)),o=a=null,l=P,c),v=P=>(l=P,u=setTimeout(O,r),h&&o!==null?_(P):c),w=P=>(u=null,d&&o!==null?_(P):c),T=P=>{if(s===null)return!0;const S=P-s,I=S>=r||S<0,C=m&&P-l>=y;return I||C},x=P=>{const S=s===null?0:P-s,I=r-S,C=y-(P-l);return m?Math.min(I,C):I},O=()=>{const P=Date.now();if(T(P))return w(P);u=setTimeout(O,x(P))},D=function(...P){const S=Date.now(),I=T(S);if(o=P,a=this,s=S,I){if(u===null)return v(S);if(m)return clearTimeout(u),u=setTimeout(O,r),_(S)}return u===null&&(u=setTimeout(O,r)),c};return D.cancel=()=>{u!==null&&clearTimeout(u),l=0,s=o=a=u=null},D.flush=()=>u===null?c:w(Date.now()),D}t.debounce=e})(UM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UM;function n(r,i=0,o={}){const{leading:a=!0,trailing:s=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:s})}t.throttle=n})(FM);var ZX=FM.throttle;const eJ=Wr(ZX);var wu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){tJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tJ(t,e,n){return(e=nJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nJ(t){var e=rJ(t,"string");return typeof e=="symbol"?e:e+""}function rJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BM=b.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:a=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:h,className:d,onResize:p,style:m={}}=t,y=b.useRef(null),_=b.useRef();_.current=p,b.useImperativeHandle(e,()=>y.current);var[v,w]=b.useState({containerWidth:r.width,containerHeight:r.height}),T=b.useCallback((O,D)=>{w(P=>{var S=Math.round(O),I=Math.round(D);return P.containerWidth===S&&P.containerHeight===I?P:{containerWidth:S,containerHeight:I}})},[]);b.useEffect(()=>{var O=I=>{var C,{width:R,height:N}=I[0].contentRect;T(R,N),(C=_.current)===null||C===void 0||C.call(_,R,N)};c>0&&(O=eJ(O,c,{trailing:!0,leading:!1}));var D=new ResizeObserver(O),{width:P,height:S}=y.current.getBoundingClientRect();return T(P,S),D.observe(y.current),()=>{D.disconnect()}},[T,c]);var x=b.useMemo(()=>{var{containerWidth:O,containerHeight:D}=v;if(O<0||D<0)return null;wu(Xo(i)||Xo(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),wu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Xo(i)?O:i,S=Xo(o)?D:o;return n&&n>0&&(P?S=P/n:S&&(P=S*n),l&&S>l&&(S=l)),wu(P>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,S,i,o,a,s,n),b.Children.map(u,I=>b.cloneElement(I,{width:P,height:S,style:Jg({width:P,height:S},I.props.style)}))},[n,u,o,l,s,a,v,i]);return b.createElement("div",{id:h?"".concat(h):void 0,className:Ae("recharts-responsive-container",d),style:Jg(Jg({},m),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:y},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},x))}),zM=t=>null;zM.displayName="Cell";function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){iJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=aJ(t,"string");return typeof e=="symbol"?e:e+""}function aJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ua={widthCache:{},cacheCount:0},sJ=2e3,lJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QA="recharts_measurement_span";function uJ(t){var e=f0({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var Eu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||sl.isSsr)return{width:0,height:0};var r=uJ(n),i=JSON.stringify({text:e,copyStyle:r});if(Ua.widthCache[i])return Ua.widthCache[i];try{var o=document.getElementById(QA);o||(o=document.createElement("span"),o.setAttribute("id",QA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=f0(f0({},lJ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ua.widthCache[i]=l,++Ua.cacheCount>sJ&&(Ua.cacheCount=0,Ua.widthCache={}),l}catch{return{width:0,height:0}}},XA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hJ=Object.keys(WM),os="NaN";function dJ(t,e){return t*WM[e]}class sn{static parse(e){var n,[,r,i]=(n=fJ.exec(e))!==null&&n!==void 0?n:[];return new sn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,kn(e)&&(this.unit=""),n!==""&&!cJ.test(n)&&(this.num=NaN,this.unit=""),hJ.includes(n)&&(this.num=dJ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new sn(NaN,""):new sn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new sn(NaN,""):new sn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new sn(NaN,""):new sn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new sn(NaN,""):new sn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return kn(this.num)}}function KM(t){if(t.includes(os))return os;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=XA.exec(e))!==null&&n!==void 0?n:[],a=sn.parse(r??""),s=sn.parse(o??""),l=i==="*"?a.multiply(s):a.divide(s);if(l.isNaN())return os;e=e.replace(XA,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,h,d]=(u=JA.exec(e))!==null&&u!==void 0?u:[],p=sn.parse(c??""),m=sn.parse(d??""),y=h==="+"?p.add(m):p.subtract(m);if(y.isNaN())return os;e=e.replace(JA,y.toString())}return e}var ZA=/\(([^()]*)\)/;function pJ(t){for(var e=t,n;(n=ZA.exec(e))!=null;){var[,r]=n;e=e.replace(ZA,KM(r))}return e}function mJ(t){var e=t.replace(/\s+/g,"");return e=pJ(e),e=KM(e),e}function gJ(t){try{return mJ(t)}catch{return os}}function Zg(t){var e=gJ(t.slice(5,-1));return e===os?"":e}var vJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yJ=["dx","dy","angle","className","breakAll"];function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h0.apply(null,arguments)}function eI(t,e){if(t==null)return{};var n,r,i=_J(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _J(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HM=/[ \f\n\r\t\v\u2028\u2029]+/,qM=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];ke(e)||(n?i=e.toString().split(""):i=e.toString().split(HM));var o=i.map(s=>({word:s,width:Eu(s,r).width})),a=n?0:Eu(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},wJ=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=t,u=J(o),c=a,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((N,k)=>{var{word:re,width:he}=k,Se=N[N.length-1];if(Se&&(r==null||i||Se.width+he+n<Number(r)))Se.words.push(re),Se.width+=he+n;else{var oe={words:[re],width:he};N.push(oe)}return N},[])},d=h(e),p=C=>C.reduce((R,N)=>R.width>N.width?R:N);if(!u||i)return d;var m=d.length>o||p(d).width>Number(r);if(!m)return d;for(var y="…",_=C=>{var R=c.slice(0,C),N=qM({breakAll:l,style:s,children:R+y}).wordsWithComputedWidth,k=h(N),re=k.length>o||p(k).width>Number(r);return[re,k]},v=0,w=c.length-1,T=0,x;v<=w&&T<=c.length-1;){var O=Math.floor((v+w)/2),D=O-1,[P,S]=_(D),[I]=_(O);if(!P&&!I&&(v=O+1),P&&I&&(w=O-1),!P&&I){x=S;break}T++}return x||d},tI=t=>{var e=ke(t)?[]:t.toString().split(HM);return[{words:e}]},EJ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!sl.isSsr){var s,l,u=qM({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:h}=u;s=c,l=h}else return tI(r);return wJ({breakAll:o,children:r,maxLines:a,style:i},s,l,e,n)}return tI(r)},nI="#808080",W1=b.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:a=!1,textAnchor:s="start",verticalAnchor:l="end",fill:u=nI}=t,c=eI(t,vJ),h=b.useMemo(()=>EJ({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:a,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,a,c.style,c.width]),{dx:d,dy:p,angle:m,className:y,breakAll:_}=c,v=eI(c,yJ);if(!Ur(n)||!Ur(r))return null;var w=n+(J(d)?d:0),T=r+(J(p)?p:0),x;switch(l){case"start":x=Zg("calc(".concat(o,")"));break;case"middle":x=Zg("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:x=Zg("calc(".concat(h.length-1," * -").concat(i,")"));break}var O=[];if(a){var D=h[0].width,{width:P}=c;O.push("scale(".concat(J(P)?P/D:1,")"))}return m&&O.push("rotate(".concat(m,", ").concat(w,", ").concat(T,")")),O.length&&(v.transform=O.join(" ")),b.createElement("text",h0({},be(v,!0),{ref:e,x:w,y:T,className:Ae("recharts-text",y),textAnchor:s,fill:u.includes("url")?nI:u}),h.map((S,I)=>{var C=S.words.join(_?"":" ");return b.createElement("tspan",{x:w,dy:I===0?x:i,key:"".concat(C,"-").concat(I)},C)}))});W1.displayName="Text";var bJ=["offset"],TJ=["labelRef"];function rI(t,e){if(t==null)return{};var n,r,i=SJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){PJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PJ(t,e,n){return(e=AJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AJ(t){var e=IJ(t,"string");return typeof e=="symbol"?e:e+""}function IJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xr(){return Xr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xr.apply(null,arguments)}var xJ=t=>{var{value:e,formatter:n}=t,r=ke(t.children)?e:t.children;return typeof n=="function"?n(r):r},K1=t=>t!=null&&typeof t=="function",CJ=(t,e)=>{var n=hn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},OJ=(t,e,n)=>{var{position:r,viewBox:i,offset:o,className:a}=t,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:h,endAngle:d,clockWise:p}=i,m=(u+c)/2,y=CJ(h,d),_=y>=0?1:-1,v,w;r==="insideStart"?(v=h+_*o,w=p):r==="insideEnd"?(v=d-_*o,w=!p):r==="end"&&(v=d+_*o,w=p),w=y<=0?w:!w;var T=Ot(s,l,m,v),x=Ot(s,l,m,v+(w?1:-1)*359),O="M".concat(T.x,",").concat(T.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(x.x,",").concat(x.y),D=ke(t.id)?Ls("recharts-radial-line-"):t.id;return b.createElement("text",Xr({},n,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",a)}),b.createElement("defs",null,b.createElement("path",{id:D,d:O})),b.createElement("textPath",{xlinkHref:"#".concat(D)},e))},kJ=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:o,innerRadius:a,outerRadius:s,startAngle:l,endAngle:u}=e,c=(l+u)/2;if(r==="outside"){var{x:h,y:d}=Ot(i,o,s+n,c);return{x:h,y:d,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:m,y}=Ot(i,o,p,c);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},RJ=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:a,width:s,height:l}=e,u=l>=0?1:-1,c=u*r,h=u>0?"end":"start",d=u>0?"start":"end",p=s>=0?1:-1,m=p*r,y=p>0?"end":"start",_=p>0?"start":"end";if(i==="top"){var v={x:o+s/2,y:a-u*r,textAnchor:"middle",verticalAnchor:h};return et(et({},v),n?{height:Math.max(a-n.y,0),width:s}:{})}if(i==="bottom"){var w={x:o+s/2,y:a+l+c,textAnchor:"middle",verticalAnchor:d};return et(et({},w),n?{height:Math.max(n.y+n.height-(a+l),0),width:s}:{})}if(i==="left"){var T={x:o-m,y:a+l/2,textAnchor:y,verticalAnchor:"middle"};return et(et({},T),n?{width:Math.max(T.x-n.x,0),height:l}:{})}if(i==="right"){var x={x:o+s+m,y:a+l/2,textAnchor:_,verticalAnchor:"middle"};return et(et({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:l}:{})}var O=n?{width:s,height:l}:{};return i==="insideLeft"?et({x:o+m,y:a+l/2,textAnchor:_,verticalAnchor:"middle"},O):i==="insideRight"?et({x:o+s-m,y:a+l/2,textAnchor:y,verticalAnchor:"middle"},O):i==="insideTop"?et({x:o+s/2,y:a+c,textAnchor:"middle",verticalAnchor:d},O):i==="insideBottom"?et({x:o+s/2,y:a+l-c,textAnchor:"middle",verticalAnchor:h},O):i==="insideTopLeft"?et({x:o+m,y:a+c,textAnchor:_,verticalAnchor:d},O):i==="insideTopRight"?et({x:o+s-m,y:a+c,textAnchor:y,verticalAnchor:d},O):i==="insideBottomLeft"?et({x:o+m,y:a+l-c,textAnchor:_,verticalAnchor:h},O):i==="insideBottomRight"?et({x:o+s-m,y:a+l-c,textAnchor:y,verticalAnchor:h},O):i&&typeof i=="object"&&(J(i.x)||Xo(i.x))&&(J(i.y)||Xo(i.y))?et({x:o+wr(i.x,s),y:a+wr(i.y,l),textAnchor:"end",verticalAnchor:"end"},O):et({x:o+s/2,y:a+l/2,textAnchor:"middle",verticalAnchor:"middle"},O)},NJ=t=>"cx"in t&&J(t.cx);function Sn(t){var{offset:e=5}=t,n=rI(t,bJ),r=et({offset:e},n),{viewBox:i,position:o,value:a,children:s,content:l,className:u="",textBreakAll:c,labelRef:h}=r,d=Ww(),p=i||d;if(!p||ke(a)&&ke(s)&&!b.isValidElement(l)&&typeof l!="function")return null;if(b.isValidElement(l)){var m=rI(r,TJ);return b.cloneElement(l,m)}var y;if(typeof l=="function"){if(y=b.createElement(l,r),b.isValidElement(y))return y}else y=xJ(r);var _=NJ(p),v=be(r,!0);if(_&&(o==="insideStart"||o==="insideEnd"||o==="end"))return OJ(r,y,v);var w=_?kJ(r):RJ(r,p);return b.createElement(W1,Xr({ref:h,className:Ae("recharts-label",u)},v,w,{breakAll:c}),y)}Sn.displayName="Label";var GM=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:a,radius:s,innerRadius:l,outerRadius:u,x:c,y:h,top:d,left:p,width:m,height:y,clockWise:_,labelViewBox:v}=t;if(v)return v;if(J(m)&&J(y)){if(J(c)&&J(h))return{x:c,y:h,width:m,height:y};if(J(d)&&J(p))return{x:d,y:p,width:m,height:y}}if(J(c)&&J(h))return{x:c,y:h,width:0,height:0};if(J(e)&&J(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||s||a||0,clockWise:_};if(t.viewBox)return t.viewBox},DJ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?b.createElement(Sn,Xr({key:"label-implicit"},r)):Ur(t)?b.createElement(Sn,Xr({key:"label-implicit",value:t},r)):b.isValidElement(t)?t.type===Sn?b.cloneElement(t,et({key:"label-implicit"},r)):b.createElement(Sn,Xr({key:"label-implicit",content:t},r)):K1(t)?b.createElement(Sn,Xr({key:"label-implicit",content:t},r)):t&&typeof t=="object"?b.createElement(Sn,Xr({},t,{key:"label-implicit"},r)):null},MJ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,a=GM(e),s=_w(i,Sn).map((u,c)=>b.cloneElement(u,{viewBox:n||a,key:"label-".concat(c)}));if(!r)return s;var l=DJ(e.label,n||a,o);return[l,...s]};Sn.parseViewBox=GM;Sn.renderCallByParent=MJ;var YM={},QM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(QM);var XM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(XM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QM,n=XM,r=jp;function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(YM);var LJ=YM.last;const jJ=Wr(LJ);var VJ=["valueAccessor"],$J=["data","dataKey","clockWise","id","textBreakAll"];function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Od.apply(null,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){FJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FJ(t,e,n){return(e=UJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UJ(t){var e=BJ(t,"string");return typeof e=="symbol"?e:e+""}function BJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sI(t,e){if(t==null)return{};var n,r,i=zJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WJ=t=>Array.isArray(t.value)?jJ(t.value):t.value;function po(t){var{valueAccessor:e=WJ}=t,n=sI(t,VJ),{data:r,dataKey:i,clockWise:o,id:a,textBreakAll:s}=n,l=sI(n,$J);return!r||!r.length?null:b.createElement(Rn,{className:"recharts-label-list"},r.map((u,c)=>{var h=ke(i)?e(u,c):Gt(u&&u.payload,i),d=ke(a)?{}:{id:"".concat(a,"-").concat(c)};return b.createElement(Sn,Od({},be(u,!0),l,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:s,viewBox:Sn.parseViewBox(ke(o)?u:aI(aI({},u),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}po.displayName="LabelList";function KJ(t,e){return t?t===!0?b.createElement(po,{key:"labelList-implicit",data:e}):b.isValidElement(t)||K1(t)?b.createElement(po,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?b.createElement(po,Od({data:e},t,{key:"labelList-implicit"})):null:null}function HJ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=_w(r,po).map((a,s)=>b.cloneElement(a,{data:e,key:"labelList-".concat(s)}));if(!n)return i;var o=KJ(t.label,e);return[o,...i]}po.renderCallByParent=HJ;function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d0.apply(null,arguments)}var JM=t=>{var{cx:e,cy:n,r,className:i}=t,o=Ae("recharts-dot",i);return e===+e&&n===+n&&r===+r?b.createElement("circle",d0({},be(t,!1),yw(t),{className:o,cx:e,cy:n,r})):null},qJ={radiusAxis:{},angleAxis:{}},ZM=nr({name:"polarAxis",initialState:qJ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}});ZM.actions;var GJ=ZM.reducer,YJ={countOfBars:0,cartesianItems:[],polarItems:[]},eL=nr({name:"graphicalItems",initialState:YJ,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=ai(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=ai(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=ai(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:QJ,removeBar:XJ,addCartesianGraphicalItem:JJ,replaceCartesianGraphicalItem:ZJ,removeCartesianGraphicalItem:eZ,addPolarGraphicalItem:qre,removePolarGraphicalItem:Gre}=eL.actions,tZ=eL.reducer;function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){nZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e,n){return(e=rZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=iZ(t,"string");return typeof e=="symbol"?e:e+""}function iZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oZ(t){var e=Ze(),n=b.useRef(null);return b.useEffect(()=>{var r=uI(uI({},t),{},{stackId:uN(t.stackId)});n.current===null?e(JJ(r)):n.current!==r&&e(ZJ({prev:n.current,next:r})),n.current=r},[e,t]),b.useEffect(()=>()=>{n.current&&(e(eZ(n.current)),n.current=null)},[e]),null}var tL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(tL);var aZ=tL.isPlainObject;const sZ=Wr(aZ);function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kd.apply(null,arguments)}var cI=(t,e,n,r,i)=>{var o=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-o/2,",").concat(e+i),a+="L ".concat(t+n-o/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},lZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uZ=t=>{var e=Ii(t,lZ),n=b.useRef(),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&i(_)}catch{}},[]);var{x:o,y:a,upperWidth:s,lowerWidth:l,height:u,className:c}=e,{animationEasing:h,animationDuration:d,animationBegin:p,isUpdateAnimationActive:m}=e;if(o!==+o||a!==+a||s!==+s||l!==+l||u!==+u||s===0&&l===0||u===0)return null;var y=Ae("recharts-trapezoid",c);return m?b.createElement(Ta,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:a},to:{upperWidth:s,lowerWidth:l,height:u,x:o,y:a},duration:d,animationEasing:h,isActive:m},_=>{var{upperWidth:v,lowerWidth:w,height:T,x,y:O}=_;return b.createElement(Ta,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:d,easing:h},b.createElement("path",kd({},be(e,!0),{className:y,d:cI(x,O,v,w,T),ref:n})))}):b.createElement("g",null,b.createElement("path",kd({},be(e,!0),{className:y,d:cI(o,a,s,l,u)})))},cZ=["option","shapeType","propTransformer","activeClassName","isActive"];function fZ(t,e){if(t==null)return{};var n,r,i=hZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){dZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dZ(t,e,n){return(e=pZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=mZ(t,"string");return typeof e=="symbol"?e:e+""}function mZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gZ(t,e){return Rd(Rd({},e),t)}function vZ(t,e){return t==="symbols"}function hI(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return b.createElement(TN,n);case"trapezoid":return b.createElement(uZ,n);case"sector":return b.createElement(AN,n);case"symbols":if(vZ(e))return b.createElement(Sw,n);break;default:return null}}function yZ(t){return b.isValidElement(t)?t.props:t}function _Z(t){var{option:e,shapeType:n,propTransformer:r=gZ,activeClassName:i="recharts-active-shape",isActive:o}=t,a=fZ(t,cZ),s;if(b.isValidElement(e))s=b.cloneElement(e,Rd(Rd({},a),yZ(e)));else if(typeof e=="function")s=e(a);else if(sZ(e)&&typeof e!="boolean"){var l=r(e,a);s=b.createElement(hI,{shapeType:n,elementProps:l})}else{var u=a;s=b.createElement(hI,{shapeType:n,elementProps:u})}return o?b.createElement(Rn,{className:i},s):s}var nL=(t,e)=>{var n=Ze();return(r,i)=>o=>{t==null||t(r,i,o),n(pM({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},rL=t=>{var e=Ze();return(n,r)=>i=>{t==null||t(n,r,i),e(OQ())}},iL=(t,e)=>{var n=Ze();return(r,i)=>o=>{t==null||t(r,i,o),n(kQ({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function oL(t){var{fn:e,args:n}=t,r=Ze(),i=an();return b.useEffect(()=>{if(!i){var o=e(n);return r(IQ(o)),()=>{r(xQ(o))}}},[e,n,r,i]),null}var wZ=()=>{};function aL(t){var{legendPayload:e}=t,n=Ze(),r=an();return b.useEffect(()=>r?wZ:(n(fK(e)),()=>{n(hK(e))}),[n,r,e]),null}function sL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Ls(e)),r=b.useRef(t);return r.current!==t&&(n.current=Ls(e),r.current=t),n.current}var EZ=V([yt],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),bZ=V([EZ,Pi,Ai],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),TZ=t=>{var e=an();return ee(n=>zr(n,"xAxis",t,e))},SZ=t=>{var e=an();return ee(n=>zr(n,"yAxis",t,e))},H1=()=>ee(bZ),PZ=()=>ee(mX);function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){AZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AZ(t,e,n){return(e=IZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IZ(t){var e=xZ(t,"string");return typeof e=="symbol"?e:e+""}function xZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CZ=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=t;if(i===!1||e.x==null||e.y==null)return null;var a=pI(pI({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},be(i,!1)),yw(i)),s;return b.isValidElement(i)?s=b.cloneElement(i,a):typeof i=="function"?s=i(a):s=b.createElement(JM,a),b.createElement(Rn,{className:"recharts-active-dot"},s)};function OZ(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,o=ee(Pa),a=PZ();if(e==null||a==null)return null;var s=e.find(l=>a.includes(l.payload));return ke(s)?null:CZ({point:s,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r})}var kZ=()=>{var t=Ze();return b.useEffect(()=>(t(QJ()),()=>{t(XJ())})),null},RZ=["children"];function NZ(t,e){if(t==null)return{};var n,r,i=DZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mI=()=>{},lL=b.createContext({addErrorBar:mI,removeErrorBar:mI}),MZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},uL=b.createContext(MZ);function cL(t){var{children:e}=t,n=NZ(t,RZ);return b.createElement(uL.Provider,{value:n},e)}var LZ=()=>b.useContext(uL),fL=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,data:a,stackId:s,hide:l,type:u,barSize:c}=t,[h,d]=b.useState([]),p=b.useCallback(_=>{d(v=>[...v,_])},[d]),m=b.useCallback(_=>{d(v=>v.filter(w=>w!==_))},[d]),y=an();return b.createElement(lL.Provider,{value:{addErrorBar:p,removeErrorBar:m}},b.createElement(oZ,{type:u,data:a,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,errorBars:h,stackId:s,hide:l,barSize:c,isPanorama:y}),e)};function jZ(t){var{addErrorBar:e,removeErrorBar:n}=b.useContext(lL);return b.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var VZ=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function hL(t,e,n){return(e=$Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Z(t){var e=FZ(t,"string");return typeof e=="symbol"?e:e+""}function FZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(null,arguments)}function UZ(t,e){if(t==null)return{};var n,r,i=BZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zZ(t){var{direction:e,width:n,dataKey:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:s}=t,l=UZ(t,VZ),u=be(l,!1),{data:c,dataPointFormatter:h,xAxisId:d,yAxisId:p,errorBarOffset:m}=LZ(),y=TZ(d),_=SZ(p);if((y==null?void 0:y.scale)==null||(_==null?void 0:_.scale)==null||c==null||e==="x"&&y.type!=="number")return null;var v=c.map(w=>{var{x:T,y:x,value:O,errorVal:D}=h(w,r,e);if(!D)return null;var P=[],S,I;if(Array.isArray(D)?[S,I]=D:S=I=D,e==="x"){var{scale:C}=y,R=x+m,N=R+n,k=R-n,re=C(O-S),he=C(O+I);P.push({x1:he,y1:N,x2:he,y2:k}),P.push({x1:re,y1:R,x2:he,y2:R}),P.push({x1:re,y1:N,x2:re,y2:k})}else if(e==="y"){var{scale:Se}=_,oe=T+m,z=oe-n,q=oe+n,te=Se(O-S),de=Se(O+I);P.push({x1:z,y1:de,x2:q,y2:de}),P.push({x1:oe,y1:te,x2:oe,y2:de}),P.push({x1:z,y1:te,x2:q,y2:te})}var K="".concat(T+m,"px ").concat(x+m,"px");return b.createElement(Rn,ac({className:"recharts-errorBar",key:"bar-".concat(P.map(ue=>"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)))},u),P.map(ue=>{var bt=i?{transformOrigin:"".concat(ue.x1-5,"px")}:void 0;return b.createElement(Ta,{from:{transform:"scaleY(0)",transformOrigin:K},to:{transform:"scaleY(1)",transformOrigin:K},begin:o,easing:s,isActive:i,duration:a,key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2),style:{transformOrigin:K}},b.createElement("line",ac({},ue,{style:bt})))}))});return b.createElement(Rn,{className:"recharts-errorBars"},v)}var dL=b.createContext(void 0);function WZ(t){var e=b.useContext(dL);return t??e??"x"}function pL(t){var{direction:e,children:n}=t;return b.createElement(dL.Provider,{value:e},n)}var mL={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function KZ(t){var e=WZ(t.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:a}=Ii(t,mL);return b.createElement(b.Fragment,null,b.createElement(jZ,{dataKey:t.dataKey,direction:e}),b.createElement(zZ,ac({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:a})))}class gL extends b.Component{render(){return b.createElement(KZ,this.props)}}hL(gL,"defaultProps",mL);hL(gL,"displayName","ErrorBar");var HZ=!0,ev="Invariant failed";function qZ(t,e){if(!t){if(HZ)throw new Error(ev);var n=typeof e=="function"?e():e,r=n?"".concat(ev,": ").concat(n):ev;throw new Error(r)}}var GZ=["x","y"];function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p0.apply(null,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){YZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YZ(t,e,n){return(e=QZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QZ(t){var e=XZ(t,"string");return typeof e=="symbol"?e:e+""}function XZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JZ(t,e){if(t==null)return{};var n,r,i=ZZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eee(t,e){var{x:n,y:r}=t,i=JZ(t,GZ),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),h="".concat(e.width||i.width),d=parseInt(h,10);return Wl(Wl(Wl(Wl(Wl({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function vL(t){return b.createElement(_Z,p0({shapeType:"rectangle",propTransformer:eee,activeClassName:"recharts-active-bar"},t))}var tee=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(J(e))return e;var o=J(r)||ke(r);return o?e(r,i):(o||qZ(!1),n)}};function q1(t,e){var n,r,i=ee(u=>Ci(u,t)),o=ee(u=>No(u,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:wn.allowDataOverflow,s=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:En.allowDataOverflow,l=a||s;return{needClip:l,needClipX:a,needClipY:s}}function yL(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=H1(),{needClipX:o,needClipY:a,needClip:s}=q1(e,n);if(!s)return null;var{x:l,y:u,width:c,height:h}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:o?l:l-c/2,y:a?u:u-h/2,width:o?c:c*2,height:a?h:h*2}))}var nee=["onMouseEnter","onMouseLeave","onClick"],ree=["value","background","tooltipPosition"],iee=["onMouseEnter","onClick","onMouseLeave"];function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(null,arguments)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){_m(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _m(t,e,n){return(e=oee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oee(t){var e=aee(t,"string");return typeof e=="symbol"?e:e+""}function aee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m0(t,e){if(t==null)return{};var n,r,i=see(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function see(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lee=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Yp(n,e),payload:t}]};function uee(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:s}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Yp(o,e),hide:a,type:t.tooltipType,color:t.fill,unit:s}}}function cee(t){var e=ee(Pa),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:s,onClick:l}=o,u=m0(o,nee),c=nL(a,r),h=rL(s),d=iL(l,r);if(!i||n==null)return null;var p=be(i,!1);return b.createElement(b.Fragment,null,n.map((m,y)=>{var{value:_,background:v,tooltipPosition:w}=m,T=m0(m,ree);if(!v)return null;var x=c(m,y),O=h(m,y),D=d(m,y),P=Ht(Ht(Ht(Ht(Ht({option:i,isActive:String(y)===e},T),{},{fill:"#eee"},v),p),Np(u,m,y)),{},{onMouseEnter:x,onMouseLeave:O,onClick:D,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return b.createElement(vL,sc({key:"background-bar-".concat(y)},P))}))}function _L(t){var{data:e,props:n,showLabels:r}=t,i=be(n,!1),{shape:o,dataKey:a,activeBar:s}=n,l=ee(Pa),u=ee(IM),{onMouseEnter:c,onClick:h,onMouseLeave:d}=n,p=m0(n,iee),m=nL(c,a),y=rL(d),_=iL(h,a);return e?b.createElement(b.Fragment,null,e.map((v,w)=>{var T=s&&String(w)===l&&(u==null||a===u),x=T?s:o,O=Ht(Ht(Ht({},i),v),{},{isActive:T,option:x,index:w,dataKey:a});return b.createElement(Rn,sc({className:"recharts-bar-rectangle"},Np(p,v,w),{onMouseEnter:m(v,w),onMouseLeave:y(v,w),onClick:_(v,w),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(w)}),b.createElement(vL,O))}),r&&po.renderCallByParent(n,e)):null}function fee(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,h=n.current,d=sL(e,"recharts-bar-"),[p,m]=b.useState(!1),y=b.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),_=b.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return b.createElement(Ta,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},onAnimationEnd:y,onAnimationStart:_,key:d},v=>{var{t:w}=v,T=w===1?r:r.map((x,O)=>{var D=h&&h[O];if(D){var P=fr(D.x,x.x),S=fr(D.y,x.y),I=fr(D.width,x.width),C=fr(D.height,x.height);return Ht(Ht({},x),{},{x:P(w),y:S(w),width:I(w),height:C(w)})}if(i==="horizontal"){var R=fr(0,x.height),N=R(w);return Ht(Ht({},x),{},{y:x.y+x.height-N,height:N})}var k=fr(0,x.width),re=k(w);return Ht(Ht({},x),{},{width:re})});return w>0&&(n.current=T),b.createElement(Rn,null,b.createElement(_L,{props:e,data:T,showLabels:!p}))})}function hee(t){var{data:e,isAnimationActive:n}=t,r=b.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?b.createElement(fee,{previousRectanglesRef:r,props:t}):b.createElement(_L,{props:t,data:e,showLabels:!0})}var wL=0,dee=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Gt(t,e)}};class pee extends b.PureComponent{constructor(){super(...arguments),_m(this,"id",Ls("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:s,background:l,id:u,layout:c}=this.props;if(e)return null;var h=Ae("recharts-bar",i),d=ke(u)?this.id:u;return b.createElement(Rn,{className:h},s&&b.createElement("defs",null,b.createElement(yL,{clipPathId:d,xAxisId:o,yAxisId:a})),b.createElement(Rn,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):null},b.createElement(cee,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),b.createElement(hee,this.props)),b.createElement(pL,{direction:c==="horizontal"?"y":"x"},this.props.children))}}var EL={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!sl.isSsr,legendType:"rect",minPointSize:wL,xAxisId:0,yAxisId:0};function mee(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=Ii(t,EL),{needClip:h}=q1(e,n),d=Zp(),p=an(),m=b.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:o,stackId:uN(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,o,t.stackId]),y=_w(t.children,zM),_=ee(T=>zee(T,e,n,p,m,y));if(d!=="vertical"&&d!=="horizontal")return null;var v,w=_==null?void 0:_[0];return w==null||w.height==null||w.width==null?v=0:v=d==="vertical"?w.height/2:w.width/2,b.createElement(cL,{xAxisId:e,yAxisId:n,data:_,dataPointFormatter:dee,errorBarOffset:v},b.createElement(pee,sc({},t,{layout:d,needClip:h,data:_,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function gee(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:h,offset:d,cells:p}=t,m=e==="horizontal"?s:a,y=c?m.scale.domain():null,_=WW({numericAxis:m});return h.map((v,w)=>{var T,x,O,D,P,S;c?T=$W(c[w],y):(T=Gt(v,n),Array.isArray(T)||(T=[_,T]));var I=tee(r,wL)(T[1],w);if(e==="horizontal"){var C,[R,N]=[s.scale(T[0]),s.scale(T[1])];x=PP({axis:a,ticks:l,bandSize:o,offset:i.offset,entry:v,index:w}),O=(C=N??R)!==null&&C!==void 0?C:void 0,D=i.size;var k=R-N;if(P=kn(k)?0:k,S={x,y:d.top,width:D,height:d.height},Math.abs(I)>0&&Math.abs(P)<Math.abs(I)){var re=hn(P||I)*(Math.abs(I)-Math.abs(P));O-=re,P+=re}}else{var[he,Se]=[a.scale(T[0]),a.scale(T[1])];if(x=he,O=PP({axis:s,ticks:u,bandSize:o,offset:i.offset,entry:v,index:w}),D=Se-he,P=i.size,S={x:d.left,y:O,width:d.width,height:P},Math.abs(I)>0&&Math.abs(D)<Math.abs(I)){var oe=hn(D||I)*(Math.abs(I)-Math.abs(D));D+=oe}}var z=Ht(Ht({},v),{},{x,y:O,width:D,height:P,value:c?T:T[1],payload:v,background:S,tooltipPosition:{x:x+D/2,y:O+P/2}},p&&p[w]&&p[w].props);return z})}class Nd extends b.PureComponent{render(){return b.createElement(fL,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},b.createElement(kZ,null),b.createElement(aL,{legendPayload:lee(this.props)}),b.createElement(oL,{fn:uee,args:this.props}),b.createElement(mee,this.props))}}_m(Nd,"displayName","Bar");_m(Nd,"defaultProps",EL);function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vee(t,e,n){return(e=yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=_ee(t,"string");return typeof e=="symbol"?e:e+""}function _ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wee=(t,e)=>e,Eee=(t,e,n)=>n,bee=(t,e,n,r)=>r,G1=(t,e,n,r,i)=>i,Tee=(t,e,n,r,i)=>i.maxBarSize,See=(t,e,n,r,i,o)=>o,_I=(t,e,n)=>{var r=n??t;if(!ke(r))return wr(r,e,0)},Pee=V([xe,hm,wee,Eee,bee],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Aee=(t,e,n,r)=>{var i=xe(t);return i==="horizontal"?a0(t,"yAxis",n,r):a0(t,"xAxis",e,r)},Iee=(t,e,n)=>{var r=xe(t);return r==="horizontal"?MA(t,"xAxis",e):MA(t,"yAxis",n)};function xee(t){return t.stackId!=null&&t.dataKey!=null}var Cee=(t,e,n)=>{var r={},i=t.filter(xee),o=t.filter(u=>u.stackId==null),a=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),s=Object.entries(a).map(u=>{var[c,h]=u,d=h.map(m=>m.dataKey),p=_I(e,n,h[0].barSize);return{stackId:c,dataKeys:d,barSize:p}}),l=o.map(u=>{var c=[u.dataKey].filter(d=>d!=null),h=_I(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:h}});return[...s,...l]},Oee=V([Pee,PY,Iee],Cee),kee=(t,e,n,r,i)=>{var o,a,s=xe(t),l=PD(t),{maxBarSize:u}=i,c=ke(u)?l:u,h,d;return s==="horizontal"?(h=zr(t,"xAxis",e,r),d=To(t,"xAxis",e,r)):(h=zr(t,"yAxis",n,r),d=To(t,"yAxis",n,r)),(o=(a=Ju(h,d,!0))!==null&&a!==void 0?a:c)!==null&&o!==void 0?o:0},bL=(t,e,n,r)=>{var i=xe(t),o,a;return i==="horizontal"?(o=zr(t,"xAxis",e,r),a=To(t,"xAxis",e,r)):(o=zr(t,"yAxis",n,r),a=To(t,"yAxis",n,r)),Ju(o,a)};function Ree(t,e,n,r,i){var o=r.length;if(!(o<1)){var a=wr(t,n,0,!0),s,l=[];if(Mn(r[0].barSize)){var u=!1,c=n/o,h=r.reduce((v,w)=>v+(w.barSize||0),0);h+=(o-1)*a,h>=n&&(h-=(o-1)*a,a=0),h>=n&&c>0&&(u=!0,c*=.9,h=o*c);var d=(n-h)/2>>0,p={offset:d-a,size:0};s=r.reduce((v,w)=>{var T,x={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p.offset+p.size+a,size:u?c:(T=w.barSize)!==null&&T!==void 0?T:0}},O=[...v,x];return p=O[O.length-1].position,O},l)}else{var m=wr(e,n,0,!0);n-2*m-(o-1)*a<=0&&(a=0);var y=(n-2*m-(o-1)*a)/o;y>1&&(y>>=0);var _=Mn(i)?Math.min(y,i):y;s=r.reduce((v,w,T)=>[...v,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m+(y+a)*T+(y-_)/2,size:_}}],l)}return s}}var Nee=(t,e,n,r,i,o,a)=>{var s=ke(a)?e:a,l=Ree(n,r,i!==o?i:o,t,s);return i!==o&&l!=null&&(l=l.map(u=>Lf(Lf({},u),{},{position:Lf(Lf({},u.position),{},{offset:u.position.offset-i/2})}))),l},Dee=V([Oee,PD,SY,AD,kee,bL,Tee],Nee),Mee=(t,e,n,r)=>zr(t,"xAxis",e,r),Lee=(t,e,n,r)=>zr(t,"yAxis",n,r),jee=(t,e,n,r)=>To(t,"xAxis",e,r),Vee=(t,e,n,r)=>To(t,"yAxis",n,r),$ee=V([Dee,G1],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Fee=(t,e)=>{if(!(!t||(e==null?void 0:e.dataKey)==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:i}=r;if(i){var o=i.find(a=>a.key===e.dataKey);return o}}}}},Uee=V([hm,G1],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),Bee=V([Aee,G1],Fee),zee=V([yt,Mee,Lee,jee,Vee,$ee,xe,y1,bL,Bee,Uee,See],(t,e,n,r,i,o,a,s,l,u,c,h)=>{var{chartData:d,dataStartIndex:p,dataEndIndex:m}=s;if(!(c==null||o==null||a!=="horizontal"&&a!=="vertical"||e==null||n==null||r==null||i==null||l==null)){var{data:y}=c,_;if(y!=null&&y.length>0?_=y:_=d==null?void 0:d.slice(p,m+1),_!=null)return gee({layout:a,barSettings:c,pos:o,bandSize:l,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:u,displayedData:_,offset:t,cells:h})}}),Wee=t=>{var{chartData:e}=t,n=Ze(),r=an();return b.useEffect(()=>r?()=>{}:(n(WA(e)),()=>{n(WA(void 0))}),[e,n,r]),null},wI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TL=nr({name:"brush",initialState:wI,reducers:{setBrushSettings(t,e){return e.payload==null?wI:e.payload}}});TL.actions;var Kee=TL.reducer;function Hee(t,e,n){return(e=qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=Gee(t,"string");return typeof e=="symbol"?e:e+""}function Gee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Y1{static create(e){return new Y1(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Hee(Y1,"EPS",1e-4);function Yee(t){return(t%180+180)%180}var Qee=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Yee(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Xee={dots:[],areas:[],lines:[]},SL=nr({name:"referenceElements",initialState:Xee,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ai(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ai(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ai(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}});SL.actions;var Jee=SL.reducer,Zee=b.createContext(void 0),ete=t=>{var{children:e}=t,[n]=b.useState("".concat(Ls("recharts"),"-clip")),r=H1();if(r==null)return null;var{x:i,y:o,width:a,height:s}=r;return b.createElement(Zee.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:o,height:s,width:a}))),e)};function tv(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function PL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function tte(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Qee(r,n)}function nte(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:s}=t;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Dd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function rte(t,e){return PL(t,e+1)}function ite(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:s}=e,l=0,u=1,c=a,h=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:PL(r,u)};var y=l,_,v=()=>(_===void 0&&(_=n(m,y)),_),w=m.coordinate,T=l===0||Dd(t,w,v,c,s);T||(l=0,c=a,u+=1),T&&(c=w+t*(v()/2+i),l+=u)},d;u<=o.length;)if(d=h(),d)return d.v;return[]}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return(e=ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lte(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=e,{end:l}=e,u=function(d){var p=o[d],m,y=()=>(m===void 0&&(m=n(p,d)),m);if(d===a-1){var _=t*(p.coordinate+t*y()/2-l);o[d]=p=Bt(Bt({},p),{},{tickCoord:_>0?p.coordinate-_*t:p.coordinate})}else o[d]=p=Bt(Bt({},p),{},{tickCoord:p.coordinate});var v=Dd(t,p.tickCoord,y,s,l);v&&(l=p.tickCoord-t*(y()/2+i),o[d]=Bt(Bt({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function ute(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:u}=e;if(o){var c=r[s-1],h=n(c,s-1),d=t*(c.coordinate+t*h/2-u);a[s-1]=c=Bt(Bt({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Dd(t,c.tickCoord,()=>h,l,u);p&&(u=c.tickCoord-t*(h/2+i),a[s-1]=Bt(Bt({},c),{},{isShow:!0}))}for(var m=o?s-1:s,y=function(w){var T=a[w],x,O=()=>(x===void 0&&(x=n(T,w)),x);if(w===0){var D=t*(T.coordinate-t*O()/2-l);a[w]=T=Bt(Bt({},T),{},{tickCoord:D<0?T.coordinate-D*t:T.coordinate})}else a[w]=T=Bt(Bt({},T),{},{tickCoord:T.coordinate});var P=Dd(t,T.tickCoord,O,l,u);P&&(l=T.tickCoord+t*(O()/2+i),a[w]=Bt(Bt({},T),{},{isShow:!0}))},_=0;_<m;_++)y(_);return a}function Q1(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:s,interval:l,tickFormatter:u,unit:c,angle:h}=t;if(!i||!i.length||!r)return[];if(J(l)||sl.isSsr){var d;return(d=rte(i,J(l)?l:0))!==null&&d!==void 0?d:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",y=c&&m==="width"?Eu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(T,x)=>{var O=typeof u=="function"?u(T.value,x):T.value;return m==="width"?tte(Eu(O,{fontSize:e,letterSpacing:n}),y,h):Eu(O,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?hn(i[1].coordinate-i[0].coordinate):1,w=nte(o,v,m);return l==="equidistantPreserveStart"?ite(v,w,_,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=ute(v,w,_,i,a,l==="preserveStartEnd"):p=lte(v,w,_,i,a),p.filter(T=>T.isShow))}var cte=["viewBox"],fte=["viewBox"];function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},as.apply(null,arguments)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){X1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TI(t,e){if(t==null)return{};var n,r,i=hte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function X1(t,e,n){return(e=dte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dte(t){var e=pte(t,"string");return typeof e=="symbol"?e:e+""}function pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Do extends b.Component{constructor(e){super(e),this.tickRefs=b.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=TI(e,cte),o=this.props,{viewBox:a}=o,s=TI(o,fte);return!tv(r,a)||!tv(i,s)||!tv(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:a,tickSize:s,mirror:l,tickMargin:u}=this.props,c,h,d,p,m,y,_=l?-1:1,v=e.tickSize||s,w=J(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=h=e.coordinate,p=r+ +!l*o,d=p-_*v,y=d-_*u,m=w;break;case"left":d=p=e.coordinate,h=n+ +!l*i,c=h-_*v,m=c-_*u,y=w;break;case"right":d=p=e.coordinate,h=n+ +l*i,c=h+_*v,m=c+_*u,y=w;break;default:c=h=e.coordinate,p=r+ +l*o,d=p+_*v,y=d+_*u,m=w;break}return{line:{x1:c,y1:d,x2:h,y2:p},tick:{x:m,y}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:s}=this.props,l=st(st(st({},be(this.props,!1)),be(s,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var u=+(o==="top"&&!a||o==="bottom"&&a);l=st(st({},l),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var c=+(o==="left"&&!a||o==="right"&&a);l=st(st({},l),{},{x1:e+c*r,y1:n,x2:e+c*r,y2:n+i})}return b.createElement("line",as({},l,{className:Ae("recharts-cartesian-axis-line",wa(s,"className"))}))}static renderTickItem(e,n,r){var i,o=Ae(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))i=b.cloneElement(e,st(st({},n),{},{className:o}));else if(typeof e=="function")i=e(st(st({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ae(a,e.className)),i=b.createElement(W1,as({},n,{className:a}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:a,tickFormatter:s,unit:l}=this.props,u=Q1(st(st({},this.props),{},{ticks:r}),e,n),c=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),d=be(this.props,!1),p=be(a,!1),m=st(st({},d),{},{fill:"none"},be(i,!1)),y=u.map((_,v)=>{var{line:w,tick:T}=this.getTickLineCoord(_),x=st(st(st(st({textAnchor:c,verticalAnchor:h},d),{},{stroke:"none",fill:o},p),T),{},{index:v,payload:_,visibleTicksCount:u.length,tickFormatter:s});return b.createElement(Rn,as({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Np(this.props,_,v)),i&&b.createElement("line",as({},m,w,{className:Ae("recharts-cartesian-axis-tick-line",wa(i,"className"))})),a&&Do.renderTickItem(a,x,"".concat(typeof s=="function"?s(_.value,v):_.value).concat(l||"")))});return y.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:b.createElement(Rn,{className:Ae("recharts-cartesian-axis",i),ref:s=>{if(s){var l=s.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var c=window.getComputedStyle(u).fontSize,h=window.getComputedStyle(u).letterSpacing;(c!==this.state.fontSize||h!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),Sn.renderCallByParent(this.props))}}X1(Do,"displayName","CartesianAxis");X1(Do,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mte=["x1","y1","x2","y2","key"],gte=["offset"],vte=["xAxisId","yAxisId"],yte=["xAxisId","yAxisId"];function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){_te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _te(t,e,n){return(e=wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wte(t){var e=Ete(t,"string");return typeof e=="symbol"?e:e+""}function Ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ta.apply(null,arguments)}function Md(t,e){if(t==null)return{};var n,r,i=bte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tte=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:s}=t;return b.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function AL(t,e){var n;if(b.isValidElement(t))n=b.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:o,y2:a,key:s}=e,l=Md(e,mte),u=be(l,!1),c=Md(u,gte);n=b.createElement("line",ta({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Ste(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var o=Md(t,vte),a=i.map((s,l)=>{var u=qt(qt({},o),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return AL(r,u)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Pte(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var o=Md(t,yte),a=i.map((s,l)=>{var u=qt(qt({},o),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return AL(r,u)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Ate(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:s,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var u=s.map(h=>Math.round(h+i-i)).sort((h,d)=>h-d);i!==u[0]&&u.unshift(0);var c=u.map((h,d)=>{var p=!u[d+1],m=p?i+a-h:u[d+1]-h;if(m<=0)return null;var y=d%e.length;return b.createElement("rect",{key:"react-".concat(d),y:h,x:r,height:m,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Ite(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:s,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(h=>Math.round(h+i-i)).sort((h,d)=>h-d);i!==u[0]&&u.unshift(0);var c=u.map((h,d)=>{var p=!u[d+1],m=p?i+a-h:u[d+1]-h;if(m<=0)return null;var y=d%n.length;return b.createElement("rect",{key:"react-".concat(d),x:h,y:o,width:m,height:s,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var xte=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return sN(Q1(qt(qt(qt({},Do.defaultProps),n),{},{ticks:lN(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},Cte=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return sN(Q1(qt(qt(qt({},Do.defaultProps),n),{},{ticks:lN(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},Ote={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function IL(t){var e=Kw(),n=Hw(),r=hN(),i=qt(qt({},Ii(t,Ote)),{},{x:J(t.x)?t.x:r.left,y:J(t.y)?t.y:r.top,width:J(t.width)?t.width:r.width,height:J(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:a,x:s,y:l,width:u,height:c,syncWithTicks:h,horizontalValues:d,verticalValues:p}=i,m=an(),y=ee(I=>LA(I,"xAxis",o,m)),_=ee(I=>LA(I,"yAxis",a,m));if(!J(u)||u<=0||!J(c)||c<=0||!J(s)||s!==+s||!J(l)||l!==+l)return null;var v=i.verticalCoordinatesGenerator||xte,w=i.horizontalCoordinatesGenerator||Cte,{horizontalPoints:T,verticalPoints:x}=i;if((!T||!T.length)&&typeof w=="function"){var O=d&&d.length,D=w({yAxis:_?qt(qt({},_),{},{ticks:O?d:_.ticks}):void 0,width:e,height:n,offset:r},O?!0:h);wu(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(T=D)}if((!x||!x.length)&&typeof v=="function"){var P=p&&p.length,S=v({xAxis:y?qt(qt({},y),{},{ticks:P?p:y.ticks}):void 0,width:e,height:n,offset:r},P?!0:h);wu(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(x=S)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Tte,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(Ate,ta({},i,{horizontalPoints:T})),b.createElement(Ite,ta({},i,{verticalPoints:x})),b.createElement(Ste,ta({},i,{offset:r,horizontalPoints:T,xAxis:y,yAxis:_})),b.createElement(Pte,ta({},i,{offset:r,verticalPoints:x,xAxis:y,yAxis:_})))}IL.displayName="CartesianGrid";var xL=(t,e,n,r)=>zr(t,"xAxis",e,r),CL=(t,e,n,r)=>To(t,"xAxis",e,r),OL=(t,e,n,r)=>zr(t,"yAxis",n,r),kL=(t,e,n,r)=>To(t,"yAxis",n,r),kte=V([xe,xL,OL,CL,kL],(t,e,n,r,i)=>Oo(t,"xAxis")?Ju(e,r,!1):Ju(n,i,!1)),Rte=(t,e,n,r,i)=>i,Nte=V([hm,Rte],(t,e)=>{if(t.some(n=>n.type==="line"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),Dte=V([xe,xL,OL,CL,kL,Nte,kte,y1],(t,e,n,r,i,o,a,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=s;if(!(o==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:h,data:d}=o,p;if(d!=null&&d.length>0?p=d:p=l==null?void 0:l.slice(u,c+1),p!=null)return Zte({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:a,displayedData:p})}}),Mte=["type","layout","connectNulls","needClip"],Lte=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function RL(t,e){if(t==null)return{};var n,r,i=jte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wm(t,e,n){return(e=Vte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vte(t){var e=$te(t,"string");return typeof e=="symbol"?e:e+""}function $te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(null,arguments)}var Fte=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Yp(n,e),payload:t}]};function Ute(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:s,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:Yp(a,e),hide:s,type:t.tooltipType,color:t.stroke,unit:l}}}var NL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Bte(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var zte=(t,e,n)=>{var r=n.reduce((h,d)=>h+d);if(!r)return NL(e,t);for(var i=Math.floor(t/r),o=t%r,a=e-t,s=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>o){s=[...n.slice(0,l),o-u];break}var c=s.length%2===0?[0,a]:[a];return[...Bte(n,i),...s,...c].map(h=>"".concat(h,"px")).join(", ")};function Wte(t,e){var n;if(b.isValidElement(t))n=b.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Ae("recharts-line-dot",typeof t!="boolean"?t.className:"");n=b.createElement(JM,Ks({},e,{className:r}))}return n}function Kte(t,e){return t==null?!1:e?!0:t.length===1}function Hte(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:o,needClip:a}=r;if(!Kte(n,i))return null;var s=WR(i),l=be(r,!1),u=be(i,!0),c=n.map((d,p)=>{var m=hr(hr(hr({key:"dot-".concat(p),r:3},l),u),{},{index:p,cx:d.x,cy:d.y,dataKey:o,value:d.value,payload:d.payload,points:n});return Wte(i,m)}),h={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(e,")"):null};return b.createElement(Rn,Ks({className:"recharts-line-dots",key:"dots"},h),c)}function g0(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:o,showLabels:a}=t,{type:s,layout:l,connectNulls:u,needClip:c}=o,h=RL(o,Mte),d=hr(hr({},be(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):null,points:r,type:s,layout:l,connectNulls:u,strokeDasharray:i??o.strokeDasharray});return b.createElement(b.Fragment,null,(r==null?void 0:r.length)>1&&b.createElement(mN,Ks({},d,{pathRef:n})),b.createElement(Hte,{points:r,clipPathId:e,props:o}),a&&po.renderCallByParent(o,r))}function qte(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Gte(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=t,{points:a,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:h,animateNewValues:d,width:p,height:m,onAnimationEnd:y,onAnimationStart:_}=n,v=i.current,w=sL(n,"recharts-line-"),[T,x]=b.useState(!1),O=b.useCallback(()=>{typeof y=="function"&&y(),x(!1)},[y]),D=b.useCallback(()=>{typeof _=="function"&&_(),x(!0)},[_]),P=qte(r.current),S=o.current;return b.createElement(Ta,{begin:u,duration:c,isActive:l,easing:h,from:{t:0},to:{t:1},onAnimationEnd:O,onAnimationStart:D,key:w},I=>{var{t:C}=I,R=fr(S,P+S),N=Math.min(R(C),P),k;if(s){var re="".concat(s).split(/[,\s]+/gim).map(oe=>parseFloat(oe));k=zte(N,P,re)}else k=NL(P,N);if(v){var he=v.length/a.length,Se=C===1?a:a.map((oe,z)=>{var q=Math.floor(z*he);if(v[q]){var te=v[q],de=fr(te.x,oe.x),K=fr(te.y,oe.y);return hr(hr({},oe),{},{x:de(C),y:K(C)})}if(d){var ue=fr(p*2,oe.x),bt=fr(m/2,oe.y);return hr(hr({},oe),{},{x:ue(C),y:bt(C)})}return hr(hr({},oe),{},{x:oe.x,y:oe.y})});return i.current=Se,b.createElement(g0,{props:n,points:Se,clipPathId:e,pathRef:r,showLabels:!T,strokeDasharray:k})}return C>0&&P>0&&(i.current=a,o.current=N),b.createElement(g0,{props:n,points:a,clipPathId:e,pathRef:r,showLabels:!T,strokeDasharray:k})})}function Yte(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,o=b.useRef(null),a=b.useRef(0),s=b.useRef(null),l=o.current;return i&&r&&r.length&&l!==r?b.createElement(Gte,{props:n,clipPathId:e,previousPointsRef:o,longestAnimatedLengthRef:a,pathRef:s}):b.createElement(g0,{props:n,points:r,clipPathId:e,pathRef:s,showLabels:!0})}var Qte=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Gt(t.payload,e)});class Xte extends b.Component{constructor(){super(...arguments),wm(this,"id",Ls("recharts-line-"))}render(){var e,{hide:n,dot:r,points:i,className:o,xAxisId:a,yAxisId:s,top:l,left:u,width:c,height:h,id:d,needClip:p,layout:m}=this.props;if(n)return null;var y=Ae("recharts-line",o),_=ke(d)?this.id:d,{r:v=3,strokeWidth:w=2}=(e=be(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},T=WR(r),x=v*2+w;return b.createElement(b.Fragment,null,b.createElement(Rn,{className:y},p&&b.createElement("defs",null,b.createElement(yL,{clipPathId:_,xAxisId:a,yAxisId:s}),!T&&b.createElement("clipPath",{id:"clipPath-dots-".concat(_)},b.createElement("rect",{x:u-x/2,y:l-x/2,width:c+x,height:h+x}))),b.createElement(Yte,{props:this.props,clipPathId:_}),b.createElement(pL,{direction:m==="horizontal"?"y":"x"},b.createElement(cL,{xAxisId:a,yAxisId:s,data:i,dataPointFormatter:Qte,errorBarOffset:0},this.props.children))),b.createElement(OZ,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var DL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!sl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Jte(t){var e=Ii(t,DL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:s,dot:l,hide:u,isAnimationActive:c,label:h,legendType:d,xAxisId:p,yAxisId:m}=e,y=RL(e,Lte),{needClip:_}=q1(p,m),{height:v,width:w,x:T,y:x}=H1(),O=Zp(),D=an(),P=b.useMemo(()=>({dataKey:t.dataKey,data:t.data}),[t.dataKey,t.data]),S=ee(I=>Dte(I,p,m,D,P));return O!=="horizontal"&&O!=="vertical"?null:b.createElement(Xte,Ks({},y,{connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,isAnimationActive:c,hide:u,label:h,legendType:d,xAxisId:p,yAxisId:m,points:S,layout:O,height:v,width:w,left:T,top:x,needClip:_}))}function Zte(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:a,bandSize:s,displayedData:l}=t;return l.map((u,c)=>{var h=Gt(u,a);return e==="horizontal"?{x:SP({axis:n,ticks:i,bandSize:s,entry:u,index:c}),y:ke(h)?null:r.scale(h),value:h,payload:u}:{x:ke(h)?null:n.scale(h),y:SP({axis:r,ticks:o,bandSize:s,entry:u,index:c}),value:h,payload:u}})}class J1 extends b.PureComponent{render(){return b.createElement(fL,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},b.createElement(aL,{legendPayload:Fte(this.props)}),b.createElement(oL,{fn:Ute,args:this.props}),b.createElement(Jte,this.props))}}wm(J1,"displayName","Line");wm(J1,"defaultProps",DL);function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ene(t,e,n){return(e=tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tne(t){var e=nne(t,"string");return typeof e=="symbol"?e:e+""}function nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rne={xAxis:{},yAxis:{},zAxis:{}},ML=nr({name:"cartesianAxis",initialState:rne,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=II(II({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:ine,removeXAxis:one,addYAxis:ane,removeYAxis:sne,addZAxis:Yre,removeZAxis:Qre,updateYAxisWidth:lne}=ML.actions,une=ML.reducer,cne=["children"],fne=["dangerouslySetInnerHTML","ticks"];function LL(t,e,n){return(e=hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=dne(t,"string");return typeof e=="symbol"?e:e+""}function dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(null,arguments)}function jL(t,e){if(t==null)return{};var n,r,i=pne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mne(t){var e=Ze(),n=b.useMemo(()=>{var o=jL(t,cne);return o},[t]),r=ee(o=>Ci(o,n.id)),i=n===r;return b.useEffect(()=>(e(ine(n)),()=>{e(one(n))}),[n,e]),i?t.children:null}var gne=t=>{var{xAxisId:e,className:n}=t,r=ee(fN),i=an(),o="xAxis",a=ee(h=>hl(h,o,e,i)),s=ee(h=>lM(h,o,e,i)),l=ee(h=>iM(h,e)),u=ee(h=>yQ(h,e));if(l==null||u==null)return null;var c=jL(t,fne);return b.createElement(Do,v0({},c,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:Ae("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s}))},vne=t=>{var e,n,r,i,o;return b.createElement(mne,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},b.createElement(gne,t))};class Em extends b.Component{render(){return b.createElement(vne,this.props)}}LL(Em,"displayName","XAxis");LL(Em,"defaultProps",{allowDataOverflow:wn.allowDataOverflow,allowDecimals:wn.allowDecimals,allowDuplicatedCategory:wn.allowDuplicatedCategory,height:wn.height,hide:!1,mirror:wn.mirror,orientation:wn.orientation,padding:wn.padding,reversed:wn.reversed,scale:wn.scale,tickCount:wn.tickCount,type:wn.type,xAxisId:0});var yne=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){e.forEach(c=>{if(c){var h=c.getBoundingClientRect();h.width>a&&(a=h.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+o,u=a+l+s+(n?r:0);return Math.round(u)}return 0},_ne=["dangerouslySetInnerHTML","ticks"];function VL(t,e,n){return(e=wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wne(t){var e=Ene(t,"string");return typeof e=="symbol"?e:e+""}function Ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y0.apply(null,arguments)}function bne(t,e){if(t==null)return{};var n,r,i=Tne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sne(t){var e=Ze();return b.useEffect(()=>(e(ane(t)),()=>{e(sne(t))}),[t,e]),null}var Pne=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,a=b.useRef(null),s=b.useRef(null),l=ee(fN),u=an(),c=Ze(),h="yAxis",d=ee(v=>hl(v,h,n,u)),p=ee(v=>oM(v,n)),m=ee(v=>_Q(v,n)),y=ee(v=>lM(v,h,n,u));if(b.useLayoutEffect(()=>{var v;if(!(i!=="auto"||!p||K1(o)||b.isValidElement(o))){var w=a.current,T=w==null||(v=w.tickRefs)===null||v===void 0?void 0:v.current,{tickSize:x,tickMargin:O}=w.props,D=yne({ticks:T,label:s.current,labelGapWithTick:5,tickSize:x,tickMargin:O});Math.round(p.width)!==Math.round(D)&&c(lne({id:n,width:D}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,c,o,n,i]),p==null||m==null)return null;var _=bne(t,_ne);return b.createElement(Do,y0({},_,{ref:a,labelRef:s,scale:d,x:m.x,y:m.y,width:p.width,height:p.height,className:Ae("recharts-".concat(h," ").concat(h),r),viewBox:l,ticks:y}))},Ane=t=>{var e,n,r,i,o;return b.createElement(b.Fragment,null,b.createElement(Sne,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),b.createElement(Pne,t))},Ine={allowDataOverflow:En.allowDataOverflow,allowDecimals:En.allowDecimals,allowDuplicatedCategory:En.allowDuplicatedCategory,hide:!1,mirror:En.mirror,orientation:En.orientation,padding:En.padding,reversed:En.reversed,scale:En.scale,tickCount:En.tickCount,type:En.type,width:En.width,yAxisId:0};class bm extends b.Component{render(){return b.createElement(Ane,this.props)}}VL(bm,"displayName","YAxis");VL(bm,"defaultProps",Ine);var xne={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=b;function Cne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var One=typeof Object.is=="function"?Object.is:Cne,kne=Mc.useSyncExternalStore,Rne=Mc.useRef,Nne=Mc.useEffect,Dne=Mc.useMemo,Mne=Mc.useDebugValue;xne.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=Rne(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Dne(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var m=a.value;if(i(m,p))return h=m}return h=p}if(m=h,One(c,p))return m;var y=r(p);return i!==void 0&&i(m,y)?(c=p,m):(c=p,h=y)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var s=kne(t,o[0],o[1]);return Nne(function(){a.hasValue=!0,a.value=s},[s]),Mne(s),s};function Lne(t){t()}function jne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Lne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var xI={notify(){},get:()=>[]};function Vne(t,e){let n,r=xI,i=0,o=!1;function a(y){c();const _=r.subscribe(y);let v=!1;return()=>{v||(v=!0,_(),h())}}function s(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return o}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=jne())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=xI)}function d(){o||(o=!0,c())}function p(){o&&(o=!1,h())}const m={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return m}var $ne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fne=$ne(),Une=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Bne=Une(),zne=()=>Fne||Bne?b.useLayoutEffect:b.useEffect,Wne=zne(),nv=Symbol.for("react-redux-context"),rv=typeof globalThis<"u"?globalThis:{};function Kne(){if(!b.createContext)return{};const t=rv[nv]??(rv[nv]=new Map);let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var Hne=Kne();function qne(t){const{children:e,context:n,serverState:r,store:i}=t,o=b.useMemo(()=>{const l=Vne(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=b.useMemo(()=>i.getState(),[i]);Wne(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const s=n||Hne;return b.createElement(s.Provider,{value:o},e)}var Gne=qne,Yne=(t,e)=>e,Z1=V([Yne,xe,kY,Et,TM,Oi,bX,yt],IX),eE=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},$L=Zn("mouseClick"),FL=Pc();FL.startListening({actionCreator:$L,effect:(t,e)=>{var n=t.payload,r=Z1(e.getState(),eE(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(RQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var _0=Zn("mouseMove"),UL=Pc();UL.startListening({actionCreator:_0,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=M1(r,r.tooltip.settings.shared),o=Z1(r,eE(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(gM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(mM()))}});function Qne(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var CI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},BL=nr({name:"rootProps",initialState:CI,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:CI.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Xne=BL.reducer,{updateOptions:Jne}=BL.actions,zL=nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}});zL.actions;var Zne=zL.reducer,WL=Zn("keyDown"),KL=Zn("focus"),tE=Pc();tE.startListening({actionCreator:WL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Number(L1(i,Da(n))),s=Oi(n);if(o==="Enter"){var l=Cd(n,"axis","hover",String(i.index));e.dispatch(l0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=TQ(n),c=u==="left-to-right"?1:-1,h=o==="ArrowRight"?1:-1,d=a+h*c;if(!(s==null||d>=s.length||d<0)){var p=Cd(n,"axis","hover",String(d));e.dispatch(l0({active:!0,activeIndex:d.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});tE.startListening({actionCreator:KL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=Cd(n,"axis","hover",String(o));e.dispatch(l0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var Bn=Zn("externalEvent"),HL=Pc();HL.startListening({actionCreator:Bn,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:hX(n),activeDataKey:IM(n),activeIndex:Pa(n),activeLabel:AM(n),activeTooltipIndex:Pa(n),isTooltipActive:dX(n)};t.payload.handler(r,t.payload.reactEvent)}}});var ere=V([dl],t=>t.tooltipItemPayloads),tre=V([ere,Dc,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(s=>s.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),qL=Zn("touchMove"),GL=Pc();GL.startListening({actionCreator:qL,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=M1(r,r.tooltip.settings.shared);if(i==="axis"){var o=Z1(r,eE({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(gM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(JW),c=(a=l.getAttribute(ZW))!==null&&a!==void 0?a:void 0,h=tre(e.getState(),u,c);e.dispatch(pM({activeDataKey:c,activeIndex:u,activeCoordinate:h}))}}});var nre=V2({brush:Kee,cartesianAxis:une,chartData:BX,graphicalItems:tZ,layout:bW,legend:dK,options:jX,polarAxis:GJ,polarOptions:Zne,referenceElements:Jee,rootProps:Xne,tooltip:NQ}),rre=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return q7({reducer:nre,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([FL.middleware,UL.middleware,tE.middleware,HL.middleware,GL.middleware]),devTools:{serialize:{replacer:Qne},name:"recharts-".concat(n)}})};function ire(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=an(),o=b.useRef(null);if(i)return n;o.current==null&&(o.current=rre(e,r));var a=Dw;return b.createElement(Gne,{context:a,store:o.current},n)}function ore(t){var{layout:e,width:n,height:r,margin:i}=t,o=Ze(),a=an();return b.useEffect(()=>{a||(o(_W(e)),o(wW({width:n,height:r})),o(yW(i)))},[o,a,e,n,r,i]),null}function are(t){var e=Ze();return b.useEffect(()=>{e(Jne(t))},[e,t]),null}var sre=["children"];function lre(t,e){if(t==null)return{};var n,r,i=ure(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ure(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(null,arguments)}var cre={width:"100%",height:"100%"},fre=b.forwardRef((t,e)=>{var n=Kw(),r=Hw(),i=pN();if(!pd(n)||!pd(r))return null;var{children:o,otherAttributes:a,title:s,desc:l}=t,u,c;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0,b.createElement(ww,Ld({},a,{title:s,desc:l,role:c,tabIndex:u,width:n,height:r,style:cre,ref:e}),o)}),hre=t=>{var{children:e}=t,n=ee(Jp);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return b.createElement(ww,{width:r,height:i,x:a,y:o},e)},OI=b.forwardRef((t,e)=>{var{children:n}=t,r=lre(t,sre),i=an();return i?b.createElement(hre,null,n):b.createElement(fre,Ld({ref:e},r),n)});function dre(){var t=Ze(),[e,n]=b.useState(null),r=ee(XW);return b.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Mn(o)&&o!==r&&t(EW(o))}},[e,t,r]),n}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mre(t,e,n){return(e=gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=vre(t,"string");return typeof e=="symbol"?e:e+""}function vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yre=b.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:h,onMouseUp:d,onTouchEnd:p,onTouchMove:m,onTouchStart:y,style:_,width:v}=t,w=Ze(),[T,x]=b.useState(null),[O,D]=b.useState(null);KX();var P=dre(),S=b.useCallback(K=>{P(K),typeof e=="function"&&e(K),x(K),D(K)},[P,e,x,D]),I=b.useCallback(K=>{w($L(K)),w(Bn({handler:o,reactEvent:K}))},[w,o]),C=b.useCallback(K=>{w(_0(K)),w(Bn({handler:u,reactEvent:K}))},[w,u]),R=b.useCallback(K=>{w(mM()),w(Bn({handler:c,reactEvent:K}))},[w,c]),N=b.useCallback(K=>{w(_0(K)),w(Bn({handler:h,reactEvent:K}))},[w,h]),k=b.useCallback(()=>{w(KL())},[w]),re=b.useCallback(K=>{w(WL(K.key))},[w]),he=b.useCallback(K=>{w(Bn({handler:a,reactEvent:K}))},[w,a]),Se=b.useCallback(K=>{w(Bn({handler:s,reactEvent:K}))},[w,s]),oe=b.useCallback(K=>{w(Bn({handler:l,reactEvent:K}))},[w,l]),z=b.useCallback(K=>{w(Bn({handler:d,reactEvent:K}))},[w,d]),q=b.useCallback(K=>{w(Bn({handler:y,reactEvent:K}))},[w,y]),te=b.useCallback(K=>{w(qL(K)),w(Bn({handler:m,reactEvent:K}))},[w,m]),de=b.useCallback(K=>{w(Bn({handler:p,reactEvent:K}))},[w,p]);return b.createElement(NM.Provider,{value:T},b.createElement(KR.Provider,{value:O},b.createElement("div",{className:Ae("recharts-wrapper",r),style:pre({position:"relative",cursor:"default",width:v,height:i},_),onClick:I,onContextMenu:he,onDoubleClick:Se,onFocus:k,onKeyDown:re,onMouseDown:oe,onMouseEnter:C,onMouseLeave:R,onMouseMove:N,onMouseUp:z,onTouchEnd:de,onTouchMove:te,onTouchStart:q,ref:S},n)))}),_re=["children","className","width","height","style","compact","title","desc"];function wre(t,e){if(t==null)return{};var n,r,i=Ere(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ere(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bre=b.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:a,compact:s,title:l,desc:u}=t,c=wre(t,_re),h=be(c,!1);return s?b.createElement(OI,{otherAttributes:h,title:l,desc:u},n):b.createElement(yre,{className:r,style:a,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(OI,{otherAttributes:h,title:l,desc:u,ref:e},b.createElement(ete,null,n)))}),Tre=["width","height"];function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(null,arguments)}function Sre(t,e){if(t==null)return{};var n,r,i=Pre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Are={top:5,right:5,bottom:5,left:5},Ire={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Are,reverseStackOrder:!1,syncMethod:"index"},YL=b.forwardRef(function(e,n){var r,i=Ii(e.categoricalChartProps,Ire),{width:o,height:a}=i,s=Sre(i,Tre);if(!pd(o)||!pd(a))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,categoricalChartProps:d}=e,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,eventEmitter:void 0};return b.createElement(ire,{preloadedState:{options:p},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:l},b.createElement(Wee,{chartData:d.data}),b.createElement(ore,{width:o,height:a,layout:i.layout,margin:i.margin}),b.createElement(are,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(bre,w0({},s,{width:o,height:a,ref:n})))}),xre=["axis"],Cre=b.forwardRef((t,e)=>b.createElement(YL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xre,tooltipPayloadSearcher:MM,categoricalChartProps:t,ref:e})),Ore=["axis","item"],kre=b.forwardRef((t,e)=>b.createElement(YL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ore,tooltipPayloadSearcher:MM,categoricalChartProps:t,ref:e}));const Rre=[{semaine:"S1",commandes:8},{semaine:"S2",commandes:12},{semaine:"S3",commandes:5},{semaine:"S4",commandes:15},{semaine:"S5",commandes:10}],Nre=()=>M.createElement("div",{className:"bg-white rounded-xl shadow-md p-4 mt-6"},M.createElement("h2",{className:"text-lg font-semibold mb-4 text-gray-700"},"Progression des commandes par semaine"),M.createElement(BM,{width:"100%",height:250},M.createElement(Cre,{data:Rre},M.createElement(IL,{strokeDasharray:"3 3"}),M.createElement(Em,{dataKey:"semaine"}),M.createElement(bm,{allowDecimals:!1}),M.createElement($M,null),M.createElement(J1,{type:"monotone",dataKey:"commandes",stroke:"#3b82f6",strokeWidth:2})))),Dre=()=>M.createElement("div",{className:"flex"},M.createElement(Cz,null),M.createElement("div",{className:"flex-1 flex flex-col min-h-screen bg-gray-100"},M.createElement(Oz,null),M.createElement("main",{className:"p-6"},M.createElement(Rz,null),M.createElement(Nre,null)))),Mre=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,o]=b.useState(null),[a,s]=b.useState("choose"),l=Js(),u=async()=>{window.recaptchaVerifier=new WO(oa,"recaptcha",{size:"invisible"});try{const m=await KO(oa,t,window.recaptchaVerifier);o(m),s("verifyOtp"),alert("📲 Code OTP envoyé")}catch(m){alert("Erreur envoi OTP : "+m.message)}},c=async()=>{try{const m=await i.confirm(n),y=await d(m.user,"client");alert("✅ Connexion réussie"),p(y)}catch{alert("❌ OTP invalide")}},h=async()=>{const m=new xr;try{const y=await GO(oa,m),_=await d(y.user,"client");alert("✅ Connexion Google réussie"),p(_)}catch(y){alert("Erreur Google : "+y.message)}},d=async(m,y)=>{const _=Ms(gi,"users",m.uid),v=await Jh(_);return v.exists()?v.data().role||y:(await RR(_,{uid:m.uid,nom:m.displayName||"",email:m.email||"",phone:m.phoneNumber||"",role:y,createdAt:new Date}),y)},p=m=>{l(m==="admin"?"/dashboard":m==="agent"?"/commandes":"/suivi")};return M.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-tr from-indigo-700 via-purple-600 to-pink-500"},M.createElement("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md"},M.createElement("h2",{className:"text-xl font-bold mb-6 text-center text-gray-800"},"🔐 Connexion"),a==="choose"&&M.createElement(M.Fragment,null,M.createElement("button",{onClick:h,className:"w-full mb-4 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700"},"Se connecter avec Google"),M.createElement("hr",{className:"my-4"}),M.createElement("input",{type:"tel",placeholder:"+243...",value:t,onChange:m=>e(m.target.value),className:"input w-full mb-4 border rounded p-2"}),M.createElement("div",{id:"recaptcha"}),M.createElement("button",{onClick:u,className:"w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700"},"Recevoir un code OTP")),a==="verifyOtp"&&M.createElement(M.Fragment,null,M.createElement("input",{type:"text",placeholder:"Entrez le code OTP",value:n,onChange:m=>r(m.target.value),className:"input w-full mb-4 border rounded p-2"}),M.createElement("button",{onClick:c,className:"w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700"},"Valider le code"))))},Lre=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),i=async()=>{const a=(await kR(Qh(gi,"clients"))).docs.map(s=>({id:s.id,...s.data()}));e(a),r(!1)};return b.useEffect(()=>{i()},[]),M.createElement("div",{className:"p-6 bg-gray-100 min-h-screen"},M.createElement("div",{className:"flex items-center justify-between mb-4"},M.createElement("h2",{className:"text-xl font-bold text-gray-800"},"Liste des clients"),M.createElement(ey,{to:"/ajouter-client",className:"px-4 py-2 bg-green-600 text-white rounded font-semibold"},"➕ Ajouter client")),n?M.createElement("p",null,"Chargement..."):M.createElement("div",{className:"overflow-x-auto"},M.createElement("table",{className:"min-w-full bg-white rounded-lg shadow-md"},M.createElement("thead",null,M.createElement("tr",{className:"bg-gray-200 text-left text-sm text-gray-600"},M.createElement("th",{className:"p-3"},"Nom"),M.createElement("th",{className:"p-3"},"Téléphone"),M.createElement("th",{className:"p-3"},"Commandes"),M.createElement("th",{className:"p-3"},"Total payé"),M.createElement("th",{className:"p-3"},"Dernière commande"),M.createElement("th",{className:"p-3"},"Actions"))),M.createElement("tbody",null,t.map((o,a)=>M.createElement("tr",{key:a,className:"border-t text-sm hover:bg-gray-50"},M.createElement("td",{className:"p-3"},o.nom),M.createElement("td",{className:"p-3"},o.telephone),M.createElement("td",{className:"p-3"},o.commandes||"—"),M.createElement("td",{className:"p-3"},o.total||"—"),M.createElement("td",{className:"p-3"},o.derniere||"—"),M.createElement("td",{className:"p-3"},M.createElement(ey,{to:`/modifier-client/${o.id}`,className:"text-blue-600 font-semibold hover:underline"},"✏️ Modifier"))))))))},RI=[{type:"Entrée",categorie:"Paiement client",montant:270},{type:"Entrée",categorie:"Frais de service",montant:50},{type:"Sortie",categorie:"Achat produit",montant:210},{type:"Sortie",categorie:"Douane",montant:25},{type:"Sortie",categorie:"Transport",montant:30}],jre=[{semaine:"S1",entrees:320,sorties:150},{semaine:"S2",entrees:400,sorties:230},{semaine:"S3",entrees:200,sorties:300}],Vre=()=>M.createElement("div",{className:"p-6 bg-gray-100 min-h-screen"},M.createElement("h2",{className:"text-xl font-bold mb-4 text-gray-800"},"Suivi financier"),M.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},M.createElement("div",{className:"bg-white rounded-lg shadow-md p-4"},M.createElement("h3",{className:"text-lg font-semibold mb-2 text-green-700"},"Entrées"),M.createElement("ul",{className:"text-sm text-gray-700"},RI.filter(t=>t.type==="Entrée").map((t,e)=>M.createElement("li",{key:e},"✅ ",t.categorie," : ",t.montant," $")))),M.createElement("div",{className:"bg-white rounded-lg shadow-md p-4"},M.createElement("h3",{className:"text-lg font-semibold mb-2 text-red-700"},"Dépenses"),M.createElement("ul",{className:"text-sm text-gray-700"},RI.filter(t=>t.type==="Sortie").map((t,e)=>M.createElement("li",{key:e},"❌ ",t.categorie," : ",t.montant," $"))))),M.createElement("div",{className:"bg-white mt-6 rounded-lg shadow-md p-4"},M.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"},"Entrées / Sorties par semaine"),M.createElement(BM,{width:"100%",height:250},M.createElement(kre,{data:jre},M.createElement(Em,{dataKey:"semaine"}),M.createElement(bm,null),M.createElement($M,null),M.createElement(em,null),M.createElement(Nd,{dataKey:"entrees",fill:"#22c55e"}),M.createElement(Nd,{dataKey:"sorties",fill:"#ef4444"}))))),$re=()=>{const[t,e]=b.useState(""),[n,r]=b.useState([]),[i,o]=b.useState([{code:"",designation:"",lien:"",image:"",prix:"",quantite:"",total:0}]),[a,s]=b.useState({}),[l,u]=b.useState(0);b.useEffect(()=>{(async()=>{const v=(await kR(Qh(gi,"clients"))).docs.map(w=>w.data().nom);r(v)})()},[]);const c=(y,_,v)=>{const w=[...i];if(w[y][_]=v,_==="prix"||_==="quantite"){const x=parseFloat(w[y].prix)||0,O=parseInt(w[y].quantite)||0;w[y].total=x*O}o(w);const T=w.reduce((x,O)=>x+(O.total||0),0);u(T)},h=(y,_)=>{const v=new FileReader;v.onload=w=>{const T=new Image;T.onload=()=>{const x=document.createElement("canvas"),O=800,D=O/T.width;x.width=O,x.height=T.height*D,x.getContext("2d").drawImage(T,0,0,x.width,x.height);const S=x.toDataURL("image/jpeg",.7);_(S)},T.src=w.target.result},v.readAsDataURL(y)},d=(y,_)=>{h(_,v=>{const w=[...i];w[y].image=v,o(w),s(T=>({...T,[y]:v}))})},p=()=>{o([...i,{code:"",designation:"",lien:"",image:"",prix:"",quantite:"",total:0}])},m=async y=>{y.preventDefault();try{await NR(Qh(gi,"commandes"),{client:t,produits:i,total:l,etat:"Payé",createdAt:DR()}),alert("✅ Commande enregistrée !"),e(""),o([{code:"",designation:"",lien:"",image:"",prix:"",quantite:"",total:0}]),s({}),u(0)}catch(_){alert("❌ Erreur: "+_.message)}};return M.createElement("div",{className:"p-6 bg-gray-100 min-h-screen"},M.createElement("h2",{className:"text-2xl font-bold mb-4"},"📝 Ajouter une commande"),M.createElement("form",{onSubmit:m,className:"space-y-6"},M.createElement("div",null,M.createElement("label",{className:"font-semibold"},"Client :"),M.createElement("select",{className:"block w-full p-2 mt-1 border rounded",value:t,onChange:y=>e(y.target.value),required:!0},M.createElement("option",{value:""},"-- Sélectionner un client --"),n.map((y,_)=>M.createElement("option",{key:_,value:y},y)))),M.createElement("div",{className:"space-y-4"},i.map((y,_)=>M.createElement("div",{key:_,className:"bg-white p-4 border rounded shadow"},M.createElement("h4",{className:"font-bold text-gray-700 mb-2"},"Produit #",_+1),M.createElement("input",{className:"input w-full mb-2",type:"text",placeholder:"N° de produit",value:y.code,onChange:v=>c(_,"code",v.target.value),required:!0}),M.createElement("input",{className:"input w-full mb-2",type:"text",placeholder:"Désignation",value:y.designation,onChange:v=>c(_,"designation",v.target.value),required:!0}),M.createElement("input",{className:"input w-full mb-2",type:"text",placeholder:"Lien du produit (https://...)",value:y.lien,onChange:v=>c(_,"lien",v.target.value),required:!0}),M.createElement("input",{type:"file",accept:"image/*",className:"block mb-2",onChange:v=>d(_,v.target.files[0])}),(a[_]||y.image)&&M.createElement("img",{src:a[_]||y.image,alt:"Aperçu",className:"h-32 object-cover border rounded mb-2"}),M.createElement("div",{className:"grid grid-cols-2 gap-2"},M.createElement("input",{className:"input w-full",type:"number",placeholder:"Prix unitaire",value:y.prix,onChange:v=>c(_,"prix",v.target.value),required:!0}),M.createElement("input",{className:"input w-full",type:"number",placeholder:"Quantité",value:y.quantite,onChange:v=>c(_,"quantite",v.target.value),required:!0})),M.createElement("p",{className:"mt-2"},"💵 Total : ",M.createElement("strong",null,y.total.toFixed(2)," $")))),M.createElement("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:p},"➕ Ajouter un produit")),M.createElement("div",{className:"font-bold text-lg mt-4"},"Total général : ",l.toFixed(2)," $"),M.createElement("button",{type:"submit",className:"px-6 py-3 bg-green-600 text-white font-bold rounded"},"✅ Enregistrer la commande")))},Fre=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,o]=b.useState(""),[a,s]=b.useState(""),l=Js(),u=async c=>{c.preventDefault();try{await NR(Qh(gi,"clients"),{nom:t,telephone:n,email:i,adresse:a,createdAt:DR()}),alert("✅ Client ajouté avec succès !"),l("/clients")}catch(h){alert("❌ Erreur lors de l’ajout : "+h.message)}};return M.createElement("div",{className:"p-6 bg-gray-100 min-h-screen"},M.createElement("h2",{className:"text-xl font-bold mb-4 text-gray-800"},"➕ Ajouter un client"),M.createElement("form",{onSubmit:u,className:"space-y-4 bg-white p-6 rounded shadow max-w-md"},M.createElement("div",null,M.createElement("label",{className:"block mb-1 font-semibold"},"Nom complet :"),M.createElement("input",{type:"text",value:t,onChange:c=>e(c.target.value),className:"w-full border p-2 rounded",required:!0})),M.createElement("div",null,M.createElement("label",{className:"block mb-1 font-semibold"},"Téléphone :"),M.createElement("input",{type:"text",value:n,onChange:c=>r(c.target.value),className:"w-full border p-2 rounded",required:!0})),M.createElement("div",null,M.createElement("label",{className:"block mb-1 font-semibold"},"Email :"),M.createElement("input",{type:"email",value:i,onChange:c=>o(c.target.value),className:"w-full border p-2 rounded"})),M.createElement("div",null,M.createElement("label",{className:"block mb-1 font-semibold"},"Adresse de livraison :"),M.createElement("textarea",{value:a,onChange:c=>s(c.target.value),className:"w-full border p-2 rounded",rows:3})),M.createElement("div",{className:"flex gap-4"},M.createElement("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded"},"💾 Enregistrer"),M.createElement("button",{type:"button",onClick:()=>l("/clients"),className:"bg-gray-400 text-white px-4 py-2 rounded"},"↩️ Retour"))))},Ure=()=>{const{id:t}=w6(),e=Js(),[n,r]=b.useState(""),[i,o]=b.useState(""),[a,s]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const c=Ms(gi,"clients",t),h=await Jh(c);if(h.exists()){const d=h.data();r(d.nom||""),o(d.telephone||"")}else alert("❌ Client introuvable."),e("/clients")}catch(c){alert("❌ Erreur lors de la récupération : "+c.message)}finally{s(!1)}})()},[t,e]);const l=async u=>{u.preventDefault();try{const c=Ms(gi,"clients",t);await hz(c,{nom:n,telephone:i}),alert("✅ Client mis à jour avec succès !"),e("/clients")}catch(c){alert("❌ Erreur lors de la mise à jour : "+c.message)}};return a?M.createElement("p",{className:"p-6"},"Chargement..."):M.createElement("div",{className:"p-6 bg-gray-100 min-h-screen"},M.createElement("h2",{className:"text-xl font-bold mb-4 text-gray-800"},"✏️ Modifier client"),M.createElement("form",{onSubmit:l,className:"space-y-4 max-w-md bg-white p-6 rounded shadow"},M.createElement("div",null,M.createElement("label",{className:"block font-semibold mb-1"},"Nom :"),M.createElement("input",{type:"text",value:n,onChange:u=>r(u.target.value),className:"input w-full border p-2 rounded",required:!0})),M.createElement("div",null,M.createElement("label",{className:"block font-semibold mb-1"},"Téléphone :"),M.createElement("input",{type:"text",value:i,onChange:u=>o(u.target.value),className:"input w-full border p-2 rounded",required:!0})),M.createElement("div",{className:"flex gap-4"},M.createElement("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded"},"💾 Enregistrer"),M.createElement("button",{type:"button",onClick:()=>e("/clients"),className:"bg-gray-400 text-white px-4 py-2 rounded"},"↩️ Retour"))))};function Bre(){return M.createElement(z6,null,M.createElement(L6,null,M.createElement(sr,{path:"/login",element:M.createElement(mz,null)}),M.createElement(sr,{path:"/",element:M.createElement(JC,{to:"/dashboard",replace:!0})}),M.createElement(sr,{path:"/dashboard",element:M.createElement($o,null,M.createElement(Dre,null))}),M.createElement(sr,{path:"/commandes",element:M.createElement($o,null,M.createElement(Mre,null))}),M.createElement(sr,{path:"/finances",element:M.createElement($o,null,M.createElement(Vre,null))}),M.createElement(sr,{path:"/clients",element:M.createElement($o,null,M.createElement(Lre,null))}),M.createElement(sr,{path:"/ajouter-commande",element:M.createElement($o,null,M.createElement($re,null))}),M.createElement(sr,{path:"/ajouter-client",element:M.createElement($o,null,M.createElement(Fre,null))}),M.createElement(sr,{path:"/modifier-client/:id",element:M.createElement($o,null,M.createElement(Ure,null))}),M.createElement(sr,{path:"*",element:M.createElement("div",{className:"text-center text-red-600 font-bold text-2xl mt-20"},"❌ Page non trouvée (Erreur 404)")})))}iv.createRoot(document.getElementById("root")).render(M.createElement(M.StrictMode,null,M.createElement(Bre,null)));
