var mq=Object.defineProperty;var yq=(t,e,n)=>e in t?mq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var It=(t,e,n)=>(yq(t,typeof e!="symbol"?e+"":e,n),n);function vq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _5e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V8={exports:{}},ab={},z8={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=Symbol.for("react.element"),bq=Symbol.for("react.portal"),wq=Symbol.for("react.fragment"),_q=Symbol.for("react.strict_mode"),xq=Symbol.for("react.profiler"),Sq=Symbol.for("react.provider"),Aq=Symbol.for("react.context"),Eq=Symbol.for("react.forward_ref"),Pq=Symbol.for("react.suspense"),Tq=Symbol.for("react.memo"),Cq=Symbol.for("react.lazy"),oC=Symbol.iterator;function Nq(t){return t===null||typeof t!="object"?null:(t=oC&&t[oC]||t["@@iterator"],typeof t=="function"?t:null)}var $8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q8=Object.assign,H8={};function Pp(t,e,n){this.props=t,this.context=e,this.refs=H8,this.updater=n||$8}Pp.prototype.isReactComponent={};Pp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W8(){}W8.prototype=Pp.prototype;function cA(t,e,n){this.props=t,this.context=e,this.refs=H8,this.updater=n||$8}var uA=cA.prototype=new W8;uA.constructor=cA;q8(uA,Pp.prototype);uA.isPureReactComponent=!0;var aC=Array.isArray,K8=Object.prototype.hasOwnProperty,hA={current:null},G8={key:!0,ref:!0,__self:!0,__source:!0};function Y8(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)K8.call(e,r)&&!G8.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:m0,type:t,key:s,ref:o,props:i,_owner:hA.current}}function Iq(t,e){return{$$typeof:m0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fA(t){return typeof t=="object"&&t!==null&&t.$$typeof===m0}function kq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lC=/\/+/g;function N5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kq(""+t.key):e.toString(36)}function Cy(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case m0:case bq:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+N5(o,0):r,aC(i)?(n="",t!=null&&(n=t.replace(lC,"$&/")+"/"),Cy(i,e,n,"",function(c){return c})):i!=null&&(fA(i)&&(i=Iq(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lC,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",aC(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+N5(s,a);o+=Cy(s,e,n,l,i)}else if(l=Nq(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+N5(s,a++),o+=Cy(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function E1(t,e,n){if(t==null)return t;var r=[],i=0;return Cy(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Oq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ji={current:null},Ny={transition:null},Rq={ReactCurrentDispatcher:ji,ReactCurrentBatchConfig:Ny,ReactCurrentOwner:hA};function X8(){throw Error("act(...) is not supported in production builds of React.")}Lt.Children={map:E1,forEach:function(t,e,n){E1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return E1(t,function(){e++}),e},toArray:function(t){return E1(t,function(e){return e})||[]},only:function(t){if(!fA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Lt.Component=Pp;Lt.Fragment=wq;Lt.Profiler=xq;Lt.PureComponent=cA;Lt.StrictMode=_q;Lt.Suspense=Pq;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rq;Lt.act=X8;Lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=q8({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=hA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)K8.call(e,l)&&!G8.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:m0,type:t.type,key:i,ref:s,props:r,_owner:o}};Lt.createContext=function(t){return t={$$typeof:Aq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sq,_context:t},t.Consumer=t};Lt.createElement=Y8;Lt.createFactory=function(t){var e=Y8.bind(null,t);return e.type=t,e};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(t){return{$$typeof:Eq,render:t}};Lt.isValidElement=fA;Lt.lazy=function(t){return{$$typeof:Cq,_payload:{_status:-1,_result:t},_init:Oq}};Lt.memo=function(t,e){return{$$typeof:Tq,type:t,compare:e===void 0?null:e}};Lt.startTransition=function(t){var e=Ny.transition;Ny.transition={};try{t()}finally{Ny.transition=e}};Lt.unstable_act=X8;Lt.useCallback=function(t,e){return ji.current.useCallback(t,e)};Lt.useContext=function(t){return ji.current.useContext(t)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(t){return ji.current.useDeferredValue(t)};Lt.useEffect=function(t,e){return ji.current.useEffect(t,e)};Lt.useId=function(){return ji.current.useId()};Lt.useImperativeHandle=function(t,e,n){return ji.current.useImperativeHandle(t,e,n)};Lt.useInsertionEffect=function(t,e){return ji.current.useInsertionEffect(t,e)};Lt.useLayoutEffect=function(t,e){return ji.current.useLayoutEffect(t,e)};Lt.useMemo=function(t,e){return ji.current.useMemo(t,e)};Lt.useReducer=function(t,e,n){return ji.current.useReducer(t,e,n)};Lt.useRef=function(t){return ji.current.useRef(t)};Lt.useState=function(t){return ji.current.useState(t)};Lt.useSyncExternalStore=function(t,e,n){return ji.current.useSyncExternalStore(t,e,n)};Lt.useTransition=function(){return ji.current.useTransition()};Lt.version="18.3.1";z8.exports=Lt;var H=z8.exports;const Yo=Kl(H),Lq=vq({__proto__:null,default:Yo},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mq=H,Dq=Symbol.for("react.element"),jq=Symbol.for("react.fragment"),Fq=Object.prototype.hasOwnProperty,Bq=Mq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uq={key:!0,ref:!0,__self:!0,__source:!0};function Q8(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Fq.call(e,r)&&!Uq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Dq,type:t,key:s,ref:o,props:i,_owner:Bq.current}}ab.Fragment=jq;ab.jsx=Q8;ab.jsxs=Q8;V8.exports=ab;var D=V8.exports,vx={},J8={exports:{}},Vs={},Z8={exports:{}},eL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,X){var re=W.length;W.push(X);e:for(;0<re;){var ye=re-1>>>1,F=W[ye];if(0<i(F,X))W[ye]=X,W[re]=F,re=ye;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var X=W[0],re=W.pop();if(re!==X){W[0]=re;e:for(var ye=0,F=W.length,Y=F>>>1;ye<Y;){var Q=2*(ye+1)-1,J=W[Q],ae=Q+1,pe=W[ae];if(0>i(J,re))ae<F&&0>i(pe,J)?(W[ye]=pe,W[ae]=re,ye=ae):(W[ye]=J,W[Q]=re,ye=Q);else if(ae<F&&0>i(pe,re))W[ye]=pe,W[ae]=re,ye=ae;else break e}}return X}function i(W,X){var re=W.sortIndex-X.sortIndex;return re!==0?re:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,d=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=W)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function I(W){if(y=!1,S(W),!p)if(n(l)!==null)p=!0,z(M);else{var X=n(c);X!==null&&V(I,X.startTime-W)}}function M(W,X){p=!1,y&&(y=!1,v(w),w=-1),d=!0;var re=f;try{for(S(X),h=n(l);h!==null&&(!(h.expirationTime>X)||W&&!E());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,f=h.priorityLevel;var F=ye(h.expirationTime<=X);X=t.unstable_now(),typeof F=="function"?h.callback=F:h===n(l)&&r(l),S(X)}else r(l);h=n(l)}if(h!==null)var Y=!0;else{var Q=n(c);Q!==null&&V(I,Q.startTime-X),Y=!1}return Y}finally{h=null,f=re,d=!1}}var L=!1,T=null,w=-1,A=5,O=-1;function E(){return!(t.unstable_now()-O<A)}function C(){if(T!==null){var W=t.unstable_now();O=W;var X=!0;try{X=T(!0,W)}finally{X?R():(L=!1,T=null)}}else L=!1}var R;if(typeof x=="function")R=function(){x(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,te=U.port2;U.port1.onmessage=C,R=function(){te.postMessage(null)}}else R=function(){b(C,0)};function z(W){T=W,L||(L=!0,R())}function V(W,X){w=b(function(){W(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,z(M))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var re=f;f=X;try{return W()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=f;f=W;try{return X()}finally{f=re}},t.unstable_scheduleCallback=function(W,X,re){var ye=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ye+re:ye):re=ye,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=re+F,W={id:u++,callback:X,priorityLevel:W,startTime:re,expirationTime:F,sortIndex:-1},re>ye?(W.sortIndex=re,e(c,W),n(l)===null&&W===n(c)&&(y?(v(w),w=-1):y=!0,V(I,re-ye))):(W.sortIndex=F,e(l,W),p||d||(p=!0,z(M))),W},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(W){var X=f;return function(){var re=f;f=X;try{return W.apply(this,arguments)}finally{f=re}}}})(eL);Z8.exports=eL;var Vq=Z8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zq=H,Fs=Vq;function ze(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tL=new Set,xm={};function uf(t,e){Qd(t,e),Qd(t+"Capture",e)}function Qd(t,e){for(xm[t]=e,t=0;t<e.length;t++)tL.add(e[t])}var kl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bx=Object.prototype.hasOwnProperty,$q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cC={},uC={};function qq(t){return bx.call(uC,t)?!0:bx.call(cC,t)?!1:$q.test(t)?uC[t]=!0:(cC[t]=!0,!1)}function Hq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wq(t,e,n,r){if(e===null||typeof e>"u"||Hq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ei[t]=new Fi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ei[e]=new Fi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ei[t]=new Fi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ei[t]=new Fi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ei[t]=new Fi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ei[t]=new Fi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ei[t]=new Fi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ei[t]=new Fi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ei[t]=new Fi(t,5,!1,t.toLowerCase(),null,!1,!1)});var dA=/[\-:]([a-z])/g;function pA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dA,pA);ei[e]=new Fi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dA,pA);ei[e]=new Fi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dA,pA);ei[e]=new Fi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ei[t]=new Fi(t,1,!1,t.toLowerCase(),null,!1,!1)});ei.xlinkHref=new Fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ei[t]=new Fi(t,1,!1,t.toLowerCase(),null,!0,!0)});function gA(t,e,n,r){var i=ei.hasOwnProperty(e)?ei[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wq(e,n,i,r)&&(n=null),r||i===null?qq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gl=zq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P1=Symbol.for("react.element"),pd=Symbol.for("react.portal"),gd=Symbol.for("react.fragment"),mA=Symbol.for("react.strict_mode"),wx=Symbol.for("react.profiler"),nL=Symbol.for("react.provider"),rL=Symbol.for("react.context"),yA=Symbol.for("react.forward_ref"),_x=Symbol.for("react.suspense"),xx=Symbol.for("react.suspense_list"),vA=Symbol.for("react.memo"),Rc=Symbol.for("react.lazy"),iL=Symbol.for("react.offscreen"),hC=Symbol.iterator;function fg(t){return t===null||typeof t!="object"?null:(t=hC&&t[hC]||t["@@iterator"],typeof t=="function"?t:null)}var Vn=Object.assign,I5;function jg(t){if(I5===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);I5=e&&e[1]||""}return`
`+I5+t}var k5=!1;function O5(t,e){if(!t||k5)return"";k5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{k5=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jg(t):""}function Kq(t){switch(t.tag){case 5:return jg(t.type);case 16:return jg("Lazy");case 13:return jg("Suspense");case 19:return jg("SuspenseList");case 0:case 2:case 15:return t=O5(t.type,!1),t;case 11:return t=O5(t.type.render,!1),t;case 1:return t=O5(t.type,!0),t;default:return""}}function Sx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gd:return"Fragment";case pd:return"Portal";case wx:return"Profiler";case mA:return"StrictMode";case _x:return"Suspense";case xx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rL:return(t.displayName||"Context")+".Consumer";case nL:return(t._context.displayName||"Context")+".Provider";case yA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vA:return e=t.displayName||null,e!==null?e:Sx(t.type)||"Memo";case Rc:e=t._payload,t=t._init;try{return Sx(t(e))}catch{}}return null}function Gq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sx(e);case 8:return e===mA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yq(t){var e=sL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function T1(t){t._valueTracker||(t._valueTracker=Yq(t))}function oL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ax(t,e){var n=e.checked;return Vn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aL(t,e){e=e.checked,e!=null&&gA(t,"checked",e,!1)}function Ex(t,e){aL(t,e);var n=gu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Px(t,e.type,n):e.hasOwnProperty("defaultValue")&&Px(t,e.type,gu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Px(t,e,n){(e!=="number"||hv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fg=Array.isArray;function Od(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Vn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ze(92));if(Fg(n)){if(1<n.length)throw Error(ze(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gu(n)}}function lL(t,e){var n=gu(e.value),r=gu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var C1,uL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(C1=C1||document.createElement("div"),C1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=C1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xq=["Webkit","ms","Moz","O"];Object.keys(Zg).forEach(function(t){Xq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zg[e]=Zg[t]})});function hL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zg.hasOwnProperty(t)&&Zg[t]?(""+e).trim():e+"px"}function fL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Qq=Vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nx(t,e){if(e){if(Qq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ze(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ze(62))}}function Ix(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kx=null;function bA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ox=null,Rd=null,Ld=null;function mC(t){if(t=b0(t)){if(typeof Ox!="function")throw Error(ze(280));var e=t.stateNode;e&&(e=fb(e),Ox(t.stateNode,t.type,e))}}function dL(t){Rd?Ld?Ld.push(t):Ld=[t]:Rd=t}function pL(){if(Rd){var t=Rd,e=Ld;if(Ld=Rd=null,mC(t),e)for(t=0;t<e.length;t++)mC(e[t])}}function gL(t,e){return t(e)}function mL(){}var R5=!1;function yL(t,e,n){if(R5)return t(e,n);R5=!0;try{return gL(t,e,n)}finally{R5=!1,(Rd!==null||Ld!==null)&&(mL(),pL())}}function Am(t,e){var n=t.stateNode;if(n===null)return null;var r=fb(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ze(231,e,typeof n));return n}var Rx=!1;if(kl)try{var dg={};Object.defineProperty(dg,"passive",{get:function(){Rx=!0}}),window.addEventListener("test",dg,dg),window.removeEventListener("test",dg,dg)}catch{Rx=!1}function Jq(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var em=!1,fv=null,dv=!1,Lx=null,Zq={onError:function(t){em=!0,fv=t}};function eH(t,e,n,r,i,s,o,a,l){em=!1,fv=null,Jq.apply(Zq,arguments)}function tH(t,e,n,r,i,s,o,a,l){if(eH.apply(this,arguments),em){if(em){var c=fv;em=!1,fv=null}else throw Error(ze(198));dv||(dv=!0,Lx=c)}}function hf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yC(t){if(hf(t)!==t)throw Error(ze(188))}function nH(t){var e=t.alternate;if(!e){if(e=hf(t),e===null)throw Error(ze(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yC(i),t;if(s===r)return yC(i),e;s=s.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?t:e}function bL(t){return t=nH(t),t!==null?wL(t):null}function wL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wL(t);if(e!==null)return e;t=t.sibling}return null}var _L=Fs.unstable_scheduleCallback,vC=Fs.unstable_cancelCallback,rH=Fs.unstable_shouldYield,iH=Fs.unstable_requestPaint,ir=Fs.unstable_now,sH=Fs.unstable_getCurrentPriorityLevel,wA=Fs.unstable_ImmediatePriority,xL=Fs.unstable_UserBlockingPriority,pv=Fs.unstable_NormalPriority,oH=Fs.unstable_LowPriority,SL=Fs.unstable_IdlePriority,lb=null,Ca=null;function aH(t){if(Ca&&typeof Ca.onCommitFiberRoot=="function")try{Ca.onCommitFiberRoot(lb,t,void 0,(t.current.flags&128)===128)}catch{}}var Xo=Math.clz32?Math.clz32:uH,lH=Math.log,cH=Math.LN2;function uH(t){return t>>>=0,t===0?32:31-(lH(t)/cH|0)|0}var N1=64,I1=4194304;function Bg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Bg(a):(s&=o,s!==0&&(r=Bg(s)))}else o=n&~i,o!==0?r=Bg(o):s!==0&&(r=Bg(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xo(e),i=1<<n,r|=t[n],e&=~i;return r}function hH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xo(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hH(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Mx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AL(){var t=N1;return N1<<=1,!(N1&4194240)&&(N1=64),t}function L5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function y0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xo(e),t[e]=n}function dH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xo(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function _A(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var cn=0;function EL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PL,xA,TL,CL,NL,Dx=!1,k1=[],Jc=null,Zc=null,eu=null,Em=new Map,Pm=new Map,Dc=[],pH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bC(t,e){switch(t){case"focusin":case"focusout":Jc=null;break;case"dragenter":case"dragleave":Zc=null;break;case"mouseover":case"mouseout":eu=null;break;case"pointerover":case"pointerout":Em.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pm.delete(e.pointerId)}}function pg(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=b0(e),e!==null&&xA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gH(t,e,n,r,i){switch(e){case"focusin":return Jc=pg(Jc,t,e,n,r,i),!0;case"dragenter":return Zc=pg(Zc,t,e,n,r,i),!0;case"mouseover":return eu=pg(eu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Em.set(s,pg(Em.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pm.set(s,pg(Pm.get(s)||null,t,e,n,r,i)),!0}return!1}function IL(t){var e=bh(t.target);if(e!==null){var n=hf(e);if(n!==null){if(e=n.tag,e===13){if(e=vL(n),e!==null){t.blockedOn=e,NL(t.priority,function(){TL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kx=r,n.target.dispatchEvent(r),kx=null}else return e=b0(n),e!==null&&xA(e),t.blockedOn=n,!1;e.shift()}return!0}function wC(t,e,n){Iy(t)&&n.delete(e)}function mH(){Dx=!1,Jc!==null&&Iy(Jc)&&(Jc=null),Zc!==null&&Iy(Zc)&&(Zc=null),eu!==null&&Iy(eu)&&(eu=null),Em.forEach(wC),Pm.forEach(wC)}function gg(t,e){t.blockedOn===e&&(t.blockedOn=null,Dx||(Dx=!0,Fs.unstable_scheduleCallback(Fs.unstable_NormalPriority,mH)))}function Tm(t){function e(i){return gg(i,t)}if(0<k1.length){gg(k1[0],t);for(var n=1;n<k1.length;n++){var r=k1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jc!==null&&gg(Jc,t),Zc!==null&&gg(Zc,t),eu!==null&&gg(eu,t),Em.forEach(e),Pm.forEach(e),n=0;n<Dc.length;n++)r=Dc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Dc.length&&(n=Dc[0],n.blockedOn===null);)IL(n),n.blockedOn===null&&Dc.shift()}var Md=Gl.ReactCurrentBatchConfig,mv=!0;function yH(t,e,n,r){var i=cn,s=Md.transition;Md.transition=null;try{cn=1,SA(t,e,n,r)}finally{cn=i,Md.transition=s}}function vH(t,e,n,r){var i=cn,s=Md.transition;Md.transition=null;try{cn=4,SA(t,e,n,r)}finally{cn=i,Md.transition=s}}function SA(t,e,n,r){if(mv){var i=jx(t,e,n,r);if(i===null)q5(t,e,r,yv,n),bC(t,r);else if(gH(i,t,e,n,r))r.stopPropagation();else if(bC(t,r),e&4&&-1<pH.indexOf(t)){for(;i!==null;){var s=b0(i);if(s!==null&&PL(s),s=jx(t,e,n,r),s===null&&q5(t,e,r,yv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else q5(t,e,r,null,n)}}var yv=null;function jx(t,e,n,r){if(yv=null,t=bA(r),t=bh(t),t!==null)if(e=hf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yv=t,null}function kL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sH()){case wA:return 1;case xL:return 4;case pv:case oH:return 16;case SL:return 536870912;default:return 16}default:return 16}}var $c=null,AA=null,ky=null;function OL(){if(ky)return ky;var t,e=AA,n=e.length,r,i="value"in $c?$c.value:$c.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ky=i.slice(t,1<r?1-r:void 0)}function Oy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function O1(){return!0}function _C(){return!1}function zs(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?O1:_C,this.isPropagationStopped=_C,this}return Vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=O1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=O1)},persist:function(){},isPersistent:O1}),e}var Tp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EA=zs(Tp),v0=Vn({},Tp,{view:0,detail:0}),bH=zs(v0),M5,D5,mg,cb=Vn({},v0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mg&&(mg&&t.type==="mousemove"?(M5=t.screenX-mg.screenX,D5=t.screenY-mg.screenY):D5=M5=0,mg=t),M5)},movementY:function(t){return"movementY"in t?t.movementY:D5}}),xC=zs(cb),wH=Vn({},cb,{dataTransfer:0}),_H=zs(wH),xH=Vn({},v0,{relatedTarget:0}),j5=zs(xH),SH=Vn({},Tp,{animationName:0,elapsedTime:0,pseudoElement:0}),AH=zs(SH),EH=Vn({},Tp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PH=zs(EH),TH=Vn({},Tp,{data:0}),SC=zs(TH),CH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IH[t])?!!e[t]:!1}function PA(){return kH}var OH=Vn({},v0,{key:function(t){if(t.key){var e=CH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PA,charCode:function(t){return t.type==="keypress"?Oy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RH=zs(OH),LH=Vn({},cb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AC=zs(LH),MH=Vn({},v0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PA}),DH=zs(MH),jH=Vn({},Tp,{propertyName:0,elapsedTime:0,pseudoElement:0}),FH=zs(jH),BH=Vn({},cb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UH=zs(BH),VH=[9,13,27,32],TA=kl&&"CompositionEvent"in window,tm=null;kl&&"documentMode"in document&&(tm=document.documentMode);var zH=kl&&"TextEvent"in window&&!tm,RL=kl&&(!TA||tm&&8<tm&&11>=tm),EC=String.fromCharCode(32),PC=!1;function LL(t,e){switch(t){case"keyup":return VH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ML(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var md=!1;function $H(t,e){switch(t){case"compositionend":return ML(e);case"keypress":return e.which!==32?null:(PC=!0,EC);case"textInput":return t=e.data,t===EC&&PC?null:t;default:return null}}function qH(t,e){if(md)return t==="compositionend"||!TA&&LL(t,e)?(t=OL(),ky=AA=$c=null,md=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RL&&e.locale!=="ko"?null:e.data;default:return null}}var HH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HH[t.type]:e==="textarea"}function DL(t,e,n,r){dL(r),e=vv(e,"onChange"),0<e.length&&(n=new EA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nm=null,Cm=null;function WH(t){KL(t,0)}function ub(t){var e=bd(t);if(oL(e))return t}function KH(t,e){if(t==="change")return e}var jL=!1;if(kl){var F5;if(kl){var B5="oninput"in document;if(!B5){var CC=document.createElement("div");CC.setAttribute("oninput","return;"),B5=typeof CC.oninput=="function"}F5=B5}else F5=!1;jL=F5&&(!document.documentMode||9<document.documentMode)}function NC(){nm&&(nm.detachEvent("onpropertychange",FL),Cm=nm=null)}function FL(t){if(t.propertyName==="value"&&ub(Cm)){var e=[];DL(e,Cm,t,bA(t)),yL(WH,e)}}function GH(t,e,n){t==="focusin"?(NC(),nm=e,Cm=n,nm.attachEvent("onpropertychange",FL)):t==="focusout"&&NC()}function YH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ub(Cm)}function XH(t,e){if(t==="click")return ub(e)}function QH(t,e){if(t==="input"||t==="change")return ub(e)}function JH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ea=typeof Object.is=="function"?Object.is:JH;function Nm(t,e){if(ea(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bx.call(e,i)||!ea(t[i],e[i]))return!1}return!0}function IC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kC(t,e){var n=IC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IC(n)}}function BL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UL(){for(var t=window,e=hv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hv(t.document)}return e}function CA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZH(t){var e=UL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BL(n.ownerDocument.documentElement,n)){if(r!==null&&CA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=kC(n,s);var o=kC(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eW=kl&&"documentMode"in document&&11>=document.documentMode,yd=null,Fx=null,rm=null,Bx=!1;function OC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bx||yd==null||yd!==hv(r)||(r=yd,"selectionStart"in r&&CA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rm&&Nm(rm,r)||(rm=r,r=vv(Fx,"onSelect"),0<r.length&&(e=new EA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yd)))}function R1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vd={animationend:R1("Animation","AnimationEnd"),animationiteration:R1("Animation","AnimationIteration"),animationstart:R1("Animation","AnimationStart"),transitionend:R1("Transition","TransitionEnd")},U5={},VL={};kl&&(VL=document.createElement("div").style,"AnimationEvent"in window||(delete vd.animationend.animation,delete vd.animationiteration.animation,delete vd.animationstart.animation),"TransitionEvent"in window||delete vd.transitionend.transition);function hb(t){if(U5[t])return U5[t];if(!vd[t])return t;var e=vd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VL)return U5[t]=e[n];return t}var zL=hb("animationend"),$L=hb("animationiteration"),qL=hb("animationstart"),HL=hb("transitionend"),WL=new Map,RC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nu(t,e){WL.set(t,e),uf(e,[t])}for(var V5=0;V5<RC.length;V5++){var z5=RC[V5],tW=z5.toLowerCase(),nW=z5[0].toUpperCase()+z5.slice(1);Nu(tW,"on"+nW)}Nu(zL,"onAnimationEnd");Nu($L,"onAnimationIteration");Nu(qL,"onAnimationStart");Nu("dblclick","onDoubleClick");Nu("focusin","onFocus");Nu("focusout","onBlur");Nu(HL,"onTransitionEnd");Qd("onMouseEnter",["mouseout","mouseover"]);Qd("onMouseLeave",["mouseout","mouseover"]);Qd("onPointerEnter",["pointerout","pointerover"]);Qd("onPointerLeave",["pointerout","pointerover"]);uf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uf("onBeforeInput",["compositionend","keypress","textInput","paste"]);uf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ug));function LC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tH(r,e,void 0,t),t.currentTarget=null}function KL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;LC(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;LC(i,a,c),s=l}}}if(dv)throw t=Lx,dv=!1,Lx=null,t}function Tn(t,e){var n=e[qx];n===void 0&&(n=e[qx]=new Set);var r=t+"__bubble";n.has(r)||(GL(e,t,2,!1),n.add(r))}function $5(t,e,n){var r=0;e&&(r|=4),GL(n,t,r,e)}var L1="_reactListening"+Math.random().toString(36).slice(2);function Im(t){if(!t[L1]){t[L1]=!0,tL.forEach(function(n){n!=="selectionchange"&&(rW.has(n)||$5(n,!1,t),$5(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[L1]||(e[L1]=!0,$5("selectionchange",!1,e))}}function GL(t,e,n,r){switch(kL(e)){case 1:var i=yH;break;case 4:i=vH;break;default:i=SA}n=i.bind(null,e,n,t),i=void 0,!Rx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function q5(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bh(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yL(function(){var c=s,u=bA(n),h=[];e:{var f=WL.get(t);if(f!==void 0){var d=EA,p=t;switch(t){case"keypress":if(Oy(n)===0)break e;case"keydown":case"keyup":d=RH;break;case"focusin":p="focus",d=j5;break;case"focusout":p="blur",d=j5;break;case"beforeblur":case"afterblur":d=j5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=xC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=_H;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=DH;break;case zL:case $L:case qL:d=AH;break;case HL:d=FH;break;case"scroll":d=bH;break;case"wheel":d=UH;break;case"copy":case"cut":case"paste":d=PH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=AC}var y=(e&4)!==0,b=!y&&t==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var x=c,S;x!==null;){S=x;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,v!==null&&(I=Am(x,v),I!=null&&y.push(km(x,I,S)))),b)break;x=x.return}0<y.length&&(f=new d(f,p,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==kx&&(p=n.relatedTarget||n.fromElement)&&(bh(p)||p[Ol]))break e;if((d||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=c,p=p?bh(p):null,p!==null&&(b=hf(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=c),d!==p)){if(y=xC,I="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=AC,I="onPointerLeave",v="onPointerEnter",x="pointer"),b=d==null?f:bd(d),S=p==null?f:bd(p),f=new y(I,x+"leave",d,n,u),f.target=b,f.relatedTarget=S,I=null,bh(u)===c&&(y=new y(v,x+"enter",p,n,u),y.target=S,y.relatedTarget=b,I=y),b=I,d&&p)t:{for(y=d,v=p,x=0,S=y;S;S=ed(S))x++;for(S=0,I=v;I;I=ed(I))S++;for(;0<x-S;)y=ed(y),x--;for(;0<S-x;)v=ed(v),S--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=ed(y),v=ed(v)}y=null}else y=null;d!==null&&MC(h,f,d,y,!1),p!==null&&b!==null&&MC(h,b,p,y,!0)}}e:{if(f=c?bd(c):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var M=KH;else if(TC(f))if(jL)M=QH;else{M=YH;var L=GH}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=XH);if(M&&(M=M(t,c))){DL(h,M,n,u);break e}L&&L(t,f,c),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&Px(f,"number",f.value)}switch(L=c?bd(c):window,t){case"focusin":(TC(L)||L.contentEditable==="true")&&(yd=L,Fx=c,rm=null);break;case"focusout":rm=Fx=yd=null;break;case"mousedown":Bx=!0;break;case"contextmenu":case"mouseup":case"dragend":Bx=!1,OC(h,n,u);break;case"selectionchange":if(eW)break;case"keydown":case"keyup":OC(h,n,u)}var T;if(TA)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else md?LL(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(RL&&n.locale!=="ko"&&(md||w!=="onCompositionStart"?w==="onCompositionEnd"&&md&&(T=OL()):($c=u,AA="value"in $c?$c.value:$c.textContent,md=!0)),L=vv(c,w),0<L.length&&(w=new SC(w,t,null,n,u),h.push({event:w,listeners:L}),T?w.data=T:(T=ML(n),T!==null&&(w.data=T)))),(T=zH?$H(t,n):qH(t,n))&&(c=vv(c,"onBeforeInput"),0<c.length&&(u=new SC("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}KL(h,e)})}function km(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Am(t,n),s!=null&&r.unshift(km(t,s,i)),s=Am(t,e),s!=null&&r.push(km(t,s,i))),t=t.return}return r}function ed(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function MC(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Am(n,s),l!=null&&o.unshift(km(n,l,a))):i||(l=Am(n,s),l!=null&&o.push(km(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iW=/\r\n?/g,sW=/\u0000|\uFFFD/g;function DC(t){return(typeof t=="string"?t:""+t).replace(iW,`
`).replace(sW,"")}function M1(t,e,n){if(e=DC(e),DC(t)!==e&&n)throw Error(ze(425))}function bv(){}var Ux=null,Vx=null;function zx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $x=typeof setTimeout=="function"?setTimeout:void 0,oW=typeof clearTimeout=="function"?clearTimeout:void 0,jC=typeof Promise=="function"?Promise:void 0,aW=typeof queueMicrotask=="function"?queueMicrotask:typeof jC<"u"?function(t){return jC.resolve(null).then(t).catch(lW)}:$x;function lW(t){setTimeout(function(){throw t})}function H5(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tm(e)}function tu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cp=Math.random().toString(36).slice(2),Aa="__reactFiber$"+Cp,Om="__reactProps$"+Cp,Ol="__reactContainer$"+Cp,qx="__reactEvents$"+Cp,cW="__reactListeners$"+Cp,uW="__reactHandles$"+Cp;function bh(t){var e=t[Aa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ol]||n[Aa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FC(t);t!==null;){if(n=t[Aa])return n;t=FC(t)}return e}t=n,n=t.parentNode}return null}function b0(t){return t=t[Aa]||t[Ol],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ze(33))}function fb(t){return t[Om]||null}var Hx=[],wd=-1;function Iu(t){return{current:t}}function kn(t){0>wd||(t.current=Hx[wd],Hx[wd]=null,wd--)}function Sn(t,e){wd++,Hx[wd]=t.current,t.current=e}var mu={},xi=Iu(mu),os=Iu(!1),$h=mu;function Jd(t,e){var n=t.type.contextTypes;if(!n)return mu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function as(t){return t=t.childContextTypes,t!=null}function wv(){kn(os),kn(xi)}function BC(t,e,n){if(xi.current!==mu)throw Error(ze(168));Sn(xi,e),Sn(os,n)}function YL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ze(108,Gq(t)||"Unknown",i));return Vn({},n,r)}function _v(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mu,$h=xi.current,Sn(xi,t),Sn(os,os.current),!0}function UC(t,e,n){var r=t.stateNode;if(!r)throw Error(ze(169));n?(t=YL(t,e,$h),r.__reactInternalMemoizedMergedChildContext=t,kn(os),kn(xi),Sn(xi,t)):kn(os),Sn(os,n)}var gl=null,db=!1,W5=!1;function XL(t){gl===null?gl=[t]:gl.push(t)}function hW(t){db=!0,XL(t)}function ku(){if(!W5&&gl!==null){W5=!0;var t=0,e=cn;try{var n=gl;for(cn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gl=null,db=!1}catch(i){throw gl!==null&&(gl=gl.slice(t+1)),_L(wA,ku),i}finally{cn=e,W5=!1}}return null}var _d=[],xd=0,xv=null,Sv=0,ao=[],lo=0,qh=null,bl=1,wl="";function uh(t,e){_d[xd++]=Sv,_d[xd++]=xv,xv=t,Sv=e}function QL(t,e,n){ao[lo++]=bl,ao[lo++]=wl,ao[lo++]=qh,qh=t;var r=bl;t=wl;var i=32-Xo(r)-1;r&=~(1<<i),n+=1;var s=32-Xo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bl=1<<32-Xo(e)+i|n<<i|r,wl=s+t}else bl=1<<s|n<<i|r,wl=t}function NA(t){t.return!==null&&(uh(t,1),QL(t,1,0))}function IA(t){for(;t===xv;)xv=_d[--xd],_d[xd]=null,Sv=_d[--xd],_d[xd]=null;for(;t===qh;)qh=ao[--lo],ao[lo]=null,wl=ao[--lo],ao[lo]=null,bl=ao[--lo],ao[lo]=null}var Ds=null,Is=null,Mn=!1,qo=null;function JL(t,e){var n=ho(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function VC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ds=t,Is=tu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ds=t,Is=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qh!==null?{id:bl,overflow:wl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ho(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ds=t,Is=null,!0):!1;default:return!1}}function Wx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kx(t){if(Mn){var e=Is;if(e){var n=e;if(!VC(t,e)){if(Wx(t))throw Error(ze(418));e=tu(n.nextSibling);var r=Ds;e&&VC(t,e)?JL(r,n):(t.flags=t.flags&-4097|2,Mn=!1,Ds=t)}}else{if(Wx(t))throw Error(ze(418));t.flags=t.flags&-4097|2,Mn=!1,Ds=t}}}function zC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ds=t}function D1(t){if(t!==Ds)return!1;if(!Mn)return zC(t),Mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zx(t.type,t.memoizedProps)),e&&(e=Is)){if(Wx(t))throw ZL(),Error(ze(418));for(;e;)JL(t,e),e=tu(e.nextSibling)}if(zC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Is=tu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Is=null}}else Is=Ds?tu(t.stateNode.nextSibling):null;return!0}function ZL(){for(var t=Is;t;)t=tu(t.nextSibling)}function Zd(){Is=Ds=null,Mn=!1}function kA(t){qo===null?qo=[t]:qo.push(t)}var fW=Gl.ReactCurrentBatchConfig;function yg(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,t))}return t}function j1(t,e){throw t=Object.prototype.toString.call(e),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $C(t){var e=t._init;return e(t._payload)}function eM(t){function e(v,x){if(t){var S=v.deletions;S===null?(v.deletions=[x],v.flags|=16):S.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=su(v,x),v.index=0,v.sibling=null,v}function s(v,x,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<x?(v.flags|=2,x):S):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,x,S,I){return x===null||x.tag!==6?(x=Z5(S,v.mode,I),x.return=v,x):(x=i(x,S),x.return=v,x)}function l(v,x,S,I){var M=S.type;return M===gd?u(v,x,S.props.children,I,S.key):x!==null&&(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Rc&&$C(M)===x.type)?(I=i(x,S.props),I.ref=yg(v,x,S),I.return=v,I):(I=By(S.type,S.key,S.props,null,v.mode,I),I.ref=yg(v,x,S),I.return=v,I)}function c(v,x,S,I){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=e_(S,v.mode,I),x.return=v,x):(x=i(x,S.children||[]),x.return=v,x)}function u(v,x,S,I,M){return x===null||x.tag!==7?(x=Ih(S,v.mode,I,M),x.return=v,x):(x=i(x,S),x.return=v,x)}function h(v,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Z5(""+x,v.mode,S),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case P1:return S=By(x.type,x.key,x.props,null,v.mode,S),S.ref=yg(v,null,x),S.return=v,S;case pd:return x=e_(x,v.mode,S),x.return=v,x;case Rc:var I=x._init;return h(v,I(x._payload),S)}if(Fg(x)||fg(x))return x=Ih(x,v.mode,S,null),x.return=v,x;j1(v,x)}return null}function f(v,x,S,I){var M=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:a(v,x,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case P1:return S.key===M?l(v,x,S,I):null;case pd:return S.key===M?c(v,x,S,I):null;case Rc:return M=S._init,f(v,x,M(S._payload),I)}if(Fg(S)||fg(S))return M!==null?null:u(v,x,S,I,null);j1(v,S)}return null}function d(v,x,S,I,M){if(typeof I=="string"&&I!==""||typeof I=="number")return v=v.get(S)||null,a(x,v,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case P1:return v=v.get(I.key===null?S:I.key)||null,l(x,v,I,M);case pd:return v=v.get(I.key===null?S:I.key)||null,c(x,v,I,M);case Rc:var L=I._init;return d(v,x,S,L(I._payload),M)}if(Fg(I)||fg(I))return v=v.get(S)||null,u(x,v,I,M,null);j1(x,I)}return null}function p(v,x,S,I){for(var M=null,L=null,T=x,w=x=0,A=null;T!==null&&w<S.length;w++){T.index>w?(A=T,T=null):A=T.sibling;var O=f(v,T,S[w],I);if(O===null){T===null&&(T=A);break}t&&T&&O.alternate===null&&e(v,T),x=s(O,x,w),L===null?M=O:L.sibling=O,L=O,T=A}if(w===S.length)return n(v,T),Mn&&uh(v,w),M;if(T===null){for(;w<S.length;w++)T=h(v,S[w],I),T!==null&&(x=s(T,x,w),L===null?M=T:L.sibling=T,L=T);return Mn&&uh(v,w),M}for(T=r(v,T);w<S.length;w++)A=d(T,v,w,S[w],I),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?w:A.key),x=s(A,x,w),L===null?M=A:L.sibling=A,L=A);return t&&T.forEach(function(E){return e(v,E)}),Mn&&uh(v,w),M}function y(v,x,S,I){var M=fg(S);if(typeof M!="function")throw Error(ze(150));if(S=M.call(S),S==null)throw Error(ze(151));for(var L=M=null,T=x,w=x=0,A=null,O=S.next();T!==null&&!O.done;w++,O=S.next()){T.index>w?(A=T,T=null):A=T.sibling;var E=f(v,T,O.value,I);if(E===null){T===null&&(T=A);break}t&&T&&E.alternate===null&&e(v,T),x=s(E,x,w),L===null?M=E:L.sibling=E,L=E,T=A}if(O.done)return n(v,T),Mn&&uh(v,w),M;if(T===null){for(;!O.done;w++,O=S.next())O=h(v,O.value,I),O!==null&&(x=s(O,x,w),L===null?M=O:L.sibling=O,L=O);return Mn&&uh(v,w),M}for(T=r(v,T);!O.done;w++,O=S.next())O=d(T,v,w,O.value,I),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?w:O.key),x=s(O,x,w),L===null?M=O:L.sibling=O,L=O);return t&&T.forEach(function(C){return e(v,C)}),Mn&&uh(v,w),M}function b(v,x,S,I){if(typeof S=="object"&&S!==null&&S.type===gd&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case P1:e:{for(var M=S.key,L=x;L!==null;){if(L.key===M){if(M=S.type,M===gd){if(L.tag===7){n(v,L.sibling),x=i(L,S.props.children),x.return=v,v=x;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Rc&&$C(M)===L.type){n(v,L.sibling),x=i(L,S.props),x.ref=yg(v,L,S),x.return=v,v=x;break e}n(v,L);break}else e(v,L);L=L.sibling}S.type===gd?(x=Ih(S.props.children,v.mode,I,S.key),x.return=v,v=x):(I=By(S.type,S.key,S.props,null,v.mode,I),I.ref=yg(v,x,S),I.return=v,v=I)}return o(v);case pd:e:{for(L=S.key;x!==null;){if(x.key===L)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(v,x.sibling),x=i(x,S.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=e_(S,v.mode,I),x.return=v,v=x}return o(v);case Rc:return L=S._init,b(v,x,L(S._payload),I)}if(Fg(S))return p(v,x,S,I);if(fg(S))return y(v,x,S,I);j1(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,S),x.return=v,v=x):(n(v,x),x=Z5(S,v.mode,I),x.return=v,v=x),o(v)):n(v,x)}return b}var ep=eM(!0),tM=eM(!1),Av=Iu(null),Ev=null,Sd=null,OA=null;function RA(){OA=Sd=Ev=null}function LA(t){var e=Av.current;kn(Av),t._currentValue=e}function Gx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dd(t,e){Ev=t,OA=Sd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(is=!0),t.firstContext=null)}function yo(t){var e=t._currentValue;if(OA!==t)if(t={context:t,memoizedValue:e,next:null},Sd===null){if(Ev===null)throw Error(ze(308));Sd=t,Ev.dependencies={lanes:0,firstContext:t}}else Sd=Sd.next=t;return e}var wh=null;function MA(t){wh===null?wh=[t]:wh.push(t)}function nM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,MA(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rl(t,r)}function Rl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lc=!1;function DA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function nu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rl(t,n)}return i=r.interleaved,i===null?(e.next=e,MA(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rl(t,n)}function Ry(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_A(t,n)}}function qC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pv(t,e,n,r){var i=t.updateQueue;Lc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(f=e,d=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=Vn({},h,f);break e;case 2:Lc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=d,l=h):u=u.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wh|=o,t.lanes=o,t.memoizedState=h}}function HC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var w0={},Na=Iu(w0),Rm=Iu(w0),Lm=Iu(w0);function _h(t){if(t===w0)throw Error(ze(174));return t}function jA(t,e){switch(Sn(Lm,e),Sn(Rm,t),Sn(Na,w0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cx(e,t)}kn(Na),Sn(Na,e)}function tp(){kn(Na),kn(Rm),kn(Lm)}function iM(t){_h(Lm.current);var e=_h(Na.current),n=Cx(e,t.type);e!==n&&(Sn(Rm,t),Sn(Na,n))}function FA(t){Rm.current===t&&(kn(Na),kn(Rm))}var Bn=Iu(0);function Tv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var K5=[];function BA(){for(var t=0;t<K5.length;t++)K5[t]._workInProgressVersionPrimary=null;K5.length=0}var Ly=Gl.ReactCurrentDispatcher,G5=Gl.ReactCurrentBatchConfig,Hh=0,Un=null,Sr=null,Lr=null,Cv=!1,im=!1,Mm=0,dW=0;function ai(){throw Error(ze(321))}function UA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ea(t[n],e[n]))return!1;return!0}function VA(t,e,n,r,i,s){if(Hh=s,Un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ly.current=t===null||t.memoizedState===null?yW:vW,t=n(r,i),im){s=0;do{if(im=!1,Mm=0,25<=s)throw Error(ze(301));s+=1,Lr=Sr=null,e.updateQueue=null,Ly.current=bW,t=n(r,i)}while(im)}if(Ly.current=Nv,e=Sr!==null&&Sr.next!==null,Hh=0,Lr=Sr=Un=null,Cv=!1,e)throw Error(ze(300));return t}function zA(){var t=Mm!==0;return Mm=0,t}function ba(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?Un.memoizedState=Lr=t:Lr=Lr.next=t,Lr}function vo(){if(Sr===null){var t=Un.alternate;t=t!==null?t.memoizedState:null}else t=Sr.next;var e=Lr===null?Un.memoizedState:Lr.next;if(e!==null)Lr=e,Sr=t;else{if(t===null)throw Error(ze(310));Sr=t,t={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Lr===null?Un.memoizedState=Lr=t:Lr=Lr.next=t}return Lr}function Dm(t,e){return typeof e=="function"?e(t):e}function Y5(t){var e=vo(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=Sr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Hh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Un.lanes|=u,Wh|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ea(r,e.memoizedState)||(is=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Un.lanes|=s,Wh|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function X5(t){var e=vo(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ea(s,e.memoizedState)||(is=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sM(){}function oM(t,e){var n=Un,r=vo(),i=e(),s=!ea(r.memoizedState,i);if(s&&(r.memoizedState=i,is=!0),r=r.queue,$A(cM.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Lr!==null&&Lr.memoizedState.tag&1){if(n.flags|=2048,jm(9,lM.bind(null,n,r,i,e),void 0,null),Fr===null)throw Error(ze(349));Hh&30||aM(n,e,i)}return i}function aM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Un.updateQueue,e===null?(e={lastEffect:null,stores:null},Un.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lM(t,e,n,r){e.value=n,e.getSnapshot=r,uM(e)&&hM(t)}function cM(t,e,n){return n(function(){uM(e)&&hM(t)})}function uM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ea(t,n)}catch{return!0}}function hM(t){var e=Rl(t,1);e!==null&&Qo(e,t,1,-1)}function WC(t){var e=ba();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:t},e.queue=t,t=t.dispatch=mW.bind(null,Un,t),[e.memoizedState,t]}function jm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Un.updateQueue,e===null?(e={lastEffect:null,stores:null},Un.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fM(){return vo().memoizedState}function My(t,e,n,r){var i=ba();Un.flags|=t,i.memoizedState=jm(1|e,n,void 0,r===void 0?null:r)}function pb(t,e,n,r){var i=vo();r=r===void 0?null:r;var s=void 0;if(Sr!==null){var o=Sr.memoizedState;if(s=o.destroy,r!==null&&UA(r,o.deps)){i.memoizedState=jm(e,n,s,r);return}}Un.flags|=t,i.memoizedState=jm(1|e,n,s,r)}function KC(t,e){return My(8390656,8,t,e)}function $A(t,e){return pb(2048,8,t,e)}function dM(t,e){return pb(4,2,t,e)}function pM(t,e){return pb(4,4,t,e)}function gM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mM(t,e,n){return n=n!=null?n.concat([t]):null,pb(4,4,gM.bind(null,e,t),n)}function qA(){}function yM(t,e){var n=vo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&UA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vM(t,e){var n=vo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&UA(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bM(t,e,n){return Hh&21?(ea(n,e)||(n=AL(),Un.lanes|=n,Wh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,is=!0),t.memoizedState=n)}function pW(t,e){var n=cn;cn=n!==0&&4>n?n:4,t(!0);var r=G5.transition;G5.transition={};try{t(!1),e()}finally{cn=n,G5.transition=r}}function wM(){return vo().memoizedState}function gW(t,e,n){var r=iu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_M(t))xM(e,n);else if(n=nM(t,e,n,r),n!==null){var i=Di();Qo(n,t,r,i),SM(n,e,r)}}function mW(t,e,n){var r=iu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_M(t))xM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ea(a,o)){var l=e.interleaved;l===null?(i.next=i,MA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nM(t,e,i,r),n!==null&&(i=Di(),Qo(n,t,r,i),SM(n,e,r))}}function _M(t){var e=t.alternate;return t===Un||e!==null&&e===Un}function xM(t,e){im=Cv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_A(t,n)}}var Nv={readContext:yo,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},yW={readContext:yo,useCallback:function(t,e){return ba().memoizedState=[t,e===void 0?null:e],t},useContext:yo,useEffect:KC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,My(4194308,4,gM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return My(4194308,4,t,e)},useInsertionEffect:function(t,e){return My(4,2,t,e)},useMemo:function(t,e){var n=ba();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ba();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gW.bind(null,Un,t),[r.memoizedState,t]},useRef:function(t){var e=ba();return t={current:t},e.memoizedState=t},useState:WC,useDebugValue:qA,useDeferredValue:function(t){return ba().memoizedState=t},useTransition:function(){var t=WC(!1),e=t[0];return t=pW.bind(null,t[1]),ba().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Un,i=ba();if(Mn){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=e(),Fr===null)throw Error(ze(349));Hh&30||aM(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,KC(cM.bind(null,r,s,t),[t]),r.flags|=2048,jm(9,lM.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ba(),e=Fr.identifierPrefix;if(Mn){var n=wl,r=bl;n=(r&~(1<<32-Xo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vW={readContext:yo,useCallback:yM,useContext:yo,useEffect:$A,useImperativeHandle:mM,useInsertionEffect:dM,useLayoutEffect:pM,useMemo:vM,useReducer:Y5,useRef:fM,useState:function(){return Y5(Dm)},useDebugValue:qA,useDeferredValue:function(t){var e=vo();return bM(e,Sr.memoizedState,t)},useTransition:function(){var t=Y5(Dm)[0],e=vo().memoizedState;return[t,e]},useMutableSource:sM,useSyncExternalStore:oM,useId:wM,unstable_isNewReconciler:!1},bW={readContext:yo,useCallback:yM,useContext:yo,useEffect:$A,useImperativeHandle:mM,useInsertionEffect:dM,useLayoutEffect:pM,useMemo:vM,useReducer:X5,useRef:fM,useState:function(){return X5(Dm)},useDebugValue:qA,useDeferredValue:function(t){var e=vo();return Sr===null?e.memoizedState=t:bM(e,Sr.memoizedState,t)},useTransition:function(){var t=X5(Dm)[0],e=vo().memoizedState;return[t,e]},useMutableSource:sM,useSyncExternalStore:oM,useId:wM,unstable_isNewReconciler:!1};function Vo(t,e){if(t&&t.defaultProps){e=Vn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Vn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gb={isMounted:function(t){return(t=t._reactInternals)?hf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Di(),i=iu(t),s=Pl(r,i);s.payload=e,n!=null&&(s.callback=n),e=nu(t,s,i),e!==null&&(Qo(e,t,i,r),Ry(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Di(),i=iu(t),s=Pl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=nu(t,s,i),e!==null&&(Qo(e,t,i,r),Ry(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Di(),r=iu(t),i=Pl(n,r);i.tag=2,e!=null&&(i.callback=e),e=nu(t,i,r),e!==null&&(Qo(e,t,r,n),Ry(e,t,r))}};function GC(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Nm(n,r)||!Nm(i,s):!0}function AM(t,e,n){var r=!1,i=mu,s=e.contextType;return typeof s=="object"&&s!==null?s=yo(s):(i=as(e)?$h:xi.current,r=e.contextTypes,s=(r=r!=null)?Jd(t,i):mu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gb,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function YC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gb.enqueueReplaceState(e,e.state,null)}function Xx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},DA(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yo(s):(s=as(e)?$h:xi.current,i.context=Jd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yx(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gb.enqueueReplaceState(i,i.state,null),Pv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function np(t,e){try{var n="",r=e;do n+=Kq(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Q5(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wW=typeof WeakMap=="function"?WeakMap:Map;function EM(t,e,n){n=Pl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kv||(kv=!0,aS=r),Qx(t,e)},n}function PM(t,e,n){n=Pl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Qx(t,e),typeof r!="function"&&(ru===null?ru=new Set([this]):ru.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LW.bind(null,t,e,n),e.then(t,t))}function QC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pl(-1,1),e.tag=2,nu(n,e,1))),n.lanes|=1),t)}var _W=Gl.ReactCurrentOwner,is=!1;function Li(t,e,n,r){e.child=t===null?tM(e,null,n,r):ep(e,t.child,n,r)}function ZC(t,e,n,r,i){n=n.render;var s=e.ref;return Dd(e,i),r=VA(t,e,n,r,s,i),n=zA(),t!==null&&!is?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ll(t,e,i)):(Mn&&n&&NA(e),e.flags|=1,Li(t,e,r,i),e.child)}function e6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!JA(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,TM(t,e,s,r,i)):(t=By(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nm,n(o,r)&&t.ref===e.ref)return Ll(t,e,i)}return e.flags|=1,t=su(s,r),t.ref=e.ref,t.return=e,e.child=t}function TM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Nm(s,r)&&t.ref===e.ref)if(is=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(is=!0);else return e.lanes=t.lanes,Ll(t,e,i)}return Jx(t,e,n,r,i)}function CM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Ed,Ps),Ps|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Sn(Ed,Ps),Ps|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Sn(Ed,Ps),Ps|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Sn(Ed,Ps),Ps|=r;return Li(t,e,i,n),e.child}function NM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jx(t,e,n,r,i){var s=as(n)?$h:xi.current;return s=Jd(e,s),Dd(e,i),n=VA(t,e,n,r,s,i),r=zA(),t!==null&&!is?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ll(t,e,i)):(Mn&&r&&NA(e),e.flags|=1,Li(t,e,n,i),e.child)}function t6(t,e,n,r,i){if(as(n)){var s=!0;_v(e)}else s=!1;if(Dd(e,i),e.stateNode===null)Dy(t,e),AM(e,n,r),Xx(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=yo(c):(c=as(n)?$h:xi.current,c=Jd(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&YC(e,o,r,c),Lc=!1;var f=e.memoizedState;o.state=f,Pv(e,r,o,i),l=e.memoizedState,a!==r||f!==l||os.current||Lc?(typeof u=="function"&&(Yx(e,n,u,r),l=e.memoizedState),(a=Lc||GC(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vo(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yo(l):(l=as(n)?$h:xi.current,l=Jd(e,l));var d=n.getDerivedStateFromProps;(u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&YC(e,o,r,l),Lc=!1,f=e.memoizedState,o.state=f,Pv(e,r,o,i);var p=e.memoizedState;a!==h||f!==p||os.current||Lc?(typeof d=="function"&&(Yx(e,n,d,r),p=e.memoizedState),(c=Lc||GC(e,n,c,r,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Zx(t,e,n,r,s,i)}function Zx(t,e,n,r,i,s){NM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&UC(e,n,!1),Ll(t,e,s);r=e.stateNode,_W.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ep(e,t.child,null,s),e.child=ep(e,null,a,s)):Li(t,e,a,s),e.memoizedState=r.state,i&&UC(e,n,!0),e.child}function IM(t){var e=t.stateNode;e.pendingContext?BC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&BC(t,e.context,!1),jA(t,e.containerInfo)}function n6(t,e,n,r,i){return Zd(),kA(i),e.flags|=256,Li(t,e,n,r),e.child}var eS={dehydrated:null,treeContext:null,retryLane:0};function tS(t){return{baseLanes:t,cachePool:null,transitions:null}}function kM(t,e,n){var r=e.pendingProps,i=Bn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Sn(Bn,i&1),t===null)return Kx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vb(o,r,0,null),t=Ih(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tS(n),e.memoizedState=eS,t):HA(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xW(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=su(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=su(a,s):(s=Ih(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tS(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=eS,r}return s=t.child,t=s.sibling,r=su(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function HA(t,e){return e=vb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function F1(t,e,n,r){return r!==null&&kA(r),ep(e,t.child,null,n),t=HA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xW(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Q5(Error(ze(422))),F1(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=vb({mode:"visible",children:r.children},i,0,null),s=Ih(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ep(e,t.child,null,o),e.child.memoizedState=tS(o),e.memoizedState=eS,s);if(!(e.mode&1))return F1(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ze(419)),r=Q5(s,r,void 0),F1(t,e,o,r)}if(a=(o&t.childLanes)!==0,is||a){if(r=Fr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rl(t,i),Qo(r,t,i,-1))}return QA(),r=Q5(Error(ze(421))),F1(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Is=tu(i.nextSibling),Ds=e,Mn=!0,qo=null,t!==null&&(ao[lo++]=bl,ao[lo++]=wl,ao[lo++]=qh,bl=t.id,wl=t.overflow,qh=e),e=HA(e,r.children),e.flags|=4096,e)}function r6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gx(t.return,e,n)}function J5(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function OM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Li(t,e,r.children,n),r=Bn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r6(t,n,e);else if(t.tag===19)r6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Sn(Bn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),J5(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}J5(e,!0,n,null,s);break;case"together":J5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ll(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ze(153));if(e.child!==null){for(t=e.child,n=su(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=su(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SW(t,e,n){switch(e.tag){case 3:IM(e),Zd();break;case 5:iM(e);break;case 1:as(e.type)&&_v(e);break;case 4:jA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Sn(Av,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Sn(Bn,Bn.current&1),e.flags|=128,null):n&e.child.childLanes?kM(t,e,n):(Sn(Bn,Bn.current&1),t=Ll(t,e,n),t!==null?t.sibling:null);Sn(Bn,Bn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return OM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sn(Bn,Bn.current),r)break;return null;case 22:case 23:return e.lanes=0,CM(t,e,n)}return Ll(t,e,n)}var RM,nS,LM,MM;RM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nS=function(){};LM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_h(Na.current);var s=null;switch(n){case"input":i=Ax(t,i),r=Ax(t,r),s=[];break;case"select":i=Vn({},i,{value:void 0}),r=Vn({},r,{value:void 0}),s=[];break;case"textarea":i=Tx(t,i),r=Tx(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bv)}Nx(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Tn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};MM=function(t,e,n,r){n!==r&&(e.flags|=4)};function vg(t,e){if(!Mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function li(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AW(t,e,n){var r=e.pendingProps;switch(IA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(e),null;case 1:return as(e.type)&&wv(),li(e),null;case 3:return r=e.stateNode,tp(),kn(os),kn(xi),BA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(D1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qo!==null&&(uS(qo),qo=null))),nS(t,e),li(e),null;case 5:FA(e);var i=_h(Lm.current);if(n=e.type,t!==null&&e.stateNode!=null)LM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ze(166));return li(e),null}if(t=_h(Na.current),D1(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Aa]=e,r[Om]=s,t=(e.mode&1)!==0,n){case"dialog":Tn("cancel",r),Tn("close",r);break;case"iframe":case"object":case"embed":Tn("load",r);break;case"video":case"audio":for(i=0;i<Ug.length;i++)Tn(Ug[i],r);break;case"source":Tn("error",r);break;case"img":case"image":case"link":Tn("error",r),Tn("load",r);break;case"details":Tn("toggle",r);break;case"input":fC(r,s),Tn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tn("invalid",r);break;case"textarea":pC(r,s),Tn("invalid",r)}Nx(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&M1(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&M1(r.textContent,a,t),i=["children",""+a]):xm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Tn("scroll",r)}switch(n){case"input":T1(r),dC(r,s,!0);break;case"textarea":T1(r),gC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Aa]=e,t[Om]=r,RM(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ix(n,r),n){case"dialog":Tn("cancel",t),Tn("close",t),i=r;break;case"iframe":case"object":case"embed":Tn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ug.length;i++)Tn(Ug[i],t);i=r;break;case"source":Tn("error",t),i=r;break;case"img":case"image":case"link":Tn("error",t),Tn("load",t),i=r;break;case"details":Tn("toggle",t),i=r;break;case"input":fC(t,r),i=Ax(t,r),Tn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Vn({},r,{value:void 0}),Tn("invalid",t);break;case"textarea":pC(t,r),i=Tx(t,r),Tn("invalid",t);break;default:i=r}Nx(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uL(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sm(t,l):typeof l=="number"&&Sm(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Tn("scroll",t):l!=null&&gA(t,s,l,o))}switch(n){case"input":T1(t),dC(t,r,!1);break;case"textarea":T1(t),gC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gu(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Od(t,!!r.multiple,s,!1):r.defaultValue!=null&&Od(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return li(e),null;case 6:if(t&&e.stateNode!=null)MM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ze(166));if(n=_h(Lm.current),_h(Na.current),D1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Aa]=e,(s=r.nodeValue!==n)&&(t=Ds,t!==null))switch(t.tag){case 3:M1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&M1(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Aa]=e,e.stateNode=r}return li(e),null;case 13:if(kn(Bn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mn&&Is!==null&&e.mode&1&&!(e.flags&128))ZL(),Zd(),e.flags|=98560,s=!1;else if(s=D1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ze(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ze(317));s[Aa]=e}else Zd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;li(e),s=!1}else qo!==null&&(uS(qo),qo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Bn.current&1?Ar===0&&(Ar=3):QA())),e.updateQueue!==null&&(e.flags|=4),li(e),null);case 4:return tp(),nS(t,e),t===null&&Im(e.stateNode.containerInfo),li(e),null;case 10:return LA(e.type._context),li(e),null;case 17:return as(e.type)&&wv(),li(e),null;case 19:if(kn(Bn),s=e.memoizedState,s===null)return li(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)vg(s,!1);else{if(Ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tv(t),o!==null){for(e.flags|=128,vg(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Sn(Bn,Bn.current&1|2),e.child}t=t.sibling}s.tail!==null&&ir()>rp&&(e.flags|=128,r=!0,vg(s,!1),e.lanes=4194304)}else{if(!r)if(t=Tv(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Mn)return li(e),null}else 2*ir()-s.renderingStartTime>rp&&n!==1073741824&&(e.flags|=128,r=!0,vg(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ir(),e.sibling=null,n=Bn.current,Sn(Bn,r?n&1|2:n&1),e):(li(e),null);case 22:case 23:return XA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ps&1073741824&&(li(e),e.subtreeFlags&6&&(e.flags|=8192)):li(e),null;case 24:return null;case 25:return null}throw Error(ze(156,e.tag))}function EW(t,e){switch(IA(e),e.tag){case 1:return as(e.type)&&wv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tp(),kn(os),kn(xi),BA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return FA(e),null;case 13:if(kn(Bn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));Zd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kn(Bn),null;case 4:return tp(),null;case 10:return LA(e.type._context),null;case 22:case 23:return XA(),null;case 24:return null;default:return null}}var B1=!1,yi=!1,PW=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Ad(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yn(t,e,r)}else n.current=null}function rS(t,e,n){try{n()}catch(r){Yn(t,e,r)}}var i6=!1;function TW(t,e){if(Ux=mv,t=UL(),CA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vx={focusedElem:t,selectionRange:n},mv=!1,nt=e;nt!==null;)if(e=nt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,nt=t;else for(;nt!==null;){e=nt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Vo(e.type,y),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(I){Yn(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}return p=i6,i6=!1,p}function sm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rS(e,n,s)}i=i.next}while(i!==r)}}function mb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DM(t){var e=t.alternate;e!==null&&(t.alternate=null,DM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Aa],delete e[Om],delete e[qx],delete e[cW],delete e[uW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jM(t){return t.tag===5||t.tag===3||t.tag===4}function s6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bv));else if(r!==4&&(t=t.child,t!==null))for(sS(t,e,n),t=t.sibling;t!==null;)sS(t,e,n),t=t.sibling}function oS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(oS(t,e,n),t=t.sibling;t!==null;)oS(t,e,n),t=t.sibling}var Yr=null,$o=!1;function Pc(t,e,n){for(n=n.child;n!==null;)FM(t,e,n),n=n.sibling}function FM(t,e,n){if(Ca&&typeof Ca.onCommitFiberUnmount=="function")try{Ca.onCommitFiberUnmount(lb,n)}catch{}switch(n.tag){case 5:yi||Ad(n,e);case 6:var r=Yr,i=$o;Yr=null,Pc(t,e,n),Yr=r,$o=i,Yr!==null&&($o?(t=Yr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yr.removeChild(n.stateNode));break;case 18:Yr!==null&&($o?(t=Yr,n=n.stateNode,t.nodeType===8?H5(t.parentNode,n):t.nodeType===1&&H5(t,n),Tm(t)):H5(Yr,n.stateNode));break;case 4:r=Yr,i=$o,Yr=n.stateNode.containerInfo,$o=!0,Pc(t,e,n),Yr=r,$o=i;break;case 0:case 11:case 14:case 15:if(!yi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rS(n,e,o),i=i.next}while(i!==r)}Pc(t,e,n);break;case 1:if(!yi&&(Ad(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Yn(n,e,a)}Pc(t,e,n);break;case 21:Pc(t,e,n);break;case 22:n.mode&1?(yi=(r=yi)||n.memoizedState!==null,Pc(t,e,n),yi=r):Pc(t,e,n);break;default:Pc(t,e,n)}}function o6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PW),e.forEach(function(r){var i=DW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Do(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yr=a.stateNode,$o=!1;break e;case 3:Yr=a.stateNode.containerInfo,$o=!0;break e;case 4:Yr=a.stateNode.containerInfo,$o=!0;break e}a=a.return}if(Yr===null)throw Error(ze(160));FM(s,o,i),Yr=null,$o=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Yn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BM(e,t),e=e.sibling}function BM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Do(e,t),ga(t),r&4){try{sm(3,t,t.return),mb(3,t)}catch(y){Yn(t,t.return,y)}try{sm(5,t,t.return)}catch(y){Yn(t,t.return,y)}}break;case 1:Do(e,t),ga(t),r&512&&n!==null&&Ad(n,n.return);break;case 5:if(Do(e,t),ga(t),r&512&&n!==null&&Ad(n,n.return),t.flags&32){var i=t.stateNode;try{Sm(i,"")}catch(y){Yn(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&aL(i,s),Ix(a,o);var c=Ix(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?fL(i,h):u==="dangerouslySetInnerHTML"?uL(i,h):u==="children"?Sm(i,h):gA(i,u,h,c)}switch(a){case"input":Ex(i,s);break;case"textarea":lL(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Od(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Od(i,!!s.multiple,s.defaultValue,!0):Od(i,!!s.multiple,s.multiple?[]:"",!1))}i[Om]=s}catch(y){Yn(t,t.return,y)}}break;case 6:if(Do(e,t),ga(t),r&4){if(t.stateNode===null)throw Error(ze(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Yn(t,t.return,y)}}break;case 3:if(Do(e,t),ga(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tm(e.containerInfo)}catch(y){Yn(t,t.return,y)}break;case 4:Do(e,t),ga(t);break;case 13:Do(e,t),ga(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(GA=ir())),r&4&&o6(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(yi=(c=yi)||u,Do(e,t),yi=c):Do(e,t),ga(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(nt=t,u=t.child;u!==null;){for(h=nt=u;nt!==null;){switch(f=nt,d=f.child,f.tag){case 0:case 11:case 14:case 15:sm(4,f,f.return);break;case 1:Ad(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){Yn(r,n,y)}}break;case 5:Ad(f,f.return);break;case 22:if(f.memoizedState!==null){l6(h);continue}}d!==null?(d.return=f,nt=d):l6(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hL("display",o))}catch(y){Yn(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Yn(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Do(e,t),ga(t),r&4&&o6(t);break;case 21:break;default:Do(e,t),ga(t)}}function ga(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jM(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sm(i,""),r.flags&=-33);var s=s6(t);oS(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=s6(t);sS(t,a,o);break;default:throw Error(ze(161))}}catch(l){Yn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CW(t,e,n){nt=t,UM(t)}function UM(t,e,n){for(var r=(t.mode&1)!==0;nt!==null;){var i=nt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||B1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yi;a=B1;var c=yi;if(B1=o,(yi=l)&&!c)for(nt=i;nt!==null;)o=nt,l=o.child,o.tag===22&&o.memoizedState!==null?c6(i):l!==null?(l.return=o,nt=l):c6(i);for(;s!==null;)nt=s,UM(s),s=s.sibling;nt=i,B1=a,yi=c}a6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nt=s):a6(t)}}function a6(t){for(;nt!==null;){var e=nt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yi||mb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&HC(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Tm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}yi||e.flags&512&&iS(e)}catch(f){Yn(e,e.return,f)}}if(e===t){nt=null;break}if(n=e.sibling,n!==null){n.return=e.return,nt=n;break}nt=e.return}}function l6(t){for(;nt!==null;){var e=nt;if(e===t){nt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,nt=n;break}nt=e.return}}function c6(t){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mb(4,e)}catch(l){Yn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yn(e,i,l)}}var s=e.return;try{iS(e)}catch(l){Yn(e,s,l)}break;case 5:var o=e.return;try{iS(e)}catch(l){Yn(e,o,l)}}}catch(l){Yn(e,e.return,l)}if(e===t){nt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,nt=a;break}nt=e.return}}var NW=Math.ceil,Iv=Gl.ReactCurrentDispatcher,WA=Gl.ReactCurrentOwner,go=Gl.ReactCurrentBatchConfig,qt=0,Fr=null,gr=null,Zr=0,Ps=0,Ed=Iu(0),Ar=0,Fm=null,Wh=0,yb=0,KA=0,om=null,es=null,GA=0,rp=1/0,pl=null,kv=!1,aS=null,ru=null,U1=!1,qc=null,Ov=0,am=0,lS=null,jy=-1,Fy=0;function Di(){return qt&6?ir():jy!==-1?jy:jy=ir()}function iu(t){return t.mode&1?qt&2&&Zr!==0?Zr&-Zr:fW.transition!==null?(Fy===0&&(Fy=AL()),Fy):(t=cn,t!==0||(t=window.event,t=t===void 0?16:kL(t.type)),t):1}function Qo(t,e,n,r){if(50<am)throw am=0,lS=null,Error(ze(185));y0(t,n,r),(!(qt&2)||t!==Fr)&&(t===Fr&&(!(qt&2)&&(yb|=n),Ar===4&&jc(t,Zr)),ls(t,r),n===1&&qt===0&&!(e.mode&1)&&(rp=ir()+500,db&&ku()))}function ls(t,e){var n=t.callbackNode;fH(t,e);var r=gv(t,t===Fr?Zr:0);if(r===0)n!==null&&vC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vC(n),e===1)t.tag===0?hW(u6.bind(null,t)):XL(u6.bind(null,t)),aW(function(){!(qt&6)&&ku()}),n=null;else{switch(EL(r)){case 1:n=wA;break;case 4:n=xL;break;case 16:n=pv;break;case 536870912:n=SL;break;default:n=pv}n=GM(n,VM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VM(t,e){if(jy=-1,Fy=0,qt&6)throw Error(ze(327));var n=t.callbackNode;if(jd()&&t.callbackNode!==n)return null;var r=gv(t,t===Fr?Zr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rv(t,r);else{e=r;var i=qt;qt|=2;var s=$M();(Fr!==t||Zr!==e)&&(pl=null,rp=ir()+500,Nh(t,e));do try{OW();break}catch(a){zM(t,a)}while(1);RA(),Iv.current=s,qt=i,gr!==null?e=0:(Fr=null,Zr=0,e=Ar)}if(e!==0){if(e===2&&(i=Mx(t),i!==0&&(r=i,e=cS(t,i))),e===1)throw n=Fm,Nh(t,0),jc(t,r),ls(t,ir()),n;if(e===6)jc(t,r);else{if(i=t.current.alternate,!(r&30)&&!IW(i)&&(e=Rv(t,r),e===2&&(s=Mx(t),s!==0&&(r=s,e=cS(t,s))),e===1))throw n=Fm,Nh(t,0),jc(t,r),ls(t,ir()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ze(345));case 2:hh(t,es,pl);break;case 3:if(jc(t,r),(r&130023424)===r&&(e=GA+500-ir(),10<e)){if(gv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Di(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$x(hh.bind(null,t,es,pl),e);break}hh(t,es,pl);break;case 4:if(jc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NW(r/1960))-r,10<r){t.timeoutHandle=$x(hh.bind(null,t,es,pl),r);break}hh(t,es,pl);break;case 5:hh(t,es,pl);break;default:throw Error(ze(329))}}}return ls(t,ir()),t.callbackNode===n?VM.bind(null,t):null}function cS(t,e){var n=om;return t.current.memoizedState.isDehydrated&&(Nh(t,e).flags|=256),t=Rv(t,e),t!==2&&(e=es,es=n,e!==null&&uS(e)),t}function uS(t){es===null?es=t:es.push.apply(es,t)}function IW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ea(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jc(t,e){for(e&=~KA,e&=~yb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xo(e),r=1<<n;t[n]=-1,e&=~r}}function u6(t){if(qt&6)throw Error(ze(327));jd();var e=gv(t,0);if(!(e&1))return ls(t,ir()),null;var n=Rv(t,e);if(t.tag!==0&&n===2){var r=Mx(t);r!==0&&(e=r,n=cS(t,r))}if(n===1)throw n=Fm,Nh(t,0),jc(t,e),ls(t,ir()),n;if(n===6)throw Error(ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hh(t,es,pl),ls(t,ir()),null}function YA(t,e){var n=qt;qt|=1;try{return t(e)}finally{qt=n,qt===0&&(rp=ir()+500,db&&ku())}}function Kh(t){qc!==null&&qc.tag===0&&!(qt&6)&&jd();var e=qt;qt|=1;var n=go.transition,r=cn;try{if(go.transition=null,cn=1,t)return t()}finally{cn=r,go.transition=n,qt=e,!(qt&6)&&ku()}}function XA(){Ps=Ed.current,kn(Ed)}function Nh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oW(n)),gr!==null)for(n=gr.return;n!==null;){var r=n;switch(IA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wv();break;case 3:tp(),kn(os),kn(xi),BA();break;case 5:FA(r);break;case 4:tp();break;case 13:kn(Bn);break;case 19:kn(Bn);break;case 10:LA(r.type._context);break;case 22:case 23:XA()}n=n.return}if(Fr=t,gr=t=su(t.current,null),Zr=Ps=e,Ar=0,Fm=null,KA=yb=Wh=0,es=om=null,wh!==null){for(e=0;e<wh.length;e++)if(n=wh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wh=null}return t}function zM(t,e){do{var n=gr;try{if(RA(),Ly.current=Nv,Cv){for(var r=Un.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cv=!1}if(Hh=0,Lr=Sr=Un=null,im=!1,Mm=0,WA.current=null,n===null||n.return===null){Ar=1,Fm=e,gr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Zr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=QC(o);if(d!==null){d.flags&=-257,JC(d,o,a,s,e),d.mode&1&&XC(s,c,e),e=d,l=c;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){XC(s,c,e),QA();break e}l=Error(ze(426))}}else if(Mn&&a.mode&1){var b=QC(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),JC(b,o,a,s,e),kA(np(l,a));break e}}s=l=np(l,a),Ar!==4&&(Ar=2),om===null?om=[s]:om.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=EM(s,l,e);qC(s,v);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ru===null||!ru.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=PM(s,a,e);qC(s,I);break e}}s=s.return}while(s!==null)}HM(n)}catch(M){e=M,gr===n&&n!==null&&(gr=n=n.return);continue}break}while(1)}function $M(){var t=Iv.current;return Iv.current=Nv,t===null?Nv:t}function QA(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Fr===null||!(Wh&268435455)&&!(yb&268435455)||jc(Fr,Zr)}function Rv(t,e){var n=qt;qt|=2;var r=$M();(Fr!==t||Zr!==e)&&(pl=null,Nh(t,e));do try{kW();break}catch(i){zM(t,i)}while(1);if(RA(),qt=n,Iv.current=r,gr!==null)throw Error(ze(261));return Fr=null,Zr=0,Ar}function kW(){for(;gr!==null;)qM(gr)}function OW(){for(;gr!==null&&!rH();)qM(gr)}function qM(t){var e=KM(t.alternate,t,Ps);t.memoizedProps=t.pendingProps,e===null?HM(t):gr=e,WA.current=null}function HM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EW(n,e),n!==null){n.flags&=32767,gr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ar=6,gr=null;return}}else if(n=AW(n,e,Ps),n!==null){gr=n;return}if(e=e.sibling,e!==null){gr=e;return}gr=e=t}while(e!==null);Ar===0&&(Ar=5)}function hh(t,e,n){var r=cn,i=go.transition;try{go.transition=null,cn=1,RW(t,e,n,r)}finally{go.transition=i,cn=r}return null}function RW(t,e,n,r){do jd();while(qc!==null);if(qt&6)throw Error(ze(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ze(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(dH(t,s),t===Fr&&(gr=Fr=null,Zr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||U1||(U1=!0,GM(pv,function(){return jd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=go.transition,go.transition=null;var o=cn;cn=1;var a=qt;qt|=4,WA.current=null,TW(t,n),BM(n,t),ZH(Vx),mv=!!Ux,Vx=Ux=null,t.current=n,CW(n),iH(),qt=a,cn=o,go.transition=s}else t.current=n;if(U1&&(U1=!1,qc=t,Ov=i),s=t.pendingLanes,s===0&&(ru=null),aH(n.stateNode),ls(t,ir()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kv)throw kv=!1,t=aS,aS=null,t;return Ov&1&&t.tag!==0&&jd(),s=t.pendingLanes,s&1?t===lS?am++:(am=0,lS=t):am=0,ku(),null}function jd(){if(qc!==null){var t=EL(Ov),e=go.transition,n=cn;try{if(go.transition=null,cn=16>t?16:t,qc===null)var r=!1;else{if(t=qc,qc=null,Ov=0,qt&6)throw Error(ze(331));var i=qt;for(qt|=4,nt=t.current;nt!==null;){var s=nt,o=s.child;if(nt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(nt=c;nt!==null;){var u=nt;switch(u.tag){case 0:case 11:case 15:sm(8,u,s)}var h=u.child;if(h!==null)h.return=u,nt=h;else for(;nt!==null;){u=nt;var f=u.sibling,d=u.return;if(DM(u),u===c){nt=null;break}if(f!==null){f.return=d,nt=f;break}nt=d}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}nt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,nt=o;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sm(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,nt=v;break e}nt=s.return}}var x=t.current;for(nt=x;nt!==null;){o=nt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,nt=S;else e:for(o=x;nt!==null;){if(a=nt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mb(9,a)}}catch(M){Yn(a,a.return,M)}if(a===o){nt=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,nt=I;break e}nt=a.return}}if(qt=i,ku(),Ca&&typeof Ca.onPostCommitFiberRoot=="function")try{Ca.onPostCommitFiberRoot(lb,t)}catch{}r=!0}return r}finally{cn=n,go.transition=e}}return!1}function h6(t,e,n){e=np(n,e),e=EM(t,e,1),t=nu(t,e,1),e=Di(),t!==null&&(y0(t,1,e),ls(t,e))}function Yn(t,e,n){if(t.tag===3)h6(t,t,n);else for(;e!==null;){if(e.tag===3){h6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ru===null||!ru.has(r))){t=np(n,t),t=PM(e,t,1),e=nu(e,t,1),t=Di(),e!==null&&(y0(e,1,t),ls(e,t));break}}e=e.return}}function LW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Di(),t.pingedLanes|=t.suspendedLanes&n,Fr===t&&(Zr&n)===n&&(Ar===4||Ar===3&&(Zr&130023424)===Zr&&500>ir()-GA?Nh(t,0):KA|=n),ls(t,e)}function WM(t,e){e===0&&(t.mode&1?(e=I1,I1<<=1,!(I1&130023424)&&(I1=4194304)):e=1);var n=Di();t=Rl(t,e),t!==null&&(y0(t,e,n),ls(t,n))}function MW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WM(t,n)}function DW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(e),WM(t,n)}var KM;KM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||os.current)is=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return is=!1,SW(t,e,n);is=!!(t.flags&131072)}else is=!1,Mn&&e.flags&1048576&&QL(e,Sv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dy(t,e),t=e.pendingProps;var i=Jd(e,xi.current);Dd(e,n),i=VA(null,e,r,t,i,n);var s=zA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,as(r)?(s=!0,_v(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,DA(e),i.updater=gb,e.stateNode=i,i._reactInternals=e,Xx(e,r,t,n),e=Zx(null,e,r,!0,s,n)):(e.tag=0,Mn&&s&&NA(e),Li(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FW(r),t=Vo(r,t),i){case 0:e=Jx(null,e,r,t,n);break e;case 1:e=t6(null,e,r,t,n);break e;case 11:e=ZC(null,e,r,t,n);break e;case 14:e=e6(null,e,r,Vo(r.type,t),n);break e}throw Error(ze(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),Jx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),t6(t,e,r,i,n);case 3:e:{if(IM(e),t===null)throw Error(ze(387));r=e.pendingProps,s=e.memoizedState,i=s.element,rM(t,e),Pv(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=np(Error(ze(423)),e),e=n6(t,e,r,n,i);break e}else if(r!==i){i=np(Error(ze(424)),e),e=n6(t,e,r,n,i);break e}else for(Is=tu(e.stateNode.containerInfo.firstChild),Ds=e,Mn=!0,qo=null,n=tM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zd(),r===i){e=Ll(t,e,n);break e}Li(t,e,r,n)}e=e.child}return e;case 5:return iM(e),t===null&&Kx(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,zx(r,i)?o=null:s!==null&&zx(r,s)&&(e.flags|=32),NM(t,e),Li(t,e,o,n),e.child;case 6:return t===null&&Kx(e),null;case 13:return kM(t,e,n);case 4:return jA(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ep(e,null,r,n):Li(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),ZC(t,e,r,i,n);case 7:return Li(t,e,e.pendingProps,n),e.child;case 8:return Li(t,e,e.pendingProps.children,n),e.child;case 12:return Li(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Sn(Av,r._currentValue),r._currentValue=o,s!==null)if(ea(s.value,o)){if(s.children===i.children&&!os.current){e=Ll(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pl(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Gx(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ze(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gx(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Li(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dd(e,n),i=yo(i),r=r(i),e.flags|=1,Li(t,e,r,n),e.child;case 14:return r=e.type,i=Vo(r,e.pendingProps),i=Vo(r.type,i),e6(t,e,r,i,n);case 15:return TM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),Dy(t,e),e.tag=1,as(r)?(t=!0,_v(e)):t=!1,Dd(e,n),AM(e,r,i),Xx(e,r,i,n),Zx(null,e,r,!0,t,n);case 19:return OM(t,e,n);case 22:return CM(t,e,n)}throw Error(ze(156,e.tag))};function GM(t,e){return _L(t,e)}function jW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(t,e,n,r){return new jW(t,e,n,r)}function JA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FW(t){if(typeof t=="function")return JA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yA)return 11;if(t===vA)return 14}return 2}function su(t,e){var n=t.alternate;return n===null?(n=ho(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function By(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")JA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gd:return Ih(n.children,i,s,e);case mA:o=8,i|=8;break;case wx:return t=ho(12,n,e,i|2),t.elementType=wx,t.lanes=s,t;case _x:return t=ho(13,n,e,i),t.elementType=_x,t.lanes=s,t;case xx:return t=ho(19,n,e,i),t.elementType=xx,t.lanes=s,t;case iL:return vb(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nL:o=10;break e;case rL:o=9;break e;case yA:o=11;break e;case vA:o=14;break e;case Rc:o=16,r=null;break e}throw Error(ze(130,t==null?t:typeof t,""))}return e=ho(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ih(t,e,n,r){return t=ho(7,t,r,e),t.lanes=n,t}function vb(t,e,n,r){return t=ho(22,t,r,e),t.elementType=iL,t.lanes=n,t.stateNode={isHidden:!1},t}function Z5(t,e,n){return t=ho(6,t,null,e),t.lanes=n,t}function e_(t,e,n){return e=ho(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BW(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L5(0),this.expirationTimes=L5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ZA(t,e,n,r,i,s,o,a,l){return t=new BW(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ho(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},DA(s),t}function UW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YM(t){if(!t)return mu;t=t._reactInternals;e:{if(hf(t)!==t||t.tag!==1)throw Error(ze(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(as(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ze(171))}if(t.tag===1){var n=t.type;if(as(n))return YL(t,n,e)}return e}function XM(t,e,n,r,i,s,o,a,l){return t=ZA(n,r,!0,t,i,s,o,a,l),t.context=YM(null),n=t.current,r=Di(),i=iu(n),s=Pl(r,i),s.callback=e??null,nu(n,s,i),t.current.lanes=i,y0(t,i,r),ls(t,r),t}function bb(t,e,n,r){var i=e.current,s=Di(),o=iu(i);return n=YM(n),e.context===null?e.context=n:e.pendingContext=n,e=Pl(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=nu(i,e,o),t!==null&&(Qo(t,i,o,s),Ry(t,i,o)),o}function Lv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function eE(t,e){f6(t,e),(t=t.alternate)&&f6(t,e)}function VW(){return null}var QM=typeof reportError=="function"?reportError:function(t){console.error(t)};function tE(t){this._internalRoot=t}wb.prototype.render=tE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ze(409));bb(t,e,null,null)};wb.prototype.unmount=tE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kh(function(){bb(null,t,null,null)}),e[Ol]=null}};function wb(t){this._internalRoot=t}wb.prototype.unstable_scheduleHydration=function(t){if(t){var e=CL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Dc.length&&e!==0&&e<Dc[n].priority;n++);Dc.splice(n,0,t),n===0&&IL(t)}};function nE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _b(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d6(){}function zW(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Lv(o);s.call(c)}}var o=XM(e,r,t,0,null,!1,!1,"",d6);return t._reactRootContainer=o,t[Ol]=o.current,Im(t.nodeType===8?t.parentNode:t),Kh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Lv(l);a.call(c)}}var l=ZA(t,0,!1,null,null,!1,!1,"",d6);return t._reactRootContainer=l,t[Ol]=l.current,Im(t.nodeType===8?t.parentNode:t),Kh(function(){bb(e,l,n,r)}),l}function xb(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lv(o);a.call(l)}}bb(e,o,t,i)}else o=zW(n,e,t,i,r);return Lv(o)}PL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bg(e.pendingLanes);n!==0&&(_A(e,n|1),ls(e,ir()),!(qt&6)&&(rp=ir()+500,ku()))}break;case 13:Kh(function(){var r=Rl(t,1);if(r!==null){var i=Di();Qo(r,t,1,i)}}),eE(t,1)}};xA=function(t){if(t.tag===13){var e=Rl(t,134217728);if(e!==null){var n=Di();Qo(e,t,134217728,n)}eE(t,134217728)}};TL=function(t){if(t.tag===13){var e=iu(t),n=Rl(t,e);if(n!==null){var r=Di();Qo(n,t,e,r)}eE(t,e)}};CL=function(){return cn};NL=function(t,e){var n=cn;try{return cn=t,e()}finally{cn=n}};Ox=function(t,e,n){switch(e){case"input":if(Ex(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fb(r);if(!i)throw Error(ze(90));oL(r),Ex(r,i)}}}break;case"textarea":lL(t,n);break;case"select":e=n.value,e!=null&&Od(t,!!n.multiple,e,!1)}};gL=YA;mL=Kh;var $W={usingClientEntryPoint:!1,Events:[b0,bd,fb,dL,pL,YA]},bg={findFiberByHostInstance:bh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qW={bundleType:bg.bundleType,version:bg.version,rendererPackageName:bg.rendererPackageName,rendererConfig:bg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bL(t),t===null?null:t.stateNode},findFiberByHostInstance:bg.findFiberByHostInstance||VW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var V1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!V1.isDisabled&&V1.supportsFiber)try{lb=V1.inject(qW),Ca=V1}catch{}}Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$W;Vs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nE(e))throw Error(ze(200));return UW(t,e,null,n)};Vs.createRoot=function(t,e){if(!nE(t))throw Error(ze(299));var n=!1,r="",i=QM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ZA(t,1,!1,null,null,n,!1,r,i),t[Ol]=e.current,Im(t.nodeType===8?t.parentNode:t),new tE(e)};Vs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=bL(e),t=t===null?null:t.stateNode,t};Vs.flushSync=function(t){return Kh(t)};Vs.hydrate=function(t,e,n){if(!_b(e))throw Error(ze(200));return xb(null,t,e,!0,n)};Vs.hydrateRoot=function(t,e,n){if(!nE(t))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=XM(e,null,t,1,n??null,i,!1,s,o),t[Ol]=e.current,Im(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wb(e)};Vs.render=function(t,e,n){if(!_b(e))throw Error(ze(200));return xb(null,t,e,!1,n)};Vs.unmountComponentAtNode=function(t){if(!_b(t))throw Error(ze(40));return t._reactRootContainer?(Kh(function(){xb(null,null,t,!1,function(){t._reactRootContainer=null,t[Ol]=null})}),!0):!1};Vs.unstable_batchedUpdates=YA;Vs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_b(n))throw Error(ze(200));if(t==null||t._reactInternals===void 0)throw Error(ze(38));return xb(t,e,n,!1,r)};Vs.version="18.3.1-next-f1338f8080-20240426";function JM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JM)}catch(t){console.error(t)}}JM(),J8.exports=Vs;var rE=J8.exports,p6=rE;vx.createRoot=p6.createRoot,vx.hydrateRoot=p6.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bm.apply(this,arguments)}var Hc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hc||(Hc={}));const g6="popstate";function HW(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return hS("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mv(i)}return KW(e,n,null,t)}function lr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WW(){return Math.random().toString(36).substr(2,8)}function m6(t,e){return{usr:t.state,key:t.key,idx:e}}function hS(t,e,n,r){return n===void 0&&(n=null),Bm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Np(e):e,{state:n,key:e&&e.key||r||WW()})}function Mv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Np(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function KW(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Hc.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Bm({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Hc.Pop;let b=u(),v=b==null?null:b-c;c=b,l&&l({action:a,location:y.location,delta:v})}function f(b,v){a=Hc.Push;let x=hS(y.location,b,v);n&&n(x,b),c=u()+1;let S=m6(x,c),I=y.createHref(x);try{o.pushState(S,"",I)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(I)}s&&l&&l({action:a,location:y.location,delta:1})}function d(b,v){a=Hc.Replace;let x=hS(y.location,b,v);n&&n(x,b),c=u();let S=m6(x,c),I=y.createHref(x);o.replaceState(S,"",I),s&&l&&l({action:a,location:y.location,delta:0})}function p(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:Mv(b);return x=x.replace(/ $/,"%20"),lr(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let y={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(g6,h),l=b,()=>{i.removeEventListener(g6,h),l=null}},createHref(b){return e(i,b)},createURL:p,encodeLocation(b){let v=p(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:d,go(b){return o.go(b)}};return y}var y6;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(y6||(y6={}));function GW(t,e,n){return n===void 0&&(n="/"),YW(t,e,n,!1)}function YW(t,e,n,r){let i=typeof e=="string"?Np(e):e,s=iE(i.pathname||"/",n);if(s==null)return null;let o=eD(t);XW(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=aK(s);a=sK(o[l],c,r)}return a}function eD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(lr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ou([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(lr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),eD(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:rK(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of tD(s.path))i(s,o,l)}),e}function tD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XW(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QW=/^:[\w-]+$/,JW=3,ZW=2,eK=1,tK=10,nK=-2,v6=t=>t==="*";function rK(t,e){let n=t.split("/"),r=n.length;return n.some(v6)&&(r+=nK),e&&(r+=ZW),n.filter(i=>!v6(i)).reduce((i,s)=>i+(QW.test(s)?JW:s===""?eK:tK),r)}function iK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function sK(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=b6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=b6({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ou([s,h.pathname]),pathnameBase:hK(ou([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ou([s,h.pathnameBase]))}return o}function b6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:d}=u;if(f==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const p=a[h];return d&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function oK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ZM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Np(t):t;return{pathname:n?n.startsWith("/")?n:cK(n,e):e,search:fK(r),hash:dK(i)}}function cK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function t_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sE(t,e){let n=uK(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Np(t):(i=Bm({},t),lr(!i.pathname||!i.pathname.includes("?"),t_("?","pathname","search",i)),lr(!i.pathname||!i.pathname.includes("#"),t_("#","pathname","hash",i)),lr(!i.search||!i.search.includes("#"),t_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=lK(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ou=t=>t.join("/").replace(/\/\/+/g,"/"),hK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nD=["post","put","patch","delete"];new Set(nD);const gK=["get",...nD];new Set(gK);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Um.apply(this,arguments)}const aE=H.createContext(null),mK=H.createContext(null),Ou=H.createContext(null),Sb=H.createContext(null),Yl=H.createContext({outlet:null,matches:[],isDataRoute:!1}),rD=H.createContext(null);function yK(t,e){let{relative:n}=e===void 0?{}:e;Ip()||lr(!1);let{basename:r,navigator:i}=H.useContext(Ou),{hash:s,pathname:o,search:a}=oD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ou([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ip(){return H.useContext(Sb)!=null}function ff(){return Ip()||lr(!1),H.useContext(Sb).location}function iD(t){H.useContext(Ou).static||H.useLayoutEffect(t)}function $a(){let{isDataRoute:t}=H.useContext(Yl);return t?IK():vK()}function vK(){Ip()||lr(!1);let t=H.useContext(aE),{basename:e,future:n,navigator:r}=H.useContext(Ou),{matches:i}=H.useContext(Yl),{pathname:s}=ff(),o=JSON.stringify(sE(i,n.v7_relativeSplatPath)),a=H.useRef(!1);return iD(()=>{a.current=!0}),H.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=oE(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ou([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function sD(){let{matches:t}=H.useContext(Yl),e=t[t.length-1];return e?e.params:{}}function oD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=H.useContext(Ou),{matches:i}=H.useContext(Yl),{pathname:s}=ff(),o=JSON.stringify(sE(i,r.v7_relativeSplatPath));return H.useMemo(()=>oE(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function bK(t,e){return wK(t,e)}function wK(t,e,n,r){Ip()||lr(!1);let{navigator:i}=H.useContext(Ou),{matches:s}=H.useContext(Yl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ff(),u;if(e){var h;let b=typeof e=="string"?Np(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||lr(!1),u=b}else u=c;let f=u.pathname||"/",d=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=GW(t,{pathname:d}),y=EK(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:ou([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:ou([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&y?H.createElement(Sb.Provider,{value:{location:Um({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Hc.Pop}},y):y}function _K(){let t=NK(),e=pK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:i},n):null,s)}const xK=H.createElement(_K,null);class SK extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?H.createElement(Yl.Provider,{value:this.props.routeContext},H.createElement(rD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AK(t){let{routeContext:e,match:n,children:r}=t,i=H.useContext(aE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(Yl.Provider,{value:e},r)}function EK(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||lr(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:d}=n,p=h.route.loader&&f[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let d,p=!1,y=null,b=null;n&&(d=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||xK,l&&(c<0&&f===0?(kK("route-fallback",!1),p=!0,b=null):c===f&&(p=!0,b=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),x=()=>{let S;return d?S=y:p?S=b:h.route.Component?S=H.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=u,H.createElement(AK,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?H.createElement(SK,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var aD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aD||{}),Dv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dv||{});function PK(t){let e=H.useContext(aE);return e||lr(!1),e}function TK(t){let e=H.useContext(mK);return e||lr(!1),e}function CK(t){let e=H.useContext(Yl);return e||lr(!1),e}function lD(t){let e=CK(),n=e.matches[e.matches.length-1];return n.route.id||lr(!1),n.route.id}function NK(){var t;let e=H.useContext(rD),n=TK(Dv.UseRouteError),r=lD(Dv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function IK(){let{router:t}=PK(aD.UseNavigateStable),e=lD(Dv.UseNavigateStable),n=H.useRef(!1);return iD(()=>{n.current=!0}),H.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Um({fromRouteId:e},s)))},[t,e])}const w6={};function kK(t,e,n){!e&&!w6[t]&&(w6[t]=!0)}function OK(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function cD(t){let{to:e,replace:n,state:r,relative:i}=t;Ip()||lr(!1);let{future:s,static:o}=H.useContext(Ou),{matches:a}=H.useContext(Yl),{pathname:l}=ff(),c=$a(),u=oE(e,sE(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return H.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Ri(t){lr(!1)}function RK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Hc.Pop,navigator:s,static:o=!1,future:a}=t;Ip()&&lr(!1);let l=e.replace(/^\/*/,"/"),c=H.useMemo(()=>({basename:l,navigator:s,static:o,future:Um({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Np(r));let{pathname:u="/",search:h="",hash:f="",state:d=null,key:p="default"}=r,y=H.useMemo(()=>{let b=iE(u,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:d,key:p},navigationType:i}},[l,u,h,f,d,p,i]);return y==null?null:H.createElement(Ou.Provider,{value:c},H.createElement(Sb.Provider,{children:n,value:y}))}function LK(t){let{children:e,location:n}=t;return bK(fS(e),n)}new Promise(()=>{});function fS(t,e){e===void 0&&(e=[]);let n=[];return H.Children.forEach(t,(r,i)=>{if(!H.isValidElement(r))return;let s=[...e,i];if(r.type===H.Fragment){n.push.apply(n,fS(r.props.children,s));return}r.type!==Ri&&lr(!1),!r.props.index||!r.props.children||lr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fS(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(this,arguments)}function MK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jK(t,e){return t.button===0&&(!e||e==="_self")&&!DK(t)}const FK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BK="6";try{window.__reactRouterVersion=BK}catch{}const UK="startTransition",_6=Lq[UK];function VK(t){let{basename:e,children:n,future:r,window:i}=t,s=H.useRef();s.current==null&&(s.current=HW({window:i,v5Compat:!0}));let o=s.current,[a,l]=H.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=H.useCallback(h=>{c&&_6?_6(()=>l(h)):l(h)},[l,c]);return H.useLayoutEffect(()=>o.listen(u),[o,u]),H.useEffect(()=>OK(r),[r]),H.createElement(RK,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const zK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$K=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lm=H.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,f=MK(e,FK),{basename:d}=H.useContext(Ou),p,y=!1;if(typeof c=="string"&&$K.test(c)&&(p=c,zK))try{let S=new URL(window.location.href),I=c.startsWith("//")?new URL(S.protocol+c):new URL(c),M=iE(I.pathname,d);I.origin===S.origin&&M!=null?c=M+I.search+I.hash:y=!0}catch{}let b=yK(c,{relative:i}),v=qK(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function x(S){r&&r(S),S.defaultPrevented||v(S)}return H.createElement("a",dS({},f,{href:p||b,onClick:y||s?r:x,ref:n,target:l}))});var x6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(x6||(x6={}));var S6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(S6||(S6={}));function qK(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=$a(),c=ff(),u=oD(t,{relative:o});return H.useCallback(h=>{if(jK(h,n)){h.preventDefault();let f=r!==void 0?r:Mv(c)===Mv(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const HK=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WK=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),r.push(n[u],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new KK;const f=s<<2|a>>4;if(r.push(f),c!==64){const d=a<<4&240|c>>2;if(r.push(d),h!==64){const p=c<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GK=function(t){const e=uD(t);return hD.encodeByteArray(e,!0)},jv=function(t){return GK(t).replace(/\./g,"")},fD=function(t){try{return hD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK=()=>YK().__FIREBASE_DEFAULTS__,QK=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fD(t[1]);return e&&JSON.parse(e)},Ab=()=>{try{return HK()||XK()||QK()||JK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dD=t=>{var e,n;return(n=(e=Ab())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},pD=t=>{const e=dD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gD=()=>{var t;return(t=Ab())==null?void 0:t.config},mD=t=>{var e;return(e=Ab())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[jv(JSON.stringify(n)),jv(JSON.stringify(o)),a].join(".")}const cm={};function eG(){const t={prod:[],emulator:[]};for(const e of Object.keys(cm))cm[e]?t.emulator.push(e):t.prod.push(e);return t}function tG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let A6=!1;function cE(t,e){if(typeof window>"u"||typeof document>"u"||!Ru(window.location.host)||cm[t]===e||cm[t]||A6)return;cm[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=eG().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,d){f.setAttribute("width","24"),f.setAttribute("id",d),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{A6=!0,o()},f}function u(f,d){f.setAttribute("id",d),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=tG(r),d=n("text"),p=document.getElementById(d)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),x=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const S=f.element;a(S),u(b,y);const I=c();l(x,v),S.append(x,p,b,I),document.body.appendChild(S)}s?(p.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Si())}function rG(){var e;const t=(e=Ab())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aG(){const t=Si();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lG(){return!rG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cG(){try{return typeof indexedDB=="object"}catch{return!1}}function uG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG="FirebaseError";class qa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hG,Object.setPrototypeOf(this,qa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_0.prototype.create)}}class _0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fG(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new qa(i,a,r)}}function fG(t,e){return t.replace(dG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dG=/\{\$([^}]+)}/g;function pG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(E6(s)&&E6(o)){if(!Gh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function E6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gG(t,e){const n=new mG(t,e);return n.subscribe.bind(n)}class mG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=n_),i.error===void 0&&(i.error=n_),i.complete===void 0&&(i.complete=n_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function n_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){return t&&t._delegate?t._delegate:t}class yu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vG=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wG(e))try{this.getOrInitializeService({instanceIdentifier:fh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fh){return this.instances.has(e)}getOptions(e=fh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fh){return this.component?this.component.multipleInstances?e:fh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bG(t){return t===fh?void 0:t}function wG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jt||(jt={}));const xG={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},SG=jt.INFO,AG={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},EG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uE{constructor(e){this.name=e,this._logLevel=SG,this._logHandler=EG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const PG=(t,e)=>e.some(n=>t instanceof n);let P6,T6;function TG(){return P6||(P6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CG(){return T6||(T6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vD=new WeakMap,pS=new WeakMap,bD=new WeakMap,r_=new WeakMap,hE=new WeakMap;function NG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(au(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vD.set(n,t)}).catch(()=>{}),hE.set(e,t),e}function IG(t){if(pS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pS.set(t,e)}let gS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return au(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kG(t){gS=t(gS)}function OG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(i_(this),e,...n);return bD.set(r,e.sort?e.sort():[e]),au(r)}:CG().includes(t)?function(...e){return t.apply(i_(this),e),au(vD.get(this))}:function(...e){return au(t.apply(i_(this),e))}}function RG(t){return typeof t=="function"?OG(t):(t instanceof IDBTransaction&&IG(t),PG(t,TG())?new Proxy(t,gS):t)}function au(t){if(t instanceof IDBRequest)return NG(t);if(r_.has(t))return r_.get(t);const e=RG(t);return e!==t&&(r_.set(t,e),hE.set(e,t)),e}const i_=t=>hE.get(t);function LG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=au(o);return r&&o.addEventListener("upgradeneeded",l=>{r(au(o.result),l.oldVersion,l.newVersion,au(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const MG=["get","getKey","getAll","getAllKeys","count"],DG=["put","add","delete","clear"],s_=new Map;function C6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(s_.get(e))return s_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MG.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return s_.set(e,s),s}kG(t=>({...t,get:(e,n,r)=>C6(e,n)||t.get(e,n,r),has:(e,n)=>!!C6(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mS="@firebase/app",N6="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new uE("@firebase/app"),BG="@firebase/app-compat",UG="@firebase/analytics-compat",VG="@firebase/analytics",zG="@firebase/app-check-compat",$G="@firebase/app-check",qG="@firebase/auth",HG="@firebase/auth-compat",WG="@firebase/database",KG="@firebase/data-connect",GG="@firebase/database-compat",YG="@firebase/functions",XG="@firebase/functions-compat",QG="@firebase/installations",JG="@firebase/installations-compat",ZG="@firebase/messaging",eY="@firebase/messaging-compat",tY="@firebase/performance",nY="@firebase/performance-compat",rY="@firebase/remote-config",iY="@firebase/remote-config-compat",sY="@firebase/storage",oY="@firebase/storage-compat",aY="@firebase/firestore",lY="@firebase/ai",cY="@firebase/firestore-compat",uY="firebase",hY="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="[DEFAULT]",fY={[mS]:"fire-core",[BG]:"fire-core-compat",[VG]:"fire-analytics",[UG]:"fire-analytics-compat",[$G]:"fire-app-check",[zG]:"fire-app-check-compat",[qG]:"fire-auth",[HG]:"fire-auth-compat",[WG]:"fire-rtdb",[KG]:"fire-data-connect",[GG]:"fire-rtdb-compat",[YG]:"fire-fn",[XG]:"fire-fn-compat",[QG]:"fire-iid",[JG]:"fire-iid-compat",[ZG]:"fire-fcm",[eY]:"fire-fcm-compat",[tY]:"fire-perf",[nY]:"fire-perf-compat",[rY]:"fire-rc",[iY]:"fire-rc-compat",[sY]:"fire-gcs",[oY]:"fire-gcs-compat",[aY]:"fire-fst",[cY]:"fire-fst-compat",[lY]:"fire-vertex","fire-js":"fire-js",[uY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map,dY=new Map,vS=new Map;function I6(t,e){try{t.container.addComponent(e)}catch(n){Ml.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yh(t){const e=t.name;if(vS.has(e))return Ml.debug(`There were multiple attempts to register component ${e}.`),!1;vS.set(e,t);for(const n of Fv.values())I6(n,t);for(const n of dY.values())I6(n,t);return!0}function Eb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lu=new _0("app","Firebase",pY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=hY;function wD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:yS,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw lu.create("bad-app-name",{appName:String(i)});if(n||(n=gD()),!n)throw lu.create("no-options");const s=Fv.get(i);if(s){if(Gh(n,s.options)&&Gh(r,s.config))return s;throw lu.create("duplicate-app",{appName:i})}const o=new _G(i);for(const l of vS.values())o.addComponent(l);const a=new gY(n,r,o);return Fv.set(i,a),a}function fE(t=yS){const e=Fv.get(t);if(!e&&t===yS&&gD())return wD();if(!e)throw lu.create("no-app",{appName:t});return e}function Ia(t,e,n){let r=fY[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ml.warn(o.join(" "));return}Yh(new yu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY="firebase-heartbeat-database",yY=1,Vm="firebase-heartbeat-store";let o_=null;function _D(){return o_||(o_=LG(mY,yY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vm)}catch(n){console.warn(n)}}}}).catch(t=>{throw lu.create("idb-open",{originalErrorMessage:t.message})})),o_}async function vY(t){try{const n=(await _D()).transaction(Vm),r=await n.objectStore(Vm).get(xD(t));return await n.done,r}catch(e){if(e instanceof qa)Ml.warn(e.message);else{const n=lu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ml.warn(n.message)}}}async function k6(t,e){try{const r=(await _D()).transaction(Vm,"readwrite");await r.objectStore(Vm).put(e,xD(t)),await r.done}catch(n){if(n instanceof qa)Ml.warn(n.message);else{const r=lu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ml.warn(r.message)}}}function xD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY=1024,wY=30;class _Y{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=O6();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>wY){const o=AY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ml.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=O6(),{heartbeatsToSend:r,unsentEntries:i}=xY(this._heartbeatsCache.heartbeats),s=jv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ml.warn(n),""}}}function O6(){return new Date().toISOString().substring(0,10)}function xY(t,e=bY){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),R6(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),R6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cG()?uG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k6(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k6(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function R6(t){return jv(JSON.stringify({version:2,heartbeats:t})).length}function AY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(t){Yh(new yu("platform-logger",e=>new jG(e),"PRIVATE")),Yh(new yu("heartbeat",e=>new _Y(e),"PRIVATE")),Ia(mS,N6,t),Ia(mS,N6,"esm2020"),Ia("fire-js","")}EY("");var PY="firebase",TY="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia(PY,TY,"app");var L6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cu,SD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function A(){}A.prototype=w.prototype,T.D=w.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(O,E,C){for(var R=Array(arguments.length-2),U=2;U<arguments.length;U++)R[U-2]=arguments[U];return w.prototype[E].apply(O,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,w,A){A||(A=0);var O=Array(16);if(typeof w=="string")for(var E=0;16>E;++E)O[E]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(E=0;16>E;++E)O[E]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=T.g[0],A=T.g[1],E=T.g[2];var C=T.g[3],R=w+(C^A&(E^C))+O[0]+3614090360&4294967295;w=A+(R<<7&4294967295|R>>>25),R=C+(E^w&(A^E))+O[1]+3905402710&4294967295,C=w+(R<<12&4294967295|R>>>20),R=E+(A^C&(w^A))+O[2]+606105819&4294967295,E=C+(R<<17&4294967295|R>>>15),R=A+(w^E&(C^w))+O[3]+3250441966&4294967295,A=E+(R<<22&4294967295|R>>>10),R=w+(C^A&(E^C))+O[4]+4118548399&4294967295,w=A+(R<<7&4294967295|R>>>25),R=C+(E^w&(A^E))+O[5]+1200080426&4294967295,C=w+(R<<12&4294967295|R>>>20),R=E+(A^C&(w^A))+O[6]+2821735955&4294967295,E=C+(R<<17&4294967295|R>>>15),R=A+(w^E&(C^w))+O[7]+4249261313&4294967295,A=E+(R<<22&4294967295|R>>>10),R=w+(C^A&(E^C))+O[8]+1770035416&4294967295,w=A+(R<<7&4294967295|R>>>25),R=C+(E^w&(A^E))+O[9]+2336552879&4294967295,C=w+(R<<12&4294967295|R>>>20),R=E+(A^C&(w^A))+O[10]+4294925233&4294967295,E=C+(R<<17&4294967295|R>>>15),R=A+(w^E&(C^w))+O[11]+2304563134&4294967295,A=E+(R<<22&4294967295|R>>>10),R=w+(C^A&(E^C))+O[12]+1804603682&4294967295,w=A+(R<<7&4294967295|R>>>25),R=C+(E^w&(A^E))+O[13]+4254626195&4294967295,C=w+(R<<12&4294967295|R>>>20),R=E+(A^C&(w^A))+O[14]+2792965006&4294967295,E=C+(R<<17&4294967295|R>>>15),R=A+(w^E&(C^w))+O[15]+1236535329&4294967295,A=E+(R<<22&4294967295|R>>>10),R=w+(E^C&(A^E))+O[1]+4129170786&4294967295,w=A+(R<<5&4294967295|R>>>27),R=C+(A^E&(w^A))+O[6]+3225465664&4294967295,C=w+(R<<9&4294967295|R>>>23),R=E+(w^A&(C^w))+O[11]+643717713&4294967295,E=C+(R<<14&4294967295|R>>>18),R=A+(C^w&(E^C))+O[0]+3921069994&4294967295,A=E+(R<<20&4294967295|R>>>12),R=w+(E^C&(A^E))+O[5]+3593408605&4294967295,w=A+(R<<5&4294967295|R>>>27),R=C+(A^E&(w^A))+O[10]+38016083&4294967295,C=w+(R<<9&4294967295|R>>>23),R=E+(w^A&(C^w))+O[15]+3634488961&4294967295,E=C+(R<<14&4294967295|R>>>18),R=A+(C^w&(E^C))+O[4]+3889429448&4294967295,A=E+(R<<20&4294967295|R>>>12),R=w+(E^C&(A^E))+O[9]+568446438&4294967295,w=A+(R<<5&4294967295|R>>>27),R=C+(A^E&(w^A))+O[14]+3275163606&4294967295,C=w+(R<<9&4294967295|R>>>23),R=E+(w^A&(C^w))+O[3]+4107603335&4294967295,E=C+(R<<14&4294967295|R>>>18),R=A+(C^w&(E^C))+O[8]+1163531501&4294967295,A=E+(R<<20&4294967295|R>>>12),R=w+(E^C&(A^E))+O[13]+2850285829&4294967295,w=A+(R<<5&4294967295|R>>>27),R=C+(A^E&(w^A))+O[2]+4243563512&4294967295,C=w+(R<<9&4294967295|R>>>23),R=E+(w^A&(C^w))+O[7]+1735328473&4294967295,E=C+(R<<14&4294967295|R>>>18),R=A+(C^w&(E^C))+O[12]+2368359562&4294967295,A=E+(R<<20&4294967295|R>>>12),R=w+(A^E^C)+O[5]+4294588738&4294967295,w=A+(R<<4&4294967295|R>>>28),R=C+(w^A^E)+O[8]+2272392833&4294967295,C=w+(R<<11&4294967295|R>>>21),R=E+(C^w^A)+O[11]+1839030562&4294967295,E=C+(R<<16&4294967295|R>>>16),R=A+(E^C^w)+O[14]+4259657740&4294967295,A=E+(R<<23&4294967295|R>>>9),R=w+(A^E^C)+O[1]+2763975236&4294967295,w=A+(R<<4&4294967295|R>>>28),R=C+(w^A^E)+O[4]+1272893353&4294967295,C=w+(R<<11&4294967295|R>>>21),R=E+(C^w^A)+O[7]+4139469664&4294967295,E=C+(R<<16&4294967295|R>>>16),R=A+(E^C^w)+O[10]+3200236656&4294967295,A=E+(R<<23&4294967295|R>>>9),R=w+(A^E^C)+O[13]+681279174&4294967295,w=A+(R<<4&4294967295|R>>>28),R=C+(w^A^E)+O[0]+3936430074&4294967295,C=w+(R<<11&4294967295|R>>>21),R=E+(C^w^A)+O[3]+3572445317&4294967295,E=C+(R<<16&4294967295|R>>>16),R=A+(E^C^w)+O[6]+76029189&4294967295,A=E+(R<<23&4294967295|R>>>9),R=w+(A^E^C)+O[9]+3654602809&4294967295,w=A+(R<<4&4294967295|R>>>28),R=C+(w^A^E)+O[12]+3873151461&4294967295,C=w+(R<<11&4294967295|R>>>21),R=E+(C^w^A)+O[15]+530742520&4294967295,E=C+(R<<16&4294967295|R>>>16),R=A+(E^C^w)+O[2]+3299628645&4294967295,A=E+(R<<23&4294967295|R>>>9),R=w+(E^(A|~C))+O[0]+4096336452&4294967295,w=A+(R<<6&4294967295|R>>>26),R=C+(A^(w|~E))+O[7]+1126891415&4294967295,C=w+(R<<10&4294967295|R>>>22),R=E+(w^(C|~A))+O[14]+2878612391&4294967295,E=C+(R<<15&4294967295|R>>>17),R=A+(C^(E|~w))+O[5]+4237533241&4294967295,A=E+(R<<21&4294967295|R>>>11),R=w+(E^(A|~C))+O[12]+1700485571&4294967295,w=A+(R<<6&4294967295|R>>>26),R=C+(A^(w|~E))+O[3]+2399980690&4294967295,C=w+(R<<10&4294967295|R>>>22),R=E+(w^(C|~A))+O[10]+4293915773&4294967295,E=C+(R<<15&4294967295|R>>>17),R=A+(C^(E|~w))+O[1]+2240044497&4294967295,A=E+(R<<21&4294967295|R>>>11),R=w+(E^(A|~C))+O[8]+1873313359&4294967295,w=A+(R<<6&4294967295|R>>>26),R=C+(A^(w|~E))+O[15]+4264355552&4294967295,C=w+(R<<10&4294967295|R>>>22),R=E+(w^(C|~A))+O[6]+2734768916&4294967295,E=C+(R<<15&4294967295|R>>>17),R=A+(C^(E|~w))+O[13]+1309151649&4294967295,A=E+(R<<21&4294967295|R>>>11),R=w+(E^(A|~C))+O[4]+4149444226&4294967295,w=A+(R<<6&4294967295|R>>>26),R=C+(A^(w|~E))+O[11]+3174756917&4294967295,C=w+(R<<10&4294967295|R>>>22),R=E+(w^(C|~A))+O[2]+718787259&4294967295,E=C+(R<<15&4294967295|R>>>17),R=A+(C^(E|~w))+O[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(E+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,w){w===void 0&&(w=T.length);for(var A=w-this.blockSize,O=this.B,E=this.h,C=0;C<w;){if(E==0)for(;C<=A;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<w;)if(O[E++]=T.charCodeAt(C++),E==this.blockSize){i(this,O),E=0;break}}else for(;C<w;)if(O[E++]=T[C++],E==this.blockSize){i(this,O),E=0;break}}this.h=E,this.o+=w},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;var A=8*this.o;for(w=T.length-8;w<T.length;++w)T[w]=A&255,A/=256;for(this.u(T),T=Array(16),w=A=0;4>w;++w)for(var O=0;32>O;O+=8)T[A++]=this.g[w]>>>O&255;return T};function s(T,w){var A=a;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=w(T)}function o(T,w){this.h=w;for(var A=[],O=!0,E=T.length-1;0<=E;E--){var C=T[E]|0;O&&C==w||(A[E]=C,O=!1)}this.g=A}var a={};function l(T){return-128<=T&&128>T?s(T,function(w){return new o([w|0],0>w?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return b(c(-T));for(var w=[],A=1,O=0;T>=A;O++)w[O]=T/A|0,A*=4294967296;return new o(w,0)}function u(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return b(u(T.substring(1),w));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(w,8)),O=h,E=0;E<T.length;E+=8){var C=Math.min(8,T.length-E),R=parseInt(T.substring(E,E+C),w);8>C?(C=c(Math.pow(w,C)),O=O.j(C).add(c(R))):(O=O.j(A),O=O.add(c(R)))}return O}var h=l(0),f=l(1),d=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var T=0,w=1,A=0;A<this.g.length;A++){var O=this.i(A);T+=(0<=O?O:4294967296+O)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(p(this))return"0";if(y(this))return"-"+b(this).toString(T);for(var w=c(Math.pow(T,6)),A=this,O="";;){var E=I(A,w).g;A=v(A,E.j(w));var C=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=E,p(A))return C+O;for(;6>C.length;)C="0"+C;O=C+O}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function p(T){if(T.h!=0)return!1;for(var w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=v(this,T),y(T)?-1:p(T)?0:1};function b(T){for(var w=T.g.length,A=[],O=0;O<w;O++)A[O]=~T.g[O];return new o(A,~T.h).add(f)}t.abs=function(){return y(this)?b(this):this},t.add=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],O=0,E=0;E<=w;E++){var C=O+(this.i(E)&65535)+(T.i(E)&65535),R=(C>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);O=R>>>16,C&=65535,R&=65535,A[E]=R<<16|C}return new o(A,A[A.length-1]&-2147483648?-1:0)};function v(T,w){return T.add(b(w))}t.j=function(T){if(p(this)||p(T))return h;if(y(this))return y(T)?b(this).j(b(T)):b(b(this).j(T));if(y(T))return b(this.j(b(T)));if(0>this.l(d)&&0>T.l(d))return c(this.m()*T.m());for(var w=this.g.length+T.g.length,A=[],O=0;O<2*w;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(var E=0;E<T.g.length;E++){var C=this.i(O)>>>16,R=this.i(O)&65535,U=T.i(E)>>>16,te=T.i(E)&65535;A[2*O+2*E]+=R*te,x(A,2*O+2*E),A[2*O+2*E+1]+=C*te,x(A,2*O+2*E+1),A[2*O+2*E+1]+=R*U,x(A,2*O+2*E+1),A[2*O+2*E+2]+=C*U,x(A,2*O+2*E+2)}for(O=0;O<w;O++)A[O]=A[2*O+1]<<16|A[2*O];for(O=w;O<2*w;O++)A[O]=0;return new o(A,0)};function x(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function S(T,w){this.g=T,this.h=w}function I(T,w){if(p(w))throw Error("division by zero");if(p(T))return new S(h,h);if(y(T))return w=I(b(T),w),new S(b(w.g),b(w.h));if(y(w))return w=I(T,b(w)),new S(b(w.g),w.h);if(30<T.g.length){if(y(T)||y(w))throw Error("slowDivide_ only works with positive integers.");for(var A=f,O=w;0>=O.l(T);)A=M(A),O=M(O);var E=L(A,1),C=L(O,1);for(O=L(O,2),A=L(A,2);!p(O);){var R=C.add(O);0>=R.l(T)&&(E=E.add(A),C=R),O=L(O,1),A=L(A,1)}return w=v(T,E.j(w)),new S(E,w)}for(E=h;0<=T.l(w);){for(A=Math.max(1,Math.floor(T.m()/w.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),C=c(A),R=C.j(w);y(R)||0<R.l(T);)A-=O,C=c(A),R=C.j(w);p(C)&&(C=f),E=E.add(C),T=v(T,R)}return new S(E,T)}t.A=function(T){return I(this,T).h},t.and=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],O=0;O<w;O++)A[O]=this.i(O)&T.i(O);return new o(A,this.h&T.h)},t.or=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],O=0;O<w;O++)A[O]=this.i(O)|T.i(O);return new o(A,this.h|T.h)},t.xor=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],O=0;O<w;O++)A[O]=this.i(O)^T.i(O);return new o(A,this.h^T.h)};function M(T){for(var w=T.g.length+1,A=[],O=0;O<w;O++)A[O]=T.i(O)<<1|T.i(O-1)>>>31;return new o(A,T.h)}function L(T,w){var A=w>>5;w%=32;for(var O=T.g.length-A,E=[],C=0;C<O;C++)E[C]=0<w?T.i(C+A)>>>w|T.i(C+A+1)<<32-w:T.i(C+A);return new o(E,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,cu=o}).apply(typeof L6<"u"?L6:typeof self<"u"?self:typeof window<"u"?window:{});var z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AD,$g,ED,Uy,bS,PD,TD,CD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,k,B){return m==Array.prototype||m==Object.prototype||(m[k]=B.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof z1=="object"&&z1];for(var k=0;k<m.length;++k){var B=m[k];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function i(m,k){if(k)e:{var B=r;m=m.split(".");for(var Z=0;Z<m.length-1;Z++){var fe=m[Z];if(!(fe in B))break e;B=B[fe]}m=m[m.length-1],Z=B[m],k=k(Z),k!=Z&&k!=null&&e(B,m,{configurable:!0,writable:!0,value:k})}}function s(m,k){m instanceof String&&(m+="");var B=0,Z=!1,fe={next:function(){if(!Z&&B<m.length){var _e=B++;return{value:k(_e,m[_e]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}i("Array.prototype.values",function(m){return m||function(){return s(this,function(k,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(m){var k=typeof m;return k=k!="object"?k:m?Array.isArray(m)?"array":k:"null",k=="array"||k=="object"&&typeof m.length=="number"}function c(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function u(m,k,B){return m.call.apply(m.bind,arguments)}function h(m,k,B){if(!m)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,Z),m.apply(k,fe)}}return function(){return m.apply(k,arguments)}}function f(m,k,B){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function d(m,k){var B=Array.prototype.slice.call(arguments,1);return function(){var Z=B.slice();return Z.push.apply(Z,arguments),m.apply(this,Z)}}function p(m,k){function B(){}B.prototype=k.prototype,m.aa=k.prototype,m.prototype=new B,m.prototype.constructor=m,m.Qb=function(Z,fe,_e){for(var Ue=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Ue[xt-2]=arguments[xt];return k.prototype[fe].apply(Z,Ue)}}function y(m){const k=m.length;if(0<k){const B=Array(k);for(let Z=0;Z<k;Z++)B[Z]=m[Z];return B}return[]}function b(m,k){for(let B=1;B<arguments.length;B++){const Z=arguments[B];if(l(Z)){const fe=m.length||0,_e=Z.length||0;m.length=fe+_e;for(let Ue=0;Ue<_e;Ue++)m[fe+Ue]=Z[Ue]}else m.push(Z)}}class v{constructor(k,B){this.i=k,this.j=B,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function x(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function I(m){return I[" "](m),m}I[" "]=function(){};var M=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function L(m,k,B){for(const Z in m)k.call(B,m[Z],Z,m)}function T(m,k){for(const B in m)k.call(void 0,m[B],B,m)}function w(m){const k={};for(const B in m)k[B]=m[B];return k}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(m,k){let B,Z;for(let fe=1;fe<arguments.length;fe++){Z=arguments[fe];for(B in Z)m[B]=Z[B];for(let _e=0;_e<A.length;_e++)B=A[_e],Object.prototype.hasOwnProperty.call(Z,B)&&(m[B]=Z[B])}}function E(m){var k=1;m=m.split(":");const B=[];for(;0<k&&m.length;)B.push(m.shift()),k--;return m.length&&B.push(m.join(":")),B}function C(m){a.setTimeout(()=>{throw m},0)}function R(){var m=X;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class U{constructor(){this.h=this.g=null}add(k,B){const Z=te.get();Z.set(k,B),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var te=new v(()=>new z,m=>m.reset());class z{constructor(){this.next=this.g=this.h=null}set(k,B){this.h=k,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let V,W=!1,X=new U,re=()=>{const m=a.Promise.resolve(void 0);V=()=>{m.then(ye)}};var ye=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(B){C(B)}var k=te;k.j(m),100>k.h&&(k.h++,m.next=k.g,k.g=m)}W=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const B=()=>{};a.addEventListener("test",B,k),a.removeEventListener("test",B,k)}catch{}return m}();function J(m,k){if(Y.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var B=this.type=m.type,Z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget){if(M){e:{try{I(k.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(k=null)}}else B=="mouseover"?k=m.fromElement:B=="mouseout"&&(k=m.toElement);this.relatedTarget=k,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ae[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&J.aa.h.call(this)}}p(J,Y);var ae={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),ve=0;function le(m,k,B,Z,fe){this.listener=m,this.proxy=null,this.src=k,this.type=B,this.capture=!!Z,this.ha=fe,this.key=++ve,this.da=this.fa=!1}function Ae(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ee(m){this.src=m,this.g={},this.h=0}Ee.prototype.add=function(m,k,B,Z,fe){var _e=m.toString();m=this.g[_e],m||(m=this.g[_e]=[],this.h++);var Ue=Fe(m,k,Z,fe);return-1<Ue?(k=m[Ue],B||(k.fa=!1)):(k=new le(k,this.src,_e,!!Z,fe),k.fa=B,m.push(k)),k};function ge(m,k){var B=k.type;if(B in m.g){var Z=m.g[B],fe=Array.prototype.indexOf.call(Z,k,void 0),_e;(_e=0<=fe)&&Array.prototype.splice.call(Z,fe,1),_e&&(Ae(k),m.g[B].length==0&&(delete m.g[B],m.h--))}}function Fe(m,k,B,Z){for(var fe=0;fe<m.length;++fe){var _e=m[fe];if(!_e.da&&_e.listener==k&&_e.capture==!!B&&_e.ha==Z)return fe}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),we={};function se(m,k,B,Z,fe){if(Z&&Z.once)return Oe(m,k,B,Z,fe);if(Array.isArray(k)){for(var _e=0;_e<k.length;_e++)se(m,k[_e],B,Z,fe);return null}return B=gt(B),m&&m[pe]?m.K(k,B,c(Z)?!!Z.capture:!!Z,fe):Ge(m,k,B,!1,Z,fe)}function Ge(m,k,B,Z,fe,_e){if(!k)throw Error("Invalid event type");var Ue=c(fe)?!!fe.capture:!!fe,xt=Je(m);if(xt||(m[qe]=xt=new Ee(m)),B=xt.add(k,B,Z,Ue,_e),B.proxy)return B;if(Z=He(),B.proxy=Z,Z.src=m,Z.listener=B,m.addEventListener)Q||(fe=Ue),fe===void 0&&(fe=!1),m.addEventListener(k.toString(),Z,fe);else if(m.attachEvent)m.attachEvent($e(k.toString()),Z);else if(m.addListener&&m.removeListener)m.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return B}function He(){function m(B){return k.call(m.src,m.listener,B)}const k=Xe;return m}function Oe(m,k,B,Z,fe){if(Array.isArray(k)){for(var _e=0;_e<k.length;_e++)Oe(m,k[_e],B,Z,fe);return null}return B=gt(B),m&&m[pe]?m.L(k,B,c(Z)?!!Z.capture:!!Z,fe):Ge(m,k,B,!0,Z,fe)}function Be(m,k,B,Z,fe){if(Array.isArray(k))for(var _e=0;_e<k.length;_e++)Be(m,k[_e],B,Z,fe);else Z=c(Z)?!!Z.capture:!!Z,B=gt(B),m&&m[pe]?(m=m.i,k=String(k).toString(),k in m.g&&(_e=m.g[k],B=Fe(_e,B,Z,fe),-1<B&&(Ae(_e[B]),Array.prototype.splice.call(_e,B,1),_e.length==0&&(delete m.g[k],m.h--)))):m&&(m=Je(m))&&(k=m.g[k.toString()],m=-1,k&&(m=Fe(k,B,Z,fe)),(B=-1<m?k[m]:null)&&Ve(B))}function Ve(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[pe])ge(k.i,m);else{var B=m.type,Z=m.proxy;k.removeEventListener?k.removeEventListener(B,Z,m.capture):k.detachEvent?k.detachEvent($e(B),Z):k.addListener&&k.removeListener&&k.removeListener(Z),(B=Je(k))?(ge(B,m),B.h==0&&(B.src=null,k[qe]=null)):Ae(m)}}}function $e(m){return m in we?we[m]:we[m]="on"+m}function Xe(m,k){if(m.da)m=!0;else{k=new J(k,this);var B=m.listener,Z=m.ha||m.src;m.fa&&Ve(m),m=B.call(Z,k)}return m}function Je(m){return m=m[qe],m instanceof Ee?m:null}var lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(m){return typeof m=="function"?m:(m[lt]||(m[lt]=function(k){return m.handleEvent(k)}),m[lt])}function ht(){F.call(this),this.i=new Ee(this),this.M=this,this.F=null}p(ht,F),ht.prototype[pe]=!0,ht.prototype.removeEventListener=function(m,k,B,Z){Be(this,m,k,B,Z)};function ot(m,k){var B,Z=m.F;if(Z)for(B=[];Z;Z=Z.F)B.push(Z);if(m=m.M,Z=k.type||k,typeof k=="string")k=new Y(k,m);else if(k instanceof Y)k.target=k.target||m;else{var fe=k;k=new Y(Z,m),O(k,fe)}if(fe=!0,B)for(var _e=B.length-1;0<=_e;_e--){var Ue=k.g=B[_e];fe=at(Ue,Z,!0,k)&&fe}if(Ue=k.g=m,fe=at(Ue,Z,!0,k)&&fe,fe=at(Ue,Z,!1,k)&&fe,B)for(_e=0;_e<B.length;_e++)Ue=k.g=B[_e],fe=at(Ue,Z,!1,k)&&fe}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var m=this.i,k;for(k in m.g){for(var B=m.g[k],Z=0;Z<B.length;Z++)Ae(B[Z]);delete m.g[k],m.h--}}this.F=null},ht.prototype.K=function(m,k,B,Z){return this.i.add(String(m),k,!1,B,Z)},ht.prototype.L=function(m,k,B,Z){return this.i.add(String(m),k,!0,B,Z)};function at(m,k,B,Z){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();for(var fe=!0,_e=0;_e<k.length;++_e){var Ue=k[_e];if(Ue&&!Ue.da&&Ue.capture==B){var xt=Ue.listener,nn=Ue.ha||Ue.src;Ue.fa&&ge(m.i,Ue),fe=xt.call(nn,Z)!==!1&&fe}}return fe&&!Z.defaultPrevented}function ut(m,k,B){if(typeof m=="function")B&&(m=f(m,B));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:a.setTimeout(m,k||0)}function We(m){m.g=ut(()=>{m.g=null,m.i&&(m.i=!1,We(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class Yt extends F{constructor(k,B){super(),this.m=k,this.l=B,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(m){F.call(this),this.h=m,this.g={}}p(wt,F);var An=[];function kt(m){L(m.g,function(k,B){this.g.hasOwnProperty(B)&&Ve(k)},m),m.g={}}wt.prototype.N=function(){wt.aa.N.call(this),kt(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ht=a.JSON.stringify,Bi=a.JSON.parse,Mt=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Ui(){}Ui.prototype.h=null;function Xt(m){return m.h||(m.h=m.i())}function ri(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vt(){Y.call(this,"d")}p(Vt,Y);function ft(){Y.call(this,"c")}p(ft,Y);var Et={},fs=null;function Jt(){return fs=fs||new ht}Et.La="serverreachability";function Zn(m){Y.call(this,Et.La,m)}p(Zn,Y);function ii(m){const k=Jt();ot(k,new Zn(k))}Et.STAT_EVENT="statevent";function dt(m,k){Y.call(this,Et.STAT_EVENT,m),this.stat=k}p(dt,Y);function fn(m){const k=Jt();ot(k,new dt(k,m))}Et.Ma="timingevent";function ds(m,k){Y.call(this,Et.Ma,m),this.size=k}p(ds,Y);function hr(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},k)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Hn(m,k,B,Z,fe,_e){m.info(function(){if(m.g)if(_e)for(var Ue="",xt=_e.split("&"),nn=0;nn<xt.length;nn++){var St=xt[nn].split("=");if(1<St.length){var dn=St[0];St=St[1];var er=dn.split("_");Ue=2<=er.length&&er[1]=="type"?Ue+(dn+"="+St+"&"):Ue+(dn+"=redacted&")}}else Ue=null;else Ue=_e;return"XMLHTTP REQ ("+Z+") [attempt "+fe+"]: "+k+`
`+B+`
`+Ue})}function Pi(m,k,B,Z,fe,_e,Ue){m.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+fe+"]: "+k+`
`+B+`
`+_e+" "+Ue})}function ps(m,k,B,Z){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+gs(m,B)+(Z?" "+Z:"")})}function Eo(m,k){m.info(function(){return"TIMEOUT: "+k})}En.prototype.info=function(){};function gs(m,k){if(!m.g)return k;if(!k)return null;try{var B=JSON.parse(k);if(B){for(m=0;m<B.length;m++)if(Array.isArray(B[m])){var Z=B[m];if(!(2>Z.length)){var fe=Z[1];if(Array.isArray(fe)&&!(1>fe.length)){var _e=fe[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var Ue=1;Ue<fe.length;Ue++)fe[Ue]=""}}}}return Ht(B)}catch{return k}}var si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zi;function qr(){}p(qr,Ui),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},zi=new qr;function _r(m,k,B,Z){this.j=m,this.i=k,this.l=B,this.R=Z||1,this.U=new wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new la}function la(){this.i=null,this.g="",this.h=!1}var Ka={},ca={};function ua(m,k,B){m.L=1,m.v=ic(qi(k)),m.m=B,m.P=!0,Ga(m,null)}function Ga(m,k){m.F=Date.now(),ec(m),m.A=qi(m.v);var B=m.A,Z=m.R;Array.isArray(Z)||(Z=[String(Z)]),Mf(B.i,"t",Z),m.C=0,B=m.j.J,m.h=new la,m.g=oe(m.j,B?k:null,!m.m),0<m.O&&(m.M=new Yt(f(m.Y,m,m.g),m.O)),k=m.U,B=m.g,Z=m.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(An[0]=fe.toString()),fe=An);for(var _e=0;_e<fe.length;_e++){var Ue=se(B,fe[_e],Z||k.handleEvent,!1,k.h||k);if(!Ue)break;k.g[Ue.key]=Ue}k=m.H?w(m.H):{},m.m?(m.u||(m.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,k)):(m.u="GET",m.g.ea(m.A,m.u,null,k)),ii(),Hn(m.i,m.u,m.A,m.l,m.R,m.m)}_r.prototype.ca=function(m){m=m.target;const k=this.M;k&&bs(m)==3?k.j():this.Y(m)},_r.prototype.Y=function(m){try{if(m==this.g)e:{const er=bs(this.g);var k=this.g.Ba();const Gs=this.g.Z();if(!(3>er)&&(er!=3||this.g&&(this.h.h||this.g.oa()||No(this.g)))){this.J||er!=4||k==7||(k==8||0>=Gs?ii(3):ii(2)),tc(this);var B=this.g.Z();this.X=B;t:if(Uu(this)){var Z=No(this.g);m="";var fe=Z.length,_e=bs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ms(this),Xa(this);var Ue="";break t}this.h.i=new a.TextDecoder}for(k=0;k<fe;k++)this.h.h=!0,m+=this.h.i.decode(Z[k],{stream:!(_e&&k==fe-1)});Z.length=0,this.h.g+=m,this.C=0,Ue=this.h.g}else Ue=this.g.oa();if(this.o=B==200,Pi(this.i,this.u,this.A,this.l,this.R,er,B),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,nn=this.g;if((xt=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(xt)){var St=xt;break t}}St=null}if(B=St)ps(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vu(this,B);else{this.o=!1,this.s=3,fn(12),ms(this),Xa(this);break e}}if(this.P){B=!0;let Hr;for(;!this.J&&this.C<Ue.length;)if(Hr=Yp(this,Ue),Hr==ca){er==4&&(this.s=4,fn(14),B=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Hr==Ka){this.s=4,fn(15),ps(this.i,this.l,Ue,"[Invalid Chunk]"),B=!1;break}else ps(this.i,this.l,Hr,null),Vu(this,Hr);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),er!=4||Ue.length!=0||this.h.h||(this.s=1,fn(16),B=!1),this.o=this.o&&B,!B)ps(this.i,this.l,Ue,"[Invalid Chunked Response]"),ms(this),Xa(this);else if(0<Ue.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+Ue.length),Zu(dn),dn.M=!0,fn(11))}}else ps(this.i,this.l,Ue,null),Vu(this,Ue);er==4&&ms(this),this.o&&!this.J&&(er==4?pc(this.j,this):(this.o=!1,ec(this)))}else ws(this.g),B==400&&0<Ue.indexOf("Unknown SID")?(this.s=3,fn(12)):(this.s=0,fn(13)),ms(this),Xa(this)}}}catch{}finally{}};function Uu(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Yp(m,k){var B=m.C,Z=k.indexOf(`
`,B);return Z==-1?ca:(B=Number(k.substring(B,Z)),isNaN(B)?Ka:(Z+=1,Z+B>k.length?ca:(k=k.slice(Z,Z+B),m.C=Z+B,k)))}_r.prototype.cancel=function(){this.J=!0,ms(this)};function ec(m){m.S=Date.now()+m.I,Ya(m,m.I)}function Ya(m,k){if(m.B!=null)throw Error("WatchDog timer not null");m.B=hr(f(m.ba,m),k)}function tc(m){m.B&&(a.clearTimeout(m.B),m.B=null)}_r.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Eo(this.i,this.A),this.L!=2&&(ii(),fn(17)),ms(this),this.s=2,Xa(this)):Ya(this,this.S-m)};function Xa(m){m.j.G==0||m.J||pc(m.j,m)}function ms(m){tc(m);var k=m.M;k&&typeof k.ma=="function"&&k.ma(),m.M=null,kt(m.U),m.g&&(k=m.g,m.g=null,k.abort(),k.ma())}function Vu(m,k){try{var B=m.j;if(B.G!=0&&(B.g==m||Pn(B.h,m))){if(!m.K&&Pn(B.h,m)&&B.G==3){try{var Z=B.Da.g.parse(k)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var fe=Z;if(fe[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<m.F)Ks(B),ko(B);else break e;dc(B),fn(18)}}else B.za=fe[1],0<B.za-B.T&&37500>fe[2]&&B.F&&B.v==0&&!B.C&&(B.C=hr(f(B.Za,B),6e3));if(1>=kf(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else _s(B,11)}else if((m.K||B.g==m)&&Ks(B),!x(k))for(fe=B.Da.g.parse(k),k=0;k<fe.length;k++){let St=fe[k];if(B.T=St[0],St=St[1],B.G==2)if(St[0]=="c"){B.K=St[1],B.ia=St[2];const dn=St[3];dn!=null&&(B.la=dn,B.j.info("VER="+B.la));const er=St[4];er!=null&&(B.Aa=er,B.j.info("SVER="+B.Aa));const Gs=St[5];Gs!=null&&typeof Gs=="number"&&0<Gs&&(Z=1.5*Gs,B.L=Z,B.j.info("backChannelRequestTimeoutMs_="+Z)),Z=B;const Hr=m.g;if(Hr){const Ro=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ro){var _e=Z.h;_e.g||Ro.indexOf("spdy")==-1&&Ro.indexOf("quic")==-1&&Ro.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(nc(_e,_e.h),_e.h=null))}if(Z.D){const nl=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(Z.ya=nl,Zt(Z.I,Z.D,nl))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-m.F,B.j.info("Handshake RTT: "+B.R+"ms")),Z=B;var Ue=m;if(Z.qa=$(Z,Z.J?Z.ia:null,Z.W),Ue.K){zu(Z.h,Ue);var xt=Ue,nn=Z.L;nn&&(xt.I=nn),xt.B&&(tc(xt),ec(xt)),Z.g=Ue}else fc(Z);0<B.i.length&&da(B)}else St[0]!="stop"&&St[0]!="close"||_s(B,7);else B.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?_s(B,7):Xu(B):St[0]!="noop"&&B.l&&B.l.ta(St),B.v=0)}}ii(4)}catch{}}var Nf=class{constructor(m,k){this.g=m,this.map=k}};function If(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qa(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function kf(m){return m.h?1:m.g?m.g.size:0}function Pn(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function nc(m,k){m.g?m.g.add(k):m.h=k}function zu(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}If.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function $u(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const B of m.g.values())k=k.concat(B.D);return k}return y(m.i)}function qu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var k=[],B=m.length,Z=0;Z<B;Z++)k.push(m[Z]);return k}k=[],B=0;for(Z in m)k[B++]=m[Z];return k}function Xp(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var k=[];m=m.length;for(var B=0;B<m;B++)k.push(B);return k}k=[],B=0;for(const Z in m)k[B++]=Z;return k}}}function $i(m,k){if(m.forEach&&typeof m.forEach=="function")m.forEach(k,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,k,void 0);else for(var B=Xp(m),Z=qu(m),fe=Z.length,_e=0;_e<fe;_e++)k.call(void 0,Z[_e],B&&B[_e],m)}var Ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oi(m,k){if(m){m=m.split("&");for(var B=0;B<m.length;B++){var Z=m[B].indexOf("="),fe=null;if(0<=Z){var _e=m[B].substring(0,Z);fe=m[B].substring(Z+1)}else _e=m[B];k(_e,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function ys(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ys){this.h=m.h,rc(this,m.j),this.o=m.o,this.g=m.g,Za(this,m.s),this.l=m.l;var k=m.i,B=new Wn;B.i=k.i,k.g&&(B.g=new Map(k.g),B.h=k.h),Of(this,B),this.m=m.m}else m&&(k=String(m).match(Ja))?(this.h=!1,rc(this,k[1]||"",!0),this.o=Po(k[2]||""),this.g=Po(k[3]||"",!0),Za(this,k[4]),this.l=Po(k[5]||"",!0),Of(this,k[6]||"",!0),this.m=Po(k[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}ys.prototype.toString=function(){var m=[],k=this.j;k&&m.push(el(k,Rf,!0),":");var B=this.g;return(B||k=="file")&&(m.push("//"),(k=this.o)&&m.push(el(k,Rf,!0),"@"),m.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&m.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&m.push("/"),m.push(el(B,B.charAt(0)=="/"?sc:To,!0))),(B=this.i.toString())&&m.push("?",B),(B=this.m)&&m.push("#",el(B,Lf)),m.join("")};function qi(m){return new ys(m)}function rc(m,k,B){m.j=B?Po(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function Za(m,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);m.s=k}else m.s=null}function Of(m,k,B){k instanceof Wn?(m.i=k,qs(m.i,m.h)):(B||(k=el(k,oc)),m.i=new Wn(k,m.h))}function Zt(m,k,B){m.i.set(k,B)}function ic(m){return Zt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Po(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function el(m,k,B){return typeof m=="string"?(m=encodeURI(m).replace(k,Qp),B&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Qp(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Rf=/[#\/\?@]/g,To=/[#\?:]/g,sc=/[#\?]/g,oc=/[#\?@]/g,Lf=/#/g;function Wn(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function $s(m){m.g||(m.g=new Map,m.h=0,m.i&&oi(m.i,function(k,B){m.add(decodeURIComponent(k.replace(/\+/g," ")),B)}))}t=Wn.prototype,t.add=function(m,k){$s(this),this.i=null,m=ha(this,m);var B=this.g.get(m);return B||this.g.set(m,B=[]),B.push(k),this.h+=1,this};function Hu(m,k){$s(m),k=ha(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function _t(m,k){return $s(m),k=ha(m,k),m.g.has(k)}t.forEach=function(m,k){$s(this),this.g.forEach(function(B,Z){B.forEach(function(fe){m.call(k,fe,Z,this)},this)},this)},t.na=function(){$s(this);const m=Array.from(this.g.values()),k=Array.from(this.g.keys()),B=[];for(let Z=0;Z<k.length;Z++){const fe=m[Z];for(let _e=0;_e<fe.length;_e++)B.push(k[Z])}return B},t.V=function(m){$s(this);let k=[];if(typeof m=="string")_t(this,m)&&(k=k.concat(this.g.get(ha(this,m))));else{m=Array.from(this.g.values());for(let B=0;B<m.length;B++)k=k.concat(m[B])}return k},t.set=function(m,k){return $s(this),this.i=null,m=ha(this,m),_t(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},t.get=function(m,k){return m?(m=this.V(m),0<m.length?String(m[0]):k):k};function Mf(m,k,B){Hu(m,k),0<B.length&&(m.i=null,m.g.set(ha(m,k),y(B)),m.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(var B=0;B<k.length;B++){var Z=k[B];const _e=encodeURIComponent(String(Z)),Ue=this.V(Z);for(Z=0;Z<Ue.length;Z++){var fe=_e;Ue[Z]!==""&&(fe+="="+encodeURIComponent(String(Ue[Z]))),m.push(fe)}}return this.i=m.join("&")};function ha(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function qs(m,k){k&&!m.j&&($s(m),m.i=null,m.g.forEach(function(B,Z){var fe=Z.toLowerCase();Z!=fe&&(Hu(this,Z),Mf(this,fe,B))},m)),m.j=k}function Df(m,k){const B=new En;if(a.Image){const Z=new Image;Z.onload=d(Ti,B,"TestLoadImage: loaded",!0,k,Z),Z.onerror=d(Ti,B,"TestLoadImage: error",!1,k,Z),Z.onabort=d(Ti,B,"TestLoadImage: abort",!1,k,Z),Z.ontimeout=d(Ti,B,"TestLoadImage: timeout",!1,k,Z),a.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=m}else k(!1)}function jf(m,k){const B=new En,Z=new AbortController,fe=setTimeout(()=>{Z.abort(),Ti(B,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:Z.signal}).then(_e=>{clearTimeout(fe),_e.ok?Ti(B,"TestPingServer: ok",!0,k):Ti(B,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(fe),Ti(B,"TestPingServer: error",!1,k)})}function Ti(m,k,B,Z,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),Z(B)}catch{}}function Wu(){this.g=new Mt}function Jp(m,k,B){const Z=B||"";try{$i(m,function(fe,_e){let Ue=fe;c(fe)&&(Ue=Ht(fe)),k.push(Z+_e+"="+encodeURIComponent(Ue))})}catch(fe){throw k.push(Z+"type="+encodeURIComponent("_badmap")),fe}}function ac(m){this.l=m.Ub||null,this.j=m.eb||!1}p(ac,Ui),ac.prototype.g=function(){return new lc(this.l,this.j)},ac.prototype.i=function(m){return function(){return m}}({});function lc(m,k){ht.call(this),this.D=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(lc,ht),t=lc.prototype,t.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=k,this.readyState=1,Hi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(k.body=m),(this.D||a).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function cc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?vs(this):Hi(this),this.readyState==3&&cc(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,vs(this))},t.Qa=function(m){this.g&&(this.response=m,vs(this))},t.ga=function(){this.g&&vs(this)};function vs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Hi(m)}t.setRequestHeader=function(m,k){this.u.append(m,k)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var B=k.next();!B.done;)B=B.value,m.push(B[0]+": "+B[1]),B=k.next();return m.join(`\r
`)};function Hi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ff(m){let k="";return L(m,function(B,Z){k+=Z,k+=":",k+=B,k+=`\r
`}),k}function Co(m,k,B){e:{for(Z in B){var Z=!1;break e}Z=!0}Z||(B=Ff(B),typeof m=="string"?B!=null&&encodeURIComponent(String(B)):Zt(m,k,B))}function un(m){ht.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(un,ht);var uc=/^https?$/i,Bf=["POST","PUT"];t=un.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,k,B,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zi.g(),this.v=this.o?Xt(this.o):Xt(zi),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(_e){Ku(this,_e);return}if(m=B||"",B=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var fe in Z)B.set(fe,Z[fe]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const _e of Z.keys())B.set(_e,Z.get(_e));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(B.keys()).find(_e=>_e.toLowerCase()=="content-type"),fe=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bf,k,void 0))||Z||fe||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Ue]of B)this.g.setRequestHeader(_e,Ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(m),this.u=!1}catch(_e){Ku(this,_e)}};function Ku(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.m=5,Gu(m),Ci(m)}function Gu(m){m.A||(m.A=!0,ot(m,"complete"),ot(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ot(this,"complete"),ot(this,"abort"),Ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),un.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yu(this):this.bb())},t.bb=function(){Yu(this)};function Yu(m){if(m.h&&typeof o<"u"&&(!m.v[1]||bs(m)!=4||m.Z()!=2)){if(m.u&&bs(m)==4)ut(m.Ea,0,m);else if(ot(m,"readystatechange"),bs(m)==4){m.h=!1;try{const Ue=m.Z();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var B;if(!(B=k)){var Z;if(Z=Ue===0){var fe=String(m.D).match(Ja)[1]||null;!fe&&a.self&&a.self.location&&(fe=a.self.location.protocol.slice(0,-1)),Z=!uc.test(fe?fe.toLowerCase():"")}B=Z}if(B)ot(m,"complete"),ot(m,"success");else{m.m=6;try{var _e=2<bs(m)?m.g.statusText:""}catch{_e=""}m.l=_e+" ["+m.Z()+"]",Gu(m)}}finally{Ci(m)}}}}function Ci(m,k){if(m.g){Hs(m);const B=m.g,Z=m.v[0]?()=>{}:null;m.g=null,m.v=null,k||ot(m,"ready");try{B.onreadystatechange=Z}catch{}}}function Hs(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function bs(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<bs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),Bi(k)}};function No(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(m){const k={};m=(m.g&&2<=bs(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<m.length;Z++){if(x(m[Z]))continue;var B=E(m[Z]);const fe=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const _e=k[fe]||[];k[fe]=_e,_e.push(B)}T(k,function(Z){return Z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Io(m,k,B){return B&&B.internalChannelParams&&B.internalChannelParams[m]||k}function fa(m){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Io("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Io("baseRetryDelayMs",5e3,m),this.cb=Io("retryDelaySeedMs",1e4,m),this.Wa=Io("forwardChannelMaxRetries",2,m),this.wa=Io("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new If(m&&m.concurrentRequestLimit),this.Da=new Wu,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fa.prototype,t.la=8,t.G=1,t.connect=function(m,k,B,Z){fn(0),this.W=m,this.H=k||{},B&&Z!==void 0&&(this.H.OSID=B,this.H.OAID=Z),this.F=this.X,this.I=$(this,null,this.W),da(this)};function Xu(m){if(Uf(m),m.G==3){var k=m.U++,B=qi(m.I);if(Zt(B,"SID",m.K),Zt(B,"RID",k),Zt(B,"TYPE","terminate"),Ws(m,B),k=new _r(m,m.j,k),k.L=2,k.v=ic(qi(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(k.v.toString(),"")}catch{}!B&&a.Image&&(new Image().src=k.v,B=!0),B||(k.g=oe(k.j,null),k.g.ea(k.v)),k.F=Date.now(),ec(k)}P(m)}function ko(m){m.g&&(Zu(m),m.g.cancel(),m.g=null)}function Uf(m){ko(m),m.u&&(a.clearTimeout(m.u),m.u=null),Ks(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function da(m){if(!Qa(m.h)&&!m.s){m.s=!0;var k=m.Ga;V||re(),W||(V(),W=!0),X.add(k,m),m.B=0}}function Qu(m,k){return kf(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=k.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=hr(f(m.Ga,m,k),Oo(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const fe=new _r(this,this.j,m);let _e=this.o;if(this.S&&(_e?(_e=w(_e),O(_e,this.S)):_e=this.S),this.m!==null||this.O||(fe.H=_e,_e=null),this.P)e:{for(var k=0,B=0;B<this.i.length;B++){t:{var Z=this.i[B];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(k+=Z,4096<k){k=B;break e}if(k===4096||B===this.i.length-1){k=B+1;break e}}k=1e3}else k=1e3;k=hc(this,fe,k),B=qi(this.I),Zt(B,"RID",m),Zt(B,"CVER",22),this.D&&Zt(B,"X-HTTP-Session-Id",this.D),Ws(this,B),_e&&(this.O?k="headers="+encodeURIComponent(String(Ff(_e)))+"&"+k:this.m&&Co(B,this.m,_e)),nc(this.h,fe),this.Ua&&Zt(B,"TYPE","init"),this.P?(Zt(B,"$req",k),Zt(B,"SID","null"),fe.T=!0,ua(fe,B,null)):ua(fe,B,k),this.G=2}}else this.G==3&&(m?Ju(this,m):this.i.length==0||Qa(this.h)||Ju(this))};function Ju(m,k){var B;k?B=k.l:B=m.U++;const Z=qi(m.I);Zt(Z,"SID",m.K),Zt(Z,"RID",B),Zt(Z,"AID",m.T),Ws(m,Z),m.m&&m.o&&Co(Z,m.m,m.o),B=new _r(m,m.j,B,m.B+1),m.m===null&&(B.H=m.o),k&&(m.i=k.D.concat(m.i)),k=hc(m,B,1e3),B.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),nc(m.h,B),ua(B,Z,k)}function Ws(m,k){m.H&&L(m.H,function(B,Z){Zt(k,Z,B)}),m.l&&$i({},function(B,Z){Zt(k,Z,B)})}function hc(m,k,B){B=Math.min(m.i.length,B);var Z=m.l?f(m.l.Na,m.l,m):null;e:{var fe=m.i;let _e=-1;for(;;){const Ue=["count="+B];_e==-1?0<B?(_e=fe[0].g,Ue.push("ofs="+_e)):_e=0:Ue.push("ofs="+_e);let xt=!0;for(let nn=0;nn<B;nn++){let St=fe[nn].g;const dn=fe[nn].map;if(St-=_e,0>St)_e=Math.max(0,fe[nn].g-100),xt=!1;else try{Jp(dn,Ue,"req"+St+"_")}catch{Z&&Z(dn)}}if(xt){Z=Ue.join("&");break e}}}return m=m.i.splice(0,B),k.D=m,Z}function fc(m){if(!m.g&&!m.u){m.Y=1;var k=m.Fa;V||re(),W||(V(),W=!0),X.add(k,m),m.v=0}}function dc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=hr(f(m.Fa,m),Oo(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,tl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=hr(f(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fn(10),ko(this),tl(this))};function Zu(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function tl(m){m.g=new _r(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var k=qi(m.qa);Zt(k,"RID","rpc"),Zt(k,"SID",m.K),Zt(k,"AID",m.T),Zt(k,"CI",m.F?"0":"1"),!m.F&&m.ja&&Zt(k,"TO",m.ja),Zt(k,"TYPE","xmlhttp"),Ws(m,k),m.m&&m.o&&Co(k,m.m,m.o),m.L&&(m.g.I=m.L);var B=m.g;m=m.ia,B.L=1,B.v=ic(qi(k)),B.m=null,B.P=!0,Ga(B,m)}t.Za=function(){this.C!=null&&(this.C=null,ko(this),dc(this),fn(19))};function Ks(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function pc(m,k){var B=null;if(m.g==k){Ks(m),Zu(m),m.g=null;var Z=2}else if(Pn(m.h,k))B=k.D,zu(m.h,k),Z=1;else return;if(m.G!=0){if(k.o)if(Z==1){B=k.m?k.m.length:0,k=Date.now()-k.F;var fe=m.B;Z=Jt(),ot(Z,new ds(Z,B)),da(m)}else fc(m);else if(fe=k.s,fe==3||fe==0&&0<k.X||!(Z==1&&Qu(m,k)||Z==2&&dc(m)))switch(B&&0<B.length&&(k=m.h,k.i=k.i.concat(B)),fe){case 1:_s(m,5);break;case 4:_s(m,10);break;case 3:_s(m,6);break;default:_s(m,2)}}}function Oo(m,k){let B=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(B*=2),B*k}function _s(m,k){if(m.j.info("Error code "+k),k==2){var B=f(m.fb,m),Z=m.Xa;const fe=!Z;Z=new ys(Z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||rc(Z,"https"),ic(Z),fe?Df(Z.toString(),B):jf(Z.toString(),B)}else fn(2);m.G=0,m.l&&m.l.sa(k),P(m),Uf(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function P(m){if(m.G=0,m.ka=[],m.l){const k=$u(m.h);(k.length!=0||m.i.length!=0)&&(b(m.ka,k),b(m.ka,m.i),m.h.i.length=0,y(m.i),m.i.length=0),m.l.ra()}}function $(m,k,B){var Z=B instanceof ys?qi(B):new ys(B);if(Z.g!="")k&&(Z.g=k+"."+Z.g),Za(Z,Z.s);else{var fe=a.location;Z=fe.protocol,k=k?k+"."+fe.hostname:fe.hostname,fe=+fe.port;var _e=new ys(null);Z&&rc(_e,Z),k&&(_e.g=k),fe&&Za(_e,fe),B&&(_e.l=B),Z=_e}return B=m.D,k=m.ya,B&&k&&Zt(Z,B,k),Zt(Z,"VER",m.la),Ws(m,Z),Z}function oe(m,k,B){if(k&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Ca&&!m.pa?new un(new ac({eb:B})):new un(m.pa),k.Ha(m.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ce(){}t=ce.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function be(){}be.prototype.g=function(m,k){return new Pe(m,k)};function Pe(m,k){ht.call(this),this.g=new fa(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(m?m["X-WebChannel-Client-Profile"]=k.va:m={"X-WebChannel-Client-Profile":k.va}),this.g.S=m,(m=k&&k.Sb)&&!x(m)&&(this.g.m=m),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!x(k)&&(this.g.D=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new st(this)}p(Pe,ht),Pe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pe.prototype.close=function(){Xu(this.g)},Pe.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var B={};B.__data__=m,m=B}else this.u&&(B={},B.__data__=Ht(m),m=B);k.i.push(new Nf(k.Ya++,m)),k.G==3&&da(k)},Pe.prototype.N=function(){this.g.l=null,delete this.j,Xu(this.g),delete this.g,Pe.aa.N.call(this)};function je(m){Vt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const B in k){m=B;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}p(je,Vt);function Ze(){ft.call(this),this.status=1}p(Ze,ft);function st(m){this.g=m}p(st,ce),st.prototype.ua=function(){ot(this.g,"a")},st.prototype.ta=function(m){ot(this.g,new je(m))},st.prototype.sa=function(m){ot(this.g,new Ze)},st.prototype.ra=function(){ot(this.g,"b")},be.prototype.createWebChannel=be.prototype.g,Pe.prototype.send=Pe.prototype.o,Pe.prototype.open=Pe.prototype.m,Pe.prototype.close=Pe.prototype.close,CD=function(){return new be},TD=function(){return Jt()},PD=Et,bS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},si.NO_ERROR=0,si.TIMEOUT=8,si.HTTP_ERROR=6,Uy=si,Vi.COMPLETE="complete",ED=Vi,ri.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ht.prototype.listen=ht.prototype.K,$g=ri,un.prototype.listenOnce=un.prototype.L,un.prototype.getLastError=un.prototype.Ka,un.prototype.getLastErrorCode=un.prototype.Ba,un.prototype.getStatus=un.prototype.Z,un.prototype.getResponseJson=un.prototype.Oa,un.prototype.getResponseText=un.prototype.oa,un.prototype.send=un.prototype.ea,un.prototype.setWithCredentials=un.prototype.Ha,AD=un}).apply(typeof z1<"u"?z1:typeof self<"u"?self:typeof window<"u"?window:{});const M6="@firebase/firestore",D6="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new uE("@firebase/firestore");function ad(){return vu.logLevel}function CY(t){vu.setLogLevel(t)}function tt(t,...e){if(vu.logLevel<=jt.DEBUG){const n=e.map(dE);vu.debug(`Firestore (${kp}): ${t}`,...n)}}function Dl(t,...e){if(vu.logLevel<=jt.ERROR){const n=e.map(dE);vu.error(`Firestore (${kp}): ${t}`,...n)}}function ip(t,...e){if(vu.logLevel<=jt.WARN){const n=e.map(dE);vu.warn(`Firestore (${kp}): ${t}`,...n)}}function dE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ND(t,r,n)}function ND(t,e,n){let r=`FIRESTORE (${kp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Dl(r),new Error(r)}function tn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ND(e,i,r)}function Tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends qa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mi.UNAUTHENTICATED))}shutdown(){}}class IY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kY{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Tl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tn(typeof r.accessToken=="string",31837,{l:r}),new ID(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string",2055,{h:e}),new mi(e)}}class OY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LY{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tn(this.o===void 0,3512);const r=s=>{s.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,tt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new j6(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=MY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ft(t,e){return t<e?-1:t>e?1:0}function wS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return a_(i)===a_(s)?Ft(i,s):a_(i)?1:-1}return Ft(t.length,e.length)}const DY=55296,jY=57343;function a_(t){const e=t.charCodeAt(0);return e>=DY&&e<=jY}function sp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="__name__";class _a{constructor(e,n,r){n===void 0?n=0:n>e.length&&bt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&bt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _a.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _a?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=_a.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ft(e.length,n.length)}static compareSegments(e,n){const r=_a.isNumericId(e),i=_a.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_a.extractNumericId(e).compare(_a.extractNumericId(n)):wS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cu.fromString(e.substring(4,e.length-2))}}class mn extends _a{construct(e,n,r){return new mn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mn(n)}static emptyPath(){return new mn([])}}const FY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends _a{construct(e,n,r){return new Jr(e,n,r)}static isValidIdentifier(e){return FY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F6}static keyField(){return new Jr([F6])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ke(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ke(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ke(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jr(n)}static emptyPath(){return new Jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(mn.fromString(e))}static fromName(e){return new ct(mn.fromString(e).popFirst(5))}static empty(){return new ct(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new mn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e,n){if(!n)throw new Ke(Ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BY(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B6(t){if(!ct.isDocumentKey(t))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function U6(t){if(ct.isDocumentKey(t))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":bt(12329,{type:typeof t})}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pb(t);throw new Ke(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function UY(t,e){if(e<=0)throw new Ke(Ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){const n={typeString:t};return e&&(n.value=e),n}function S0(t,e){if(!OD(t))throw new Ke(Ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ke(Ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=-62135596800,z6=1e6;class Nn{static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*z6);return new Nn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V6)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(S0(e,Nn._jsonSchema))return new Nn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V6;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nn._jsonSchemaVersion="firestore/timestamp/1.0",Nn._jsonSchema={type:yr("string",Nn._jsonSchemaVersion),seconds:yr("number"),nanoseconds:yr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new Nn(0,0))}static max(){return new At(new Nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=-1;function VY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=At.fromTimestamp(r===1e9?new Nn(n+1,0):new Nn(n,r));return new bu(i,ct.empty(),e)}function zY(t){return new bu(t.readTime,t.key,zm)}class bu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bu(At.min(),ct.empty(),zm)}static max(){return new bu(At.max(),ct.empty(),zm)}}function $Y(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ct.comparator(t.documentKey,e.documentKey),n!==0?n:Ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t){if(t.code!==Ie.FAILED_PRECONDITION||t.message!==qY)throw t;tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Me((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.reject(n)}static resolve(e){return new Me((n,r)=>{n(e)})}static reject(e){return new Me((n,r)=>{r(e)})}static waitFor(e){return new Me((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Me.resolve(!1);for(const r of e)n=n.next(i=>i?Me.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Me((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new Me((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function WY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tb.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=-1;function Cb(t){return t==null}function Bv(t){return t===0&&1/t==-1/0}function KY(t){return typeof t=="number"&&Number.isInteger(t)&&!Bv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="";function GY(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$6(e)),e=YY(t.get(n),e);return $6(e)}function YY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case RD:n+="";break;default:n+=s}}return n}function $6(t){return t+RD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){this.comparator=e,this.root=n||Xr.EMPTY}insert(e,n){return new zn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $1(this.root,e,this.comparator,!1)}getReverseIterator(){return new $1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $1(this.root,e,this.comparator,!0)}}class $1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xr.RED,this.left=i??Xr.EMPTY,this.right=s??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Xr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1;Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Xr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.comparator=e,this.data=new zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H6(this.data.getIterator())}getIteratorFrom(e){return new H6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tr(this.comparator);return n.data=e,n}}class H6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.fields=e,e.sort(Jr.comparator)}static empty(){return new ks([])}unionWith(e){let n=new Tr(Jr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ks(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new MD("Invalid base64 string: "+s):s}}(e);return new ti(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ti(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const XY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wu(t){if(tn(!!t,39018),typeof t=="string"){let e=0;const n=XY.exec(t);if(tn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rr(t.seconds),nanos:rr(t.nanos)}}function rr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _u(t){return typeof t=="string"?ti.fromBase64String(t):ti.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="server_timestamp",jD="__type__",FD="__previous_value__",BD="__local_write_time__";function Nb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jD])==null?void 0:r.stringValue)===DD}function Ib(t){const e=t.mapValue.fields[FD];return Nb(e)?Ib(e):e}function $m(t){const e=wu(t.mapValue.fields[BD].timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e,n,r,i,s,o,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Uv="(default)";class qm{constructor(e,n){this.projectId=e,this.database=n||Uv}static empty(){return new qm("","")}get isDefaultDatabase(){return this.database===Uv}isEqual(e){return e instanceof qm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__type__",VD="__max__",q1={mapValue:{fields:{__type__:{stringValue:VD}}}},zD="__vector__",Vv="value";function xu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nb(t)?4:ZY(t)?9007199254740991:JY(t)?10:11:bt(28295,{value:t})}function Ua(t,e){if(t===e)return!0;const n=xu(t);if(n!==xu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $m(t).isEqual($m(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=wu(i.timestampValue),a=wu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _u(i.bytesValue).isEqual(_u(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rr(i.geoPointValue.latitude)===rr(s.geoPointValue.latitude)&&rr(i.geoPointValue.longitude)===rr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rr(i.integerValue)===rr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=rr(i.doubleValue),a=rr(s.doubleValue);return o===a?Bv(o)===Bv(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return sp(t.arrayValue.values||[],e.arrayValue.values||[],Ua);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(q6(o)!==q6(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ua(o[l],a[l])))return!1;return!0}(t,e);default:return bt(52216,{left:t})}}function Hm(t,e){return(t.values||[]).find(n=>Ua(n,e))!==void 0}function op(t,e){if(t===e)return 0;const n=xu(t),r=xu(e);if(n!==r)return Ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=rr(s.integerValue||s.doubleValue),l=rr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return W6(t.timestampValue,e.timestampValue);case 4:return W6($m(t),$m(e));case 5:return wS(t.stringValue,e.stringValue);case 6:return function(s,o){const a=_u(s),l=_u(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ft(a[c],l[c]);if(u!==0)return u}return Ft(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ft(rr(s.latitude),rr(o.latitude));return a!==0?a:Ft(rr(s.longitude),rr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return K6(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,d,p,y;const a=s.fields||{},l=o.fields||{},c=(f=a[Vv])==null?void 0:f.arrayValue,u=(d=l[Vv])==null?void 0:d.arrayValue,h=Ft(((p=c==null?void 0:c.values)==null?void 0:p.length)||0,((y=u==null?void 0:u.values)==null?void 0:y.length)||0);return h!==0?h:K6(c,u)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===q1.mapValue&&o===q1.mapValue)return 0;if(s===q1.mapValue)return 1;if(o===q1.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=wS(l[h],u[h]);if(f!==0)return f;const d=op(a[l[h]],c[u[h]]);if(d!==0)return d}return Ft(l.length,u.length)}(t.mapValue,e.mapValue);default:throw bt(23264,{he:n})}}function W6(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ft(t,e);const n=wu(t),r=wu(e),i=Ft(n.seconds,r.seconds);return i!==0?i:Ft(n.nanos,r.nanos)}function K6(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=op(n[i],r[i]);if(s)return s}return Ft(n.length,r.length)}function ap(t){return _S(t)}function _S(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _u(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ct.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=_S(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${_S(n.fields[o])}`;return i+"}"}(t.mapValue):bt(61005,{value:t})}function Vy(t){switch(xu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ib(t);return e?16+Vy(e):16;case 5:return 2*t.stringValue.length;case 6:return _u(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Vy(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Lu(r.fields,(s,o)=>{i+=s.length+Vy(o)}),i}(t.mapValue);default:throw bt(13486,{value:t})}}function zv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xS(t){return!!t&&"integerValue"in t}function mE(t){return!!t&&"arrayValue"in t}function G6(t){return!!t&&"nullValue"in t}function Y6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zy(t){return!!t&&"mapValue"in t}function JY(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[UD])==null?void 0:r.stringValue)===zD}function um(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Lu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=um(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=um(t.arrayValue.values[n]);return e}return{...t}}function ZY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=um(n)}setAll(e){let n=Jr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=um(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ua(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Lu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ns(um(this.value))}}function $D(t){const e=[];return Lu(t.fields,(n,r)=>{const i=new Jr([n]);if(zy(r)){const s=$D(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ks(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vi(e,0,At.min(),At.min(),At.min(),ns.empty(),0)}static newFoundDocument(e,n,r,i){return new vi(e,1,n,At.min(),r,i,0)}static newNoDocument(e,n){return new vi(e,2,n,At.min(),At.min(),ns.empty(),0)}static newUnknownDocument(e,n){return new vi(e,3,n,At.min(),At.min(),ns.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.position=e,this.inclusive=n}}function X6(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ct.comparator(ct.fromName(o.referenceValue),n.key):r=op(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q6(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ua(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n="asc"){this.field=e,this.dir=n}}function eX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{}class mr extends qD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nX(e,n,r):n==="array-contains"?new sX(e,r):n==="in"?new oX(e,r):n==="not-in"?new aX(e,r):n==="array-contains-any"?new lX(e,r):new mr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rX(e,r):new iX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(op(n,this.value)):n!==null&&xu(this.value)===xu(n)&&this.matchesComparison(op(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ta extends qD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ta(e,n)}matches(e){return HD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HD(t){return t.op==="and"}function WD(t){return tX(t)&&HD(t)}function tX(t){for(const e of t.filters)if(e instanceof ta)return!1;return!0}function SS(t){if(t instanceof mr)return t.field.canonicalString()+t.op.toString()+ap(t.value);if(WD(t))return t.filters.map(e=>SS(e)).join(",");{const e=t.filters.map(n=>SS(n)).join(",");return`${t.op}(${e})`}}function KD(t,e){return t instanceof mr?function(r,i){return i instanceof mr&&r.op===i.op&&r.field.isEqual(i.field)&&Ua(r.value,i.value)}(t,e):t instanceof ta?function(r,i){return i instanceof ta&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&KD(o,i.filters[a]),!0):!1}(t,e):void bt(19439)}function GD(t){return t instanceof mr?function(n){return`${n.field.canonicalString()} ${n.op} ${ap(n.value)}`}(t):t instanceof ta?function(n){return n.op.toString()+" {"+n.getFilters().map(GD).join(" ,")+"}"}(t):"Filter"}class nX extends mr{constructor(e,n,r){super(e,n,r),this.key=ct.fromName(r.referenceValue)}matches(e){const n=ct.comparator(e.key,this.key);return this.matchesComparison(n)}}class rX extends mr{constructor(e,n){super(e,"in",n),this.keys=YD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iX extends mr{constructor(e,n){super(e,"not-in",n),this.keys=YD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ct.fromName(r.referenceValue))}class sX extends mr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mE(n)&&Hm(n.arrayValue,this.value)}}class oX extends mr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hm(this.value.arrayValue,n)}}class aX extends mr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hm(this.value.arrayValue,n)}}class lX extends mr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function J6(t,e=null,n=[],r=[],i=null,s=null,o=null){return new cX(t,e,n,r,i,s,o)}function yE(t){const e=Tt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>SS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Cb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ap(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ap(r)).join(",")),e.Te=n}return e.Te}function vE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q6(t.startAt,e.startAt)&&Q6(t.endAt,e.endAt)}function AS(t){return ct.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uX(t,e,n,r,i,s,o,a){return new pf(t,e,n,r,i,s,o,a)}function kb(t){return new pf(t)}function Z6(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bE(t){return t.collectionGroup!==null}function Fd(t){const e=Tt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tr(Jr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Wm(s,r))}),n.has(Jr.keyField().canonicalString())||e.Ie.push(new Wm(Jr.keyField(),r))}return e.Ie}function ka(t){const e=Tt(t);return e.Ee||(e.Ee=hX(e,Fd(t))),e.Ee}function hX(t,e){if(t.limitType==="F")return J6(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wm(i.field,s)});const n=t.endAt?new lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lp(t.startAt.position,t.startAt.inclusive):null;return J6(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ES(t,e){const n=t.filters.concat([e]);return new pf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $v(t,e,n){return new pf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ob(t,e){return vE(ka(t),ka(e))&&t.limitType===e.limitType}function XD(t){return`${yE(ka(t))}|lt:${t.limitType}`}function ld(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GD(i)).join(", ")}]`),Cb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ap(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ap(i)).join(",")),`Target(${r})`}(ka(t))}; limitType=${t.limitType})`}function Rb(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ct.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Fd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=X6(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Fd(r),i)||r.endAt&&!function(o,a,l){const c=X6(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Fd(r),i))}(t,e)}function fX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QD(t){return(e,n)=>{let r=!1;for(const i of Fd(t)){const s=dX(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dX(t,e,n){const r=t.field.isKeyField()?ct.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?op(l,c):bt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return LD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX=new zn(ct.comparator);function jl(){return pX}const JD=new zn(ct.comparator);function qg(...t){let e=JD;for(const n of t)e=e.insert(n.key,n);return e}function ZD(t){let e=JD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xh(){return hm()}function e7(){return hm()}function hm(){return new gf(t=>t.toString(),(t,e)=>t.isEqual(e))}const gX=new zn(ct.comparator),mX=new Tr(ct.comparator);function Ut(...t){let e=mX;for(const n of t)e=e.add(n);return e}const yX=new Tr(Ft);function vX(){return yX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bv(e)?"-0":e}}function t7(t){return{integerValue:""+t}}function bX(t,e){return KY(e)?t7(e):wE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this._=void 0}}function wX(t,e,n){return t instanceof Km?function(i,s){const o={fields:{[jD]:{stringValue:DD},[BD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Nb(s)&&(s=Ib(s)),s&&(o.fields[FD]=s),{mapValue:o}}(n,e):t instanceof Gm?r7(t,e):t instanceof Ym?i7(t,e):function(i,s){const o=n7(i,s),a=eN(o)+eN(i.Ae);return xS(o)&&xS(i.Ae)?t7(a):wE(i.serializer,a)}(t,e)}function _X(t,e,n){return t instanceof Gm?r7(t,e):t instanceof Ym?i7(t,e):n}function n7(t,e){return t instanceof qv?function(r){return xS(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Km extends Lb{}class Gm extends Lb{constructor(e){super(),this.elements=e}}function r7(t,e){const n=s7(e);for(const r of t.elements)n.some(i=>Ua(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ym extends Lb{constructor(e){super(),this.elements=e}}function i7(t,e){let n=s7(e);for(const r of t.elements)n=n.filter(i=>!Ua(i,r));return{arrayValue:{values:n}}}class qv extends Lb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eN(t){return rr(t.integerValue||t.doubleValue)}function s7(t){return mE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(e,n){this.field=e,this.transform=n}}function SX(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gm&&i instanceof Gm||r instanceof Ym&&i instanceof Ym?sp(r.elements,i.elements,Ua):r instanceof qv&&i instanceof qv?Ua(r.Ae,i.Ae):r instanceof Km&&i instanceof Km}(t.transform,e.transform)}class AX{constructor(e,n){this.version=e,this.transformResults=n}}class mo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mo}static exists(e){return new mo(void 0,e)}static updateTime(e){return new mo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $y(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mb{}function o7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _E(t.key,mo.none()):new A0(t.key,t.data,mo.none());{const n=t.data,r=ns.empty();let i=new Tr(Jr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Mu(t.key,r,new ks(i.toArray()),mo.none())}}function EX(t,e,n){t instanceof A0?function(i,s,o){const a=i.value.clone(),l=nN(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mu?function(i,s,o){if(!$y(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=nN(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(a7(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fm(t,e,n,r){return t instanceof A0?function(s,o,a,l){if(!$y(s.precondition,o))return a;const c=s.value.clone(),u=rN(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mu?function(s,o,a,l){if(!$y(s.precondition,o))return a;const c=rN(s.fieldTransforms,l,o),u=o.data;return u.setAll(a7(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return $y(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function PX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=n7(r.transform,i||null);s!=null&&(n===null&&(n=ns.empty()),n.set(r.field,s))}return n||null}function tN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sp(r,i,(s,o)=>SX(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class A0 extends Mb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mu extends Mb{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function a7(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nN(t,e,n){const r=new Map;tn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_X(o,a,n[i]))}return r}function rN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wX(s,o,e))}return r}class _E extends Mb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TX extends Mb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EX(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=e7();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=o7(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(At.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ut())}isEqual(e){return this.batchId===e.batchId&&sp(this.mutations,e.mutations,(n,r)=>tN(n,r))&&sp(this.baseMutations,e.baseMutations,(n,r)=>tN(n,r))}}class xE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){tn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return gX}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new xE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr,zt;function kX(t){switch(t){case Ie.OK:return bt(64938);case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return bt(15467,{code:t})}}function l7(t){if(t===void 0)return Dl("GRPC error has no .code"),Ie.UNKNOWN;switch(t){case pr.OK:return Ie.OK;case pr.CANCELLED:return Ie.CANCELLED;case pr.UNKNOWN:return Ie.UNKNOWN;case pr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case pr.INTERNAL:return Ie.INTERNAL;case pr.UNAVAILABLE:return Ie.UNAVAILABLE;case pr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case pr.NOT_FOUND:return Ie.NOT_FOUND;case pr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case pr.ABORTED:return Ie.ABORTED;case pr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case pr.DATA_LOSS:return Ie.DATA_LOSS;default:return bt(39323,{code:t})}}(zt=pr||(pr={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX=new cu([4294967295,4294967295],0);function iN(t){const e=OX().encode(t),n=new SD;return n.update(e),new Uint8Array(n.digest())}function sN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cu([n,r],0),new cu([i,s],0)]}class SE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hg(`Invalid padding: ${n}`);if(r<0)throw new Hg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hg(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(cu.fromNumber(r)));return i.compare(RX)===1&&(i=new cu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iN(e),[r,i]=sN(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new SE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=iN(e),[r,i]=sN(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,E0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Db(At.min(),i,new zn(Ft),jl(),Ut())}}class E0{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new E0(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class c7{constructor(e,n){this.targetId=e,this.Ce=n}}class u7{constructor(e,n,r=ti.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oN{constructor(){this.ve=0,this.Fe=aN(),this.Me=ti.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ut(),n=Ut(),r=Ut();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:bt(38017,{changeType:s})}}),new E0(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=aN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LX{constructor(e){this.Ge=e,this.ze=new Map,this.je=jl(),this.Je=H1(),this.He=H1(),this.Ye=new zn(Ft)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:bt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(AS(s))if(r===0){const o=new ct(s.path);this.et(n,o,vi.newNoDocument(o,At.min()))}else tn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=_u(r).toUint8Array()}catch(l){if(l instanceof MD)return ip("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new SE(o,i,s)}catch(l){return ip(l instanceof Hg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&AS(a.target)){const l=new ct(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,vi.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Ut();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Db(e,n,this.Ye,this.je,r);return this.je=jl(),this.Je=H1(),this.He=H1(),this.Ye=new zn(Ft),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tr(Ft),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tr(Ft),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||tt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oN),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function H1(){return new zn(ct.comparator)}function aN(){return new zn(ct.comparator)}const MX=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),DX=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),jX=(()=>({and:"AND",or:"OR"}))();class FX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function PS(t,e){return t.useProto3Json||Cb(e)?e:{value:e}}function Hv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BX(t,e){return Hv(t,e.toTimestamp())}function Oa(t){return tn(!!t,49232),At.fromTimestamp(function(n){const r=wu(n);return new Nn(r.seconds,r.nanos)}(t))}function AE(t,e){return TS(t,e).canonicalString()}function TS(t,e){const n=function(i){return new mn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function f7(t){const e=mn.fromString(t);return tn(y7(e),10190,{key:e.toString()}),e}function CS(t,e){return AE(t.databaseId,e.path)}function l_(t,e){const n=f7(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ct(p7(n))}function d7(t,e){return AE(t.databaseId,e)}function UX(t){const e=f7(t);return e.length===4?mn.emptyPath():p7(e)}function NS(t){return new mn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function p7(t){return tn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lN(t,e,n){return{name:CS(t,e),fields:n.value.mapValue.fields}}function VX(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:bt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(tn(u===void 0||typeof u=="string",58123),ti.fromBase64String(u||"")):(tn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),ti.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Ie.UNKNOWN:l7(c.code);return new Ke(u,c.message||"")}(o);n=new u7(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=l_(t,r.document.name),s=Oa(r.document.updateTime),o=r.document.createTime?Oa(r.document.createTime):At.min(),a=new ns({mapValue:{fields:r.document.fields}}),l=vi.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new qy(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=l_(t,r.document),s=r.readTime?Oa(r.readTime):At.min(),o=vi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qy([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=l_(t,r.document),s=r.removedTargetIds||[];n=new qy([],s,i,null)}else{if(!("filter"in e))return bt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new IX(i,s),a=r.targetId;n=new c7(a,o)}}return n}function zX(t,e){let n;if(e instanceof A0)n={update:lN(t,e.key,e.value)};else if(e instanceof _E)n={delete:CS(t,e.key)};else if(e instanceof Mu)n={update:lN(t,e.key,e.data),updateMask:QX(e.fieldMask)};else{if(!(e instanceof TX))return bt(16599,{Vt:e.type});n={verify:CS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Km)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ym)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qv)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw bt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:BX(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:bt(27497)}(t,e.precondition)),n}function $X(t,e){return t&&t.length>0?(tn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Oa(i.updateTime):Oa(s);return o.isEqual(At.min())&&(o=Oa(s)),new AX(o,i.transformResults||[])}(n,e))):[]}function qX(t,e){return{documents:[d7(t,e.path)]}}function HX(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=d7(t,i);const s=function(c){if(c.length!==0)return m7(ta.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:cd(f.field),direction:GX(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=PS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function WX(t){let e=UX(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tn(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const f=g7(h);return f instanceof ta&&WD(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(p){return new Wm(ud(p.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Cb(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new lp(d,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,d=h.values||[];return new lp(d,f)}(n.endAt)),uX(e,i,o,s,a,"F",l,c)}function KX(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function g7(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ud(n.unaryFilter.field);return mr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ud(n.unaryFilter.field);return mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ud(n.unaryFilter.field);return mr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ud(n.unaryFilter.field);return mr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}}(t):t.fieldFilter!==void 0?function(n){return mr.create(ud(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ta.create(n.compositeFilter.filters.map(r=>g7(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return bt(1026)}}(n.compositeFilter.op))}(t):bt(30097,{filter:t})}function GX(t){return MX[t]}function YX(t){return DX[t]}function XX(t){return jX[t]}function cd(t){return{fieldPath:t.canonicalString()}}function ud(t){return Jr.fromServerFormat(t.fieldPath)}function m7(t){return t instanceof mr?function(n){if(n.op==="=="){if(Y6(n.value))return{unaryFilter:{field:cd(n.field),op:"IS_NAN"}};if(G6(n.value))return{unaryFilter:{field:cd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y6(n.value))return{unaryFilter:{field:cd(n.field),op:"IS_NOT_NAN"}};if(G6(n.value))return{unaryFilter:{field:cd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cd(n.field),op:YX(n.op),value:n.value}}}(t):t instanceof ta?function(n){const r=n.getFilters().map(i=>m7(i));return r.length===1?r[0]:{compositeFilter:{op:XX(n.op),filters:r}}}(t):bt(54877,{filter:t})}function QX(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function y7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,i,s=At.min(),o=At.min(),a=ti.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Wc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JX{constructor(e){this.yt=e}}function ZX(t){const e=WX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$v(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(){this.Cn=new tQ}addToCollectionParentIndex(e,n){return this.Cn.add(n),Me.resolve()}getCollectionParents(e,n){return Me.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Me.resolve()}deleteFieldIndex(e,n){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,n){return Me.resolve()}getDocumentsMatchingTarget(e,n){return Me.resolve(null)}getIndexType(e,n){return Me.resolve(0)}getFieldIndexes(e,n){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,n){return Me.resolve(bu.min())}getMinOffsetFromCollectionGroup(e,n){return Me.resolve(bu.min())}updateCollectionGroup(e,n,r){return Me.resolve()}updateIndexEntries(e,n){return Me.resolve()}}class tQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tr(mn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tr(mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v7=41943040;class Ji{static withCacheSize(e){return new Ji(e,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji.DEFAULT_COLLECTION_PERCENTILE=10,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ji.DEFAULT=new Ji(v7,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ji.DISABLED=new Ji(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cp(0)}static cr(){return new cp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="LruGarbageCollector",nQ=1048576;function hN([t,e],[n,r]){const i=Ft(t,n);return i===0?Ft(e,r):i}class rQ{constructor(e){this.Ir=e,this.buffer=new Tr(hN),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){tt(uN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rp(n)?tt(uN,"Ignoring IndexedDB error during garbage collection: ",n):await Op(n)}await this.Vr(3e5)})}}class sQ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Me.resolve(Tb.ce);const r=new rQ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(cN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cN):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),ad()<=jt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function oQ(t,e){return new sQ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(){this.changes=new gf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fm(r.mutation,i,ks.empty(),Nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ut()){const i=xh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ut()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jl();const o=hm(),a=function(){return hm()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Mu)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),fm(u.mutation,c,u.mutation.getFieldMask(),Nn.now())):o.set(c.key,ks.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>a.set(c,new lQ(u,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=hm();let i=new zn((o,a)=>o-a),s=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ks.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||Ut()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=e7();u.forEach(f=>{if(!s.has(f)){const d=o7(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Me.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ct.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Me.resolve(xh());let a=zm,l=s;return o.next(c=>Me.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?Me.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ut())).next(u=>({batchId:a,changes:ZD(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ct(n)).next(r=>{let i=qg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=qg();return this.indexManager.getCollectionParents(e,s).next(a=>Me.forEach(a,l=>{const c=function(h,f){return new pf(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,vi.newInvalidDocument(u)))});let a=qg();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&fm(u.mutation,c,ks.empty(),Nn.now()),Rb(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Me.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Oa(i.createTime)}}(n)),Me.resolve()}getNamedQuery(e,n){return Me.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:ZX(i.bundledQuery),readTime:Oa(i.readTime)}}(n)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(){this.overlays=new zn(ct.comparator),this.qr=new Map}getOverlay(e,n){return Me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xh();return Me.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),Me.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),Me.resolve()}getOverlaysForCollection(e,n,r){const i=xh(),s=n.length+1,o=new ct(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Me.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new zn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=xh(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=xh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return Me.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NX(n,r));let s=this.qr.get(n);s===void 0&&(s=Ut(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(){this.sessionToken=ti.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.Qr=new Tr(Or.$r),this.Ur=new Tr(Or.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Or(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Or(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ct(new mn([])),r=new Or(n,e),i=new Or(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ct(new mn([])),r=new Or(n,e),i=new Or(n,e+1);let s=Ut();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Or(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Or{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ct.comparator(e.key,n.key)||Ft(e.Yr,n.Yr)}static Kr(e,n){return Ft(e.Yr,n.Yr)||ct.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tr(Or.$r)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CX(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Or(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Me.resolve(o)}lookupMutationBatch(e,n){return Me.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Me.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?gE:this.tr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Or(n,0),i=new Or(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),Me.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tr(Ft);return n.forEach(i=>{const s=new Or(i,0),o=new Or(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),Me.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ct.isDocumentKey(s)||(s=s.child(""));const o=new Or(new ct(s),0);let a=new Tr(Ft);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),Me.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){tn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Me.forEach(n.mutations,i=>{const s=new Or(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Or(n,0),i=this.Zr.firstAfterOrEqual(r);return Me.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(e){this.ri=e,this.docs=function(){return new zn(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Me.resolve(r?r.document.mutableCopy():vi.newInvalidDocument(n))}getEntries(e,n){let r=jl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vi.newInvalidDocument(i))}),Me.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jl();const o=n.path,a=new ct(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||$Y(zY(u),r)<=0||(i.has(u.key)||Rb(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Me.resolve(s)}getAllFromCollectionGroup(e,n,r,i){bt(9500)}ii(e,n){return Me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gQ(this)}getSize(e){return Me.resolve(this.size)}}class gQ extends aQ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Me.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e){this.persistence=e,this.si=new gf(n=>yE(n),vE),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new EE,this.targetCount=0,this.ai=cp.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Me.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new cp(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Me.resolve()}updateTargetData(e,n){return this.Pr(n),Me.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Me.waitFor(s).next(()=>i)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Me.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Me.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Me.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Me.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Me.resolve(r)}containsKey(e,n){return Me.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tb(0),this.li=!1,this.li=!0,this.hi=new fQ,this.referenceDelegate=e(this),this.Pi=new mQ(this),this.indexManager=new eQ,this.remoteDocumentCache=function(i){return new pQ(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new JX(n),this.Ii=new uQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new dQ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){tt("MemoryPersistence","Starting transaction:",e);const i=new yQ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return Me.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class yQ extends HY{constructor(e){super(),this.currentSequenceNumber=e}}class PE{constructor(e){this.persistence=e,this.Ri=new EE,this.Vi=null}static mi(e){return new PE(e)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Me.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Me.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Me.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.fi,r=>{const i=ct.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,At.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Me.or([()=>Me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wv{constructor(e,n){this.persistence=e,this.pi=new gf(r=>GY(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=oQ(this,n)}static mi(e,n){return new Wv(e,n)}Ei(){}di(e){return Me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Me.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?Me.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,At.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Me.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Me.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Me.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vy(e.data.value)),n}br(e,n,r){return Me.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Me.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ut(),i=Ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new TE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return lG()?8:WY(Si())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vQ;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ad()<=jt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",ld(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Me.resolve()):(ad()<=jt.DEBUG&&tt("QueryEngine","Query:",ld(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ad()<=jt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",ld(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ka(n))):Me.resolve())}ys(e,n){if(Z6(n))return Me.resolve(null);let r=ka(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$v(n,null,"F"),r=ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ut(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,$v(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return Z6(n)||i.isEqual(At.min())?Me.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Me.resolve(null):(ad()<=jt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ld(n)),this.vs(e,o,n,VY(i,zm)).next(a=>a))})}Ds(e,n){let r=new Tr(QD(e));return n.forEach((i,s)=>{Rb(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ad()<=jt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",ld(n)),this.ps.getDocumentsMatchingQuery(e,n,bu.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="LocalStore",wQ=3e8;class _Q{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new zn(Ft),this.xs=new gf(s=>yE(s),vE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cQ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function xQ(t,e,n,r){return new _Q(t,e,n,r)}async function w7(t,e){const n=Tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ut();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function SQ(t,e){const n=Tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let d=Me.resolve();return f.forEach(p=>{d=d.next(()=>u.getEntry(l,p)).next(y=>{const b=c.docVersions.get(p);tn(b!==null,48541),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ut();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _7(t){const e=Tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function AQ(t,e){const n=Tt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,u.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(ti.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),i=i.insert(h,d),function(y,b,v){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=wQ?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,d,u)&&a.push(n.Pi.updateTargetData(s,d))});let l=jl(),c=Ut();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(EQ(s,o,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(At.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Me.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function EQ(t,e,n){let r=Ut(),i=Ut();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jl();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(At.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):tt(CE,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function PQ(t,e){const n=Tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=gE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TQ(t,e){const n=Tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,Me.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Wc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function IS(t,e,n){const r=Tt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Rp(o))throw o;tt(CE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function fN(t,e,n){const r=Tt(t);let i=At.min(),s=Ut();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Tt(l),f=h.xs.get(u);return f!==void 0?Me.resolve(h.Ms.get(f)):h.Pi.getTargetData(c,u)}(r,o,ka(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:At.min(),n?s:Ut())).next(a=>(CQ(r,fX(e),a),{documents:a,Qs:s})))}function CQ(t,e,n){let r=t.Os.get(e)||At.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class dN{constructor(){this.activeTargetIds=vX()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NQ{constructor(){this.Mo=new dN,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="ConnectivityMonitor";class gN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){tt(pN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){tt(pN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W1=null;function kS(){return W1===null?W1=function(){return 268435456+Math.round(2147483648*Math.random())}():W1++,"0x"+W1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="RestConnection",kQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OQ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Uv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=kS(),a=this.zo(e,n.toUriEncodedString());tt(c_,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),u=Ru(c);return this.Jo(e,a,l,r,u).then(h=>(tt(c_,`Received RPC '${e}' ${o}: `,h),h),h=>{throw ip(c_,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kp}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=kQ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="WebChannelConnection";class LQ extends OQ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=kS();return new Promise((a,l)=>{const c=new AD;c.setWithCredentials(!0),c.listenOnce(ED.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Uy.NO_ERROR:const h=c.getResponseJson();tt(ci,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Uy.TIMEOUT:tt(ci,`RPC '${e}' ${o} timed out`),l(new Ke(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Uy.HTTP_ERROR:const f=c.getStatus();if(tt(ci,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const y=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(x)>=0?x:Ie.UNKNOWN}(p.status);l(new Ke(y,p.message))}else l(new Ke(Ie.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ke(Ie.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{tt(ci,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);tt(ci,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=kS(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CD(),a=TD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");tt(ci,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);this.I_(h);let f=!1,d=!1;const p=new RQ({Yo:b=>{d?tt(ci,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(tt(ci,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),tt(ci,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},Zo:()=>h.close()}),y=(b,v,x)=>{b.listen(v,S=>{try{x(S)}catch(I){setTimeout(()=>{throw I},0)}})};return y(h,$g.EventType.OPEN,()=>{d||(tt(ci,`RPC '${e}' stream ${i} transport opened.`),p.o_())}),y(h,$g.EventType.CLOSE,()=>{d||(d=!0,tt(ci,`RPC '${e}' stream ${i} transport closed`),p.a_(),this.E_(h))}),y(h,$g.EventType.ERROR,b=>{d||(d=!0,ip(ci,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),p.a_(new Ke(Ie.UNAVAILABLE,"The operation could not be completed")))}),y(h,$g.EventType.MESSAGE,b=>{var v;if(!d){const x=b.data[0];tn(!!x,16349);const S=x,I=(S==null?void 0:S.error)||((v=S[0])==null?void 0:v.error);if(I){tt(ci,`RPC '${e}' stream ${i} received error:`,I);const M=I.status;let L=function(A){const O=pr[A];if(O!==void 0)return l7(O)}(M),T=I.message;L===void 0&&(L=Ie.INTERNAL,T="Unknown error status: "+M+" with message "+I.message),d=!0,p.a_(new Ke(L,T)),h.close()}else tt(ci,`RPC '${e}' stream ${i} received:`,x),p.u_(x)}}),y(a,PD.STAT_EVENT,b=>{b.stat===bS.PROXY?tt(ci,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===bS.NOPROXY&&tt(ci,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function u_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){return new FX(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="PersistentStream";class S7{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new x7(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Dl(n.toString()),Dl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Ke(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return tt(mN,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(tt(mN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MQ extends S7{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VX(this.serializer,e),r=function(s){if(!("targetChange"in s))return At.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?At.min():o.readTime?Oa(o.readTime):At.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=NS(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=AS(l)?{documents:qX(s,l)}:{query:HX(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=h7(s,o.resumeToken);const c=PS(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(At.min())>0){a.readTime=Hv(s,o.snapshotVersion.toTimestamp());const c=PS(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=KX(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=NS(this.serializer),n.removeTarget=e,this.q_(n)}}class DQ extends S7{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$X(e.writeResults,e.commitTime),r=Oa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=NS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zX(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{}class FQ extends jQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ke(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,TS(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Ie.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,TS(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Ie.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class BQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dl(n),this.aa=!1):tt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="RemoteStore";class UQ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{mf(this)&&(tt(Xh,"Restarting streams for network reachability change."),await async function(l){const c=Tt(l);c.Ea.add(4),await P0(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Fb(c)}(this))})}),this.Ra=new BQ(r,i)}}async function Fb(t){if(mf(t))for(const e of t.da)await e(!0)}async function P0(t){for(const e of t.da)await e(!1)}function A7(t,e){const n=Tt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),OE(n)?kE(n):Lp(n).O_()&&IE(n,e))}function NE(t,e){const n=Tt(t),r=Lp(n);n.Ia.delete(e),r.O_()&&E7(n,e),n.Ia.size===0&&(r.O_()?r.L_():mf(n)&&n.Ra.set("Unknown"))}function IE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lp(t).Y_(e)}function E7(t,e){t.Va.Ue(e),Lp(t).Z_(e)}function kE(t){t.Va=new LX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Lp(t).start(),t.Ra.ua()}function OE(t){return mf(t)&&!Lp(t).x_()&&t.Ia.size>0}function mf(t){return Tt(t).Ea.size===0}function P7(t){t.Va=void 0}async function VQ(t){t.Ra.set("Online")}async function zQ(t){t.Ia.forEach((e,n)=>{IE(t,e)})}async function $Q(t,e){P7(t),OE(t)?(t.Ra.ha(e),kE(t)):t.Ra.set("Unknown")}async function qQ(t,e,n){if(t.Ra.set("Online"),e instanceof u7&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){tt(Xh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kv(t,r)}else if(e instanceof qy?t.Va.Ze(e):e instanceof c7?t.Va.st(e):t.Va.tt(e),!n.isEqual(At.min()))try{const r=await _7(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(ti.EMPTY_BYTE_STRING,u.snapshotVersion)),E7(s,l);const h=new Wc(u.target,l,c,u.sequenceNumber);IE(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){tt(Xh,"Failed to raise snapshot:",r),await Kv(t,r)}}async function Kv(t,e,n){if(!Rp(e))throw e;t.Ea.add(1),await P0(t),t.Ra.set("Offline"),n||(n=()=>_7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{tt(Xh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Fb(t)})}function T7(t,e){return e().catch(n=>Kv(t,n,e))}async function Bb(t){const e=Tt(t),n=Su(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gE;for(;HQ(e);)try{const i=await PQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,WQ(e,i)}catch(i){await Kv(e,i)}C7(e)&&N7(e)}function HQ(t){return mf(t)&&t.Ta.length<10}function WQ(t,e){t.Ta.push(e);const n=Su(t);n.O_()&&n.X_&&n.ea(e.mutations)}function C7(t){return mf(t)&&!Su(t).x_()&&t.Ta.length>0}function N7(t){Su(t).start()}async function KQ(t){Su(t).ra()}async function GQ(t){const e=Su(t);for(const n of t.Ta)e.ea(n.mutations)}async function YQ(t,e,n){const r=t.Ta.shift(),i=xE.from(r,e,n);await T7(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bb(t)}async function XQ(t,e){e&&Su(t).X_&&await async function(r,i){if(function(o){return kX(o)&&o!==Ie.ABORTED}(i.code)){const s=r.Ta.shift();Su(r).B_(),await T7(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Bb(r)}}(t,e),C7(t)&&N7(t)}async function yN(t,e){const n=Tt(t);n.asyncQueue.verifyOperationInProgress(),tt(Xh,"RemoteStore received new credentials");const r=mf(n);n.Ea.add(3),await P0(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fb(n)}async function QQ(t,e){const n=Tt(t);e?(n.Ea.delete(2),await Fb(n)):e||(n.Ea.add(2),await P0(n),n.Ra.set("Unknown"))}function Lp(t){return t.ma||(t.ma=function(n,r,i){const s=Tt(n);return s.sa(),new MQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:VQ.bind(null,t),t_:zQ.bind(null,t),r_:$Q.bind(null,t),H_:qQ.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),OE(t)?kE(t):t.Ra.set("Unknown")):(await t.ma.stop(),P7(t))})),t.ma}function Su(t){return t.fa||(t.fa=function(n,r,i){const s=Tt(n);return s.sa(),new DQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:KQ.bind(null,t),r_:XQ.bind(null,t),ta:GQ.bind(null,t),na:YQ.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Bb(t)):(await t.fa.stop(),t.Ta.length>0&&(tt(Xh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new RE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function LE(t,e){if(Dl("AsyncQueue",`${e}: ${t}`),Rp(t))return new Ke(Ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{static emptySet(e){return new Bd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=qg(),this.sortedSet=new zn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.ga=new zn(ct.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):bt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class up{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new up(e,n,Bd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ob(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ZQ{constructor(){this.queries=bN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Tt(n),s=i.queries;i.queries=bN(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Ke(Ie.ABORTED,"Firestore shutting down"))}}function bN(){return new gf(t=>XD(t),Ob)}async function ME(t,e){const n=Tt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new JQ,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=LE(o,`Initialization of query '${ld(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&jE(n)}async function DE(t,e){const n=Tt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eJ(t,e){const n=Tt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&jE(n)}function tJ(t,e,n){const r=Tt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function jE(t){t.Ca.forEach(e=>{e.next()})}var OS,wN;(wN=OS||(OS={})).Ma="default",wN.Cache="cache";class FE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new up(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=up.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==OS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.key=e}}class k7{constructor(e){this.key=e}}class nJ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=QD(e),this.tu=new Bd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new vN,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),d=Rb(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let b=!1;f&&d?f.data.isEqual(d.data)?p!==y&&(r.track({type:3,doc:d}),b=!0):this.su(f,d)||(r.track({type:2,doc:d}),b=!0,(l&&this.eu(d,l)>0||c&&this.eu(d,c)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),b=!0):f&&!d&&(r.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(d?(o=o.add(d),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((u,h)=>function(d,p){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:b})}};return y(d)-y(p)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new up(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ut(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new k7(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new I7(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return up.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const BE="SyncEngine";class rJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iJ{constructor(e){this.key=e,this.hu=!1}}class sJ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new gf(a=>XD(a),Ob),this.Iu=new Map,this.Eu=new Set,this.du=new zn(ct.comparator),this.Au=new Map,this.Ru=new EE,this.Vu={},this.mu=new Map,this.fu=cp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oJ(t,e,n=!0){const r=j7(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await O7(r,e,n,!0),i}async function aJ(t,e){const n=j7(t);await O7(n,e,!0,!1)}async function O7(t,e,n,r){const i=await TQ(t.localStore,ka(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await lJ(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&A7(t.remoteStore,i),a}async function lJ(t,e,n,r,i){t.pu=(h,f,d)=>async function(y,b,v,x){let S=b.view.ru(v);S.Cs&&(S=await fN(y.localStore,b.query,!1).then(({documents:T})=>b.view.ru(T,S)));const I=x&&x.targetChanges.get(b.targetId),M=x&&x.targetMismatches.get(b.targetId)!=null,L=b.view.applyChanges(S,y.isPrimaryClient,I,M);return xN(y,b.targetId,L.au),L.snapshot}(t,h,f,d);const s=await fN(t.localStore,e,!0),o=new nJ(e,s.Qs),a=o.ru(s.documents),l=E0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);xN(t,n,c.au);const u=new rJ(e,n,o);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function cJ(t,e,n){const r=Tt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Ob(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await IS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&NE(r.remoteStore,i.targetId),RS(r,i.targetId)}).catch(Op)):(RS(r,i.targetId),await IS(r.localStore,i.targetId,!0))}async function uJ(t,e){const n=Tt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),NE(n.remoteStore,r.targetId))}async function hJ(t,e,n){const r=vJ(t);try{const i=await function(o,a){const l=Tt(o),c=Nn.now(),u=a.reduce((d,p)=>d.add(p.key),Ut());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=jl(),y=Ut();return l.Ns.getEntries(d,u).next(b=>{p=b,p.forEach((v,x)=>{x.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,p)).next(b=>{h=b;const v=[];for(const x of a){const S=PX(x,h.get(x.key).overlayedDocument);S!=null&&v.push(new Mu(x.key,S,$D(S.value.mapValue),mo.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,v,a)}).next(b=>{f=b;const v=b.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(d,b.batchId,v)})}).then(()=>({batchId:f.batchId,changes:ZD(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new zn(Ft)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await T0(r,i.changes),await Bb(r.remoteStore)}catch(i){const s=LE(i,"Failed to persist write");n.reject(s)}}async function R7(t,e){const n=Tt(t);try{const r=await AQ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?tn(o.hu,14607):i.removedDocuments.size>0&&(tn(o.hu,42227),o.hu=!1))}),await T0(n,r,e)}catch(r){await Op(r)}}function _N(t,e,n){const r=Tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Tt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.Sa)f.va(a)&&(c=!0)}),c&&jE(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fJ(t,e,n){const r=Tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new zn(ct.comparator);o=o.insert(s,vi.newNoDocument(s,At.min()));const a=Ut().add(s),l=new Db(At.min(),new Map,new zn(Ft),o,a);await R7(r,l),r.du=r.du.remove(s),r.Au.delete(e),UE(r)}else await IS(r.localStore,e,!1).then(()=>RS(r,e,n)).catch(Op)}async function dJ(t,e){const n=Tt(t),r=e.batch.batchId;try{const i=await SQ(n.localStore,e);M7(n,r,null),L7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await T0(n,i)}catch(i){await Op(i)}}async function pJ(t,e,n){const r=Tt(t);try{const i=await function(o,a){const l=Tt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(tn(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);M7(r,e,n),L7(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await T0(r,i)}catch(i){await Op(i)}}function L7(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function M7(t,e,n){const r=Tt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function RS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||D7(t,r)})}function D7(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(NE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),UE(t))}function xN(t,e,n){for(const r of n)r instanceof I7?(t.Ru.addReference(r.key,e),gJ(t,r)):r instanceof k7?(tt(BE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||D7(t,r.key)):bt(19791,{wu:r})}function gJ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(tt(BE,"New document in limbo: "+n),t.Eu.add(r),UE(t))}function UE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ct(mn.fromString(e)),r=t.fu.next();t.Au.set(r,new iJ(n)),t.du=t.du.insert(n,r),A7(t.remoteStore,new Wc(ka(kb(n.path)),r,"TargetPurposeLimboResolution",Tb.ce))}}async function T0(t,e,n){const r=Tt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=TE.As(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const u=Tt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Me.forEach(c,f=>Me.forEach(f.Es,d=>u.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>Me.forEach(f.ds,d=>u.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!Rp(h))throw h;tt(CE,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const d=u.Ms.get(f),p=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(p);u.Ms=u.Ms.insert(f,y)}}}(r.localStore,s))}async function mJ(t,e){const n=Tt(t);if(!n.currentUser.isEqual(e)){tt(BE,"User change. New user:",e.toKey());const r=await w7(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new Ke(Ie.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await T0(n,r.Ls)}}function yJ(t,e){const n=Tt(t),r=n.Au.get(e);if(r&&r.hu)return Ut().add(r.key);{let i=Ut();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function j7(t){const e=Tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=R7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fJ.bind(null,e),e.Pu.H_=eJ.bind(null,e.eventManager),e.Pu.yu=tJ.bind(null,e.eventManager),e}function vJ(t){const e=Tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pJ.bind(null,e),e}class Gv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xQ(this.persistence,new bQ,e.initialUser,this.serializer)}Cu(e){return new b7(PE.mi,this.serializer)}Du(e){return new NQ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gv.provider={build:()=>new Gv};class bJ extends Gv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tn(this.persistence.referenceDelegate instanceof Wv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iQ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ji.withCacheSize(this.cacheSizeBytes):Ji.DEFAULT;return new b7(r=>Wv.mi(r,n),this.serializer)}}class LS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_N(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mJ.bind(null,this.syncEngine),await QQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZQ}()}createDatastore(e){const n=jb(e.databaseInfo.databaseId),r=function(s){return new LQ(s)}(e.databaseInfo);return function(s,o,a,l){return new FQ(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new UQ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_N(this.syncEngine,n,0),function(){return gN.v()?new gN:new IQ}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const h=new sJ(i,s,o,a,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Tt(i);tt(Xh,"RemoteStore shutting down."),s.Ea.add(5),await P0(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}LS.provider={build:()=>new LS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="FirestoreClient";class wJ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mi.UNAUTHENTICATED,this.clientId=pE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{tt(Au,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(tt(Au,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=LE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function h_(t,e){t.asyncQueue.verifyOperationInProgress(),tt(Au,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await w7(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function SN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _J(t);tt(Au,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yN(e.remoteStore,i)),t._onlineComponents=e}async function _J(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){tt(Au,"Using user provided OfflineComponentProvider");try{await h_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ie.FAILED_PRECONDITION||i.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ip("Error using user provided cache. Falling back to memory cache: "+n),await h_(t,new Gv)}}else tt(Au,"Using default OfflineComponentProvider"),await h_(t,new bJ(void 0));return t._offlineComponents}async function F7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(tt(Au,"Using user provided OnlineComponentProvider"),await SN(t,t._uninitializedComponentsProvider._online)):(tt(Au,"Using default OnlineComponentProvider"),await SN(t,new LS))),t._onlineComponents}function xJ(t){return F7(t).then(e=>e.syncEngine)}async function Yv(t){const e=await F7(t),n=e.eventManager;return n.onListen=oJ.bind(null,e.syncEngine),n.onUnlisten=cJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uJ.bind(null,e.syncEngine),n}function SJ(t,e,n={}){const r=new Tl;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new VE({next:f=>{u.Nu(),o.enqueueAndForget(()=>DE(s,h));const d=f.docs.has(a);!d&&f.fromCache?c.reject(new Ke(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&l&&l.source==="server"?c.reject(new Ke(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new FE(kb(a.path),u,{includeMetadataChanges:!0,qa:!0});return ME(s,h)}(await Yv(t),t.asyncQueue,e,n,r)),r.promise}function AJ(t,e,n={}){const r=new Tl;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new VE({next:f=>{u.Nu(),o.enqueueAndForget(()=>DE(s,h)),f.fromCache&&l.source==="server"?c.reject(new Ke(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new FE(a,u,{includeMetadataChanges:!0,qa:!0});return ME(s,h)}(await Yv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7="firestore.googleapis.com",EN=!0;class PN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U7,this.ssl=EN}else this.host=e.host,this.ssl=e.ssl??EN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=v7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nQ)throw new Ke(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B7(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ub{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NY;switch(r.type){case"firstParty":return new RY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AN.get(n);r&&(tt("ComponentProvider","Removing Datastore"),AN.delete(n),r.terminate())}(this),Promise.resolve()}}function EJ(t,e,n,r={}){var c;t=cs(t,Ub);const i=Ru(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(lE(`https://${a}`),cE("Firestore",!0)),s.host!==U7&&s.host!==a&&ip("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Gh(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=mi.MOCK_USER;else{u=yD(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ke(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new mi(f)}t._authCredentials=new IY(new ID(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ha(this.firestore,e,this._query)}}class Qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}toJSON(){return{type:Qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(S0(n,Qn._jsonSchema))return new Qn(e,r||null,new ct(mn.fromString(n.referencePath)))}}Qn._jsonSchemaVersion="firestore/documentReference/1.0",Qn._jsonSchema={type:yr("string",Qn._jsonSchemaVersion),referencePath:yr("string")};class uu extends Ha{constructor(e,n,r){super(e,n,kb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new ct(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function vr(t,e,...n){if(t=Fn(t),kD("collection","path",e),t instanceof Ub){const r=mn.fromString(e,...n);return U6(r),new uu(t,null,r)}{if(!(t instanceof Qn||t instanceof uu))throw new Ke(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mn.fromString(e,...n));return U6(r),new uu(t.firestore,null,r)}}function Er(t,e,...n){if(t=Fn(t),arguments.length===1&&(e=pE.newId()),kD("doc","path",e),t instanceof Ub){const r=mn.fromString(e,...n);return B6(r),new Qn(t,null,new ct(r))}{if(!(t instanceof Qn||t instanceof uu))throw new Ke(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mn.fromString(e,...n));return B6(r),new Qn(t.firestore,t instanceof uu?t.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="AsyncQueue";class CN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new x7(this,"async_queue_retry"),this._c=()=>{const r=u_();r&&tt(TN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=u_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=u_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Tl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rp(e))throw e;tt(TN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Dl("INTERNAL UNHANDLED ERROR: ",NN(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=RE.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&bt(47125,{Pc:NN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function NN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Fl extends Ub{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CN(e),this._firestoreClient=void 0,await e}}}function PJ(t,e){const n=typeof t=="object"?t:fE(),r=typeof t=="string"?t:e||Uv,i=Eb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pD("firestore");s&&EJ(i,...s)}return i}function Vb(t){if(t._terminated)throw new Ke(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TJ(t),t._firestoreClient}function TJ(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,u){return new QY(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,B7(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wJ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(ti.fromBase64String(e))}catch(n){throw new Ke(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new uo(ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:uo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(S0(e,uo._jsonSchema))return uo.fromBase64String(e.bytes)}}uo._jsonSchemaVersion="firestore/bytes/1.0",uo._jsonSchema={type:yr("string",uo._jsonSchemaVersion),bytes:yr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ra._jsonSchemaVersion}}static fromJSON(e){if(S0(e,Ra._jsonSchema))return new Ra(e.latitude,e.longitude)}}Ra._jsonSchemaVersion="firestore/geoPoint/1.0",Ra._jsonSchema={type:yr("string",Ra._jsonSchemaVersion),latitude:yr("number"),longitude:yr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:La._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(S0(e,La._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new La(e.vectorValues);throw new Ke(Ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}La._jsonSchemaVersion="firestore/vectorValue/1.0",La._jsonSchema={type:yr("string",La._jsonSchemaVersion),vectorValues:yr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ=/^__.*__$/;class NJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mu(e,this.data,this.fieldMask,n,this.fieldTransforms):new A0(e,this.data,n,this.fieldTransforms)}}class V7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function z7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:t})}}class zE{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(z7(this.Ac)&&CJ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jb(e)}Cc(e,n,r,i=!1){return new zE({Ac:e,methodName:n,Dc:r,path:Jr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C0(t){const e=t._freezeSettings(),n=jb(t._databaseId);return new IJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $7(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);qE("Data must be an object, but it was:",o,r);const a=H7(r,o);let l,c;if(s.merge)l=new ks(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=MS(e,h,n);if(!o.contains(f))throw new Ke(Ie.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);K7(u,f)||u.push(f)}l=new ks(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new NJ(new ns(a),l,c)}class qb extends $b{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qb}}class $E extends $b{_toFieldTransform(e){return new xX(e.path,new Km)}isEqual(e){return e instanceof $E}}function kJ(t,e,n,r){const i=t.Cc(1,e,n);qE("Data must be an object, but it was:",i,r);const s=[],o=ns.empty();Lu(r,(l,c)=>{const u=HE(e,l,n);c=Fn(c);const h=i.yc(u);if(c instanceof qb)s.push(u);else{const f=N0(c,h);f!=null&&(s.push(u),o.set(u,f))}});const a=new ks(s);return new V7(o,a,i.fieldTransforms)}function OJ(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[MS(e,r,n)],l=[i];if(s.length%2!=0)throw new Ke(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(MS(e,s[f])),l.push(s[f+1]);const c=[],u=ns.empty();for(let f=a.length-1;f>=0;--f)if(!K7(c,a[f])){const d=a[f];let p=l[f];p=Fn(p);const y=o.yc(d);if(p instanceof qb)c.push(d);else{const b=N0(p,y);b!=null&&(c.push(d),u.set(d,b))}}const h=new ks(c);return new V7(u,h,o.fieldTransforms)}function q7(t,e,n,r=!1){return N0(n,t.Cc(r?4:3,e))}function N0(t,e){if(W7(t=Fn(t)))return qE("Unsupported field value:",e,t),H7(t,e);if(t instanceof $b)return function(r,i){if(!z7(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=N0(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Nn.fromDate(r);return{timestampValue:Hv(i.serializer,s)}}if(r instanceof Nn){const s=new Nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hv(i.serializer,s)}}if(r instanceof Ra)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uo)return{bytesValue:h7(i.serializer,r._byteString)};if(r instanceof Qn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:AE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof La)return function(o,a){return{mapValue:{fields:{[UD]:{stringValue:zD},[Vv]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return wE(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Pb(r)}`)}(t,e)}function H7(t,e){const n={};return LD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lu(t,(r,i)=>{const s=N0(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function W7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nn||t instanceof Ra||t instanceof uo||t instanceof Qn||t instanceof $b||t instanceof La)}function qE(t,e,n){if(!W7(n)||!OD(n)){const r=Pb(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function MS(t,e,n){if((e=Fn(e))instanceof zb)return e._internalPath;if(typeof e=="string")return HE(t,e);throw Xv("Field path arguments must be of type string or ",t,!1,void 0,n)}const RJ=new RegExp("[~\\*/\\[\\]]");function HE(t,e,n){if(e.search(RJ)>=0)throw Xv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zb(...e.split("."))._internalPath}catch{throw Xv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xv(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ke(Ie.INVALID_ARGUMENT,a+t+l)}function K7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LJ extends WE{data(){return super.data()}}function Hb(t,e){return typeof e=="string"?HE(t,e):e instanceof zb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KE{}class Wb extends KE{}function kh(t,e,...n){let r=[];e instanceof KE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof GE).length,a=s.filter(l=>l instanceof Kb).length;if(o>1||o>0&&a>0)throw new Ke(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kb extends Wb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kb(e,n,r)}_apply(e){const n=this._parse(e);return X7(e._query,n),new Ha(e.firestore,e.converter,ES(e._query,n))}_parse(e){const n=C0(e.firestore);return function(s,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ke(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){RN(h,u);const p=[];for(const y of h)p.push(ON(l,s,y));f={arrayValue:{values:p}}}else f=ON(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||RN(h,u),f=q7(a,o,h,u==="in"||u==="not-in");return mr.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Y7(t,e,n){const r=e,i=Hb("where",t);return Kb._create(i,r,n)}class GE extends KE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new GE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ta.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)X7(o,l),o=ES(o,l)}(e._query,n),new Ha(e.firestore,e.converter,ES(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class YE extends Wb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new YE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ke(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ke(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wm(s,o)}(e._query,this._field,this._direction);return new Ha(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new pf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function dm(t,e="asc"){const n=e,r=Hb("orderBy",t);return YE._create(r,n)}class XE extends Wb{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new XE(e,n,r)}_apply(e){return new Ha(e.firestore,e.converter,$v(e._query,this._limit,this._limitType))}}function kN(t){return UY("limit",t),XE._create("limit",t,"F")}class QE extends Wb{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new QE(e,n,r)}_apply(e){const n=DJ(e,this.type,this._docOrFields,this._inclusive);return new Ha(e.firestore,e.converter,function(i,s){return new pf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function MJ(...t){return QE._create("startAfter",t,!1)}function DJ(t,e,n,r){if(n[0]=Fn(n[0]),n[0]instanceof WE)return function(s,o,a,l,c){if(!l)throw new Ke(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const h of Fd(s))if(h.field.isKeyField())u.push(zv(o,l.key));else{const f=l.data.field(h.field);if(Nb(f))throw new Ke(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const d=h.field.canonicalString();throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${d}' (used as the orderBy) does not exist.`)}u.push(f)}return new lp(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=C0(t.firestore);return function(o,a,l,c,u,h){const f=o.explicitOrderBy;if(u.length>f.length)throw new Ke(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const d=[];for(let p=0;p<u.length;p++){const y=u[p];if(f[p].field.isKeyField()){if(typeof y!="string")throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!bE(o)&&y.indexOf("/")!==-1)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const b=o.path.child(mn.fromString(y));if(!ct.isDocumentKey(b))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const v=new ct(b);d.push(zv(a,v))}else{const b=q7(l,c,y);d.push(b)}}return new lp(d,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function ON(t,e,n){if(typeof(n=Fn(n))=="string"){if(n==="")throw new Ke(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bE(e)&&n.indexOf("/")!==-1)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mn.fromString(n));if(!ct.isDocumentKey(r))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zv(t,new ct(r))}if(n instanceof Qn)return zv(t,n._key);throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pb(n)}.`)}function RN(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X7(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ke(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jJ{convertValue(e,n="none"){switch(xu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_u(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw bt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Vv].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>rr(o.doubleValue));return new La(n)}convertGeoPoint(e){return new Ra(rr(e.latitude),rr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ib(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($m(e));default:return null}}convertTimestamp(e){const n=wu(e);return new Nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mn.fromString(e);tn(y7(r),9688,{name:e});const i=new qm(r.get(1),r.get(3)),s=new ct(r.popFirst(5));return i.isEqual(n)||Dl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Wg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oh extends WE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Oh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Oh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oh._jsonSchema={type:yr("string",Oh._jsonSchemaVersion),bundleSource:yr("string","DocumentSnapshot"),bundleName:yr("string"),bundle:yr("string")};class Hy extends Oh{data(e={}){return super.data(e)}}class Rh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hy(this._firestore,this._userDataWriter,r.key,r,new Wg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Hy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Hy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:FJ(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){t=cs(t,Qn);const e=cs(t.firestore,Fl);return SJ(Vb(e),t._key).then(n=>J7(e,t,n))}Rh._jsonSchemaVersion="firestore/querySnapshot/1.0",Rh._jsonSchema={type:yr("string",Rh._jsonSchemaVersion),bundleSource:yr("string","QuerySnapshot"),bundleName:yr("string"),bundle:yr("string")};class JE extends jJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function Va(t){t=cs(t,Ha);const e=cs(t.firestore,Fl),n=Vb(e),r=new JE(e);return G7(t._query),AJ(n,t._query).then(i=>new Rh(e,r,t,i))}function DS(t,e,n){t=cs(t,Qn);const r=cs(t.firestore,Fl),i=Q7(t.converter,e,n);return Gb(r,[$7(C0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mo.none())])}function Bl(t,e,n,...r){t=cs(t,Qn);const i=cs(t.firestore,Fl),s=C0(i);let o;return o=typeof(e=Fn(e))=="string"||e instanceof zb?OJ(s,"updateDoc",t._key,e,n,r):kJ(s,"updateDoc",t._key,e),Gb(i,[o.toMutation(t._key,mo.exists(!0))])}function Qv(t){return Gb(cs(t.firestore,Fl),[new _E(t._key,mo.none())])}function hp(t,e){const n=cs(t.firestore,Fl),r=Er(t),i=Q7(t.converter,e);return Gb(n,[$7(C0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mo.exists(!1))]).then(()=>r)}function Jv(t,...e){var l,c,u;t=Fn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||IN(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IN(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(c=h.error)==null?void 0:c.bind(h),e[r+2]=(u=h.complete)==null?void 0:u.bind(h)}let s,o,a;if(t instanceof Qn)o=cs(t.firestore,Fl),a=kb(t._key.path),s={next:h=>{e[r]&&e[r](J7(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=cs(t,Ha);o=cs(h.firestore,Fl),a=h._query;const f=new JE(o);s={next:d=>{e[r]&&e[r](new Rh(o,f,h,d))},error:e[r+1],complete:e[r+2]},G7(t._query)}return function(f,d,p,y){const b=new VE(y),v=new FE(d,b,p);return f.asyncQueue.enqueueAndForget(async()=>ME(await Yv(f),v)),()=>{b.Nu(),f.asyncQueue.enqueueAndForget(async()=>DE(await Yv(f),v))}}(Vb(o),a,i,s)}function Gb(t,e){return function(r,i){const s=new Tl;return r.asyncQueue.enqueueAndForget(async()=>hJ(await xJ(r),i,s)),s.promise}(Vb(t),e)}function J7(t,e,n){const r=n.docs.get(e._key),i=new JE(t);return new Oh(t,i,e._key,r,new Wg(n.hasPendingWrites,n.fromCache),e.converter)}function fp(){return new $E("serverTimestamp")}(function(e,n=!0){(function(i){kp=i})(df),Yh(new yu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Fl(new kY(r.getProvider("auth-internal")),new LY(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ke(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qm(c.options.projectId,u)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ia(M6,D6,e),Ia(M6,D6,"esm2020")})();function Z7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BJ=Z7,ej=new _0("auth","Firebase",Z7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new uE("@firebase/auth");function UJ(t,...e){Zv.logLevel<=jt.WARN&&Zv.warn(`Auth (${df}): ${t}`,...e)}function Wy(t,...e){Zv.logLevel<=jt.ERROR&&Zv.error(`Auth (${df}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,...e){throw e3(t,...e)}function Jo(t,...e){return e3(t,...e)}function ZE(t,e,n){const r={...BJ(),[e]:n};return new _0("auth","Firebase",r).create(e,{appName:t.name})}function hu(t){return ZE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VJ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bo(t,"argument-error"),ZE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ej.create(t,...e)}function vt(t,e,...n){if(!t)throw e3(e,...n)}function _l(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wy(e),new Error(e)}function Ul(t,e){t||_l(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function zJ(){return LN()==="http:"||LN()==="https:"}function LN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zJ()||sG()||"connection"in navigator)?navigator.onLine:!0}function qJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ul(n>e,"Short delay should be less than long delay!"),this.isMobile=nG()||oG()}get(){return $J()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t,e){Ul(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_l("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_l("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_l("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KJ=new I0(3e4,6e4);function yf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Du(t,e,n,r,i={}){return nj(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=x0({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return iG()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ru(t.emulatorConfig.host)&&(c.credentials="include"),tj.fetch()(await rj(t,t.config.apiHost,n,a),c)})}async function nj(t,e,n){t._canInitEmulator=!1;const r={...HJ,...e};try{const i=new YJ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw K1(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw K1(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw K1(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw K1(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ZE(t,u,c);bo(t,u)}}catch(i){if(i instanceof qa)throw i;bo(t,"network-request-failed",{message:String(i)})}}async function Yb(t,e,n,r,i={}){const s=await Du(t,e,n,r,i);return"mfaPendingCredential"in s&&bo(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function rj(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?t3(t.config,i):`${t.config.apiScheme}://${i}`;return WJ.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function GJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jo(this.auth,"network-request-failed")),KJ.get())})}}function K1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jo(t,e,r);return i.customData._tokenResponse=n,i}function MN(t){return t!==void 0&&t.enterprise!==void 0}class XJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QJ(t,e){return Du(t,"GET","/v2/recaptchaConfig",yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JJ(t,e){return Du(t,"POST","/v1/accounts:delete",e)}async function e2(t,e){return Du(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZJ(t,e=!1){const n=Fn(t),r=await n.getIdToken(e),i=n3(r);vt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pm(f_(i.auth_time)),issuedAtTime:pm(f_(i.iat)),expirationTime:pm(f_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function f_(t){return Number(t)*1e3}function n3(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wy("JWT malformed, contained fewer than 3 sections"),null;try{const i=fD(n);return i?JSON.parse(i):(Wy("Failed to decode base64 JWT payload"),null)}catch(i){return Wy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DN(t){const e=n3(t);return vt(e,"internal-error"),vt(typeof e.exp<"u","internal-error"),vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xm(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qa&&eZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pm(this.lastLoginAt),this.creationTime=pm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Xm(t,e2(e,{idToken:n}));vt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?ij(i.providerUserInfo):[],o=rZ(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new FS(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function nZ(t){const e=Fn(t);await t2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ij(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iZ(t,e){const n=await nj(t,{},async()=>{const r=x0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await rj(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ru(t.emulatorConfig.host)&&(l.credentials="include"),tj.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sZ(t,e){return Du(t,"POST","/v2/accounts:revokeToken",yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vt(e.idToken,"internal-error"),vt(typeof e.idToken<"u","internal-error"),vt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){vt(e.length!==0,"internal-error");const n=DN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await iZ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ud;return r&&(vt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(vt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(vt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ud,this.toJSON())}_performRefresh(){return _l("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e){vt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ko{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new tZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new FS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Xm(this,this.stsTokenManager.getToken(this.auth,e));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZJ(this,e)}reload(){return nZ(this)}_assign(e){this!==e&&(vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ko({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await t2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cs(this.auth.app))return Promise.reject(hu(this.auth));const e=await this.getIdToken();return await Xm(this,JJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:d,providerData:p,stsTokenManager:y}=n;vt(h&&y,e,"internal-error");const b=Ud.fromJSON(this.name,y);vt(typeof h=="string",e,"internal-error"),Tc(r,e.name),Tc(i,e.name),vt(typeof f=="boolean",e,"internal-error"),vt(typeof d=="boolean",e,"internal-error"),Tc(s,e.name),Tc(o,e.name),Tc(a,e.name),Tc(l,e.name),Tc(c,e.name),Tc(u,e.name);const v=new Ko({uid:h,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:d,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:b,createdAt:c,lastLoginAt:u});return p&&Array.isArray(p)&&(v.providerData=p.map(x=>({...x}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ud;i.updateFromServerResponse(n);const s=new Ko({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await t2(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];vt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ij(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ud;a.updateFromIdToken(r);const l=new Ko({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new FS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Map;function xl(t){Ul(t instanceof Function,"Expected a class definition");let e=jN.get(t);return e?(Ul(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sj.type="NONE";const FN=sj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e,n){return`firebase:${t}:${e}:${n}`}class Vd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ky(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ky("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await e2(this.auth,{idToken:e}).catch(()=>{});return n?Ko._fromGetAccountInfoResponse(this.auth,n,e):null}return Ko._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vd(xl(FN),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||xl(FN);const o=Ky(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let h;if(typeof u=="string"){const f=await e2(e,{idToken:u}).catch(()=>{});if(!f)break;h=await Ko._fromGetAccountInfoResponse(e,f,u)}else h=Ko._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Vd(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Vd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hj(e))return"Blackberry";if(fj(e))return"Webos";if(aj(e))return"Safari";if((e.includes("chrome/")||lj(e))&&!e.includes("edge/"))return"Chrome";if(uj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oj(t=Si()){return/firefox\//i.test(t)}function aj(t=Si()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lj(t=Si()){return/crios\//i.test(t)}function cj(t=Si()){return/iemobile/i.test(t)}function uj(t=Si()){return/android/i.test(t)}function hj(t=Si()){return/blackberry/i.test(t)}function fj(t=Si()){return/webos/i.test(t)}function r3(t=Si()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oZ(t=Si()){var e;return r3(t)&&!!((e=window.navigator)!=null&&e.standalone)}function aZ(){return aG()&&document.documentMode===10}function dj(t=Si()){return r3(t)||uj(t)||fj(t)||hj(t)||/windows phone/i.test(t)||cj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t,e=[]){let n;switch(t){case"Browser":n=BN(Si());break;case"Worker":n=`${BN(Si())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${df}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cZ(t,e={}){return Du(t,"GET","/v2/passwordPolicy",yf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ=6;class hZ{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UN(this),this.idTokenSubscription=new UN(this),this.beforeStateQueue=new lZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ej,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xl(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Vd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await e2(this,{idToken:e}),r=await Ko._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Cs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await t2(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cs(this.app))return Promise.reject(hu(this));const n=e?Fn(e):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cs(this.app)?Promise.reject(hu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cs(this.app)?Promise.reject(hu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cZ(this),n=new hZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xl(e)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Vd.create(this,[xl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UJ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vf(t){return Fn(t)}class UN{constructor(e){this.auth=e,this.observer=null,this.addObserver=gG(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dZ(t){Xb=t}function gj(t){return Xb.loadJS(t)}function pZ(){return Xb.recaptchaEnterpriseScript}function gZ(){return Xb.gapiScript}function mZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class yZ{constructor(){this.enterprise=new vZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bZ="recaptcha-enterprise",mj="NO_RECAPTCHA";class wZ{constructor(e){this.type=bZ,this.auth=vf(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{QJ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new XJ(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;MN(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(mj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yZ().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&MN(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=pZ();l.length!==0&&(l+=a),gj(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function wg(t,e,n,r=!1,i=!1){const s=new wZ(t);let o;if(i)o=mj;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function VN(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await wg(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await wg(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await wg(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await wg(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await wg(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t,e){const n=Eb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Gh(s,e??{}))return i;bo(i,"already-initialized")}return n.initialize({options:e})}function xZ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function SZ(t,e,n){const r=vf(t);vt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=yj(e),{host:o,port:a}=AZ(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(Gh(c,r.config.emulator)&&Gh(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ru(o)?(lE(`${s}//${o}${l}`),cE("Auth",!0)):i||EZ()}function yj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AZ(t){const e=yj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zN(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:zN(o)}}}function zN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _l("not implemented")}_getIdTokenResponse(e){return _l("not implemented")}_linkToIdToken(e,n){return _l("not implemented")}_getReauthenticationResolver(e){return _l("not implemented")}}async function PZ(t,e){return Du(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TZ(t,e){return Yb(t,"POST","/v1/accounts:signInWithPassword",yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CZ(t,e){return Yb(t,"POST","/v1/accounts:signInWithEmailLink",yf(t,e))}async function NZ(t,e){return Yb(t,"POST","/v1/accounts:signInWithEmailLink",yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends i3{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VN(e,n,"signInWithPassword",TZ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return CZ(e,{email:this._email,oobCode:this._password});default:bo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VN(e,r,"signUpPassword",PZ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return NZ(e,{idToken:n,email:this._email,oobCode:this._password});default:bo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t,e){return Yb(t,"POST","/v1/accounts:signInWithIdp",yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IZ="http://localhost";class Jh extends i3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Jh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zd(e,n)}buildRequest(){const e={requestUri:IZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=x0(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OZ(t){const e=Vg(zg(t)).link,n=e?Vg(zg(e)).deep_link_id:null,r=Vg(zg(t)).deep_link_id;return(r?Vg(zg(r)).link:null)||r||n||e||t}class s3{constructor(e){const n=Vg(zg(e)),r=n.apiKey??null,i=n.oobCode??null,s=kZ(n.mode??null);vt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=OZ(e);try{return new s3(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.providerId=Mp.PROVIDER_ID}static credential(e,n){return Qm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=s3.parseLink(n);return vt(r,"argument-error"),Qm._fromEmailAndCode(e,r.code,r.tenantId)}}Mp.PROVIDER_ID="password";Mp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends o3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends k0{constructor(){super("facebook.com")}static credential(e){return Jh._fromParams({providerId:Fc.PROVIDER_ID,signInMethod:Fc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fc.credentialFromTaggedObject(e)}static credentialFromError(e){return Fc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fc.credential(e.oauthAccessToken)}catch{return null}}}Fc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends k0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jh._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yl.credentialFromTaggedObject(e)}static credentialFromError(e){return yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yl.credential(n,r)}catch{return null}}}yl.GOOGLE_SIGN_IN_METHOD="google.com";yl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends k0{constructor(){super("github.com")}static credential(e){return Jh._fromParams({providerId:Bc.PROVIDER_ID,signInMethod:Bc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bc.credentialFromTaggedObject(e)}static credentialFromError(e){return Bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bc.credential(e.oauthAccessToken)}catch{return null}}}Bc.GITHUB_SIGN_IN_METHOD="github.com";Bc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends k0{constructor(){super("twitter.com")}static credential(e,n){return Jh._fromParams({providerId:Uc.PROVIDER_ID,signInMethod:Uc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uc.credentialFromTaggedObject(e)}static credentialFromError(e){return Uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uc.credential(n,r)}catch{return null}}}Uc.TWITTER_SIGN_IN_METHOD="twitter.com";Uc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ko._fromIdTokenResponse(e,r,i),o=$N(r);return new dp({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$N(r);return new dp({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $N(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2 extends qa{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new n2(e,n,r,i)}}function vj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?n2._fromErrorAndOperation(t,s,e,r):s})}async function RZ(t,e,n=!1){const r=await Xm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return dp._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LZ(t,e,n=!1){const{auth:r}=t;if(Cs(r.app))return Promise.reject(hu(r));const i="reauthenticate";try{const s=await Xm(t,vj(r,i,e,t),n);vt(s.idToken,r,"internal-error");const o=n3(s.idToken);vt(o,r,"internal-error");const{sub:a}=o;return vt(t.uid===a,r,"user-mismatch"),dp._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(t,e,n=!1){if(Cs(t.app))return Promise.reject(hu(t));const r="signIn",i=await vj(t,r,e),s=await dp._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function MZ(t,e){return bj(vf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DZ(t){const e=vf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jZ(t,e,n){return Cs(t.app)?Promise.reject(hu(t)):MZ(Fn(t),Mp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DZ(t),r})}function FZ(t,e,n,r){return Fn(t).onIdTokenChanged(e,n,r)}function BZ(t,e,n){return Fn(t).beforeAuthStateChanged(e,n)}function wj(t,e,n,r){return Fn(t).onAuthStateChanged(e,n,r)}function UZ(t){return Fn(t).signOut()}const r2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(r2,"1"),this.storage.removeItem(r2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ=1e3,zZ=10;class xj extends _j{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);aZ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xj.type="LOCAL";const $Z=xj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj extends _j{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sj.type="SESSION";const Aj=Sj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await qZ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=a3("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return window}function WZ(t){Ma().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(){return typeof Ma().WorkerGlobalScope<"u"&&typeof Ma().importScripts=="function"}async function KZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GZ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function YZ(){return Ej()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="firebaseLocalStorageDb",XZ=1,i2="firebaseLocalStorage",Tj="fbase_key";class O0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jb(t,e){return t.transaction([i2],e?"readwrite":"readonly").objectStore(i2)}function QZ(){const t=indexedDB.deleteDatabase(Pj);return new O0(t).toPromise()}function BS(){const t=indexedDB.open(Pj,XZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(i2,{keyPath:Tj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(i2)?e(r):(r.close(),await QZ(),e(await BS()))})})}async function qN(t,e,n){const r=Jb(t,!0).put({[Tj]:e,value:n});return new O0(r).toPromise()}async function JZ(t,e){const n=Jb(t,!1).get(e),r=await new O0(n).toPromise();return r===void 0?null:r.value}function HN(t,e){const n=Jb(t,!0).delete(e);return new O0(n).toPromise()}const ZZ=800,eee=3;class Cj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ej()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qb._getInstance(YZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await KZ(),!this.activeServiceWorker)return;this.sender=new HZ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BS();return await qN(e,r2,"1"),await HN(e,r2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Jb(i,!1).getAll();return new O0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cj.type="LOCAL";const tee=Cj;new I0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t,e){return e?xl(e):(vt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3 extends i3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nee(t){return bj(t.auth,new l3(t),t.bypassAuthState)}function ree(t){const{auth:e,user:n}=t;return vt(n,e,"internal-error"),LZ(n,new l3(t),t.bypassAuthState)}async function iee(t){const{auth:e,user:n}=t;return vt(n,e,"internal-error"),RZ(n,new l3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nee;case"linkViaPopup":case"linkViaRedirect":return iee;case"reauthViaPopup":case"reauthViaRedirect":return ree;default:bo(this.auth,"internal-error")}}resolve(e){Ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see=new I0(2e3,1e4);async function oee(t,e,n){if(Cs(t.app))return Promise.reject(Jo(t,"operation-not-supported-in-this-environment"));const r=vf(t);VJ(t,e,o3);const i=Nj(r,n);return new Sh(r,"signInViaPopup",e,i).executeNotNull()}class Sh extends Ij{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Sh.currentPopupAction&&Sh.currentPopupAction.cancel(),Sh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vt(e,this.auth,"internal-error"),e}async onExecution(){Ul(this.filter.length===1,"Popup operations only handle one event");const e=a3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,see.get())};e()}}Sh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee="pendingRedirect",Gy=new Map;class lee extends Ij{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gy.get(this.auth._key());if(!e){try{const r=await cee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gy.set(this.auth._key(),e)}return this.bypassAuthState||Gy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cee(t,e){const n=fee(e),r=hee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function uee(t,e){Gy.set(t._key(),e)}function hee(t){return xl(t._redirectPersistence)}function fee(t){return Ky(aee,t.config.apiKey,t.name)}async function dee(t,e,n=!1){if(Cs(t.app))return Promise.reject(hu(t));const r=vf(t),i=Nj(r,e),o=await new lee(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=10*60*1e3;class gee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kj(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pee&&this.cachedEventUids.clear(),this.cachedEventUids.has(WN(e))}saveEventToCache(e){this.cachedEventUids.add(WN(e)),this.lastProcessedEventTime=Date.now()}}function WN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yee(t,e={}){return Du(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bee=/^https?/;async function wee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yee(t);for(const n of e)try{if(_ee(n))return}catch{}bo(t,"unauthorized-domain")}function _ee(t){const e=jS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bee.test(n))return!1;if(vee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee=new I0(3e4,6e4);function KN(){const t=Ma().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function See(t){return new Promise((e,n)=>{var i,s,o;function r(){KN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KN(),n(Jo(t,"network-request-failed"))},timeout:xee.get()})}if((s=(i=Ma().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Ma().gapi)!=null&&o.load)r();else{const a=mZ("iframefcb");return Ma()[a]=()=>{gapi.load?r():n(Jo(t,"network-request-failed"))},gj(`${gZ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yy=null,e})}let Yy=null;function Aee(t){return Yy=Yy||See(t),Yy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee=new I0(5e3,15e3),Pee="__/auth/iframe",Tee="emulator/auth/iframe",Cee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iee(t){const e=t.config;vt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?t3(e,Tee):`https://${t.config.authDomain}/${Pee}`,r={apiKey:e.apiKey,appName:t.name,v:df},i=Nee.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${x0(r).slice(1)}`}async function kee(t){const e=await Aee(t),n=Ma().gapi;return vt(n,t,"internal-error"),e.open({where:document.body,url:Iee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cee,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jo(t,"network-request-failed"),a=Ma().setTimeout(()=>{s(o)},Eee.get());function l(){Ma().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ree=500,Lee=600,Mee="_blank",Dee="http://localhost";class GN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jee(t,e,n,r=Ree,i=Lee){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Oee,width:r.toString(),height:i.toString(),top:s,left:o},c=Si().toLowerCase();n&&(a=lj(c)?Mee:n),oj(c)&&(e=e||Dee,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(oZ(c)&&a!=="_self")return Fee(e||"",a),new GN(null);const h=window.open(e||"",a,u);vt(h,t,"popup-blocked");try{h.focus()}catch{}return new GN(h)}function Fee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee="__/auth/handler",Uee="emulator/auth/handler",Vee=encodeURIComponent("fac");async function YN(t,e,n,r,i,s){vt(t.config.authDomain,t,"auth-domain-config-required"),vt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:df,eventId:i};if(e instanceof o3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pG(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof k0){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Vee}=${encodeURIComponent(l)}`:"";return`${zee(t)}?${x0(a).slice(1)}${c}`}function zee({config:t}){return t.emulator?t3(t,Uee):`https://${t.authDomain}/${Bee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="webStorageSupport";class $ee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Aj,this._completeRedirectFn=dee,this._overrideRedirectResult=uee}async _openPopup(e,n,r,i){var o;Ul((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await YN(e,n,r,jS(),i);return jee(e,s,a3())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await YN(e,n,r,jS(),i);return WZ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ul(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kee(e),r=new gee(e);return n.register("authEvent",i=>(vt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(d_,{type:d_},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[d_];s!==void 0&&n(!!s),bo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dj()||aj()||r3()}}const qee=$ee;var XN="@firebase/auth",QN="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kee(t){Yh(new yu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;vt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pj(t)},c=new fZ(r,i,s,l);return xZ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yh(new yu("auth-internal",e=>{const n=vf(e.getProvider("auth").getImmediate());return(r=>new Hee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(XN,QN,Wee(t)),Ia(XN,QN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gee=5*60,Yee=mD("authIdTokenMaxAge")||Gee;let JN=null;const Xee=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Yee)return;const i=n==null?void 0:n.token;JN!==i&&(JN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Qee(t=fE()){const e=Eb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_Z(t,{popupRedirectResolver:qee,persistence:[tee,$Z,Aj]}),r=mD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Xee(s.toString());BZ(n,o,()=>o(n.currentUser)),FZ(n,a=>o(a))}}const i=dD("auth");return i&&SZ(n,`http://${i}`),n}function Jee(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}dZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jo("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Jee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kee("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="firebasestorage.googleapis.com",Rj="storageBucket",Zee=2*60*1e3,ete=10*60*1e3,tte=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends qa{constructor(e,n,r=0){super(p_(e),`Firebase Storage: ${n} (${p_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return p_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var On;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(On||(On={}));function p_(t){return"storage/"+t}function c3(){const t="An unknown error occurred, please check the error payload for server response.";return new $n(On.UNKNOWN,t)}function nte(t){return new $n(On.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rte(t){return new $n(On.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ite(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $n(On.UNAUTHENTICATED,t)}function ste(){return new $n(On.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ote(t){return new $n(On.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Lj(){return new $n(On.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Mj(){return new $n(On.CANCELED,"User canceled the upload/download.")}function ate(t){return new $n(On.INVALID_URL,"Invalid URL '"+t+"'.")}function lte(t){return new $n(On.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cte(){return new $n(On.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Rj+"' property when initializing the app?")}function Dj(){return new $n(On.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ute(){return new $n(On.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function hte(){return new $n(On.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fte(t){return new $n(On.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function US(t){return new $n(On.INVALID_ARGUMENT,t)}function jj(){return new $n(On.APP_DELETED,"The Firebase app was deleted.")}function dte(t){return new $n(On.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gm(t,e){return new $n(On.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _g(t){throw new $n(On.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Os.makeFromUrl(e,n)}catch{return new Os(e,"")}if(r.path==="")return r;throw lte(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",d=new RegExp(`^https?://${h}/${u}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},y=n===Oj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",v=new RegExp(`^https?://${y}/${i}/${b}`,"i"),S=[{regex:a,indices:l,postModify:s},{regex:d,indices:p,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<S.length;I++){const M=S[I],L=M.regex.exec(e);if(L){const T=L[M.indices.bucket];let w=L[M.indices.path];w||(w=""),r=new Os(T,w),M.postModify(r);break}}if(r==null)throw ate(e);return r}}class pte{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,t(d,l())},b)}function f(){s&&clearTimeout(s)}function d(b,...v){if(c){f();return}if(b){f(),u.call(null,b,...v);return}if(l()||o){f(),u.call(null,b,...v);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,h(S)}let p=!1;function y(b){p||(p=!0,f(),!c&&(i!==null?(b||(a=2),clearTimeout(i),h(0)):b||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function mte(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yte(t){return t!==void 0}function vte(t){return typeof t=="function"}function bte(t){return typeof t=="object"&&!Array.isArray(t)}function Zb(t){return typeof t=="string"||t instanceof String}function ZN(t){return u3()&&t instanceof Blob}function u3(){return typeof Blob<"u"}function eI(t,e,n,r){if(r<e)throw US(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw US(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Fj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Lh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Lh||(Lh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e,n,r,i,s,o,a,l,c,u,h,f=!0,d=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new G1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Lh.NO_ERROR,l=s.getStatus();if(!a||Bj(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Lh.ABORT;r(!1,new G1(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new G1(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());yte(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=c3();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?jj():Mj();o(l)}else{const l=Lj();o(l)}};this.canceled_?n(!1,new G1(!1,null,!0)):this.backoffId_=gte(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class G1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _te(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xte(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ste(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ate(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ete(t,e,n,r,i,s,o=!0,a=!1){const l=Fj(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return Ste(u,e),_te(u,n),xte(u,s),Ate(u,r),new wte(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Tte(...t){const e=Pte();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(u3())return new Blob(t);throw new $n(On.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Cte(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(t){if(typeof atob>"u")throw fte("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class g_{constructor(e,n){this.data=e,this.contentType=n||null}}function Ite(t,e){switch(t){case Ea.RAW:return new g_(Uj(e));case Ea.BASE64:case Ea.BASE64URL:return new g_(Vj(t,e));case Ea.DATA_URL:return new g_(Ote(e),Rte(e))}throw c3()}function Uj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function kte(t){let e;try{e=decodeURIComponent(t)}catch{throw gm(Ea.DATA_URL,"Malformed data URL.")}return Uj(e)}function Vj(t,e){switch(t){case Ea.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw gm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ea.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw gm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Nte(e)}catch(i){throw i.message.includes("polyfill")?i:gm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class zj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw gm(Ea.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Lte(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Ote(t){const e=new zj(t);return e.base64?Vj(Ea.BASE64,e.rest):kte(e.rest)}function Rte(t){return new zj(t).contentType}function Lte(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){let r=0,i="";ZN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ZN(this.data_)){const r=this.data_,i=Cte(r,e,n);return i===null?null:new Vc(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Vc(r,!0)}}static getBlob(...e){if(u3()){const n=e.map(r=>r instanceof Vc?r.data_:r);return new Vc(Tte.apply(null,n))}else{const n=e.map(o=>Zb(o)?Ite(Ea.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Vc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){let e;try{e=JSON.parse(t)}catch{return null}return bte(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mte(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Dte(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(t,e){return e}class Oi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||jte}}let Y1=null;function Fte(t){return!Zb(t)||t.length<2?t:qj(t)}function Hj(){if(Y1)return Y1;const t=[];t.push(new Oi("bucket")),t.push(new Oi("generation")),t.push(new Oi("metageneration")),t.push(new Oi("name","fullPath",!0));function e(s,o){return Fte(o)}const n=new Oi("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Oi("size");return i.xform=r,t.push(i),t.push(new Oi("timeCreated")),t.push(new Oi("updated")),t.push(new Oi("md5Hash",null,!0)),t.push(new Oi("cacheControl",null,!0)),t.push(new Oi("contentDisposition",null,!0)),t.push(new Oi("contentEncoding",null,!0)),t.push(new Oi("contentLanguage",null,!0)),t.push(new Oi("contentType",null,!0)),t.push(new Oi("metadata","customMetadata",!0)),Y1=t,Y1}function Bte(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Os(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Ute(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Bte(r,t),r}function Wj(t,e,n){const r=$j(e);return r===null?null:Ute(t,r,n)}function Vte(t,e,n,r){const i=$j(e);if(i===null||!Zb(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),d=R0(f,n,r),p=Fj({alt:"media",token:c});return d+p})[0]}function Kj(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Dp{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){if(!t)throw c3()}function h3(t,e){function n(r,i){const s=Wj(t,i,e);return Cl(s!==null),s}return n}function zte(t,e){function n(r,i){const s=Wj(t,i,e);return Cl(s!==null),Vte(s,i,t.host,t._protocol)}return n}function L0(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ste():i=ite():n.getStatus()===402?i=rte(t.bucket):n.getStatus()===403?i=ote(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Gj(t){const e=L0(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=nte(t.path)),s.serverResponse=i.serverResponse,s}return n}function $te(t,e,n){const r=e.fullServerUrl(),i=R0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Dp(i,s,h3(t,n),o);return a.errorHandler=Gj(e),a}function qte(t,e,n){const r=e.fullServerUrl(),i=R0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Dp(i,s,zte(t,n),o);return a.errorHandler=Gj(e),a}function Hte(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Yj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Hte(null,e)),r}function Wte(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let I=0;I<2;I++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Yj(e,r,i),u=Kj(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",d=Vc.getBlob(h,r,f);if(d===null)throw Dj();const p={name:c.fullPath},y=R0(s,t.host,t._protocol),b="POST",v=t.maxUploadRetryTime,x=new Dp(y,b,h3(t,n),v);return x.urlParams=p,x.headers=o,x.body=d.uploadData(),x.errorHandler=L0(e),x}class s2{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function f3(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Cl(!1)}return Cl(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Kte(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=Yj(e,r,i),a={name:o.fullPath},l=R0(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Kj(o,n),f=t.maxUploadRetryTime;function d(y){f3(y);let b;try{b=y.getResponseHeader("X-Goog-Upload-URL")}catch{Cl(!1)}return Cl(Zb(b)),b}const p=new Dp(l,c,d,f);return p.urlParams=a,p.headers=u,p.body=h,p.errorHandler=L0(e),p}function Gte(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const u=f3(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Cl(!1)}h||Cl(!1);const f=Number(h);return Cl(!isNaN(f)),new s2(f,r.size(),u==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Dp(n,o,s,a);return l.headers=i,l.errorHandler=L0(e),l}const tI=256*1024;function Yte(t,e,n,r,i,s,o,a){const l=new s2(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw ute();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,f=h+u;let d="";u===0?d="finalize":c===u?d="upload, finalize":d="upload";const p={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(h,f);if(y===null)throw Dj();function b(I,M){const L=f3(I,["active","final"]),T=l.current+u,w=r.size();let A;return L==="final"?A=h3(e,s)(I,M):A=null,new s2(T,w,L==="final",A)}const v="POST",x=e.maxUploadRetryTime,S=new Dp(n,v,b,x);return S.headers=p,S.body=y.uploadData(),S.progressCallback=a||null,S.errorHandler=L0(t),S}const Zi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function m_(t){switch(t){case"running":case"pausing":case"canceling":return Zi.RUNNING;case"paused":return Zi.PAUSED;case"success":return Zi.SUCCESS;case"canceled":return Zi.CANCELED;case"error":return Zi.ERROR;default:return Zi.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(e,n,r){if(vte(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Qte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw _g("cannot .send() more than once");if(Ru(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _g("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _g("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _g("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _g("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Jte extends Qte{initXhr(){this.xhr_.responseType="text"}}function hd(){return new Jte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Hj(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(On.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Bj(i.status,[]))if(s)i=Lj();else{this.sleepTime=Math.max(this.sleepTime*2,tte),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(On.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Kte(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,hd,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Gte(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,hd,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=tI*this._chunkMultiplier,n=new s2(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Yte(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,hd,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){tI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=$te(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,hd,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Wte(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,hd,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Mj(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=m_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Xte(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(m_(this._state)){case Zi.SUCCESS:td(this._resolve.bind(null,this.snapshot))();break;case Zi.CANCELED:case Zi.ERROR:const n=this._reject;td(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(m_(this._state)){case Zi.RUNNING:case Zi.PAUSED:e.next&&td(e.next.bind(e,this.snapshot))();break;case Zi.SUCCESS:e.complete&&td(e.complete.bind(e))();break;case Zi.CANCELED:case Zi.ERROR:e.error&&td(e.error.bind(e,this._error))();break;default:e.error&&td(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this._service=e,n instanceof Os?this._location=n:this._location=Os.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zh(e,n)}get root(){const e=new Os(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qj(this._location.path)}get storage(){return this._service}get parent(){const e=Mte(this._location.path);if(e===null)return null;const n=new Os(this._location.bucket,e);return new Zh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dte(e)}}function ene(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Zte(t,new Vc(e),n)}function tne(t){t._throwIfRoot("getDownloadURL");const e=qte(t.storage,t._location,Hj());return t.storage.makeRequestWithTokens(e,hd).then(n=>{if(n===null)throw hte();return n})}function nne(t,e){const n=Dte(t._location.path,e),r=new Os(t._location.bucket,n);return new Zh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rne(t){return/^[A-Za-z]+:\/\//.test(t)}function ine(t,e){return new Zh(t,e)}function Xj(t,e){if(t instanceof d3){const n=t;if(n._bucket==null)throw cte();const r=new Zh(n,n._bucket);return e!=null?Xj(r,e):r}else return e!==void 0?nne(t,e):t}function sne(t,e){if(e&&rne(e)){if(t instanceof d3)return ine(t,e);throw US("To use ref(service, url), the first argument must be a Storage instance.")}else return Xj(t,e)}function nI(t,e){const n=e==null?void 0:e[Rj];return n==null?null:Os.makeFromBucketSpec(n,t)}function one(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ru(e);i&&(lE(`https://${t.host}/b`),cE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:yD(s,t.app.options.projectId))}class d3{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=Oj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Zee,this._maxUploadRetryTime=ete,this._requests=new Set,i!=null?this._bucket=Os.makeFromBucketSpec(i,this._host):this._bucket=nI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Os.makeFromBucketSpec(this._url,e):this._bucket=nI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new pte(jj());{const o=Ete(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const rI="@firebase/storage",iI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="storage";function Jj(t,e,n){return t=Fn(t),ene(t,e,n)}function Zj(t){return t=Fn(t),tne(t)}function eF(t,e){return t=Fn(t),sne(t,e)}function ane(t=fE(),e){t=Fn(t);const r=Eb(t,Qj).getImmediate({identifier:e}),i=pD("storage");return i&&lne(r,...i),r}function lne(t,e,n,r={}){one(t,e,n,r)}function cne(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new d3(n,r,i,e,df)}function une(){Yh(new yu(Qj,cne,"PUBLIC").setMultipleInstances(!0)),Ia(rI,iI,""),Ia(rI,iI,"esm2020")}une();const hne={apiKey:"AIzaSyAbswMvuB3kHMVZk2D9SeoQHBpmG9hZgwU",authDomain:"imagique-holding.firebaseapp.com",projectId:"imagique-holding",storageBucket:"imagique-holding.firebasestorage.app",messagingSenderId:"62617776910",appId:"1:62617776910:web:5da1183e6e8444571a9d5f",measurementId:"G-TVSCD2N4V4"},p3=wD(hne),Rt=PJ(p3);CY("silent");const ef=Qee(p3),tF=ane(p3),nF=H.createContext(),ju=()=>H.useContext(nF),fne=({children:t})=>{const[e,n]=H.useState(null),[r,i]=H.useState(null),[s,o]=H.useState(!0);return H.useEffect(()=>wj(ef,async l=>{if(l){const c=["congoalibaba@gmail.com","plilembo@gmail.com","fabricekibazola@gmail.com"],u=Er(Rt,"users",l.uid),h=await Qh(u);let f="client";c.includes(l.email)?f="admin":h.exists()&&(f=h.data().role||"client"),n(l),i(f)}else n(null),i(null);o(!1)}),[]),D.jsx(nF.Provider,{value:{currentUser:e,role:r,loading:s},children:t})},jo=({children:t,allowedRoles:e})=>{const{currentUser:n,role:r,loading:i}=ju(),s=ff();return i?D.jsx("div",{className:"flex items-center justify-center h-screen text-gray-600 text-lg",children:"⏳ Vérification de l'authentification..."}):n?e&&!e.includes(r)?D.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[D.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"🚫 Accès refusé"}),D.jsxs("p",{className:"mt-2 text-gray-700",children:["Votre rôle (",D.jsx("strong",{children:r}),") ne permet pas d’accéder à cette page."]})]}):t:D.jsx(cD,{to:"/login",state:{from:s},replace:!0})},dne="/assets/logo-imagique-45070c9b.png",pne=()=>{const[t,e]=H.useState(""),[n,r]=H.useState(""),[i,s]=H.useState(!1),o=$a(),a=["congoalibaba@gmail.com","plilembo@gmail.com","fabricekibazola@gmail.com"],l=async()=>{try{const u=new yl,f=(await oee(ef,u)).user,d=a.includes(f.email)?"admin":"client",p=Er(Rt,"users",f.uid);(await Qh(p)).exists()||await DS(p,{email:f.email,displayName:f.displayName,role:d}),localStorage.setItem("user",JSON.stringify({...f,role:d})),o("/dashboard")}catch(u){console.error("Google login error:",u),alert("Google login failed")}},c=async u=>{u.preventDefault();try{const f=(await jZ(ef,t,n)).user,d=a.includes(f.email)?"admin":"client",p=Er(Rt,"users",f.uid);(await Qh(p)).exists()||await DS(p,{email:f.email,displayName:f.displayName||t,role:d}),localStorage.setItem("user",JSON.stringify({...f,role:d})),o("/dashboard")}catch(h){console.error("Email login error:",h),alert("Login failed: "+h.message)}};return D.jsxs("div",{className:"relative flex flex-col items-center justify-center h-screen overflow-hidden",children:[D.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-600 via-black via-yellow-400 to-pink-500 animate-gradient"}),[...Array(12)].map((u,h)=>D.jsx("div",{className:"bubble absolute bg-white opacity-20 rounded-full",style:{width:`${Math.random()*40+10}px`,height:`${Math.random()*40+10}px`,left:`${Math.random()*100}%`,bottom:`-${Math.random()*100}px`,animationDuration:`${Math.random()*10+10}s`,animationDelay:`${Math.random()*10}s`}},h)),D.jsxs("div",{className:"relative z-10 bg-white bg-opacity-10 backdrop-blur-md p-8 rounded-xl shadow-lg w-96 border border-white border-opacity-20 transition-transform duration-500 ease-in-out transform hover:scale-105 neon-shadow",children:[D.jsx("div",{className:"flex justify-center mb-6",children:D.jsx("img",{src:dne,alt:"Imagique",className:"h-16"})}),D.jsx("h2",{className:"text-2xl font-semibold text-center mb-4 text-white",children:"Connexion"}),D.jsxs("form",{onSubmit:c,className:"space-y-4",children:[D.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-4 py-2 border rounded-lg bg-white bg-opacity-20 text-white placeholder-gray-200",value:t,onChange:u=>e(u.target.value),required:!0}),D.jsx("input",{type:"password",placeholder:"Mot de passe",className:"w-full px-4 py-2 border rounded-lg bg-white bg-opacity-20 text-white placeholder-gray-200",value:n,onChange:u=>r(u.target.value),required:!0}),D.jsxs("div",{className:"flex items-center text-white",children:[D.jsx("input",{type:"checkbox",checked:i,onChange:u=>s(u.target.checked),className:"mr-2"}),D.jsx("span",{children:"Se souvenir de moi"})]}),D.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Se connecter"})]}),D.jsx("div",{className:"mt-6",children:D.jsx("button",{onClick:l,className:"w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600",children:"Connexion avec Google"})})]}),D.jsx("div",{className:"absolute bottom-4 text-white text-sm opacity-70",children:"Alimenté par Alibaba Group"})]})};var rF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sI=Yo.createContext&&Yo.createContext(rF),gne=["attr","size","title"];function mne(t,e){if(t==null)return{};var n=yne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function o2(){return o2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o2.apply(this,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vne(t,e,n){return e=bne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=wne(t,"string");return typeof e=="symbol"?e:e+""}function wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iF(t){return t&&t.map((e,n)=>Yo.createElement(e.tag,a2({key:n},e.attr),iF(e.child)))}function Rn(t){return e=>Yo.createElement(_ne,o2({attr:a2({},t.attr)},e),iF(t.child))}function _ne(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=mne(t,gne),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Yo.createElement("svg",o2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:a2(a2({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Yo.createElement("title",null,s),t.children)};return sI!==void 0?Yo.createElement(sI.Consumer,null,n=>e(n)):e(rF)}function aI(t){return Rn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function xne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(t)}function Sne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(t)}function Ane(t){return Rn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Ene(t){return Rn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Pne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function Tne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function sF(t){return Rn({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function Cne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function oF(t){return Rn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Nne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function aF(t){return Rn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function Ine(t){return Rn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(t)}function lF(t){return Rn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function kne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(t)}function cF(t){return Rn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function One(t){return Rn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function Rne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function Lne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function Mne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function VS(t){return Rn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Dne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function jne(t){return Rn({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function uF(t){return Rn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function lI(t){return Rn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Fne(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Bne(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pd=function(){return Pd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pd.apply(this,arguments)},hF=function(t){return{loading:t==null,value:t}},Une=function(){return function(t,e){switch(e.type){case"error":return Pd(Pd({},t),{error:e.error,loading:!1,value:void 0});case"reset":return hF(e.defaultValue);case"value":return Pd(Pd({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Vne=function(t){var e=t?t():void 0,n=H.useReducer(Une(),hF(e)),r=n[0],i=n[1],s=H.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=H.useCallback(function(l){i({type:"error",error:l})},[]),a=H.useCallback(function(l){i({type:"value",value:l})},[]);return H.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},zne=function(t,e){var n=Vne(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return H.useEffect(function(){var l=wj(t,function(c){return Fne(void 0,void 0,void 0,function(){var u;return Bne(this,function(h){switch(h.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return h.sent(),[3,4];case 3:return u=h.sent(),s(u),[3,4];case 4:return o(c),[2]}})})},s);return function(){l()}},[t]),[a,i,r]};const M0=({onItemClick:t})=>{const e=ff(),n=$a(),[r,i]=H.useState(0),[s,o]=H.useState(null),[a]=zne(ef),l=H.useRef(null);H.useEffect(()=>{(async()=>{const h=await Va(vr(Rt,"cotations"));i(h.size)})()},[]),H.useEffect(()=>{(async()=>{if(!a)return;const h=Er(Rt,"users",a.uid),f=await Qh(h);f.exists()&&o(f.data().role)})()},[a]),H.useEffect(()=>()=>clearTimeout(l.current),[]);const c=h=>{n(h),t==null||t()},u=[{path:"/dashboard",label:"Dashboard",icon:D.jsx(aF,{})},{path:"/commandes",label:"Commandes",icon:D.jsx(Nne,{})},{path:"/ajouter-commande",label:"Ajouter",icon:D.jsx(Rne,{})},{path:"/clients",label:"Clients",icon:D.jsx(lI,{})},...s==="admin"?[{path:"/finances",label:"Finances",icon:D.jsx(kne,{})},{path:"/admin-panel",label:"Admin Panel",icon:D.jsx(Tne,{})}]:[],{path:"/cotation",label:"Cotation",icon:D.jsx(Sne,{})},{path:"/cotations",label:`Cotations (${r})`,icon:D.jsx(Ene,{})},{path:"/produits-evalues",label:"Produits",icon:D.jsx(xne,{})}];return D.jsx("aside",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-blue-800 to-blue-900 text-white shadow z-50",children:D.jsxs("div",{className:"flex gap-2 overflow-x-auto px-2 py-2 justify-center",children:[u.map(({path:h,label:f,icon:d})=>{const p=e.pathname===h;return D.jsxs("button",{onClick:()=>c(h),className:`flex flex-col items-center justify-center rounded transition-all duration-300 ease-in-out px-2 py-1 ${p?"bg-white text-blue-800":"hover:bg-white/20"}`,children:[D.jsx("span",{className:"text-[18px] sm:text-[20px] md:text-[22px] lg:text-[24px]",children:d}),D.jsx("span",{className:"text-[10px] sm:text-[11px] md:text-[12px] lg:text-[14px] mt-0.5 whitespace-nowrap",children:f})]},h)}),D.jsxs("button",{onClick:()=>console.log("Déconnexion"),className:"flex flex-col items-center justify-center rounded transition-all duration-300 ease-in-out px-2 py-1 hover:bg-white/20",children:[D.jsx(lI,{className:"text-[18px] sm:text-[20px] md:text-[22px] lg:text-[24px]"}),D.jsx("span",{className:"text-[10px] sm:text-[11px] md:text-[12px] lg:text-[14px] mt-0.5 whitespace-nowrap",children:"Déconnexion"})]})]})})},D0=()=>{var s;const{currentUser:t,role:e}=ju(),[n,r]=H.useState(!1),i=async()=>{await UZ(ef),window.location.href="/login"};return D.jsxs("header",{className:"bg-white shadow px-6 py-4 flex justify-between items-center border-b border-pink-100",children:[D.jsx("h1",{className:"text-2xl font-bold text-[#EC1E79]",children:"IMAGIQUE HOLDING"}),D.jsxs("div",{className:"relative flex items-center gap-4 text-gray-700",children:[D.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-3 focus:outline-none",children:[t!=null&&t.photoURL?D.jsx("img",{src:t.photoURL,alt:"Profil",className:"w-12 h-12 rounded-full border-2 border-pink-400 shadow-sm"}):D.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-pink-200 text-pink-700 rounded-full text-xl font-bold",children:((s=t==null?void 0:t.displayName)==null?void 0:s[0])||"U"}),D.jsxs("div",{className:"hidden md:block text-left",children:[D.jsx("p",{className:"font-semibold",children:(t==null?void 0:t.displayName)||"Utilisateur"}),D.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email}),e&&D.jsx("span",{className:"inline-block text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded mt-1",children:e==="admin"?"Administrateur":"Agent"})]})]}),n&&D.jsxs("div",{className:"absolute top-16 right-0 bg-white shadow-md rounded-md w-48 py-2 z-50",children:[D.jsxs("div",{className:"px-4 py-2 text-gray-600 text-sm border-b",children:["Connecté en tant que",D.jsx("br",{}),D.jsx("span",{className:"font-semibold",children:t==null?void 0:t.email})]}),D.jsxs("button",{onClick:()=>alert("Fonction Profil à implémenter"),className:"flex items-center gap-2 w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:[D.jsx(jne,{})," Voir Profil"]}),D.jsxs("button",{onClick:i,className:"flex items-center gap-2 w-full px-4 py-2 text-red-600 hover:bg-red-100",children:[D.jsx(Dne,{})," Déconnexion"]})]})]})]})},$ne=({orders:t,role:e})=>{const n=t.length,r=t.filter(a=>a.status&&["validé","receptionrdc"].includes(a.status.toLowerCase())).length,i=t.filter(a=>a.status&&["depotshenzen","expeditionrdc"].includes(a.status.toLowerCase())).length,s=t.reduce((a,l)=>a+(l.total||0),0),o=[{title:"Total commandes",value:n,icon:D.jsx(VS,{}),color:"bg-blue-100 text-blue-700",link:"/commandes"},{title:"Commandes terminées",value:r,icon:D.jsx(Ane,{}),color:"bg-green-100 text-green-700"},{title:"En attente",value:i,icon:D.jsx(Ine,{}),color:"bg-yellow-100 text-yellow-700"}];return e==="admin"&&o.push({title:"Revenu total",value:`${s.toFixed(2)} $`,icon:D.jsx(sF,{}),color:"bg-purple-100 text-purple-700"}),D.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:o.map((a,l)=>{const c=D.jsxs("div",{className:`flex items-center p-4 rounded-xl shadow hover:shadow-lg transition cursor-pointer ${a.color}`,children:[D.jsx("div",{className:"text-2xl mr-3",children:a.icon}),D.jsxs("div",{children:[D.jsx("h3",{className:"text-sm font-semibold",children:a.title}),D.jsx("p",{className:"text-lg font-bold",children:a.value})]})]});return a.link?D.jsx(lm,{to:a.link,children:c},l):D.jsx("div",{children:c},l)})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function j0(t){return t+.5|0}const Kc=(t,e,n)=>Math.max(Math.min(t,n),e);function Kg(t){return Kc(j0(t*2.55),0,255)}function fu(t){return Kc(j0(t*255),0,255)}function ml(t){return Kc(j0(t/2.55)/100,0,1)}function cI(t){return Kc(j0(t*100),0,100)}const no={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zS=[..."0123456789ABCDEF"],qne=t=>zS[t&15],Hne=t=>zS[(t&240)>>4]+zS[t&15],X1=t=>(t&240)>>4===(t&15),Wne=t=>X1(t.r)&&X1(t.g)&&X1(t.b)&&X1(t.a);function Kne(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&no[t[1]]*17,g:255&no[t[2]]*17,b:255&no[t[3]]*17,a:e===5?no[t[4]]*17:255}:(e===7||e===9)&&(n={r:no[t[1]]<<4|no[t[2]],g:no[t[3]]<<4|no[t[4]],b:no[t[5]]<<4|no[t[6]],a:e===9?no[t[7]]<<4|no[t[8]]:255})),n}const Gne=(t,e)=>t<255?e(t):"";function Yne(t){var e=Wne(t)?qne:Hne;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Gne(t.a,e):void 0}const Xne=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fF(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Qne(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Jne(t,e,n){const r=fF(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Zne(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function g3(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Zne(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function m3(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(fu)}function y3(t,e,n){return m3(fF,t,e,n)}function ere(t,e,n){return m3(Jne,t,e,n)}function tre(t,e,n){return m3(Qne,t,e,n)}function dF(t){return(t%360+360)%360}function nre(t){const e=Xne.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Kg(+e[5]):fu(+e[5]));const i=dF(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=ere(i,s,o):e[1]==="hsv"?r=tre(i,s,o):r=y3(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function rre(t,e){var n=g3(t);n[0]=dF(n[0]+e),n=y3(n),t.r=n[0],t.g=n[1],t.b=n[2]}function ire(t){if(!t)return;const e=g3(t),n=e[0],r=cI(e[1]),i=cI(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ml(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const uI={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hI={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function sre(){const t={},e=Object.keys(hI),n=Object.keys(uI);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,uI[s]);s=parseInt(hI[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Q1;function ore(t){Q1||(Q1=sre(),Q1.transparent=[0,0,0,0]);const e=Q1[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const are=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function lre(t){const e=are.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Kg(o):Kc(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Kg(r):Kc(r,0,255)),i=255&(e[4]?Kg(i):Kc(i,0,255)),s=255&(e[6]?Kg(s):Kc(s,0,255)),{r,g:i,b:s,a:n}}}function cre(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ml(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const y_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,nd=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ure(t,e,n){const r=nd(ml(t.r)),i=nd(ml(t.g)),s=nd(ml(t.b));return{r:fu(y_(r+n*(nd(ml(e.r))-r))),g:fu(y_(i+n*(nd(ml(e.g))-i))),b:fu(y_(s+n*(nd(ml(e.b))-s))),a:t.a+n*(e.a-t.a)}}function J1(t,e,n){if(t){let r=g3(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=y3(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function pF(t,e){return t&&Object.assign(e||{},t)}function fI(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=fu(t[3]))):(e=pF(t,{r:0,g:0,b:0,a:1}),e.a=fu(e.a)),e}function hre(t){return t.charAt(0)==="r"?lre(t):nre(t)}let gF=class $S{constructor(e){if(e instanceof $S)return e;const n=typeof e;let r;n==="object"?r=fI(e):n==="string"&&(r=Kne(e)||ore(e)||hre(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=pF(this._rgb);return e&&(e.a=ml(e.a)),e}set rgb(e){this._rgb=fI(e)}rgbString(){return this._valid?cre(this._rgb):void 0}hexString(){return this._valid?Yne(this._rgb):void 0}hslString(){return this._valid?ire(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=ure(this._rgb,e._rgb,n)),this}clone(){return new $S(this.rgb)}alpha(e){return this._rgb.a=fu(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=j0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return J1(this._rgb,2,e),this}darken(e){return J1(this._rgb,2,-e),this}saturate(e){return J1(this._rgb,1,e),this}desaturate(e){return J1(this._rgb,1,-e),this}rotate(e){return rre(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ul(){}const fre=(()=>{let t=0;return()=>t++})();function en(t){return t==null}function Dn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Kt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function jr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Es(t,e){return jr(t)?t:e}function Wt(t,e){return typeof t>"u"?e:t}const dre=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function _n(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function on(t,e,n,r){let i,s,o;if(Dn(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(Kt(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function l2(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function c2(t){if(Dn(t))return t.map(c2);if(Kt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=c2(t[n[i]]);return e}return t}function mF(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function pre(t,e,n,r){if(!mF(t))return;const i=e[t],s=n[t];Kt(i)&&Kt(s)?Jm(i,s,r):e[t]=c2(s)}function Jm(t,e,n){const r=Dn(e)?e:[e],i=r.length;if(!Kt(t))return t;n=n||{};const s=n.merger||pre;let o;for(let a=0;a<i;++a){if(o=r[a],!Kt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function mm(t,e){return Jm(t,e,{merger:gre})}function gre(t,e,n){if(!mF(t))return;const r=e[t],i=n[t];Kt(r)&&Kt(i)?mm(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=c2(i))}const dI={"":t=>t,x:t=>t.x,y:t=>t.y};function mre(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function yre(t){const e=mre(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function pp(t,e){return(dI[e]||(dI[e]=yre(e)))(t)}function v3(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Zm=t=>typeof t<"u",Eu=t=>typeof t=="function",pI=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function vre(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Br=Math.PI,Da=2*Br,u2=Number.POSITIVE_INFINITY,bre=Br/180,Rs=Br/2,oh=Br/4,gI=Br*2/3,Gc=Math.log10,du=Math.sign;function Xy(t,e,n){return Math.abs(t-e)<n}function mI(t){const e=Math.round(t);t=Xy(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Gc(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function wre(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function _re(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function h2(t){return!_re(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function xre(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function yF(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Yc(t){return t*(Br/180)}function b3(t){return t*(180/Br)}function yI(t){if(!jr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Sre(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Br&&(s+=Da),{angle:s,distance:i}}function Are(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function xa(t){return(t%Da+Da)%Da}function Ere(t,e,n,r){const i=xa(t),s=xa(e),o=xa(n),a=xa(s-i),l=xa(o-i),c=xa(i-s),u=xa(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Go(t,e,n){return Math.max(e,Math.min(n,t))}function Pre(t){return Go(t,-32768,32767)}function Td(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function w3(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const qS=(t,e,n,r)=>w3(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Tre=(t,e,n)=>w3(t,n,r=>t[r][e]>=n);function Cre(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const vF=["push","pop","shift","splice","unshift"];function Nre(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),vF.forEach(n=>{const r="_onData"+v3(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function vI(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(vF.forEach(s=>{delete t[s]}),delete t._chartjs)}function bF(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const wF=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function _F(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,wF.call(window,()=>{r=!1,t.apply(e,n)}))}}function Ire(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const _3=t=>t==="start"?"left":t==="end"?"right":"center",gi=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,kre=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Z1=t=>t===0||t===1,bI=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Da/n)),wI=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Da/n)+1,ym={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Rs)+1,easeOutSine:t=>Math.sin(t*Rs),easeInOutSine:t=>-.5*(Math.cos(Br*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Z1(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Z1(t)?t:bI(t,.075,.3),easeOutElastic:t=>Z1(t)?t:wI(t,.075,.3),easeInOutElastic(t){return Z1(t)?t:t<.5?.5*bI(t*2,.1125,.45):.5+.5*wI(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ym.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ym.easeInBounce(t*2)*.5:ym.easeOutBounce(t*2-1)*.5+.5};function xF(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function _I(t){return xF(t)?t:new gF(t)}function v_(t){return xF(t)?t:new gF(t).saturate(.5).darken(.1).hexString()}const Ore=["x","y","borderWidth","radius","tension"],Rre=["color","borderColor","backgroundColor"];function Lre(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Rre},numbers:{type:"number",properties:Ore}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Mre(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const xI=new Map;function Dre(t,e){e=e||{};const n=t+JSON.stringify(e);let r=xI.get(n);return r||(r=new Intl.NumberFormat(t,e),xI.set(n,r)),r}function x3(t,e,n){return Dre(e,n).format(t)}const SF={values(t){return Dn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=jre(t,n)}const o=Gc(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),x3(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Gc(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?SF.numeric.call(this,t,e,n):""}};function jre(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var ew={formatters:SF};function Fre(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ew.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const tf=Object.create(null),HS=Object.create(null);function vm(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function b_(t,e,n){return typeof e=="string"?Jm(vm(t,e),n):Jm(vm(t,""),e)}class Bre{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>v_(i.backgroundColor),this.hoverBorderColor=(r,i)=>v_(i.borderColor),this.hoverColor=(r,i)=>v_(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return b_(this,e,n)}get(e){return vm(this,e)}describe(e,n){return b_(HS,e,n)}override(e,n){return b_(tf,e,n)}route(e,n,r,i){const s=vm(this,e),o=vm(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Kt(l)?Object.assign({},c,l):Wt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Jn=new Bre({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Lre,Mre,Fre]);function Ure(t){return!t||en(t.size)||en(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function f2(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Vre(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Dn(h))o=f2(t,i,s,o,h);else if(Dn(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!Dn(f)&&(o=f2(t,i,s,o,f));t.restore();const d=s.length/2;if(d>n.length){for(l=0;l<d;l++)delete i[s[l]];s.splice(0,d)}return o}function ah(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function SI(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function AI(t,e,n,r){AF(t,e,n,r,null)}function AF(t,e,n,r,i){let s,o,a,l,c,u,h,f;const d=e.pointStyle,p=e.rotation,y=e.radius;let b=(p||0)*bre;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),d){default:i?t.ellipse(n,r,i/2,y,0,0,Da):t.arc(n,r,y,0,Da),t.closePath();break;case"triangle":u=i?i/2:y,t.moveTo(n+Math.sin(b)*u,r-Math.cos(b)*y),b+=gI,t.lineTo(n+Math.sin(b)*u,r-Math.cos(b)*y),b+=gI,t.lineTo(n+Math.sin(b)*u,r-Math.cos(b)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(b+oh)*l,h=Math.cos(b+oh)*(i?i/2-c:l),a=Math.sin(b+oh)*l,f=Math.sin(b+oh)*(i?i/2-c:l),t.arc(n-h,r-a,c,b-Br,b-Rs),t.arc(n+f,r-o,c,b-Rs,b),t.arc(n+h,r+a,c,b,b+Rs),t.arc(n-f,r+o,c,b+Rs,b+Br),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*y,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}b+=oh;case"rectRot":h=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),t.moveTo(n-h,r-a),t.lineTo(n+f,r-o),t.lineTo(n+h,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":b+=oh;case"cross":h=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":h=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),b+=oh,h=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(b)*y,a=Math.sin(b)*y,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(i?i/2:y),r+Math.sin(b)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Cd(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function S3(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function A3(t){t.restore()}function zre(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),en(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function $re(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function qre(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function nf(t,e,n,r,i,s={}){const o=Dn(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,zre(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&qre(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),en(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),$re(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function e0(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Br,Br,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Br,Rs,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Rs,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Rs,!0),t.lineTo(n+o.topLeft,r)}const Hre=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Wre=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Kre(t,e){const n=(""+t).match(Hre);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Gre=t=>+t||0;function EF(t,e){const n={},r=Kt(e),i=r?Object.keys(e):e,s=Kt(t)?r?o=>Wt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=Gre(s(o));return n}function PF(t){return EF(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Mh(t){return EF(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ai(t){const e=PF(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Pr(t,e){t=t||{},e=e||Jn.font;let n=Wt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Wt(t.style,e.style);r&&!(""+r).match(Wre)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Wt(t.family,e.family),lineHeight:Kre(Wt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Wt(t.weight,e.weight),string:""};return i.string=Ure(i),i}function ey(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&Dn(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function Yre(t,e,n){const{min:r,max:i}=t,s=dre(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function bf(t,e){return Object.assign(Object.create(t),e)}function E3(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=IF("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>E3([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return CF(a,l,()=>rie(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return PI(a).includes(l)},ownKeys(a){return PI(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function gp(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:TF(t,r),setContext:s=>gp(t,s,n,r),override:s=>gp(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return CF(s,o,()=>Qre(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function TF(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Eu(n)?n:()=>n,isIndexable:Eu(r)?r:()=>r}}const Xre=(t,e)=>t?t+v3(e):e,P3=(t,e)=>Kt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function CF(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function Qre(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Eu(a)&&o.isScriptable(e)&&(a=Jre(e,a,t,n)),Dn(a)&&a.length&&(a=Zre(e,a,t,o.isIndexable)),P3(e,a)&&(a=gp(a,i,s&&s[e],o)),a}function Jre(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),P3(t,l)&&(l=T3(i._scopes,i,t,l)),l}function Zre(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Kt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=T3(c,i,t,u);e.push(gp(h,s,o&&o[t],a))}}return e}function NF(t,e,n){return Eu(t)?t(e,n):t}const eie=(t,e)=>t===!0?e:typeof t=="string"?pp(e,t):void 0;function tie(t,e,n,r,i){for(const s of e){const o=eie(n,s);if(o){t.add(o);const a=NF(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function T3(t,e,n,r){const i=e._rootScopes,s=NF(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=EI(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=EI(a,o,s,l,r),l===null)?!1:E3(Array.from(a),[""],i,s,()=>nie(e,n,r))}function EI(t,e,n,r,i){for(;n;)n=tie(t,e,n,r,i);return n}function nie(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Dn(i)&&Kt(n)?n:i||{}}function rie(t,e,n,r){let i;for(const s of e)if(i=IF(Xre(s,t),n),typeof i<"u")return P3(t,i)?T3(n,r,t,i):i}function IF(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function PI(t){let e=t._keys;return e||(e=t._keys=iie(t._scopes)),e}function iie(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function C3(){return typeof window<"u"&&typeof document<"u"}function N3(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function d2(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const tw=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function sie(t,e){return tw(t).getPropertyValue(e)}const oie=["top","right","bottom","left"];function Dh(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=oie[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const aie=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function lie(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(aie(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function dh(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=tw(n),s=i.boxSizing==="border-box",o=Dh(i,"padding"),a=Dh(i,"border","width"),{x:l,y:c,box:u}=lie(t,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:d,height:p}=e;return s&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/d*n.width/r),y:Math.round((c-f)/p*n.height/r)}}function cie(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&N3(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=tw(s),l=Dh(a,"border","width"),c=Dh(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=d2(a.maxWidth,s,"clientWidth"),i=d2(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||u2,maxHeight:i||u2}}const ty=t=>Math.round(t*10)/10;function uie(t,e,n,r){const i=tw(t),s=Dh(i,"margin"),o=d2(i.maxWidth,t,"clientWidth")||u2,a=d2(i.maxHeight,t,"clientHeight")||u2,l=cie(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=Dh(i,"border","width"),d=Dh(i,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=ty(Math.min(c,o,l.maxWidth)),u=ty(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ty(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=ty(Math.floor(u*r))),{width:c,height:u}}function TI(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const hie=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};C3()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function CI(t,e){const n=sie(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const fie=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},die=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function $d(t,e,n){return t?fie(e,n):die()}function kF(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function OF(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ny(t,e,n){return t.options.clip?t[n]:e[n]}function pie(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:ny(n,e,"left"),right:ny(n,e,"right"),top:ny(r,e,"top"),bottom:ny(r,e,"bottom")}:e}function gie(t,e){const n=e._clip;if(n.disabled)return!1;const r=pie(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mie{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=wF.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var fl=new mie;const NI="transparent",yie={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=_I(t||NI),i=r.valid&&_I(e||NI);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class vie{constructor(e,n,r,i){const s=n[r];i=ey([e.to,i,s,e.from]);const o=ey([e.from,s,i]);this._active=!0,this._fn=e.fn||yie[e.type||typeof o],this._easing=ym[e.easing]||ym.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ey([e.to,n,i,e.from]),this._from=ey([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class RF{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Kt(e))return;const n=Object.keys(Jn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Kt(s))return;const o={};for(const a of n)o[a]=s[a];(Dn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=wie(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&bie(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const f=r.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=h=new vie(f,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return fl.add(this._chart,r),!0}}function bie(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function wie(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function II(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function _ie(t,e,n){if(n===!1)return!1;const r=II(t,n),i=II(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function xie(t){let e,n,r,i;return Kt(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function LF(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function kI(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],jr(c)&&(s||e===0||du(e)===du(c))&&(e+=c)}return!u&&!r.all?0:e}function Sie(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function w_(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Aie(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Eie(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Pie(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function OI(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function RI(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=Aie(s,o,r),h=e.length;let f;for(let d=0;d<h;++d){const p=e[d],{[l]:y,[c]:b}=p,v=p._stacks||(p._stacks={});f=v[c]=Pie(i,u,y),f[a]=b,f._top=OI(f,o,!0,r.type),f._bottom=OI(f,o,!1,r.type);const x=f._visualValues||(f._visualValues={});x[a]=b}}function __(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Tie(t,e){return bf(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Cie(t,e,n){return bf(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function xg(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const x_=t=>t==="reset"||t==="none",LI=(t,e)=>e?t:Object.assign({},t),Nie=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:LF(n,!0),values:null};class bm{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=w_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&xg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,f,d,p)=>h==="x"?f:h==="r"?p:d,s=n.xAxisID=Wt(r.xAxisID,__(e,"x")),o=n.yAxisID=Wt(r.yAxisID,__(e,"y")),a=n.rAxisID=Wt(r.rAxisID,__(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vI(this._data,this),e._stacked&&xg(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Kt(n)){const i=this._cachedMeta;this._data=Sie(n,i)}else if(r!==n){if(r){vI(r,this);const i=this._cachedMeta;xg(i),i._parsed=[]}n&&Object.isExtensible(n)&&Nre(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=w_(n.vScale,n),n.stack!==r.stack&&(i=!0,xg(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(RI(this,n._parsed),n._stacked=w_(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{Dn(i[e])?f=this.parseArrayData(r,i,e,n):Kt(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const d=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=h=f[u],l&&(d()&&(l=!1),c=h);r._sorted=l}o&&RI(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let f,d,p;for(f=0,d=i;f<d;++f)p=f+r,h[f]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,d;for(u=0,h=i;u<h;++u)f=u+r,d=n[f],c[u]={x:s.parse(pp(d,a),f),y:o.parse(pp(d,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:LF(i,!0),values:n._stacks[e.axis]._visualValues};return kI(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=kI(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=Nie(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Eie(a);let f,d;function p(){d=i[f];const y=d[a.axis];return!jr(d[e.axis])||u>y||h<y}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,e,d,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,d,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],jr(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=xie(Wt(this.options.clip,_ie(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Cie(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Tie(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Zm(r);if(a)return LI(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),d=Object.keys(Jn.elements[e]),p=()=>this.getContext(r,i,n),y=c.resolveNamedOptions(f,d,p,h);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(LI(y,l))),y}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,r,n))}const c=new RF(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||x_(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){x_(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!x_(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&xg(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}It(bm,"defaults",{}),It(bm,"datasetElementType",null),It(bm,"dataElementType",null);function Iie(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=bF(r.sort((i,s)=>i-s))}return t._cache.$bar}function kie(t){const e=t.iScale,n=Iie(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(Zm(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function Oie(t,e,n,r){const i=n.barThickness;let s,o;return en(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function Rie(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function Lie(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function MF(t,e,n,r){return Dn(t)?Lie(t,e,n,r):e[n.axis]=n.parse(t,r),e}function MI(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,f;for(c=n,u=n+r;c<u;++c)f=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(MF(f,h,s,c));return l}function S_(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Mie(t,e,n){return t!==0?du(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Die(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function jie(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=Die(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[DI(u,o,a,l)]=!0,i=c)),s[DI(i,o,a,l)]=!0,t.borderSkipped=s}function DI(t,e,n,r){return r?(t=Fie(t,e,n),t=jI(t,n,e)):t=jI(t,e,n),t}function Fie(t,e,n){return t===e?n:t===n?e:t}function jI(t,e,n){return t==="start"?e:t==="end"?n:t}function Bie(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Qy extends bm{parsePrimitiveData(e,n,r,i){return MI(e,n,r,i)}parseArrayData(e,n,r,i){return MI(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,d,p,y;for(f=r,d=r+i;f<d;++f)y=n[f],p={},p[s.axis]=s.parse(pp(y,c),f),h.push(MF(pp(y,u),p,o,f));return h}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=S_(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let d=n;d<n+r;d++){const p=this.getParsed(d),y=s||en(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),b=this._calculateBarIndexPixels(d,u),v=(p._stacks||{})[a.axis],x={horizontal:c,base:y.base,enableBorderRadius:!v||S_(p._custom)||o===v._top||o===v._bottom,x:c?y.head:b.center,y:c?b.center:y.head,height:c?b.size:Math.abs(y.size),width:c?Math.abs(y.size):b.size};f&&(x.options=h||this.resolveDataElementOptions(d,e[d].active?"active":i));const S=x.options||e[d].options;jie(x,S,v,o),Bie(x,S,u.ratio),this.updateElement(e[d],d,x,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const h=u._parsed.find(d=>d[r.axis]===l),f=h&&h[u.vScale.axis];if(en(f)||isNaN(f))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Wt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||kie(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=S_(c);let h=l[n.axis],f=0,d=r?this.applyStack(n,l,r):h,p,y;d!==h&&(f=d-h,d=h),u&&(h=c.barStart,d=c.barEnd-c.barStart,h!==0&&du(h)!==du(c.barEnd)&&(f=0),f+=h);const b=!en(s)&&!u?s:f;let v=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(f+d):p=v,y=p-v,Math.abs(y)<o){y=Mie(y,n,a)*o,h===a&&(v-=y/2);const x=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),I=Math.min(x,S),M=Math.max(x,S);v=Math.max(Math.min(v,M),I),p=v+y,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(p)-n.getValueForPixel(v))}if(v===n.getPixelForValue(a)){const x=du(y)*n.getLineWidthForValue(a)/2;v+=x,y-=x}return{size:y,base:v,head:p,center:p+y/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=Wt(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=s?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?Rie(e,n,i,u*c):Oie(e,n,i,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(Wt(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+d;a=h.start+h.chunk*p+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}It(Qy,"id","bar"),It(Qy,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),It(Qy,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function lh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class I3{constructor(e){It(this,"options");this.options=e||{}}static override(e){Object.assign(I3.prototype,e)}init(){}formats(){return lh()}parse(){return lh()}format(){return lh()}add(){return lh()}diff(){return lh()}startOf(){return lh()}endOf(){return lh()}}var Uie={_date:I3};function Vie(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?Tre:qS;if(r){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=c(s,e,n-h),d=c(s,e,n+h);return{lo:f.lo,hi:d.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,d=f.slice(0,u.lo+1).reverse().findIndex(y=>!en(y[h.axis]));u.lo-=Math.max(0,d);const p=f.slice(u.hi).findIndex(y=>!en(y[h.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:s.length-1}}function F0(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:f}=Vie(s[a],e,o,i);for(let d=h;d<=f;++d){const p=u[d];p.skip||r(p,c,d)}}}function zie(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function A_(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||F0(t,n,e,function(a,l,c){!i&&!Cd(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function $ie(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=Sre(o,{x:e.x,y:e.y});Ere(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return F0(t,n,e,s),i}function qie(t,e,n,r,i,s){let o=[];const a=zie(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const d=u.inRange(e.x,e.y,i);if(r&&!d)return;const p=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!d)return;const b=a(e,p);b<l?(o=[{element:u,datasetIndex:h,index:f}],l=b):b===l&&o.push({element:u,datasetIndex:h,index:f})}return F0(t,n,e,c),o}function E_(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?$ie(t,e,n,i):qie(t,e,n,r,i,s)}function FI(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return F0(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var Hie={evaluateInteractionItems:F0,modes:{index(t,e,n,r){const i=dh(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?A_(t,i,s,r,o):E_(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=dh(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?A_(t,i,s,r,o):E_(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=dh(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return A_(t,i,s,r,o)},nearest(t,e,n,r){const i=dh(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return E_(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=dh(e,t);return FI(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=dh(e,t);return FI(t,i,"y",n.intersect,r)}}};const DF=["left","top","right","bottom"];function Sg(t,e){return t.filter(n=>n.pos===e)}function BI(t,e){return t.filter(n=>DF.indexOf(n.pos)===-1&&n.box.axis===e)}function Ag(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Wie(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function Kie(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!DF.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Gie(t,e){const n=Kie(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function Yie(t){const e=Wie(t),n=Ag(e.filter(c=>c.box.fullSize),!0),r=Ag(Sg(e,"left"),!0),i=Ag(Sg(e,"right")),s=Ag(Sg(e,"top"),!0),o=Ag(Sg(e,"bottom")),a=BI(e,"x"),l=BI(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Sg(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function UI(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function jF(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Xie(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Kt(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&jF(o,s.getPadding());const a=Math.max(0,e.outerWidth-UI(o,t,"left","right")),l=Math.max(0,e.outerHeight-UI(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Qie(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Jie(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Gg(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Jie(a.horizontal,e));const{same:h,other:f}=Xie(e,n,a,r);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Gg(i,e,n,r)||u}function ry(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function VI(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;Zm(c.start)&&(o=c.start),l.fullSize?ry(l,i.left,o,n.outerWidth-i.right-i.left,f):ry(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;Zm(c.start)&&(s=c.start),l.fullSize?ry(l,s,i.top,f,n.outerHeight-i.bottom-i.top):ry(l,s,e.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var fo={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Ai(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Yie(t.boxes),l=a.vertical,c=a.horizontal;on(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);jF(f,Ai(r));const d=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),p=Gie(l.concat(c),h);Gg(a.fullSize,d,h,p),Gg(l,d,h,p),Gg(c,d,h,p)&&Gg(l,d,h,p),Qie(d),VI(a.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,VI(a.rightAndBottom,d,h,p),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},on(a.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class FF{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Zie extends FF{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Jy="$chartjs",ese={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zI=t=>t===null||t==="";function tse(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Jy]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",zI(i)){const s=CI(t,"width");s!==void 0&&(t.width=s)}if(zI(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=CI(t,"height");s!==void 0&&(t.height=s)}return t}const BF=hie?{passive:!0}:!1;function nse(t,e,n){t&&t.addEventListener(e,n,BF)}function rse(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,BF)}function ise(t,e){const n=ese[t.type]||t.type,{x:r,y:i}=dh(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function p2(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function sse(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||p2(a.addedNodes,r),o=o&&!p2(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function ose(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||p2(a.removedNodes,r),o=o&&!p2(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const t0=new Map;let $I=0;function UF(){const t=window.devicePixelRatio;t!==$I&&($I=t,t0.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function ase(t,e){t0.size||window.addEventListener("resize",UF),t0.set(t,e)}function lse(t){t0.delete(t),t0.size||window.removeEventListener("resize",UF)}function cse(t,e,n){const r=t.canvas,i=r&&N3(r);if(!i)return;const s=_F((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),ase(t,s),o}function P_(t,e,n){n&&n.disconnect(),e==="resize"&&lse(t)}function use(t,e,n){const r=t.canvas,i=_F(s=>{t.ctx!==null&&n(ise(s,t))},t);return nse(r,e,i),i}class hse extends FF{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(tse(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Jy])return!1;const r=n[Jy].initial;["height","width"].forEach(s=>{const o=r[s];en(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Jy],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:sse,detach:ose,resize:cse}[n]||use;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:P_,detach:P_,resize:P_}[n]||rse)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return uie(e,n,r,i)}isAttached(e){const n=e&&N3(e);return!!(n&&n.isConnected)}}function fse(t){return!C3()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Zie:hse}class Pu{constructor(){It(this,"x");It(this,"y");It(this,"active",!1);It(this,"options");It(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return h2(this.x)&&h2(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}It(Pu,"defaults",{}),It(Pu,"defaultRoutes");function dse(t,e){const n=t.options.ticks,r=pse(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?mse(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return yse(e,c,s,o/i),c;const u=gse(s,e,i);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(iy(e,c,u,en(d)?0:a-d,a),h=0,f=o-1;h<f;h++)iy(e,c,u,s[h],s[h+1]);return iy(e,c,u,l,en(d)?e.length:l+d),c}return iy(e,c,u),c}function pse(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function gse(t,e,n){const r=vse(t),i=e.length/n;if(!r)return Math.max(i,1);const s=wre(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function mse(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function yse(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function iy(t,e,n,r,i){const s=Wt(r,0),o=Math.min(Wt(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function vse(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const bse=t=>t==="left"?"right":t==="right"?"left":t,qI=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,HI=(t,e)=>Math.min(e||t,t);function WI(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function wse(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function _se(t,e){on(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Eg(t){return t.drawTicks?t.tickLength:0}function KI(t,e){if(!t.display)return 0;const n=Pr(t.font,e),r=Ai(t.padding);return(Dn(t.text)?t.text.length:1)*n.lineHeight+r.height}function xse(t,e){return bf(t,{scale:e,type:"scale"})}function Sse(t,e,n){return bf(t,{tick:n,index:e,type:"tick"})}function Ase(t,e,n){let r=_3(t);return(n&&e!=="right"||!n&&e==="right")&&(r=bse(r)),r}function Ese(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,d,p;const y=o-i,b=a-s;if(t.isHorizontal()){if(d=gi(r,s,a),Kt(n)){const v=Object.keys(n)[0],x=n[v];p=u[v].getPixelForValue(x)+y-e}else n==="center"?p=(c.bottom+c.top)/2+y-e:p=qI(t,n,e);f=a-s}else{if(Kt(n)){const v=Object.keys(n)[0],x=n[v];d=u[v].getPixelForValue(x)-b+e}else n==="center"?d=(c.left+c.right)/2-b+e:d=qI(t,n,e);p=gi(r,o,i),h=n==="left"?-Rs:Rs}return{titleX:d,titleY:p,maxWidth:f,rotation:h}}class wf extends Pu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Es(e,Number.POSITIVE_INFINITY),n=Es(n,Number.NEGATIVE_INFINITY),r=Es(r,Number.POSITIVE_INFINITY),i=Es(i,Number.NEGATIVE_INFINITY),{min:Es(e,r),max:Es(n,i),minDefined:jr(e),maxDefined:jr(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Es(n,Es(r,n)),max:Es(r,Es(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_n(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Yre(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?WI(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=dse(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_n(this.options.afterUpdate,[this])}beforeSetDimensions(){_n(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_n(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),_n(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_n(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=_n(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){_n(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_n(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=HI(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,d=Go(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:d/(r-1),h+6>a&&(a=d/(r-(e.offset?.5:1)),l=this.maxHeight-Eg(e.grid)-n.padding-KI(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=b3(Math.min(Math.asin(Go((u.highest.height+6)/a,-1,1)),Math.asin(Go(l/c,-1,1))-Math.asin(Go(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){_n(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_n(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=KI(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Eg(s)+l):(e.height=this.maxHeight,e.width=Eg(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),d=r.padding*2,p=Yc(this.labelRotation),y=Math.cos(p),b=Math.sin(p);if(a){const v=r.mirror?0:b*h.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+v+d)}else{const v=r.mirror?0:y*h.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+v+d)}this._calculatePadding(c,u,b,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=i*e.width,d=r*n.height):(f=r*e.height,d=i*n.width):s==="start"?d=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,d=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_n(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)en(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=WI(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/HI(n,r));let c=0,u=0,h,f,d,p,y,b,v,x,S,I,M;for(h=0;h<n;h+=l){if(p=e[h].label,y=this._resolveTickFontOptions(h),i.font=b=y.string,v=s[b]=s[b]||{data:{},gc:[]},x=y.lineHeight,S=I=0,!en(p)&&!Dn(p))S=f2(i,v.data,v.gc,S,p),I=x;else if(Dn(p))for(f=0,d=p.length;f<d;++f)M=p[f],!en(M)&&!Dn(M)&&(S=f2(i,v.data,v.gc,S,M),I+=x);o.push(S),a.push(I),c=Math.max(S,c),u=Math.max(I,u)}_se(s,n);const L=o.indexOf(c),T=a.indexOf(u),w=A=>({width:o[A]||0,height:a[A]||0});return{first:w(0),last:w(n-1),widest:w(L),highest:w(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Pre(this._alignToPixels?ah(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Sse(this.getContext(),e,r))}return this.$context||(this.$context=xse(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Yc(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Eg(s),d=[],p=a.setContext(this.getContext()),y=p.display?p.width:0,b=y/2,v=function(z){return ah(r,z,y)};let x,S,I,M,L,T,w,A,O,E,C,R;if(o==="top")x=v(this.bottom),T=this.bottom-f,A=x-b,E=v(e.top)+b,R=e.bottom;else if(o==="bottom")x=v(this.top),E=e.top,R=v(e.bottom)-b,T=x+b,A=this.top+f;else if(o==="left")x=v(this.right),L=this.right-f,w=x-b,O=v(e.left)+b,C=e.right;else if(o==="right")x=v(this.left),O=e.left,C=v(e.right)-b,L=x+b,w=this.left+f;else if(n==="x"){if(o==="center")x=v((e.top+e.bottom)/2+.5);else if(Kt(o)){const z=Object.keys(o)[0],V=o[z];x=v(this.chart.scales[z].getPixelForValue(V))}E=e.top,R=e.bottom,T=x+b,A=T+f}else if(n==="y"){if(o==="center")x=v((e.left+e.right)/2);else if(Kt(o)){const z=Object.keys(o)[0],V=o[z];x=v(this.chart.scales[z].getPixelForValue(V))}L=x-b,w=L-f,O=e.left,C=e.right}const U=Wt(i.ticks.maxTicksLimit,h),te=Math.max(1,Math.ceil(h/U));for(S=0;S<h;S+=te){const z=this.getContext(S),V=s.setContext(z),W=a.setContext(z),X=V.lineWidth,re=V.color,ye=W.dash||[],F=W.dashOffset,Y=V.tickWidth,Q=V.tickColor,J=V.tickBorderDash||[],ae=V.tickBorderDashOffset;I=wse(this,S,l),I!==void 0&&(M=ah(r,I,X),c?L=w=O=C=M:T=A=E=R=M,d.push({tx1:L,ty1:T,tx2:w,ty2:A,x1:O,y1:E,x2:C,y2:R,width:X,color:re,borderDash:ye,borderDashOffset:F,tickWidth:Y,tickColor:Q,tickBorderDash:J,tickBorderDashOffset:ae}))}return this._ticksLength=h,this._borderValue=x,d}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,f=Eg(r.grid),d=f+u,p=h?-u:d,y=-Yc(this.labelRotation),b=[];let v,x,S,I,M,L,T,w,A,O,E,C,R="middle";if(i==="top")L=this.bottom-p,T=this._getXAxisLabelAlignment();else if(i==="bottom")L=this.top+p,T=this._getXAxisLabelAlignment();else if(i==="left"){const te=this._getYAxisLabelAlignment(f);T=te.textAlign,M=te.x}else if(i==="right"){const te=this._getYAxisLabelAlignment(f);T=te.textAlign,M=te.x}else if(n==="x"){if(i==="center")L=(e.top+e.bottom)/2+d;else if(Kt(i)){const te=Object.keys(i)[0],z=i[te];L=this.chart.scales[te].getPixelForValue(z)+d}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")M=(e.left+e.right)/2-d;else if(Kt(i)){const te=Object.keys(i)[0],z=i[te];M=this.chart.scales[te].getPixelForValue(z)}T=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const U=this._getLabelSizes();for(v=0,x=a.length;v<x;++v){S=a[v],I=S.label;const te=s.setContext(this.getContext(v));w=this.getPixelForTick(v)+s.labelOffset,A=this._resolveTickFontOptions(v),O=A.lineHeight,E=Dn(I)?I.length:1;const z=E/2,V=te.color,W=te.textStrokeColor,X=te.textStrokeWidth;let re=T;o?(M=w,T==="inner"&&(v===x-1?re=this.options.reverse?"left":"right":v===0?re=this.options.reverse?"right":"left":re="center"),i==="top"?c==="near"||y!==0?C=-E*O+O/2:c==="center"?C=-U.highest.height/2-z*O+O:C=-U.highest.height+O/2:c==="near"||y!==0?C=O/2:c==="center"?C=U.highest.height/2-z*O:C=U.highest.height-E*O,h&&(C*=-1),y!==0&&!te.showLabelBackdrop&&(M+=O/2*Math.sin(y))):(L=w,C=(1-E)*O/2);let ye;if(te.showLabelBackdrop){const F=Ai(te.backdropPadding),Y=U.heights[v],Q=U.widths[v];let J=C-F.top,ae=0-F.left;switch(R){case"middle":J-=Y/2;break;case"bottom":J-=Y;break}switch(T){case"center":ae-=Q/2;break;case"right":ae-=Q;break;case"inner":v===x-1?ae-=Q:v>0&&(ae-=Q/2);break}ye={left:ae,top:J,width:Q+F.width,height:Y+F.height,color:te.backdropColor}}b.push({label:I,font:A,textOffset:C,options:{rotation:y,color:V,strokeColor:W,strokeWidth:X,textAlign:re,textBaseline:R,translation:[M,L],backdrop:ye}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Yc(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=ah(e,this.left,o)-o/2,u=ah(e,this.right,a)+a/2,h=f=l):(h=ah(e,this.top,o)-o/2,f=ah(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&S3(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;nf(r,c,0,u,l,a)}i&&A3(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Pr(r.font),o=Ai(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Kt(n)?(l+=o.bottom,Dn(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=Ese(this,l,n,a);nf(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:f,textAlign:Ase(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Wt(e.grid&&e.grid.z,-1),i=Wt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==wf.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Pr(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sy{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Cse(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Pse(e,o,r),this.override&&Jn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Jn[i]&&(delete Jn[i][r],this.override&&delete tf[r])}}function Pse(t,e,n){const r=Jm(Object.create(null),[n?Jn.get(n):{},Jn.get(e),t.defaults]);Jn.set(e,r),t.defaultRoutes&&Tse(e,t.defaultRoutes),t.descriptors&&Jn.describe(e,t.descriptors)}function Tse(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Jn.route(s,i,l,a)})}function Cse(t){return"id"in t&&"defaults"in t}class Nse{constructor(){this.controllers=new sy(bm,"datasets",!0),this.elements=new sy(Pu,"elements"),this.plugins=new sy(Object,"plugins"),this.scales=new sy(wf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):on(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=v3(e);_n(r["before"+i],[],r),n[e](r),_n(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var wa=new Nse;class Ise{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(_n(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){en(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Wt(r.options&&r.options.plugins,{}),s=kse(r);return i===!1&&!n?[]:Rse(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function kse(t){const e={},n=[],r=Object.keys(wa.plugins.items);for(let s=0;s<r.length;s++)n.push(wa.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Ose(t,e){return!e&&t===!1?null:t===!0?{}:t}function Rse(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=Ose(r[l],i);c!==null&&s.push({plugin:a,options:Lse(t.config,{plugin:a,local:n[l]},c,o)})}return s}function Lse(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function WS(t,e){const n=Jn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Mse(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Dse(t,e){return t===e?"_index_":"_value_"}function GI(t){if(t==="x"||t==="y"||t==="r")return t}function jse(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function KS(t,...e){if(GI(t))return t;for(const n of e){const r=n.axis||jse(n.position)||t.length>1&&GI(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function YI(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Fse(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return YI(t,"x",n[0])||YI(t,"y",n[0])}return{}}function Bse(t,e){const n=tf[t.type]||{scales:{}},r=e.scales||{},i=WS(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Kt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=KS(o,a,Fse(o,t),Jn.scales[a.type]),c=Dse(l,i),u=n.scales||{};s[o]=mm(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||WS(a,e),u=(tf[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=Mse(h,l),d=o[f+"AxisID"]||f;s[d]=s[d]||Object.create(null),mm(s[d],[{axis:f},r[d],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];mm(a,[Jn.scales[a.type],Jn.scale])}),s}function VF(t){const e=t.options||(t.options={});e.plugins=Wt(e.plugins,{}),e.scales=Bse(t,e)}function zF(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Use(t){return t=t||{},t.data=zF(t.data),VF(t),t}const XI=new Map,$F=new Set;function oy(t,e){let n=XI.get(t);return n||(n=e(),XI.set(t,n),$F.add(n)),n}const Pg=(t,e,n)=>{const r=pp(e,n);r!==void 0&&t.add(r)};class Vse{constructor(e){this._config=Use(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=zF(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),VF(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return oy(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return oy(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return oy(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return oy(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Pg(l,e,h))),u.forEach(h=>Pg(l,i,h)),u.forEach(h=>Pg(l,tf[s]||{},h)),u.forEach(h=>Pg(l,Jn,h)),u.forEach(h=>Pg(l,HS,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),$F.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,tf[n]||{},Jn.datasets[n]||{},{type:n},Jn,HS]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=QI(this._resolverCache,e,i);let l=o;if($se(o,n)){s.$shared=!1,r=Eu(r)?r():r;const c=this.createResolver(e,r,a);l=gp(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=QI(this._resolverCache,e,r);return Kt(n)?gp(s,n,void 0,i):s}}function QI(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:E3(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const zse=t=>Kt(t)&&Object.getOwnPropertyNames(t).some(e=>Eu(t[e]));function $se(t,e){const{isScriptable:n,isIndexable:r}=TF(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Eu(a)||zse(a))||o&&Dn(a))return!0}return!1}var qse="4.5.0";const Hse=["top","bottom","left","right","chartArea"];function JI(t,e){return t==="top"||t==="bottom"||Hse.indexOf(t)===-1&&e==="x"}function ZI(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function ek(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),_n(n&&n.onComplete,[t],e)}function Wse(t){const e=t.chart,n=e.options.animation;_n(n&&n.onProgress,[t],e)}function qF(t){return C3()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Zy={},tk=t=>{const e=qF(t);return Object.values(Zy).filter(n=>n.canvas===e).pop()};function Kse(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function Gse(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Oc;let nw=(Oc=class{static register(...e){wa.add(...e),nk()}static unregister(...e){wa.remove(...e),nk()}constructor(e,n){const r=this.config=new Vse(n),i=qF(e),s=tk(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||fse(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=fre(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ise,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ire(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Zy[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}fl.listen(this,"complete",ek),fl.listen(this,"progress",Wse),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return en(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():TI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return SI(this.canvas,this.ctx),this}stop(){return fl.stop(this),this}resize(e,n){fl.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,TI(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),_n(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};on(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=KS(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),on(s,o=>{const a=o.options,l=a.id,c=KS(l,a),u=Wt(a.type,o.dtype);(a.position===void 0||JI(a.position,c)!==JI(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const f=wa.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),on(i,(o,a)=>{o||delete r[a]}),on(r,o=>{fo.configure(this,o,o.options),fo.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(ZI("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||WS(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=wa.getController(a),{datasetElementType:c,dataElementType:u}=Jn.datasets[a];Object.assign(l,{dataElementType:wa.getElement(u),datasetElementType:c&&wa.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){on(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||on(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ZI("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){on(this.scales,e=>{fo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!pI(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;Kse(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!pI(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fo.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],on(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Eu(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(fl.has(this)?this.attached&&!fl.running(this)&&fl.start(this):(this.draw(),ek({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=gie(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&S3(n,i),e.controller.draw(),i&&A3(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Cd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=Hie.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=bf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Zm(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),fl.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),SI(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Zy[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};on(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){on(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},on(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!l2(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=vre(e),c=Gse(e,this._lastEvent,r,l);r&&(this._lastEvent=null,_n(s.onHover,[e,a,this],this),l&&_n(s.onClick,[e,a,this],this));const u=!l2(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},It(Oc,"defaults",Jn),It(Oc,"instances",Zy),It(Oc,"overrides",tf),It(Oc,"registry",wa),It(Oc,"version",qse),It(Oc,"getChart",tk),Oc);function nk(){return on(nw.instances,t=>t._plugins.invalidate())}function HF(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,a=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Xc(t,e,n,r){return t?0:Go(e,n,r)}function Yse(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=PF(r);return{t:Xc(i.top,s.top,0,n),r:Xc(i.right,s.right,0,e),b:Xc(i.bottom,s.bottom,0,n),l:Xc(i.left,s.left,0,e)}}function Xse(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Mh(i),o=Math.min(e,n),a=t.borderSkipped,l=r||Kt(i);return{topLeft:Xc(!l||a.top||a.left,s.topLeft,0,o),topRight:Xc(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Xc(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Xc(!l||a.bottom||a.right,s.bottomRight,0,o)}}function Qse(t){const e=HF(t),n=e.right-e.left,r=e.bottom-e.top,i=Yse(t,n/2,r/2),s=Xse(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function T_(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&HF(t,r);return a&&(i||Td(e,a.left,a.right))&&(s||Td(n,a.top,a.bottom))}function Jse(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Zse(t,e){t.rect(e.x,e.y,e.w,e.h)}function C_(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class ev extends Pu{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=Qse(this),a=Jse(o.radius)?e0:Zse;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,C_(o,n,s)),e.clip(),a(e,C_(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,C_(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return T_(this,e,n,r)}inXRange(e,n){return T_(this,e,null,n)}inYRange(e,n){return T_(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}It(ev,"id","bar"),It(ev,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),It(ev,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const rk=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},eoe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let ik=class extends Pu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=_n(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Pr(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=rk(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,d=-u;return this.legendItems.forEach((p,y)=>{const b=r+n/2+s.measureText(p.text).width;(y===0||c[c.length-1]+b+2*a>o)&&(h+=u,c[c.length-(y>0?0:1)]=0,d+=u,f++),l[y]={left:0,top:d,row:f,width:b,height:i},c[c.length-1]+=b+a}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,d=0,p=0,y=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:x,itemHeight:S}=toe(r,n,s,b,i);v>0&&d+S+2*a>u&&(h+=f+a,c.push({width:f,height:d}),p+=f+a,y++,f=d=0),l[v]={left:p,top:d,col:y,width:x,height:S},f=Math.max(f,x),d+=S+a}),h+=f,c.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=$d(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=gi(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=gi(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=gi(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=gi(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;S3(e,this),this._draw(),A3(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Jn.color,l=$d(e.rtl,this.left,this.width),c=Pr(o.font),{padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:y,itemHeight:b}=rk(o,h),v=function(L,T,w){if(isNaN(p)||p<=0||isNaN(y)||y<0)return;i.save();const A=Wt(w.lineWidth,1);if(i.fillStyle=Wt(w.fillStyle,a),i.lineCap=Wt(w.lineCap,"butt"),i.lineDashOffset=Wt(w.lineDashOffset,0),i.lineJoin=Wt(w.lineJoin,"miter"),i.lineWidth=A,i.strokeStyle=Wt(w.strokeStyle,a),i.setLineDash(Wt(w.lineDash,[])),o.usePointStyle){const O={radius:y*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:A},E=l.xPlus(L,p/2),C=T+f;AF(i,O,E,C,o.pointStyleWidth&&p)}else{const O=T+Math.max((h-y)/2,0),E=l.leftForLtr(L,p),C=Mh(w.borderRadius);i.beginPath(),Object.values(C).some(R=>R!==0)?e0(i,{x:E,y:O,w:p,h:y,radius:C}):i.rect(E,O,p,y),i.fill(),A!==0&&i.stroke()}i.restore()},x=function(L,T,w){nf(i,w.text,L,T+b/2,c,{strikethrough:w.hidden,textAlign:l.textAlign(w.textAlign)})},S=this.isHorizontal(),I=this._computeTitleHeight();S?d={x:gi(s,this.left+u,this.right-r[0]),y:this.top+u+I,line:0}:d={x:this.left+u,y:gi(s,this.top+I+u,this.bottom-n[0].height),line:0},kF(this.ctx,e.textDirection);const M=b+u;this.legendItems.forEach((L,T)=>{i.strokeStyle=L.fontColor,i.fillStyle=L.fontColor;const w=i.measureText(L.text).width,A=l.textAlign(L.textAlign||(L.textAlign=o.textAlign)),O=p+f+w;let E=d.x,C=d.y;l.setWidth(this.width),S?T>0&&E+O+u>this.right&&(C=d.y+=M,d.line++,E=d.x=gi(s,this.left+u,this.right-r[d.line])):T>0&&C+M>this.bottom&&(E=d.x=E+n[d.line].width+u,d.line++,C=d.y=gi(s,this.top+I+u,this.bottom-n[d.line].height));const R=l.x(E);if(v(R,C,L),E=kre(A,E+p+f,S?E+O:this.right,e.rtl),x(l.x(E),C,L),S)d.x+=O+u;else if(typeof L.text!="string"){const U=c.lineHeight;d.y+=WF(L,U)+u}else d.y+=M}),OF(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Pr(n.font),i=Ai(n.padding);if(!n.display)return;const s=$d(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=gi(e.align,h,this.right-f);else{const p=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);u=c+gi(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const d=gi(a,h,h+f);o.textAlign=s.textAlign(_3(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,nf(o,n.text,d,u,r)}_computeTitleHeight(){const e=this.options.title,n=Pr(e.font),r=Ai(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Td(e,this.left,this.right)&&Td(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Td(e,i.left,i.left+i.width)&&Td(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!ioe(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=eoe(i,r);i&&!s&&_n(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&_n(n.onHover,[e,r,this],this)}else r&&_n(n.onClick,[e,r,this],this)}};function toe(t,e,n,r,i){const s=noe(r,t,e,n),o=roe(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function noe(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function roe(t,e,n){let r=t;return typeof e.text!="string"&&(r=WF(e,n)),r}function WF(t,e){const n=t.text?t.text.length:0;return e*n}function ioe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var soe={id:"legend",_element:ik,start(t,e,n){const r=t.legend=new ik({ctx:t.ctx,options:n,chart:t});fo.configure(t,r,n),fo.addBox(t,r)},stop(t){fo.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;fo.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Ai(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class KF extends Pu{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Dn(r.text)?r.text.length:1;this._padding=Ai(r.padding);const s=i*Pr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=gi(a,r,s),h=n+e,c=s-r):(o.position==="left"?(u=r+e,h=gi(a,i,n),l=Br*-.5):(u=s-e,h=gi(a,n,i),l=Br*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Pr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);nf(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:_3(n.align),textBaseline:"middle",translation:[o,a]})}}function ooe(t,e){const n=new KF({ctx:t.ctx,options:e,chart:t});fo.configure(t,n,e),fo.addBox(t,n),t.titleBlock=n}var aoe={id:"title",_element:KF,start(t,e,n){ooe(t,n)},stop(t){const e=t.titleBlock;fo.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;fo.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yg={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Are(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ya(t,e){return e&&(Dn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function dl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function loe(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function sk(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Pr(e.bodyFont),c=Pr(e.titleFont),u=Pr(e.footerFont),h=s.length,f=i.length,d=r.length,p=Ai(e.padding);let y=p.height,b=0,v=r.reduce((I,M)=>I+M.before.length+M.lines.length+M.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const I=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=d*I+(v-d)*l.lineHeight+(v-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0;const S=function(I){b=Math.max(b,n.measureText(I).width+x)};return n.save(),n.font=c.string,on(t.title,S),n.font=l.string,on(t.beforeBody.concat(t.afterBody),S),x=e.displayColors?o+2+e.boxPadding:0,on(r,I=>{on(I.before,S),on(I.lines,S),on(I.after,S)}),x=0,n.font=u.string,on(t.footer,S),n.restore(),b+=p.width,{width:b,height:y}}function coe(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function uoe(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function hoe(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),uoe(c,t,e,n)&&(c="center"),c}function ok(t,e,n){const r=n.yAlign||e.yAlign||coe(t,n);return{xAlign:n.xAlign||e.xAlign||hoe(t,e,n,r),yAlign:r}}function foe(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function doe(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function ak(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=Mh(o);let p=foe(e,a);const y=doe(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+i:a==="right"&&(p+=Math.max(h,d)+i),{x:Go(p,0,r.width-e.width),y:Go(y,0,r.height-e.height)}}function ay(t,e,n){const r=Ai(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function lk(t){return ya([],dl(t))}function poe(t,e,n){return bf(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function ck(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const GF={beforeTitle:ul,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:ul,beforeBody:ul,beforeLabel:ul,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return en(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ul,afterBody:ul,beforeFooter:ul,footer:ul,afterFooter:ul};function Xi(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?GF[e].call(n,r):i}var yx;let uk=(yx=class extends Pu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new RF(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=poe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Xi(r,"beforeTitle",this,e),s=Xi(r,"title",this,e),o=Xi(r,"afterTitle",this,e);let a=[];return a=ya(a,dl(i)),a=ya(a,dl(s)),a=ya(a,dl(o)),a}getBeforeBody(e,n){return lk(Xi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return on(e,s=>{const o={before:[],lines:[],after:[]},a=ck(r,s);ya(o.before,dl(Xi(a,"beforeLabel",this,s))),ya(o.lines,Xi(a,"label",this,s)),ya(o.after,dl(Xi(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return lk(Xi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Xi(r,"beforeFooter",this,e),s=Xi(r,"footer",this,e),o=Xi(r,"afterFooter",this,e);let a=[];return a=ya(a,dl(i)),a=ya(a,dl(s)),a=ya(a,dl(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(loe(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),on(a,u=>{const h=ck(e.callbacks,u);i.push(Xi(h,"labelColor",this,u)),s.push(Xi(h,"labelPointStyle",this,u)),o.push(Xi(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Yg[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=sk(this,r),c=Object.assign({},a,l),u=ok(this.chart,r,c),h=ak(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Mh(a),{x:f,y:d}=e,{width:p,height:y}=n;let b,v,x,S,I,M;return s==="center"?(I=d+y/2,i==="left"?(b=f,v=b-o,S=I+o,M=I-o):(b=f+p,v=b+o,S=I-o,M=I+o),x=b):(i==="left"?v=f+Math.max(l,u)+o:i==="right"?v=f+p-Math.max(c,h)-o:v=this.caretX,s==="top"?(S=d,I=S-o,b=v-o,x=v+o):(S=d+y,I=S+o,b=v+o,x=v-o),M=S),{x1:b,x2:v,x3:x,y1:S,y2:I,y3:M}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=$d(r.rtl,this.x,this.width);for(e.x=ay(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Pr(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Pr(s.bodyFont),h=ay(this,"left",s),f=i.x(h),d=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+d;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,v=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,AI(e,y,b,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,AI(e,y,b,v)}else{e.lineWidth=Kt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),v=Mh(o.borderRadius);Object.values(v).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,e0(e,{x:y,y:p,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),e0(e,{x:b,y:p+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,p,c,l),e.strokeRect(y,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Pr(r.bodyFont);let f=h.lineHeight,d=0;const p=$d(r.rtl,this.x,this.width),y=function(w){n.fillText(w,p.x(e.x+d),e.y+f/2),e.y+=f+s},b=p.textAlign(o);let v,x,S,I,M,L,T;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=ay(this,b,r),n.fillStyle=r.bodyColor,on(this.beforeBody,y),d=a&&b!=="right"?o==="center"?c/2+u:c+2+u:0,I=0,L=i.length;I<L;++I){for(v=i[I],x=this.labelTextColors[I],n.fillStyle=x,on(v.before,y),S=v.lines,a&&S.length&&(this._drawColorBox(n,e,I,p,r),f=Math.max(h.lineHeight,l)),M=0,T=S.length;M<T;++M)y(S[M]),f=h.lineHeight;on(v.after,y)}d=0,f=h.lineHeight,on(this.afterBody,y),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=$d(r.rtl,this.x,this.width);for(e.x=ay(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Pr(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:p}=Mh(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+d,l+u),n.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Yg[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=sk(this,e),l=Object.assign({},o,this._size),c=ok(n,e,l),u=ak(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Ai(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),kF(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),OF(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!l2(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!l2(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Yg[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}},It(yx,"positioners",Yg),yx);var goe={id:"tooltip",_element:uk,positioners:Yg,afterInit(t,e,n){n&&(t.tooltip=new uk({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:GF},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const moe=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function yoe(t,e,n,r){const i=t.indexOf(e);if(i===-1)return moe(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const voe=(t,e)=>t===null?null:Go(Math.round(t),0,e);function hk(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class GS extends wf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(en(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:yoe(r,e,Wt(n,e),this._addedLabels),voe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return hk.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}It(GS,"id","category"),It(GS,"defaults",{ticks:{callback:hk}});function boe(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,d=s||1,p=u-1,{min:y,max:b}=e,v=!en(o),x=!en(a),S=!en(c),I=(b-y)/(h+1);let M=mI((b-y)/p/d)*d,L,T,w,A;if(M<1e-14&&!v&&!x)return[{value:y},{value:b}];A=Math.ceil(b/M)-Math.floor(y/M),A>p&&(M=mI(A*M/p/d)*d),en(l)||(L=Math.pow(10,l),M=Math.ceil(M*L)/L),i==="ticks"?(T=Math.floor(y/M)*M,w=Math.ceil(b/M)*M):(T=y,w=b),v&&x&&s&&xre((a-o)/s,M/1e3)?(A=Math.round(Math.min((a-o)/M,u)),M=(a-o)/A,T=o,w=a):S?(T=v?o:T,w=x?a:w,A=c-1,M=(w-T)/A):(A=(w-T)/M,Xy(A,Math.round(A),M/1e3)?A=Math.round(A):A=Math.ceil(A));const O=Math.max(yI(M),yI(T));L=Math.pow(10,en(l)?O:l),T=Math.round(T*L)/L,w=Math.round(w*L)/L;let E=0;for(v&&(f&&T!==o?(n.push({value:o}),T<o&&E++,Xy(Math.round((T+E*M)*L)/L,o,fk(o,I,t))&&E++):T<o&&E++);E<A;++E){const C=Math.round((T+E*M)*L)/L;if(x&&C>a)break;n.push({value:C})}return x&&f&&w!==a?n.length&&Xy(n[n.length-1].value,a,fk(a,I,t))?n[n.length-1].value=a:n.push({value:a}):(!x||w===a)&&n.push({value:w}),n}function fk(t,e,{horizontal:n,minRotation:r}){const i=Yc(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class g2 extends wf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return en(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=du(i),c=du(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=boe(i,s);return e.bounds==="ticks"&&yF(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return x3(e,this.chart.options.locale,this.options.ticks.format)}}class YS extends g2{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=jr(e)?e:0,this.max=jr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Yc(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}It(YS,"id","linear"),It(YS,"defaults",{ticks:{callback:ew.formatters.numeric}});const n0=t=>Math.floor(Gc(t)),ch=(t,e)=>Math.pow(10,n0(t)+e);function dk(t){return t/Math.pow(10,n0(t))===1}function pk(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function woe(t,e){const n=e-t;let r=n0(n);for(;pk(t,e,r)>10;)r++;for(;pk(t,e,r)<10;)r--;return Math.min(r,n0(t))}function _oe(t,{min:e,max:n}){e=Es(t.min,e);const r=[],i=n0(e);let s=woe(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),f=Es(t.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;f<n;)r.push({value:f,major:dk(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((l+u+h*Math.pow(10,s))*o)/o;const d=Es(t.max,f);return r.push({value:d,major:dk(d),significand:h}),r}class gk extends wf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=g2.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return jr(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=jr(e)?Math.max(0,e):null,this.max=jr(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!jr(this._userMin)&&(this.min=e===ch(this.min,0)?ch(this.min,-1):ch(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(ch(r,-1)),o(ch(i,1)))),r<=0&&s(ch(i,-1)),i<=0&&o(ch(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=_oe(n,this);return e.bounds==="ticks"&&yF(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":x3(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Gc(e),this._valueRange=Gc(this.max)-Gc(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Gc(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}It(gk,"id","logarithmic"),It(gk,"defaults",{ticks:{callback:ew.formatters.logarithmic,major:{enabled:!0}}});function XS(t){const e=t.ticks;if(e.display&&t.display){const n=Ai(e.backdropPadding);return Wt(e.font&&e.font.size,Jn.font.size)+n.height}return 0}function xoe(t,e,n){return n=Dn(n)?n:[n],{w:Vre(t,e.string,n),h:n.length*e.lineHeight}}function mk(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Soe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Br/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),h=Pr(c.font),f=xoe(t.ctx,h,t._pointLabels[l]);r[l]=f;const d=xa(t.getIndexAngle(l)+a),p=Math.round(b3(d)),y=mk(p,u.x,f.w,0,180),b=mk(p,u.y,f.h,90,270);Aoe(n,e,d,y,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Toe(t,r,i)}function Aoe(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Eoe(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(b3(xa(l.angle+Rs))),u=Ioe(l.y,a.h,c),h=Coe(c),f=Noe(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function Poe(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(Cd({x:n,y:r},e)||Cd({x:n,y:s},e)||Cd({x:i,y:r},e)||Cd({x:i,y:s},e))}function Toe(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:XS(s)/2,additionalAngle:o?Br/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const h=Eoe(t,u,l);r.push(h),a==="auto"&&(h.visible=Poe(h,c),h.visible&&(c=h))}return r}function Coe(t){return t===0||t===180?"center":t<180?"left":"right"}function Noe(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Ioe(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function koe(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!en(a)){const l=Mh(e.borderRadius),c=Ai(e.backdropPadding);t.fillStyle=a;const u=r-c.left,h=i-c.top,f=s-r+c.width,d=o-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),e0(t,{x:u,y:h,w:f,h:d,radius:l}),t.fill()):t.fillRect(u,h,f,d)}}function Ooe(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));koe(n,o,s);const a=Pr(o.font),{x:l,y:c,textAlign:u}=s;nf(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function YF(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Da);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function Roe(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),YF(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function Loe(t,e,n){return bf(t,{label:n,index:e,type:"pointLabel"})}class ly extends g2{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ai(XS(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=jr(e)&&!isNaN(e)?e:0,this.max=jr(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/XS(this.options))}generateTickLabels(e){g2.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=_n(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Soe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=Da/(this._pointLabels.length||1),r=this.options.startAngle||0;return xa(e*n+Yc(r))}getDistanceFromCenterForValue(e){if(en(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(en(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return Loe(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-Rs+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),YF(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Ooe(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),d=i.setContext(f),p=s.setContext(f);Roe(this,d,l,o,p)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=Pr(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=Ai(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}nf(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}It(ly,"id","radialLinear"),It(ly,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ew.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),It(ly,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),It(ly,"descriptors",{angleLines:{_fallback:"grid"}});const rw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rs=Object.keys(rw);function yk(t,e){return t-e}function vk(t,e){if(en(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),jr(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(h2(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function bk(t,e,n,r){const i=rs.length;for(let s=rs.indexOf(t);s<i-1;++s){const o=rw[rs[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return rs[s]}return rs[i-1]}function Moe(t,e,n,r,i){for(let s=rs.length-1;s>=rs.indexOf(n);s--){const o=rs[s];if(rw[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return rs[n?rs.indexOf(n):0]}function Doe(t){for(let e=rs.indexOf(t)+1,n=rs.length;e<n;++e)if(rw[rs[e]].common)return rs[e]}function wk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=w3(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function joe(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function _k(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:joe(t,r,i,n)}class m2 extends wf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new Uie._date(e.adapters.date);i.init(n),mm(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:vk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=jr(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=jr(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=Cre(i,s,o);return this._unit=n.unit||(r.autoSkip?bk(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Moe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Doe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),_k(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Go(n,0,o),r=Go(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||bk(s.minUnit,n,r,this._getLabelCapacity(n)),a=Wt(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=h2(l)||l===!0,u={};let h=n,f,d;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<r;f=+e.add(f,a,o),d++)wk(u,f,p);return(f===r||i.bounds==="ticks"||d===1)&&wk(u,f,p),Object.keys(u).sort(yk).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return _n(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=r[n],d=c&&h&&f&&f.major;return this._adapter.format(e,i||(d?h:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Yc(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,_k(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(vk(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return bF(e.sort(yk))}}It(m2,"id","time"),It(m2,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cy(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=qS(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=qS(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class xk extends m2{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=cy(n,this.min),this._tableRange=cy(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(cy(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return cy(this._table,r*this._tableRange+this._minPos,!0)}}It(xk,"id","timeseries"),It(xk,"defaults",m2.defaults);const XF="label";function Sk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Foe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function QF(t,e){t.labels=e}function JF(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:XF;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Boe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XF;const n={labels:[],datasets:[]};return QF(n,t.labels),JF(n,t.datasets,e),n}function Uoe(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,d=H.useRef(null),p=H.useRef(null),y=()=>{d.current&&(p.current=new nw(d.current,{type:o,data:Boe(a,s),options:l&&{...l},plugins:c}),Sk(e,p.current))},b=()=>{Sk(e,null),p.current&&(p.current.destroy(),p.current=null)};return H.useEffect(()=>{!i&&p.current&&l&&Foe(p.current,l)},[i,l]),H.useEffect(()=>{!i&&p.current&&QF(p.current.config.data,a.labels)},[i,a.labels]),H.useEffect(()=>{!i&&p.current&&a.datasets&&JF(p.current.config.data,a.datasets,s)},[i,a.datasets]),H.useEffect(()=>{p.current&&(i?(b(),setTimeout(y)):p.current.update(h))},[i,l,a.labels,a.datasets,h]),H.useEffect(()=>{p.current&&(b(),setTimeout(y))},[o]),H.useEffect(()=>(y(),()=>b()),[]),Yo.createElement("canvas",{ref:d,role:"img",height:n,width:r,...f},u)}const Voe=H.forwardRef(Uoe);function zoe(t,e){return nw.register(e),H.forwardRef((n,r)=>Yo.createElement(Voe,{...n,ref:r,type:t}))}const $oe=zoe("bar",Qy);nw.register(GS,YS,ev,aoe,goe,soe);const qoe=({orders:t})=>{const[e,n]=H.useState("mois"),r={};t.forEach(l=>{var h,f;const c=((f=(h=l.createdAt)==null?void 0:h.toDate)==null?void 0:f.call(h))||new Date,u=e==="jour"?c.toLocaleDateString():`${c.getMonth()+1}/${c.getFullYear()}`;r[u]||(r[u]={total:0,count:0}),r[u].total+=l.total||0,r[u].count+=1});const i=Object.keys(r),s=i.map(l=>r[l].total),o=i.map(l=>r[l].count),a={labels:i,datasets:[{label:"Revenu ($)",data:s,backgroundColor:"rgba(59, 130, 246, 0.6)"},{label:"Nombre de commandes",data:o,backgroundColor:"rgba(16, 185, 129, 0.6)"}]};return D.jsxs("div",{className:"transform scale-90 origin-top",children:[D.jsx("div",{className:"flex justify-end mb-2",children:D.jsxs("select",{value:e,onChange:l=>n(l.target.value),className:"border rounded p-1 text-sm",children:[D.jsx("option",{value:"jour",children:"Jour"}),D.jsx("option",{value:"mois",children:"Mois"})]})}),D.jsx($oe,{data:a})]})},Hoe=(t,e,n,r)=>{var s,o,a,l;const i=[n,{code:e,...r||{}}];if((o=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);jh(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},Ak={},QS=(t,e,n,r)=>{jh(n)&&Ak[n]||(jh(n)&&(Ak[n]=new Date),Hoe(t,e,n,r))},ZF=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},JS=(t,e,n)=>{t.loadNamespaces(e,ZF(t,n))},Ek=(t,e,n,r)=>{if(jh(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return JS(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,ZF(t,r))},Woe=(t,e,n={})=>!e.languages||!e.languages.length?(QS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),jh=t=>typeof t=="string",Koe=t=>typeof t=="object"&&t!==null,Goe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Yoe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Xoe=t=>Yoe[t],Qoe=t=>t.replace(Goe,Xoe);let Joe={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Qoe};const Zoe=()=>Joe;let eae;const tae=()=>eae,nae=H.createContext();class rae{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const iae=(t,e)=>{const n=H.useRef();return H.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current},e9=(t,e,n,r)=>t.getFixedT(e,n,r),sae=(t,e,n,r)=>H.useCallback(e9(t,e,n,r),[t,e,n,r]),oae=(t,e={})=>{var I,M,L,T;const{i18n:n}=e,{i18n:r,defaultNS:i}=H.useContext(nae)||{},s=n||r||tae();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new rae),!s){QS(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const w=(O,E)=>jh(E)?E:Koe(E)&&jh(E.defaultValue)?E.defaultValue:Array.isArray(O)?O[O.length-1]:O,A=[w,{},!1];return A.t=w,A.i18n={},A.ready=!1,A}(I=s.options.react)!=null&&I.wait&&QS(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Zoe(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=t||i||((M=s.options)==null?void 0:M.defaultNS);c=jh(c)?[c]:c||["translation"],(T=(L=s.reportNamespaces).addUsedNamespaces)==null||T.call(L,c);const u=(s.isInitialized||s.initializedStoreOnce)&&c.every(w=>Woe(w,s,o)),h=sae(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),f=()=>h,d=()=>e9(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[p,y]=H.useState(f);let b=c.join();e.lng&&(b=`${e.lng}${b}`);const v=iae(b),x=H.useRef(!0);H.useEffect(()=>{const{bindI18n:w,bindI18nStore:A}=o;x.current=!0,!u&&!a&&(e.lng?Ek(s,e.lng,c,()=>{x.current&&y(d)}):JS(s,c,()=>{x.current&&y(d)})),u&&v&&v!==b&&x.current&&y(d);const O=()=>{x.current&&y(d)};return w&&(s==null||s.on(w,O)),A&&(s==null||s.store.on(A,O)),()=>{x.current=!1,s&&w&&(w==null||w.split(" ").forEach(E=>s.off(E,O))),A&&s&&A.split(" ").forEach(E=>s.store.off(E,O))}},[s,b]),H.useEffect(()=>{x.current&&u&&y(f)},[s,l,u]);const S=[p,s,u];if(S.t=p,S.i18n=s,S.ready=u,u||!u&&!a)return S;throw new Promise(w=>{e.lng?Ek(s,e.lng,c,()=>w()):JS(s,c,()=>w())})},aae=()=>{const[t,e]=H.useState([]),{currentUser:n,role:r,loading:i}=ju(),{t:s,i18n:o}=oae();H.useEffect(()=>{(async()=>{try{const h=(await Va(vr(Rt,"commandes"))).docs.map(f=>{var v;const d=f.data();let y=d.status||d.etat||"validé";const b=(v=d.createdAt)!=null&&v.toDate?d.createdAt.toDate():null;if(b){const x=new Date(b);x.setDate(x.getDate()+8),Math.floor((new Date-x)/(1e3*60*60*24))>10&&(y="receptionrdc")}return{id:f.id,...d,status:y}});e(h)}catch(u){console.error("Erreur récupération commandes :",u)}})()},[]);const a=t.filter(c=>c.status&&c.status.toLowerCase()!=="receptionrdc"),l=()=>{const c=o.language==="fr"?"en":"fr";o.changeLanguage(c)};return i?D.jsx("div",{className:"flex items-center justify-center min-h-screen text-blue-600 font-bold text-xl",children:"⏳ Chargement de la session..."}):n?["admin","agent","client"].includes(r)?D.jsxs("div",{className:"flex bg-gradient-to-br from-blue-50 to-blue-100 min-h-screen overflow-x-hidden",children:[D.jsx(M0,{}),D.jsxs("div",{className:"flex-1 flex flex-col overflow-x-hidden",children:[D.jsx(D0,{}),D.jsxs("main",{className:"p-4 sm:p-6 overflow-x-hidden",children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:s("dashboard")}),D.jsxs("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:["🌐 ",o.language==="fr"?"English":"Français"]})]}),D.jsx($ne,{orders:t,role:r}),D.jsxs("div",{className:"bg-white mt-6 rounded-xl shadow p-4 sm:p-6",children:[D.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["📈 ",s("statistiques",{defaultValue:"Statistiques"})]}),D.jsx("div",{className:"max-h-[300px] overflow-hidden",children:D.jsx(qoe,{orders:t})})]}),D.jsxs("div",{className:"bg-white mt-6 rounded-xl shadow p-4 sm:p-6",children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsxs("h2",{className:"text-lg font-semibold",children:["🛒 ",s("orders")]}),D.jsx(lm,{to:"/commandes",className:"text-blue-600 hover:underline text-sm",children:s("voirPlus",{defaultValue:"Voir plus →"})})]}),D.jsx("div",{className:"hidden sm:block",children:D.jsxs("table",{className:"w-full text-sm text-gray-700 table-auto",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"bg-blue-100",children:[D.jsx("th",{className:"p-2 text-left",children:s("client")}),D.jsx("th",{className:"p-2 text-left",children:s("total")}),D.jsx("th",{className:"p-2 text-left",children:s("etat",{defaultValue:"État"})}),D.jsx("th",{className:"p-2 text-left",children:s("date")})]})}),D.jsx("tbody",{children:t.slice(0,5).map(c=>{var f,d;const u=c.status.toLowerCase(),h=u==="validé"||u==="receptionrdc"?"bg-green-400":u==="depotshenzen"?"bg-blue-600":u==="expeditionrdc"?"bg-yellow-500":"bg-gray-400";return D.jsxs("tr",{className:"border-t",children:[D.jsx("td",{className:"p-2",children:c.client}),D.jsxs("td",{className:"p-2",children:[c.total," $"]}),D.jsx("td",{className:"p-2",children:D.jsx("span",{className:`px-2 py-1 rounded text-white text-xs ${h}`,children:c.status})}),D.jsx("td",{className:"p-2",children:((d=(f=c.createdAt)==null?void 0:f.toDate)==null?void 0:d.call(f).toLocaleDateString())||"—"})]},c.id)})})]})}),D.jsx("div",{className:"sm:hidden space-y-2",children:t.slice(0,5).map(c=>{var f,d;const u=c.status.toLowerCase(),h=u==="validé"||u==="receptionrdc"?"bg-green-400":u==="depotshenzen"?"bg-blue-600":u==="expeditionrdc"?"bg-yellow-500":"bg-gray-400";return D.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 shadow flex flex-col text-sm",children:[D.jsxs("span",{className:"font-semibold",children:[s("client"),":",c.client]}),D.jsxs("span",{children:[s("total"),": ",c.total," $"]}),D.jsxs("span",{children:[s("etat",{defaultValue:"État"}),":",D.jsx("span",{className:`px-2 py-1 rounded text-white text-xs ${h}`,children:c.status})]}),D.jsxs("span",{children:[s("date"),": ",((d=(f=c.createdAt)==null?void 0:f.toDate)==null?void 0:d.call(f).toLocaleDateString())||"—"]})]},c.id)})})]}),a.length>0&&D.jsx("div",{className:"mt-6",children:D.jsx("marquee",{behavior:"scroll",direction:"right",scrollamount:"5",className:"bg-blue-600 text-white rounded shadow py-2",children:a.map(c=>D.jsxs("span",{className:"mx-6 text-sm",children:["🚚 ",c.client," – ",c.total," $ (",c.status,")"]},c.id))})})]})]})]}):D.jsx("div",{className:"text-center text-red-600 font-bold text-xl mt-20",children:"❌ Accès refusé (Rôle insuffisant)"}):D.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[D.jsx("p",{className:"text-red-600 text-lg mb-4",children:"⚠️ Session expirée"}),D.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"🔄 Se reconnecter"})]})},lae="modulepreload",cae=function(t){return"/"+t},Pk={},ZS=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=cae(s),s in Pk)return;Pk[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":lae,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function ln(t){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(t)}var bi=Uint8Array,Ls=Uint16Array,k3=Int32Array,iw=new bi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sw=new bi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e4=new bi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t9=function(t,e){for(var n=new Ls(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new k3(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},n9=t9(iw,2),r9=n9.b,t4=n9.r;r9[28]=258,t4[258]=28;var i9=t9(sw,0),uae=i9.b,Tk=i9.r,n4=new Ls(32768);for(var In=0;In<32768;++In){var Cc=(In&43690)>>1|(In&21845)<<1;Cc=(Cc&52428)>>2|(Cc&13107)<<2,Cc=(Cc&61680)>>4|(Cc&3855)<<4,n4[In]=((Cc&65280)>>8|(Cc&255)<<8)>>1}var ja=function(t,e,n){for(var r=t.length,i=0,s=new Ls(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Ls(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Ls(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],h=o[t[i]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)a[n4[h]>>l]=c}else for(a=new Ls(r),i=0;i<r;++i)t[i]&&(a[i]=n4[o[t[i]-1]++]>>15-t[i]);return a},Tu=new bi(288);for(var In=0;In<144;++In)Tu[In]=8;for(var In=144;In<256;++In)Tu[In]=9;for(var In=256;In<280;++In)Tu[In]=7;for(var In=280;In<288;++In)Tu[In]=8;var r0=new bi(32);for(var In=0;In<32;++In)r0[In]=5;var hae=ja(Tu,9,0),fae=ja(Tu,9,1),dae=ja(r0,5,0),pae=ja(r0,5,1),N_=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Fo=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},I_=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},O3=function(t){return(t+7)/8|0},s9=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new bi(t.subarray(e,n))},gae=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zo=function(t,e,n){var r=new Error(e||gae[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,zo),!n)throw r;return r},mae=function(t,e,n,r){var i=t.length,s=r?r.length:0;if(!i||e.f&&!e.l)return n||new bi(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new bi(i*3));var c=function(Ee){var ge=n.length;if(Ee>ge){var Fe=new bi(Math.max(ge*2,Ee));Fe.set(n),n=Fe}},u=e.f||0,h=e.p||0,f=e.b||0,d=e.l,p=e.d,y=e.m,b=e.n,v=i*8;do{if(!d){u=Fo(t,h,1);var x=Fo(t,h+1,3);if(h+=3,x)if(x==1)d=fae,p=pae,y=9,b=5;else if(x==2){var L=Fo(t,h,31)+257,T=Fo(t,h+10,15)+4,w=L+Fo(t,h+5,31)+1;h+=14;for(var A=new bi(w),O=new bi(19),E=0;E<T;++E)O[e4[E]]=Fo(t,h+E*3,7);h+=T*3;for(var C=N_(O),R=(1<<C)-1,U=ja(O,C,1),E=0;E<w;){var te=U[Fo(t,h,R)];h+=te&15;var S=te>>4;if(S<16)A[E++]=S;else{var z=0,V=0;for(S==16?(V=3+Fo(t,h,3),h+=2,z=A[E-1]):S==17?(V=3+Fo(t,h,7),h+=3):S==18&&(V=11+Fo(t,h,127),h+=7);V--;)A[E++]=z}}var W=A.subarray(0,L),X=A.subarray(L);y=N_(W),b=N_(X),d=ja(W,y,1),p=ja(X,b,1)}else zo(1);else{var S=O3(h)+4,I=t[S-4]|t[S-3]<<8,M=S+I;if(M>i){l&&zo(0);break}a&&c(f+I),n.set(t.subarray(S,M),f),e.b=f+=I,e.p=h=M*8,e.f=u;continue}if(h>v){l&&zo(0);break}}a&&c(f+131072);for(var re=(1<<y)-1,ye=(1<<b)-1,F=h;;F=h){var z=d[I_(t,h)&re],Y=z>>4;if(h+=z&15,h>v){l&&zo(0);break}if(z||zo(2),Y<256)n[f++]=Y;else if(Y==256){F=h,d=null;break}else{var Q=Y-254;if(Y>264){var E=Y-257,J=iw[E];Q=Fo(t,h,(1<<J)-1)+r9[E],h+=J}var ae=p[I_(t,h)&ye],pe=ae>>4;ae||zo(3),h+=ae&15;var X=uae[pe];if(pe>3){var J=sw[pe];X+=I_(t,h)&(1<<J)-1,h+=J}if(h>v){l&&zo(0);break}a&&c(f+131072);var ve=f+Q;if(f<X){var le=s-X,Ae=Math.min(X,ve);for(le+f<0&&zo(3);f<Ae;++f)n[f]=r[le+f]}for(;f<ve;++f)n[f]=n[f-X]}}e.l=d,e.p=F,e.b=f,e.f=u,d&&(u=1,e.m=y,e.d=p,e.n=b)}while(!u);return f!=n.length&&o?s9(n,0,f):n.subarray(0,f)},hl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Tg=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},k_=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:a9,l:0};if(i==1){var o=new bi(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(M,L){return M.f-L.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=s[0].s,r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var d=new Ls(f+1),p=r4(n[u-1],d,0);if(p>e){var r=0,y=0,b=p-e,v=1<<b;for(s.sort(function(L,T){return d[T.s]-d[L.s]||L.f-T.f});r<i;++r){var x=s[r].s;if(d[x]>e)y+=v-(1<<p-d[x]),d[x]=e;else break}for(y>>=b;y>0;){var S=s[r].s;d[S]<e?y-=1<<e-d[S]++-1:++r}for(;r>=0&&y;--r){var I=s[r].s;d[I]==e&&(--d[I],++y)}p=e}return{t:new bi(d),l:p}},r4=function(t,e,n){return t.s==-1?Math.max(r4(t.l,e,n+1),r4(t.r,e,n+1)):e[t.s]=n},Ck=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ls(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Cg=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},o9=function(t,e,n){var r=n.length,i=O3(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Nk=function(t,e,n,r,i,s,o,a,l,c,u){hl(e,u++,n),++i[256];for(var h=k_(i,15),f=h.t,d=h.l,p=k_(s,15),y=p.t,b=p.l,v=Ck(f),x=v.c,S=v.n,I=Ck(y),M=I.c,L=I.n,T=new Ls(19),w=0;w<x.length;++w)++T[x[w]&31];for(var w=0;w<M.length;++w)++T[M[w]&31];for(var A=k_(T,7),O=A.t,E=A.l,C=19;C>4&&!O[e4[C-1]];--C);var R=c+5<<3,U=Cg(i,Tu)+Cg(s,r0)+o,te=Cg(i,f)+Cg(s,y)+o+14+3*C+Cg(T,O)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&R<=U&&R<=te)return o9(e,u,t.subarray(l,l+c));var z,V,W,X;if(hl(e,u,1+(te<U)),u+=2,te<U){z=ja(f,d,0),V=f,W=ja(y,b,0),X=y;var re=ja(O,E,0);hl(e,u,S-257),hl(e,u+5,L-1),hl(e,u+10,C-4),u+=14;for(var w=0;w<C;++w)hl(e,u+3*w,O[e4[w]]);u+=3*C;for(var ye=[x,M],F=0;F<2;++F)for(var Y=ye[F],w=0;w<Y.length;++w){var Q=Y[w]&31;hl(e,u,re[Q]),u+=O[Q],Q>15&&(hl(e,u,Y[w]>>5&127),u+=Y[w]>>12)}}else z=hae,V=Tu,W=dae,X=r0;for(var w=0;w<a;++w){var J=r[w];if(J>255){var Q=J>>18&31;Tg(e,u,z[Q+257]),u+=V[Q+257],Q>7&&(hl(e,u,J>>23&31),u+=iw[Q]);var ae=J&31;Tg(e,u,W[ae]),u+=X[ae],ae>3&&(Tg(e,u,J>>5&8191),u+=sw[ae])}else Tg(e,u,z[J]),u+=V[J]}return Tg(e,u,z[256]),u+V[256]},yae=new k3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),a9=new bi(0),vae=function(t,e,n,r,i,s){var o=s.z||t.length,a=new bi(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var h=yae[e-1],f=h>>13,d=h&8191,p=(1<<n)-1,y=s.p||new Ls(32768),b=s.h||new Ls(p+1),v=Math.ceil(n/3),x=2*v,S=function(qe){return(t[qe]^t[qe+1]<<v^t[qe+2]<<x)&p},I=new k3(25e3),M=new Ls(288),L=new Ls(32),T=0,w=0,A=s.i||0,O=0,E=s.w||0,C=0;A+2<o;++A){var R=S(A),U=A&32767,te=b[R];if(y[U]=te,b[R]=U,E<=A){var z=o-A;if((T>7e3||O>24576)&&(z>423||!c)){u=Nk(t,l,0,I,M,L,w,O,C,A-C,u),O=T=w=0,C=A;for(var V=0;V<286;++V)M[V]=0;for(var V=0;V<30;++V)L[V]=0}var W=2,X=0,re=d,ye=U-te&32767;if(z>2&&R==S(A-ye))for(var F=Math.min(f,z)-1,Y=Math.min(32767,A),Q=Math.min(258,z);ye<=Y&&--re&&U!=te;){if(t[A+W]==t[A+W-ye]){for(var J=0;J<Q&&t[A+J]==t[A+J-ye];++J);if(J>W){if(W=J,X=ye,J>F)break;for(var ae=Math.min(ye,J-2),pe=0,V=0;V<ae;++V){var ve=A-ye+V&32767,le=y[ve],Ae=ve-le&32767;Ae>pe&&(pe=Ae,te=ve)}}}U=te,te=y[U],ye+=U-te&32767}if(X){I[O++]=268435456|t4[W]<<18|Tk[X];var Ee=t4[W]&31,ge=Tk[X]&31;w+=iw[Ee]+sw[ge],++M[257+Ee],++L[ge],E=A+W,++T}else I[O++]=t[A],++M[t[A]]}}for(A=Math.max(A,E);A<o;++A)I[O++]=t[A],++M[t[A]];u=Nk(t,l,c,I,M,L,w,O,C,A-C,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=b,s.p=y,s.i=A,s.w=E)}else{for(var A=s.w||0;A<o+c;A+=65535){var Fe=A+65535;Fe>=o&&(l[u/8|0]=c,Fe=o),u=o9(l,u+1,t.subarray(A,Fe))}s.i=o}return s9(a,0,r+O3(u)+i)},l9=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},bae=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new bi(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return vae(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},c9=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},wae=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=l9();i.p(e.dictionary),c9(t,2,i.d())}},_ae=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&zo(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&zo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function i4(t,e){e||(e={});var n=l9();n.p(t);var r=bae(t,e,e.dictionary?6:2,4);return wae(r,e),c9(r,r.length-4,n.d()),r}function xae(t,e){return mae(t.subarray(_ae(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var Sae=typeof TextDecoder<"u"&&new TextDecoder,Aae=0;try{Sae.decode(a9,{stream:!0}),Aae=1}catch{}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function O_(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var gn={log:O_,warn:function(t){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):O_.call(null,arguments))},error:function(t){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):O_(t))}};function R_(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ph(r.response,e,n)},r.onerror=function(){gn.error("could not download file")},r.send()}function Ik(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function uy(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wm,s4,ph=yt.saveAs||((typeof window>"u"?"undefined":ln(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=yt.URL||yt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Ik(i.href)?R_(t,e,n):uy(i,i.target="_blank"):uy(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){uy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Ik(t))R_(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){uy(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ln(s)!=="object"&&(gn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return R_(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(yt.HTMLElement)||yt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":ln(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=yt.URL||yt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function u9(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function L_(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=ui(n,r,i,s,e[0],7,-680876936),s=ui(s,n,r,i,e[1],12,-389564586),i=ui(i,s,n,r,e[2],17,606105819),r=ui(r,i,s,n,e[3],22,-1044525330),n=ui(n,r,i,s,e[4],7,-176418897),s=ui(s,n,r,i,e[5],12,1200080426),i=ui(i,s,n,r,e[6],17,-1473231341),r=ui(r,i,s,n,e[7],22,-45705983),n=ui(n,r,i,s,e[8],7,1770035416),s=ui(s,n,r,i,e[9],12,-1958414417),i=ui(i,s,n,r,e[10],17,-42063),r=ui(r,i,s,n,e[11],22,-1990404162),n=ui(n,r,i,s,e[12],7,1804603682),s=ui(s,n,r,i,e[13],12,-40341101),i=ui(i,s,n,r,e[14],17,-1502002290),n=hi(n,r=ui(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=hi(s,n,r,i,e[6],9,-1069501632),i=hi(i,s,n,r,e[11],14,643717713),r=hi(r,i,s,n,e[0],20,-373897302),n=hi(n,r,i,s,e[5],5,-701558691),s=hi(s,n,r,i,e[10],9,38016083),i=hi(i,s,n,r,e[15],14,-660478335),r=hi(r,i,s,n,e[4],20,-405537848),n=hi(n,r,i,s,e[9],5,568446438),s=hi(s,n,r,i,e[14],9,-1019803690),i=hi(i,s,n,r,e[3],14,-187363961),r=hi(r,i,s,n,e[8],20,1163531501),n=hi(n,r,i,s,e[13],5,-1444681467),s=hi(s,n,r,i,e[2],9,-51403784),i=hi(i,s,n,r,e[7],14,1735328473),n=fi(n,r=hi(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=fi(s,n,r,i,e[8],11,-2022574463),i=fi(i,s,n,r,e[11],16,1839030562),r=fi(r,i,s,n,e[14],23,-35309556),n=fi(n,r,i,s,e[1],4,-1530992060),s=fi(s,n,r,i,e[4],11,1272893353),i=fi(i,s,n,r,e[7],16,-155497632),r=fi(r,i,s,n,e[10],23,-1094730640),n=fi(n,r,i,s,e[13],4,681279174),s=fi(s,n,r,i,e[0],11,-358537222),i=fi(i,s,n,r,e[3],16,-722521979),r=fi(r,i,s,n,e[6],23,76029189),n=fi(n,r,i,s,e[9],4,-640364487),s=fi(s,n,r,i,e[12],11,-421815835),i=fi(i,s,n,r,e[15],16,530742520),n=di(n,r=fi(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=di(s,n,r,i,e[7],10,1126891415),i=di(i,s,n,r,e[14],15,-1416354905),r=di(r,i,s,n,e[5],21,-57434055),n=di(n,r,i,s,e[12],6,1700485571),s=di(s,n,r,i,e[3],10,-1894986606),i=di(i,s,n,r,e[10],15,-1051523),r=di(r,i,s,n,e[1],21,-2054922799),n=di(n,r,i,s,e[8],6,1873313359),s=di(s,n,r,i,e[15],10,-30611744),i=di(i,s,n,r,e[6],15,-1560198380),r=di(r,i,s,n,e[13],21,1309151649),n=di(n,r,i,s,e[4],6,-145523070),s=di(s,n,r,i,e[11],10,-1120210379),i=di(i,s,n,r,e[2],15,718787259),r=di(r,i,s,n,e[9],21,-343485551),t[0]=Qc(n,t[0]),t[1]=Qc(r,t[1]),t[2]=Qc(i,t[2]),t[3]=Qc(s,t[3])}function ow(t,e,n,r,i,s){return e=Qc(Qc(e,t),Qc(r,s)),Qc(e<<i|e>>>32-i,n)}function ui(t,e,n,r,i,s,o){return ow(e&n|~e&r,t,e,i,s,o)}function hi(t,e,n,r,i,s,o){return ow(e&r|n&~r,t,e,i,s,o)}function fi(t,e,n,r,i,s,o){return ow(e^n^r,t,e,i,s,o)}function di(t,e,n,r,i,s,o){return ow(n^(e|~r),t,e,i,s,o)}function h9(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)L_(r,Eae(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(L_(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,L_(r,i),r}function Eae(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}wm=yt.atob.bind(yt),s4=yt.btoa.bind(yt);var kk="0123456789abcdef".split("");function Pae(t){for(var e="",n=0;n<4;n++)e+=kk[t>>8*n+4&15]+kk[t>>8*n&15];return e}function Tae(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function o4(t){return h9(t).map(Tae).join("")}var Cae=function(t){for(var e=0;e<t.length;e++)t[e]=Pae(t[e]);return t.join("")}(h9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qc(t,e){if(Cae){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function a4(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var h=e.length,f=0,d=0,p="";for(l=0;l<h;l++)d=(d+(u=a[f=(f+1)%256]))%256,a[f]=a[d],a[d]=u,o=a[(a[f]+a[d])%256],p+=String.fromCharCode(e.charCodeAt(l)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ok={print:4,modify:8,copy:16,"annot-forms":32};function fd(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Ok.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Ok[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=o4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=a4(this.encryptionKey,this.padding)}function dd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function Rk(t){if(ln(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){yt.console&&gn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function y2(t){if(!(this instanceof y2))return new y2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function f9(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function vh(t,e,n,r,i){if(!(this instanceof vh))return new vh(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,f9.call(this,r,i)}function Nd(t,e,n,r,i){if(!(this instanceof Nd))return new Nd(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,f9.call(this,r,i)}function mt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;ln(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},d={internal:{},__private__:{}};d.__private__.PubSub=Rk;var p="1.3",y=d.__private__.getPdfVersion=function(){return p};d.__private__.setPdfVersion=function(P){p=P};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return b};var v=d.__private__.getPageFormat=function(P){return b[P]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function I(){this.saveGraphicsState(),se(new dt(We,0,0,-We,0,Oo()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),c="n",S=x.ADVANCED}function M(){this.restoreGraphicsState(),c="S",S=x.COMPAT}var L=d.__private__.combineFontStyleAndFontWeight=function(P,$){if(P=="bold"&&$=="normal"||P=="bold"&&$==400||P=="normal"&&$=="italic"||P=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(P=$==400||$==="normal"?P==="italic"?"italic":"normal":$!=700&&$!=="bold"||P!=="normal"?($==700?"bold":$)+""+P:"bold"),P};d.advancedAPI=function(P){var $=S===x.COMPAT;return $&&I.call(this),typeof P!="function"||(P(this),$&&M.call(this)),this},d.compatAPI=function(P){var $=S===x.ADVANCED;return $&&M.call(this),typeof P!="function"||(P(this),$&&I.call(this)),this},d.isAdvancedAPI=function(){return S===x.ADVANCED};var T,w=function(P){if(S!==x.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=d.roundToPrecision=d.__private__.roundToPrecision=function(P,$){var oe=e||$;if(isNaN(P)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(oe).replace(/0+$/,"")};T=d.hpf=d.__private__.hpf=typeof l=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return A(P,l)}:l==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return A(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return A(P,16)};var O=d.f2=d.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return A(P,2)},E=d.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return A(P,3)},C=d.scale=d.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?P*We:S===x.ADVANCED?P:void 0},R=function(P){return S===x.COMPAT?Oo()-P:S===x.ADVANCED?P:void 0},U=function(P){return C(R(P))};d.__private__.setPrecision=d.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var te,z="00000000000000000000000000000000",V=d.__private__.getFileId=function(){return z},W=d.__private__.setFileId=function(P){return z=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Wn=new fd(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};d.setFileId=function(P){return W(P),this},d.getFileId=function(){return V()};var X=d.__private__.convertDateToPDFDate=function(P){var $=P.getTimezoneOffset(),oe=$<0?"+":"-",ce=Math.floor(Math.abs($/60)),be=Math.abs($%60),Pe=[oe,Q(ce),"'",Q(be),"'"].join("");return["D:",P.getFullYear(),Q(P.getMonth()+1),Q(P.getDate()),Q(P.getHours()),Q(P.getMinutes()),Q(P.getSeconds()),Pe].join("")},re=d.__private__.convertPDFDateToDate=function(P){var $=parseInt(P.substr(2,4),10),oe=parseInt(P.substr(6,2),10)-1,ce=parseInt(P.substr(8,2),10),be=parseInt(P.substr(10,2),10),Pe=parseInt(P.substr(12,2),10),je=parseInt(P.substr(14,2),10);return new Date($,oe,ce,be,Pe,je,0)},ye=d.__private__.setCreationDate=function(P){var $;if(P===void 0&&(P=new Date),P instanceof Date)$=X(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=P}return te=$},F=d.__private__.getCreationDate=function(P){var $=te;return P==="jsDate"&&($=re(te)),$};d.setCreationDate=function(P){return ye(P),this},d.getCreationDate=function(P){return F(P)};var Y,Q=d.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},J=d.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},ae=0,pe=[],ve=[],le=0,Ae=[],Ee=[],ge=!1,Fe=ve,qe=function(){ae=0,le=0,ve=[],pe=[],Ae=[],Eo=Hn(),gs=Hn()};d.__private__.setCustomOutputDestination=function(P){ge=!0,Fe=P};var we=function(P){ge||(Fe=P)};d.__private__.resetCustomOutputDestination=function(){ge=!1,Fe=ve};var se=d.__private__.out=function(P){return P=P.toString(),le+=P.length+1,Fe.push(P),Fe},Ge=d.__private__.write=function(P){return se(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},He=d.__private__.getArrayBuffer=function(P){for(var $=P.length,oe=new ArrayBuffer($),ce=new Uint8Array(oe);$--;)ce[$]=P.charCodeAt($);return oe},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Oe};var Be=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(P){return Be=S===x.ADVANCED?P/We:P,this};var Ve,$e=d.__private__.getFontSize=d.getFontSize=function(){return S===x.COMPAT?Be:Be*We},Xe=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(P){return Xe=P,this},d.__private__.getR2L=d.getR2L=function(){return Xe};var Je,lt=d.__private__.setZoomMode=function(P){var $=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Ve=P;else if(isNaN(P)){if($.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Ve=P}else Ve=parseInt(P,10)};d.__private__.getZoomMode=function(){return Ve};var gt,ht=d.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Je=P};d.__private__.getPageMode=function(){return Je};var ot=d.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');gt=P};d.__private__.getLayoutMode=function(){return gt},d.__private__.setDisplayMode=d.setDisplayMode=function(P,$,oe){return lt(P),ot($),ht(oe),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(P){if(Object.keys(at).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[P]},d.__private__.getDocumentProperties=function(){return at},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(P){for(var $ in at)at.hasOwnProperty($)&&P[$]&&(at[$]=P[$]);return this},d.__private__.setDocumentProperty=function(P,$){if(Object.keys(at).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[P]=$};var ut,We,Yt,wt,An,kt={},Ht={},Bi=[],Mt={},Ui={},Xt={},ri={},Ln=null,Vt=0,ft=[],Et=new Rk(d),fs=t.hotfixes||[],Jt={},Zn={},ii=[],dt=function P($,oe,ce,be,Pe,je){if(!(this instanceof P))return new P($,oe,ce,be,Pe,je);isNaN($)&&($=1),isNaN(oe)&&(oe=0),isNaN(ce)&&(ce=0),isNaN(be)&&(be=1),isNaN(Pe)&&(Pe=0),isNaN(je)&&(je=0),this._matrix=[$,oe,ce,be,Pe,je]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(P)},dt.prototype.multiply=function(P){var $=P.sx*this.sx+P.shy*this.shx,oe=P.sx*this.shy+P.shy*this.sy,ce=P.shx*this.sx+P.sy*this.shx,be=P.shx*this.shy+P.sy*this.sy,Pe=P.tx*this.sx+P.ty*this.shx+this.tx,je=P.tx*this.shy+P.ty*this.sy+this.ty;return new dt($,oe,ce,be,Pe,je)},dt.prototype.decompose=function(){var P=this.sx,$=this.shy,oe=this.shx,ce=this.sy,be=this.tx,Pe=this.ty,je=Math.sqrt(P*P+$*$),Ze=(P/=je)*oe+($/=je)*ce;oe-=P*Ze,ce-=$*Ze;var st=Math.sqrt(oe*oe+ce*ce);return Ze/=st,P*(ce/=st)<$*(oe/=st)&&(P=-P,$=-$,Ze=-Ze,je=-je),{scale:new dt(je,0,0,st,0,0),translate:new dt(1,0,0,1,be,Pe),rotate:new dt(P,$,-$,P,0,0),skew:new dt(1,0,Ze,1,0,0)}},dt.prototype.toString=function(P){return this.join(" ")},dt.prototype.inversed=function(){var P=this.sx,$=this.shy,oe=this.shx,ce=this.sy,be=this.tx,Pe=this.ty,je=1/(P*ce-$*oe),Ze=ce*je,st=-$*je,m=-oe*je,k=P*je;return new dt(Ze,st,m,k,-Ze*be-m*Pe,-st*be-k*Pe)},dt.prototype.applyToPoint=function(P){var $=P.x*this.sx+P.y*this.shx+this.tx,oe=P.x*this.shy+P.y*this.sy+this.ty;return new Ws($,oe)},dt.prototype.applyToRectangle=function(P){var $=this.applyToPoint(P),oe=this.applyToPoint(new Ws(P.x+P.w,P.y+P.h));return new hc($.x,$.y,oe.x-$.x,oe.y-$.y)},dt.prototype.clone=function(){var P=this.sx,$=this.shy,oe=this.shx,ce=this.sy,be=this.tx,Pe=this.ty;return new dt(P,$,oe,ce,be,Pe)},d.Matrix=dt;var fn=d.matrixMult=function(P,$){return $.multiply(P)},ds=new dt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=ds;var hr=function(P,$){if(!Ui[P]){var oe=($ instanceof vh?"Sh":"P")+(Object.keys(Mt).length+1).toString(10);$.id=oe,Ui[P]=oe,Mt[oe]=$,Et.publish("addPattern",$)}};d.ShadingPattern=vh,d.TilingPattern=Nd,d.addShadingPattern=function(P,$){return w("addShadingPattern()"),hr(P,$),this},d.beginTilingPattern=function(P){w("beginTilingPattern()"),dc(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},d.endTilingPattern=function(P,$){w("endTilingPattern()"),$.stream=Ee[Y].join(`
`),hr(P,$),Et.publish("endTilingPattern",$),ii.pop().restore()};var En=d.__private__.newObject=function(){var P=Hn();return Pi(P,!0),P},Hn=d.__private__.newObjectDeferred=function(){return ae++,pe[ae]=function(){return le},ae},Pi=function(P,$){return $=typeof $=="boolean"&&$,pe[P]=le,$&&se(P+" 0 obj"),P},ps=d.__private__.newAdditionalObject=function(){var P={objId:Hn(),content:""};return Ae.push(P),P},Eo=Hn(),gs=Hn(),si=d.__private__.decodeColorString=function(P){var $=P.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length===5&&($[4]==="k"||$[4]==="K")&&($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var oe=parseFloat($[0]);$=[oe,oe,oe,"r"]}for(var ce="#",be=0;be<3;be++)ce+=("0"+Math.floor(255*parseFloat($[be])).toString(16)).slice(-2);return ce},Vi=d.__private__.encodeColorString=function(P){var $;typeof P=="string"&&(P={ch1:P});var oe=P.ch1,ce=P.ch2,be=P.ch3,Pe=P.ch4,je=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var Ze=new u9(oe);if(Ze.ok)oe=Ze.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var st=parseInt(oe.substr(1),16);oe=st>>16&255,ce=st>>8&255,be=255&st}if(ce===void 0||Pe===void 0&&oe===ce&&ce===be)if(typeof oe=="string")$=oe+" "+je[0];else switch(P.precision){case 2:$=O(oe/255)+" "+je[0];break;case 3:default:$=E(oe/255)+" "+je[0]}else if(Pe===void 0||ln(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return $=["1.","1.","1.",je[1]].join(" ");if(typeof oe=="string")$=[oe,ce,be,je[1]].join(" ");else switch(P.precision){case 2:$=[O(oe/255),O(ce/255),O(be/255),je[1]].join(" ");break;default:case 3:$=[E(oe/255),E(ce/255),E(be/255),je[1]].join(" ")}}else if(typeof oe=="string")$=[oe,ce,be,Pe,je[2]].join(" ");else switch(P.precision){case 2:$=[O(oe),O(ce),O(be),O(Pe),je[2]].join(" ");break;case 3:default:$=[E(oe),E(ce),E(be),E(Pe),je[2]].join(" ")}return $},zi=d.__private__.getFilters=function(){return o},qr=d.__private__.putStream=function(P){var $=(P=P||{}).data||"",oe=P.filters||zi(),ce=P.alreadyAppliedFilters||[],be=P.addLength1||!1,Pe=$.length,je=P.objectId,Ze=function(Ue){return Ue};if(u!==null&&je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ze=Wn.encryptor(je,0));var st={};oe===!0&&(oe=["FlateEncode"]);var m=P.additionalKeyValues||[],k=(st=mt.API.processDataByFilters!==void 0?mt.API.processDataByFilters($,oe):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(st.data.length!==0&&(m.push({key:"Length",value:st.data.length}),be===!0&&m.push({key:"Length1",value:Pe})),k.length!=0)if(k.split("/").length-1==1)m.push({key:"Filter",value:k});else{m.push({key:"Filter",value:"["+k+"]"});for(var B=0;B<m.length;B+=1)if(m[B].key==="DecodeParms"){for(var Z=[],fe=0;fe<st.reverseChain.split("/").length-1;fe+=1)Z.push("null");Z.push(m[B].value),m[B].value="["+Z.join(" ")+"]"}}se("<<");for(var _e=0;_e<m.length;_e++)se("/"+m[_e].key+" "+m[_e].value);se(">>"),st.data.length!==0&&(se("stream"),se(Ze(st.data)),se("endstream"))},_r=d.__private__.putPage=function(P){var $=P.number,oe=P.data,ce=P.objId,be=P.contentsObjId;Pi(ce,!0),se("<</Type /Page"),se("/Parent "+P.rootDictionaryObjId+" 0 R"),se("/Resources "+P.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(T(P.mediaBox.bottomLeftX))+" "+parseFloat(T(P.mediaBox.bottomLeftY))+" "+T(P.mediaBox.topRightX)+" "+T(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&se("/CropBox ["+T(P.cropBox.bottomLeftX)+" "+T(P.cropBox.bottomLeftY)+" "+T(P.cropBox.topRightX)+" "+T(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&se("/BleedBox ["+T(P.bleedBox.bottomLeftX)+" "+T(P.bleedBox.bottomLeftY)+" "+T(P.bleedBox.topRightX)+" "+T(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&se("/TrimBox ["+T(P.trimBox.bottomLeftX)+" "+T(P.trimBox.bottomLeftY)+" "+T(P.trimBox.topRightX)+" "+T(P.trimBox.topRightY)+"]"),P.artBox!==null&&se("/ArtBox ["+T(P.artBox.bottomLeftX)+" "+T(P.artBox.bottomLeftY)+" "+T(P.artBox.topRightX)+" "+T(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&se("/UserUnit "+P.userUnit),Et.publish("putPage",{objId:ce,pageContext:ft[$],pageNumber:$,page:oe}),se("/Contents "+be+" 0 R"),se(">>"),se("endobj");var Pe=oe.join(`
`);return S===x.ADVANCED&&(Pe+=`
Q`),Pi(be,!0),qr({data:Pe,filters:zi(),objectId:be}),se("endobj"),ce},la=d.__private__.putPages=function(){var P,$,oe=[];for(P=1;P<=Vt;P++)ft[P].objId=Hn(),ft[P].contentsObjId=Hn();for(P=1;P<=Vt;P++)oe.push(_r({number:P,data:Ee[P],objId:ft[P].objId,contentsObjId:ft[P].contentsObjId,mediaBox:ft[P].mediaBox,cropBox:ft[P].cropBox,bleedBox:ft[P].bleedBox,trimBox:ft[P].trimBox,artBox:ft[P].artBox,userUnit:ft[P].userUnit,rootDictionaryObjId:Eo,resourceDictionaryObjId:gs}));Pi(Eo,!0),se("<</Type /Pages");var ce="/Kids [";for($=0;$<Vt;$++)ce+=oe[$]+" 0 R ";se(ce+"]"),se("/Count "+Vt),se(">>"),se("endobj"),Et.publish("postPutPages")},Ka=function(P){Et.publish("putFont",{font:P,out:se,newObject:En,putStream:qr}),P.isAlreadyPutted!==!0&&(P.objectNumber=En(),se("<<"),se("/Type /Font"),se("/BaseFont /"+dd(P.postScriptName)),se("/Subtype /Type1"),typeof P.encoding=="string"&&se("/Encoding /"+P.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},ca=function(){for(var P in kt)kt.hasOwnProperty(P)&&(h===!1||h===!0&&f.hasOwnProperty(P))&&Ka(kt[P])},ua=function(P){P.objectNumber=En();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[T(P.x),T(P.y),T(P.x+P.width),T(P.y+P.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var oe=P.pages[1].join(`
`);qr({data:oe,additionalKeyValues:$,objectId:P.objectNumber}),se("endobj")},Ga=function(){for(var P in Jt)Jt.hasOwnProperty(P)&&ua(Jt[P])},Uu=function(P,$){var oe,ce=[],be=1/($-1);for(oe=0;oe<1;oe+=be)ce.push(oe);if(ce.push(1),P[0].offset!=0){var Pe={offset:0,color:P[0].color};P.unshift(Pe)}if(P[P.length-1].offset!=1){var je={offset:1,color:P[P.length-1].color};P.push(je)}for(var Ze="",st=0,m=0;m<ce.length;m++){for(oe=ce[m];oe>P[st+1].offset;)st++;var k=P[st].offset,B=(oe-k)/(P[st+1].offset-k),Z=P[st].color,fe=P[st+1].color;Ze+=J(Math.round((1-B)*Z[0]+B*fe[0]).toString(16))+J(Math.round((1-B)*Z[1]+B*fe[1]).toString(16))+J(Math.round((1-B)*Z[2]+B*fe[2]).toString(16))}return Ze.trim()},Yp=function(P,$){$||($=21);var oe=En(),ce=Uu(P.colors,$),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+$+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qr({data:ce,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),se("endobj"),P.objectNumber=En(),se("<< /ShadingType "+P.type),se("/ColorSpace /DeviceRGB");var Pe="/Coords ["+T(parseFloat(P.coords[0]))+" "+T(parseFloat(P.coords[1]))+" ";P.type===2?Pe+=T(parseFloat(P.coords[2]))+" "+T(parseFloat(P.coords[3])):Pe+=T(parseFloat(P.coords[2]))+" "+T(parseFloat(P.coords[3]))+" "+T(parseFloat(P.coords[4]))+" "+T(parseFloat(P.coords[5])),se(Pe+="]"),P.matrix&&se("/Matrix ["+P.matrix.toString()+"]"),se("/Function "+oe+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},ec=function(P,$){var oe=Hn(),ce=En();$.push({resourcesOid:oe,objectOid:ce}),P.objectNumber=ce;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+P.boundingBox.map(T).join(" ")+"]"}),be.push({key:"XStep",value:T(P.xStep)}),be.push({key:"YStep",value:T(P.yStep)}),be.push({key:"Resources",value:oe+" 0 R"}),P.matrix&&be.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),qr({data:P.stream,additionalKeyValues:be,objectId:P.objectNumber}),se("endobj")},Ya=function(P){var $;for($ in Mt)Mt.hasOwnProperty($)&&(Mt[$]instanceof vh?Yp(Mt[$]):Mt[$]instanceof Nd&&ec(Mt[$],P))},tc=function(P){for(var $ in P.objectNumber=En(),se("<<"),P)switch($){case"opacity":se("/ca "+O(P[$]));break;case"stroke-opacity":se("/CA "+O(P[$]))}se(">>"),se("endobj")},Xa=function(){var P;for(P in Xt)Xt.hasOwnProperty(P)&&tc(Xt[P])},ms=function(){for(var P in se("/XObject <<"),Jt)Jt.hasOwnProperty(P)&&Jt[P].objectNumber>=0&&se("/"+P+" "+Jt[P].objectNumber+" 0 R");Et.publish("putXobjectDict"),se(">>")},Vu=function(){Wn.oid=En(),se("<<"),se("/Filter /Standard"),se("/V "+Wn.v),se("/R "+Wn.r),se("/U <"+Wn.toHexString(Wn.U)+">"),se("/O <"+Wn.toHexString(Wn.O)+">"),se("/P "+Wn.P),se(">>"),se("endobj")},Nf=function(){for(var P in se("/Font <<"),kt)kt.hasOwnProperty(P)&&(h===!1||h===!0&&f.hasOwnProperty(P))&&se("/"+P+" "+kt[P].objectNumber+" 0 R");se(">>")},If=function(){if(Object.keys(Mt).length>0){for(var P in se("/Shading <<"),Mt)Mt.hasOwnProperty(P)&&Mt[P]instanceof vh&&Mt[P].objectNumber>=0&&se("/"+P+" "+Mt[P].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),se(">>")}},Qa=function(P){if(Object.keys(Mt).length>0){for(var $ in se("/Pattern <<"),Mt)Mt.hasOwnProperty($)&&Mt[$]instanceof d.TilingPattern&&Mt[$].objectNumber>=0&&Mt[$].objectNumber<P&&se("/"+$+" "+Mt[$].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),se(">>")}},kf=function(){if(Object.keys(Xt).length>0){var P;for(P in se("/ExtGState <<"),Xt)Xt.hasOwnProperty(P)&&Xt[P].objectNumber>=0&&se("/"+P+" "+Xt[P].objectNumber+" 0 R");Et.publish("putGStateDict"),se(">>")}},Pn=function(P){Pi(P.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Nf(),If(),Qa(P.objectOid),kf(),ms(),se(">>"),se("endobj")},nc=function(){var P=[];ca(),Xa(),Ga(),Ya(P),Et.publish("putResources"),P.forEach(Pn),Pn({resourcesOid:gs,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources")},zu=function(){Et.publish("putAdditionalObjects");for(var P=0;P<Ae.length;P++){var $=Ae[P];Pi($.objId,!0),se($.content),se("endobj")}Et.publish("postPutAdditionalObjects")},$u=function(P){Ht[P.fontName]=Ht[P.fontName]||{},Ht[P.fontName][P.fontStyle]=P.id},qu=function(P,$,oe,ce,be){var Pe={id:"F"+(Object.keys(kt).length+1).toString(10),postScriptName:P,fontName:$,fontStyle:oe,encoding:ce,isStandardFont:be||!1,metadata:{}};return Et.publish("addFont",{font:Pe,instance:this}),kt[Pe.id]=Pe,$u(Pe),Pe.id},Xp=function(P){for(var $=0,oe=Oe.length;$<oe;$++){var ce=qu.call(this,P[$][0],P[$][1],P[$][2],Oe[$][3],!0);h===!1&&(f[ce]=!0);var be=P[$][0].split("-");$u({id:ce,fontName:be[0],fontStyle:be[1]||""})}Et.publish("addFonts",{fonts:kt,dictionary:Ht})},$i=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(ce){var $=ce.stack||"";~$.indexOf(" at ")&&($=$.split(" at ")[1]);var oe="Error in function "+$.split(`
`)[0].split("<")[0]+": "+ce.message;if(!yt.console)throw new Error(oe);yt.console.error(oe,ce),yt.alert&&alert(oe)}},P.foo.bar=P,P.foo},Ja=function(P,$){var oe,ce,be,Pe,je,Ze,st,m,k;if(be=($=$||{}).sourceEncoding||"Unicode",je=$.outputEncoding,($.autoencode||je)&&kt[ut].metadata&&kt[ut].metadata[be]&&kt[ut].metadata[be].encoding&&(Pe=kt[ut].metadata[be].encoding,!je&&kt[ut].encoding&&(je=kt[ut].encoding),!je&&Pe.codePages&&(je=Pe.codePages[0]),typeof je=="string"&&(je=Pe[je]),je)){for(st=!1,Ze=[],oe=0,ce=P.length;oe<ce;oe++)(m=je[P.charCodeAt(oe)])?Ze.push(String.fromCharCode(m)):Ze.push(P[oe]),Ze[oe].charCodeAt(0)>>8&&(st=!0);P=Ze.join("")}for(oe=P.length;st===void 0&&oe!==0;)P.charCodeAt(oe-1)>>8&&(st=!0),oe--;if(!st)return P;for(Ze=$.noBOM?[]:[254,255],oe=0,ce=P.length;oe<ce;oe++){if((k=(m=P.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ze.push(k),Ze.push(m-(k<<8))}return String.fromCharCode.apply(void 0,Ze)},oi=d.__private__.pdfEscape=d.pdfEscape=function(P,$){return Ja(P,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ys=d.__private__.beginPage=function(P){Ee[++Vt]=[],ft[Vt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Za(Vt),we(Ee[Y])},qi=function(P,$){var oe,ce,be;switch(n=$||n,typeof P=="string"&&(oe=v(P.toLowerCase()),Array.isArray(oe)&&(ce=oe[0],be=oe[1])),Array.isArray(P)&&(ce=P[0]*We,be=P[1]*We),isNaN(ce)&&(ce=i[0],be=i[1]),(ce>14400||be>14400)&&(gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),be=Math.min(14400,be)),i=[ce,be],n.substr(0,1)){case"l":be>ce&&(i=[be,ce]);break;case"p":ce>be&&(i=[be,ce])}ys(i),Bf(un),se(ws),da!==0&&se(da+" J"),Qu!==0&&se(Qu+" j"),Et.publish("addPage",{pageNumber:Vt})},rc=function(P){P>0&&P<=Vt&&(Ee.splice(P,1),ft.splice(P,1),Vt--,Y>Vt&&(Y=Vt),this.setPage(Y))},Za=function(P){P>0&&P<=Vt&&(Y=P)},Of=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Ee.length-1},Zt=function(P,$,oe){var ce,be=void 0;return oe=oe||{},P=P!==void 0?P:kt[ut].fontName,$=$!==void 0?$:kt[ut].fontStyle,ce=P.toLowerCase(),Ht[ce]!==void 0&&Ht[ce][$]!==void 0?be=Ht[ce][$]:Ht[P]!==void 0&&Ht[P][$]!==void 0?be=Ht[P][$]:oe.disableWarning===!1&&gn.warn("Unable to look up font label for font '"+P+"', '"+$+"'. Refer to getFontList() for available fonts."),be||oe.noFallback||(be=Ht.times[$])==null&&(be=Ht.times.normal),be},ic=d.__private__.putInfo=function(){var P=En(),$=function(ce){return ce};for(var oe in u!==null&&($=Wn.encryptor(P,0)),se("<<"),se("/Producer ("+oi($("jsPDF "+mt.version))+")"),at)at.hasOwnProperty(oe)&&at[oe]&&se("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+oi($(at[oe]))+")");se("/CreationDate ("+oi($(te))+")"),se(">>"),se("endobj")},Po=d.__private__.putCatalog=function(P){var $=(P=P||{}).rootDictionaryObjId||Eo;switch(En(),se("<<"),se("/Type /Catalog"),se("/Pages "+$+" 0 R"),Ve||(Ve="fullwidth"),Ve){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+Ve;oe.substr(oe.length-1)==="%"&&(Ve=parseInt(Ve)/100),typeof Ve=="number"&&se("/OpenAction [3 0 R /XYZ null null "+O(Ve)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Je&&se("/PageMode /"+Je),Et.publish("putCatalog"),se(">>"),se("endobj")},el=d.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ae+1)),se("/Root "+ae+" 0 R"),se("/Info "+(ae-1)+" 0 R"),u!==null&&se("/Encrypt "+Wn.oid+" 0 R"),se("/ID [ <"+z+"> <"+z+"> ]"),se(">>")},Qp=d.__private__.putHeader=function(){se("%PDF-"+p),se("%ºß¬à")},Rf=d.__private__.putXRef=function(){var P="0000000000";se("xref"),se("0 "+(ae+1)),se("0000000000 65535 f ");for(var $=1;$<=ae;$++)typeof pe[$]=="function"?se((P+pe[$]()).slice(-10)+" 00000 n "):pe[$]!==void 0?se((P+pe[$]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},To=d.__private__.buildDocument=function(){qe(),we(ve),Et.publish("buildDocument"),Qp(),la(),zu(),nc(),u!==null&&Vu(),ic(),Po();var P=le;return Rf(),el(),se("startxref"),se(""+P),se("%%EOF"),we(Ee[Y]),ve.join(`
`)},sc=d.__private__.getBlob=function(P){return new Blob([He(P)],{type:"application/pdf"})},oc=d.output=d.__private__.output=$i(function(P,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",P){case void 0:return To();case"save":d.save($.filename);break;case"arraybuffer":return He(To());case"blob":return sc(To());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(sc(To()))||void 0;gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",ce=To();try{oe=s4(ce)}catch{oe=s4(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+$.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(be=$.pdfObjectUrl,Pe="");var je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",Ze=yt.open();return Ze!==null&&Ze.document.write(je),Ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',m=yt.open();if(m!==null){m.document.write(st);var k=this;m.document.documentElement.querySelector("#pdfViewer").onload=function(){m.document.title=$.filename,m.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(k.output("bloburl"))}}return m}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var B='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',Z=yt.open();if(Z!==null&&(Z.document.write(B),Z.document.title=$.filename),Z||typeof safari>"u")return Z;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",$);default:return null}}),Lf=function(P){return Array.isArray(fs)===!0&&fs.indexOf(P)>-1};switch(r){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=Lf("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);We=r}var Wn=null;ye(),W();var $s=function(P){return u!==null?Wn.encryptor(P,0):function($){return $}},Hu=d.__private__.getPageInfo=d.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[P].objId,pageNumber:P,pageContext:ft[P]}},_t=d.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in ft)if(ft[$].objId===P)break;return Hu($)},Mf=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ft[Y].objId,pageNumber:Y,pageContext:ft[Y]}};d.addPage=function(){return qi.apply(this,arguments),this},d.setPage=function(){return Za.apply(this,arguments),we.call(this,Ee[Y]),this},d.insertPage=function(P){return this.addPage(),this.movePage(Y,P),this},d.movePage=function(P,$){var oe,ce;if(P>$){oe=Ee[P],ce=ft[P];for(var be=P;be>$;be--)Ee[be]=Ee[be-1],ft[be]=ft[be-1];Ee[$]=oe,ft[$]=ce,this.setPage($)}else if(P<$){oe=Ee[P],ce=ft[P];for(var Pe=P;Pe<$;Pe++)Ee[Pe]=Ee[Pe+1],ft[Pe]=ft[Pe+1];Ee[$]=oe,ft[$]=ce,this.setPage($)}return this},d.deletePage=function(){return rc.apply(this,arguments),this},d.__private__.text=d.text=function(P,$,oe,ce,be){var Pe,je,Ze,st,m,k,B,Z,fe,_e=(ce=ce||{}).scope||this;if(typeof P=="number"&&typeof $=="number"&&(typeof oe=="string"||Array.isArray(oe))){var Ue=oe;oe=$,$=P,P=Ue}if(arguments[3]instanceof dt?(w("The transform parameter of text() with a Matrix value"),fe=be):(Ze=arguments[4],st=arguments[5],ln(B=arguments[3])==="object"&&B!==null||(typeof Ze=="string"&&(st=Ze,Ze=null),typeof B=="string"&&(st=B,B=null),typeof B=="number"&&(Ze=B,B=null),ce={flags:B,angle:Ze,align:st})),isNaN($)||isNaN(oe)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return _e;var xt="",nn=!1,St=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Co,dn=_e.internal.scaleFactor;function er(bn){return bn=bn.split("	").join(Array(ce.TabLen||9).join(" ")),oi(bn,B)}function Gs(bn){for(var wn,nr=bn.concat(),xr=[],ol=nr.length;ol--;)typeof(wn=nr.shift())=="string"?xr.push(wn):Array.isArray(bn)&&(wn.length===1||wn[1]===void 0&&wn[2]===void 0)?xr.push(wn[0]):xr.push([wn[0],wn[1],wn[2]]);return xr}function Hr(bn,wn){var nr;if(typeof bn=="string")nr=wn(bn)[0];else if(Array.isArray(bn)){for(var xr,ol,sg=bn.concat(),Yf=[],s1=sg.length;s1--;)typeof(xr=sg.shift())=="string"?Yf.push(wn(xr)[0]):Array.isArray(xr)&&typeof xr[0]=="string"&&(ol=wn(xr[0],xr[1],xr[2]),Yf.push([ol[0],ol[1],ol[2]]));nr=Yf}return nr}var Ro=!1,nl=!0;if(typeof P=="string")Ro=!0;else if(Array.isArray(P)){var Zp=P.concat();je=[];for(var Vf,Wr=Zp.length;Wr--;)(typeof(Vf=Zp.shift())!="string"||Array.isArray(Vf)&&typeof Vf[0]!="string")&&(nl=!1);Ro=nl}if(Ro===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var zf=Be/_e.internal.scaleFactor,$f=zf*(St-1);switch(ce.baseline){case"bottom":oe-=$f;break;case"top":oe+=zf-$f;break;case"hanging":oe+=zf-2*$f;break;case"middle":oe+=zf/2-$f}if((k=ce.maxWidth||0)>0&&(typeof P=="string"?P=_e.splitTextToSize(P,k):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(bn,wn){return bn.concat(_e.splitTextToSize(wn,k))},[]))),Pe={text:P,x:$,y:oe,options:ce,mutex:{pdfEscape:oi,activeFontKey:ut,fonts:kt,activeFontSize:Be}},Et.publish("preProcessText",Pe),P=Pe.text,Ze=(ce=Pe.options).angle,!(fe instanceof dt)&&Ze&&typeof Ze=="number"){Ze*=Math.PI/180,ce.rotationDirection===0&&(Ze=-Ze),S===x.ADVANCED&&(Ze=-Ze);var qf=Math.cos(Ze),eg=Math.sin(Ze);fe=new dt(qf,eg,-eg,qf,0,0)}else Ze&&Ze instanceof dt&&(fe=Ze);S!==x.ADVANCED||fe||(fe=ds),(m=ce.charSpace||ko)!==void 0&&(xt+=T(C(m))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Z=ce.horizontalScale)!==void 0&&(xt+=T(100*Z)+` Tz
`),ce.lang;var Wi=-1,h5=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,tg=_e.internal.getCurrentPageInfo().pageContext;switch(h5){case 0:case!1:case"fill":Wi=0;break;case 1:case!0:case"stroke":Wi=1;break;case 2:case"fillThenStroke":Wi=2;break;case 3:case"invisible":Wi=3;break;case 4:case"fillAndAddForClipping":Wi=4;break;case 5:case"strokeAndAddPathForClipping":Wi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wi=6;break;case 7:case"addToPathForClipping":Wi=7}var t1=tg.usedRenderingMode!==void 0?tg.usedRenderingMode:-1;Wi!==-1?xt+=Wi+` Tr
`:t1!==-1&&(xt+=`0 Tr
`),Wi!==-1&&(tg.usedRenderingMode=Wi),st=ce.align||"left";var Ys,Hf=Be*St,n1=_e.internal.pageSize.getWidth(),r1=kt[ut];m=ce.charSpace||ko,k=ce.maxWidth||0,B=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var gc=[],eh=function(bn){return _e.getStringUnitWidth(bn,{font:r1,charSpace:m,fontSize:Be,doKerning:!1})*Be/dn};if(Object.prototype.toString.call(P)==="[object Array]"){var Ki;je=Gs(P),st!=="left"&&(Ys=je.map(eh));var Ni,mc=0;if(st==="right"){$-=Ys[0],P=[],Wr=je.length;for(var rl=0;rl<Wr;rl++)rl===0?(Ni=Ci($),Ki=Hs(oe)):(Ni=C(mc-Ys[rl]),Ki=-Hf),P.push([je[rl],Ni,Ki]),mc=Ys[rl]}else if(st==="center"){$-=Ys[0]/2,P=[],Wr=je.length;for(var il=0;il<Wr;il++)il===0?(Ni=Ci($),Ki=Hs(oe)):(Ni=C((mc-Ys[il])/2),Ki=-Hf),P.push([je[il],Ni,Ki]),mc=Ys[il]}else if(st==="left"){P=[],Wr=je.length;for(var Wf=0;Wf<Wr;Wf++)P.push(je[Wf])}else if(st==="justify"&&r1.encoding==="Identity-H"){P=[],Wr=je.length,k=k!==0?k:n1;for(var sl=0,tr=0;tr<Wr;tr++)if(Ki=tr===0?Hs(oe):-Hf,Ni=tr===0?Ci($):sl,tr<Wr-1){var ng=C((k-Ys[tr])/(je[tr].split(" ").length-1)),Ii=je[tr].split(" ");P.push([Ii[0]+" ",Ni,Ki]),sl=0;for(var Xs=1;Xs<Ii.length;Xs++){var Kf=(eh(Ii[Xs-1]+" "+Ii[Xs])-eh(Ii[Xs]))*dn+ng;Xs==Ii.length-1?P.push([Ii[Xs],Kf,0]):P.push([Ii[Xs]+" ",Kf,0]),sl-=Kf}}else P.push([je[tr],Ni,Ki]);P.push(["",sl,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Wr=je.length,k=k!==0?k:n1,tr=0;tr<Wr;tr++)Ki=tr===0?Hs(oe):-Hf,Ni=tr===0?Ci($):0,tr<Wr-1?gc.push(T(C((k-Ys[tr])/(je[tr].split(" ").length-1)))):gc.push(0),P.push([je[tr],Ni,Ki])}}var i1=typeof ce.R2L=="boolean"?ce.R2L:Xe;i1===!0&&(P=Hr(P,function(bn,wn,nr){return[bn.split("").reverse().join(""),wn,nr]})),Pe={text:P,x:$,y:oe,options:ce,mutex:{pdfEscape:oi,activeFontKey:ut,fonts:kt,activeFontSize:Be}},Et.publish("postProcessText",Pe),P=Pe.text,nn=Pe.mutex.isHex||!1;var rg=kt[ut].encoding;rg!=="WinAnsiEncoding"&&rg!=="StandardEncoding"||(P=Hr(P,function(bn,wn,nr){return[er(bn),wn,nr]})),je=Gs(P),P=[];for(var th,nh,yc,rh=0,Gf=1,ih=Array.isArray(je[0])?Gf:rh,vc="",ig=function(bn,wn,nr){var xr="";return nr instanceof dt?(nr=typeof ce.angle=="number"?fn(nr,new dt(1,0,0,1,bn,wn)):fn(new dt(1,0,0,1,bn,wn),nr),S===x.ADVANCED&&(nr=fn(new dt(1,0,0,-1,0,0),nr)),xr=nr.join(" ")+` Tm
`):xr=T(bn)+" "+T(wn)+` Td
`,xr},Qs=0;Qs<je.length;Qs++){switch(vc="",ih){case Gf:yc=(nn?"<":"(")+je[Qs][0]+(nn?">":")"),th=parseFloat(je[Qs][1]),nh=parseFloat(je[Qs][2]);break;case rh:yc=(nn?"<":"(")+je[Qs]+(nn?">":")"),th=Ci($),nh=Hs(oe)}gc!==void 0&&gc[Qs]!==void 0&&(vc=gc[Qs]+` Tw
`),Qs===0?P.push(vc+ig(th,nh,fe)+yc):ih===rh?P.push(vc+yc):ih===Gf&&P.push(vc+ig(th,nh,fe)+yc)}P=ih===rh?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Js=`BT
/`;return Js+=ut+" "+Be+` Tf
`,Js+=T(Be*St)+` TL
`,Js+=fa+`
`,Js+=xt,Js+=P,se(Js+="ET"),f[ut]=!0,_e};var ha=d.__private__.clip=d.clip=function(P){return se(P==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return ha("evenodd")},d.__private__.discardPath=d.discardPath=function(){return se("n"),this};var qs=d.__private__.isValidStyle=function(P){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&($=!0),$};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(P){return qs(P)&&(c=P),this};var Df=d.__private__.getStyle=d.getStyle=function(P){var $=c;switch(P){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=P}return $},jf=d.close=function(){return se("h"),this};d.stroke=function(){return se("S"),this},d.fill=function(P){return Ti("f",P),this},d.fillEvenOdd=function(P){return Ti("f*",P),this},d.fillStroke=function(P){return Ti("B",P),this},d.fillStrokeEvenOdd=function(P){return Ti("B*",P),this};var Ti=function(P,$){ln($)==="object"?ac($,P):se(P)},Wu=function(P){P===null||S===x.ADVANCED&&P===void 0||(P=Df(P),se(P))};function Jp(P,$,oe,ce,be){var Pe=new Nd($||this.boundingBox,oe||this.xStep,ce||this.yStep,this.gState,be||this.matrix);Pe.stream=this.stream;var je=P+"$$"+this.cloneIndex+++"$$";return hr(je,Pe),Pe}var ac=function(P,$){var oe=Ui[P.key],ce=Mt[oe];if(ce instanceof vh)se("q"),se(lc($)),ce.gState&&d.setGState(ce.gState),se(P.matrix.toString()+" cm"),se("/"+oe+" sh"),se("Q");else if(ce instanceof Nd){var be=new dt(1,0,0,-1,0,Oo());P.matrix&&(be=be.multiply(P.matrix||ds),oe=Jp.call(ce,P.key,P.boundingBox,P.xStep,P.yStep,be).id),se("q"),se("/Pattern cs"),se("/"+oe+" scn"),ce.gState&&d.setGState(ce.gState),se($),se("Q")}},lc=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},cc=d.moveTo=function(P,$){return se(T(C(P))+" "+T(U($))+" m"),this},vs=d.lineTo=function(P,$){return se(T(C(P))+" "+T(U($))+" l"),this},Hi=d.curveTo=function(P,$,oe,ce,be,Pe){return se([T(C(P)),T(U($)),T(C(oe)),T(U(ce)),T(C(be)),T(U(Pe)),"c"].join(" ")),this};d.__private__.line=d.line=function(P,$,oe,ce,be){if(isNaN(P)||isNaN($)||isNaN(oe)||isNaN(ce)||!qs(be))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[oe-P,ce-$]],P,$,[1,1],be||"S"):this.lines([[oe-P,ce-$]],P,$,[1,1]).stroke()},d.__private__.lines=d.lines=function(P,$,oe,ce,be,Pe){var je,Ze,st,m,k,B,Z,fe,_e,Ue,xt,nn;if(typeof P=="number"&&(nn=oe,oe=$,$=P,P=nn),ce=ce||[1,1],Pe=Pe||!1,isNaN($)||isNaN(oe)||!Array.isArray(P)||!Array.isArray(ce)||!qs(be)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(cc($,oe),je=ce[0],Ze=ce[1],m=P.length,Ue=$,xt=oe,st=0;st<m;st++)(k=P[st]).length===2?(Ue=k[0]*je+Ue,xt=k[1]*Ze+xt,vs(Ue,xt)):(B=k[0]*je+Ue,Z=k[1]*Ze+xt,fe=k[2]*je+Ue,_e=k[3]*Ze+xt,Ue=k[4]*je+Ue,xt=k[5]*Ze+xt,Hi(B,Z,fe,_e,Ue,xt));return Pe&&jf(),Wu(be),this},d.path=function(P){for(var $=0;$<P.length;$++){var oe=P[$],ce=oe.c;switch(oe.op){case"m":cc(ce[0],ce[1]);break;case"l":vs(ce[0],ce[1]);break;case"c":Hi.apply(this,ce);break;case"h":jf()}}return this},d.__private__.rect=d.rect=function(P,$,oe,ce,be){if(isNaN(P)||isNaN($)||isNaN(oe)||isNaN(ce)||!qs(be))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(ce=-ce),se([T(C(P)),T(U($)),T(C(oe)),T(C(ce)),"re"].join(" ")),Wu(be),this},d.__private__.triangle=d.triangle=function(P,$,oe,ce,be,Pe,je){if(isNaN(P)||isNaN($)||isNaN(oe)||isNaN(ce)||isNaN(be)||isNaN(Pe)||!qs(je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-P,ce-$],[be-oe,Pe-ce],[P-be,$-Pe]],P,$,[1,1],je,!0),this},d.__private__.roundedRect=d.roundedRect=function(P,$,oe,ce,be,Pe,je){if(isNaN(P)||isNaN($)||isNaN(oe)||isNaN(ce)||isNaN(be)||isNaN(Pe)||!qs(je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ze=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*oe),Pe=Math.min(Pe,.5*ce),this.lines([[oe-2*be,0],[be*Ze,0,be,Pe-Pe*Ze,be,Pe],[0,ce-2*Pe],[0,Pe*Ze,-be*Ze,Pe,-be,Pe],[2*be-oe,0],[-be*Ze,0,-be,-Pe*Ze,-be,-Pe],[0,2*Pe-ce],[0,-Pe*Ze,be*Ze,-Pe,be,-Pe]],P+be,$,[1,1],je,!0),this},d.__private__.ellipse=d.ellipse=function(P,$,oe,ce,be){if(isNaN(P)||isNaN($)||isNaN(oe)||isNaN(ce)||!qs(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*oe,je=4/3*(Math.SQRT2-1)*ce;return cc(P+oe,$),Hi(P+oe,$-je,P+Pe,$-ce,P,$-ce),Hi(P-Pe,$-ce,P-oe,$-je,P-oe,$),Hi(P-oe,$+je,P-Pe,$+ce,P,$+ce),Hi(P+Pe,$+ce,P+oe,$+je,P+oe,$),Wu(be),this},d.__private__.circle=d.circle=function(P,$,oe,ce){if(isNaN(P)||isNaN($)||isNaN(oe)||!qs(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,$,oe,oe,ce)},d.setFont=function(P,$,oe){return oe&&($=L($,oe)),ut=Zt(P,$,{disableWarning:!1}),this};var Ff=d.__private__.getFont=d.getFont=function(){return kt[Zt.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var P,$,oe={};for(P in Ht)if(Ht.hasOwnProperty(P))for($ in oe[P]=[],Ht[P])Ht[P].hasOwnProperty($)&&oe[P].push($);return oe},d.addFont=function(P,$,oe,ce,be){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(oe=L(oe,ce)),be=be||"Identity-H",qu.call(this,P,$,oe,be)};var Co,un=t.lineWidth||.200025,uc=d.__private__.getLineWidth=d.getLineWidth=function(){return un},Bf=d.__private__.setLineWidth=d.setLineWidth=function(P){return un=P,se(T(C(P))+" w"),this};d.__private__.setLineDash=mt.API.setLineDash=mt.API.setLineDashPattern=function(P,$){if(P=P||[],$=$||0,isNaN($)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(oe){return T(C(oe))}).join(" "),$=T(C($)),se("["+P+"] "+$+" d"),this};var Ku=d.__private__.getLineHeight=d.getLineHeight=function(){return Be*Co};d.__private__.getLineHeight=d.getLineHeight=function(){return Be*Co};var Gu=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Co=P),this},Yu=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Co};Gu(t.lineHeight);var Ci=d.__private__.getHorizontalCoordinate=function(P){return C(P)},Hs=d.__private__.getVerticalCoordinate=function(P){return S===x.ADVANCED?P:ft[Y].mediaBox.topRightY-ft[Y].mediaBox.bottomLeftY-C(P)},bs=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(P){return T(Ci(P))},No=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(P){return T(Hs(P))},ws=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return si(ws)},d.__private__.setStrokeColor=d.setDrawColor=function(P,$,oe,ce){return ws=Vi({ch1:P,ch2:$,ch3:oe,ch4:ce,pdfColorType:"draw",precision:2}),se(ws),this};var Io=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return si(Io)},d.__private__.setFillColor=d.setFillColor=function(P,$,oe,ce){return Io=Vi({ch1:P,ch2:$,ch3:oe,ch4:ce,pdfColorType:"fill",precision:2}),se(Io),this};var fa=t.textColor||"0 g",Xu=d.__private__.getTextColor=d.getTextColor=function(){return si(fa)};d.__private__.setTextColor=d.setTextColor=function(P,$,oe,ce){return fa=Vi({ch1:P,ch2:$,ch3:oe,ch4:ce,pdfColorType:"text",precision:3}),this};var ko=t.charSpace,Uf=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(ko||0)};d.__private__.setCharSpace=d.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ko=P,this};var da=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(P){var $=d.CapJoinStyles[P];if($===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return da=$,se($+" J"),this};var Qu=0;d.__private__.setLineJoin=d.setLineJoin=function(P){var $=d.CapJoinStyles[P];if($===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qu=$,se($+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(T(C(P))+" M"),this},d.GState=y2,d.setGState=function(P){(P=typeof P=="string"?Xt[ri[P]]:Ju(null,P)).equals(Ln)||(se("/"+P.id+" gs"),Ln=P)};var Ju=function(P,$){if(!P||!ri[P]){var oe=!1;for(var ce in Xt)if(Xt.hasOwnProperty(ce)&&Xt[ce].equals($)){oe=!0;break}if(oe)$=Xt[ce];else{var be="GS"+(Object.keys(Xt).length+1).toString(10);Xt[be]=$,$.id=be}return P&&(ri[P]=$.id),Et.publish("addGState",$),$}};d.addGState=function(P,$){return Ju(P,$),this},d.saveGraphicsState=function(){return se("q"),Bi.push({key:ut,size:Be,color:fa}),this},d.restoreGraphicsState=function(){se("Q");var P=Bi.pop();return ut=P.key,Be=P.size,fa=P.color,Ln=null,this},d.setCurrentTransformationMatrix=function(P){return se(P.toString()+" cm"),this},d.comment=function(P){return se("#"+P),this};var Ws=function(P,$){var oe=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Pe){isNaN(Pe)||(oe=parseFloat(Pe))}});var ce=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Pe){isNaN(Pe)||(ce=parseFloat(Pe))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Pe){be=Pe.toString()}}),this},hc=function(P,$,oe,ce){Ws.call(this,P,$),this.type="rect";var be=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(je){isNaN(je)||(be=parseFloat(je))}});var Pe=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(je){isNaN(je)||(Pe=parseFloat(je))}}),this},fc=function(){this.page=Vt,this.currentPage=Y,this.pages=Ee.slice(0),this.pagesContext=ft.slice(0),this.x=Yt,this.y=wt,this.matrix=An,this.width=Ks(Y),this.height=Oo(Y),this.outputDestination=Fe,this.id="",this.objectNumber=-1};fc.prototype.restore=function(){Vt=this.page,Y=this.currentPage,ft=this.pagesContext,Ee=this.pages,Yt=this.x,wt=this.y,An=this.matrix,pc(Y,this.width),_s(Y,this.height),Fe=this.outputDestination};var dc=function(P,$,oe,ce,be){ii.push(new fc),Vt=Y=0,Ee=[],Yt=P,wt=$,An=be,ys([oe,ce])},Zu=function(P){if(Zn[P])ii.pop().restore();else{var $=new fc,oe="Xo"+(Object.keys(Jt).length+1).toString(10);$.id=oe,Zn[P]=oe,Jt[oe]=$,Et.publish("addFormObject",$),ii.pop().restore()}};for(var tl in d.beginFormObject=function(P,$,oe,ce,be){return dc(P,$,oe,ce,be),this},d.endFormObject=function(P){return Zu(P),this},d.doFormObject=function(P,$){var oe=Jt[Zn[P]];return se("q"),se($.toString()+" cm"),se("/"+oe.id+" Do"),se("Q"),this},d.getFormObject=function(P){var $=Jt[Zn[P]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},d.save=function(P,$){return P=P||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(ph(sc(To()),P),typeof ph.unload=="function"&&yt.setTimeout&&setTimeout(ph.unload,911),this):new Promise(function(oe,ce){try{var be=ph(sc(To()),P);typeof ph.unload=="function"&&yt.setTimeout&&setTimeout(ph.unload,911),oe(be)}catch(Pe){ce(Pe.message)}})},mt.API)mt.API.hasOwnProperty(tl)&&(tl==="events"&&mt.API.events.length?function(P,$){var oe,ce,be;for(be=$.length-1;be!==-1;be--)oe=$[be][0],ce=$[be][1],P.subscribe.apply(P,[oe].concat(typeof ce=="function"?[ce]:ce))}(Et,mt.API.events):d[tl]=mt.API[tl]);var Ks=d.getPageWidth=function(P){return(ft[P=P||Y].mediaBox.topRightX-ft[P].mediaBox.bottomLeftX)/We},pc=d.setPageWidth=function(P,$){ft[P].mediaBox.topRightX=$*We+ft[P].mediaBox.bottomLeftX},Oo=d.getPageHeight=function(P){return(ft[P=P||Y].mediaBox.topRightY-ft[P].mediaBox.bottomLeftY)/We},_s=d.setPageHeight=function(P,$){ft[P].mediaBox.topRightY=$*We+ft[P].mediaBox.bottomLeftY};return d.internal={pdfEscape:oi,getStyle:Df,getFont:Ff,getFontSize:$e,getCharSpace:Uf,getTextColor:Xu,getLineHeight:Ku,getLineHeightFactor:Yu,getLineWidth:uc,write:Ge,getHorizontalCoordinate:Ci,getVerticalCoordinate:Hs,getCoordinateString:bs,getVerticalCoordinateString:No,collections:{},newObject:En,newAdditionalObject:ps,newObjectDeferred:Hn,newObjectDeferredBegin:Pi,getFilters:zi,putStream:qr,events:Et,scaleFactor:We,pageSize:{getWidth:function(){return Ks(Y)},setWidth:function(P){pc(Y,P)},getHeight:function(){return Oo(Y)},setHeight:function(P){_s(Y,P)}},encryptionOptions:u,encryption:Wn,getEncryptor:$s,output:oc,getNumberOfPages:Of,pages:Ee,out:se,f2:O,f3:E,getPageInfo:Hu,getPageInfoByObjId:_t,getCurrentPageInfo:Mf,getPDFVersion:y,Point:Ws,Rectangle:hc,Matrix:dt,hasHotfix:Lf},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Ks(Y)},set:function(P){pc(Y,P)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Oo(Y)},set:function(P){_s(Y,P)},enumerable:!0,configurable:!0}),Xp.call(d,Oe),ut="F1",qi(i,n),Et.publish("initialized"),d}fd.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},fd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},fd.prototype.processOwnerPassword=function(t,e){return a4(o4(e).substr(0,5),t)},fd.prototype.encryptor=function(t,e){var n=o4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return a4(n,r)}},y2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||ln(t)!==ln(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},mt.API={events:[]},mt.version="3.0.1";var Gn=mt.API,R3=1,_f=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pt=function(t){return t.toFixed(2)},Nc=function(t){return t.toFixed(5)};Gn.__acroform__={};var hs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Lk=function(t){return t*R3},va=function(t){var e=new p9,n=it.internal.getHeight(t)||0,r=it.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Pt(r)),Number(Pt(n))],e},Nae=Gn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Iae=Gn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},kae=Gn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},sr=Gn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kae(t,e-1)},or=Gn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Nae(t,e-1)},ar=Gn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Iae(t,e-1)},Oae=Gn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Pt(l.lowerLeft_X)),Number(Pt(l.lowerLeft_Y)),Number(Pt(l.upperRight_X)),Number(Pt(l.upperRight_Y))]},Rae=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=l4(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Pt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=va(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},l4=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=it.internal.getHeight(t)||0;o=o<0?-o:o;var a=it.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,C,R){if(E+1<i.length){var U=C+" "+i[E+1][0];return hy(U,t,R).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,h=hy("3",t,s).height,f=t.multiline?o-s:(o-h)/2,d=f+=2,p=0,y=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+hy(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var v="",x=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var I=!1;if(i[S].length!==1&&b!==i[S].length-1){if((h+2)*(x+2)+2>o)continue e;v+=i[S][b],I=!0,y=S,S--}else{v=(v+=i[S][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var M=parseInt(S),L=l(M,v,s),T=S>=i.length-1;if(L&&!T){v+=" ",b=0;continue}if(L||T){if(T)y=M;else if(t.multiline&&(h+2)*(x+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(x+2)+2>o)continue e;y=M}}for(var w="",A=p;A<=y;A++){var O=i[A];if(t.multiline){if(A===y){w+=O[b]+" ",b=(b+1)%O.length;continue}if(A===p){w+=O[O.length-1]+" ";continue}}w+=O[0]+" "}switch(w=w.substr(w.length-1)==" "?w.substr(0,w.length-1):w,u=hy(w,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=Pt(c)+" "+Pt(d)+` Td
`,e+="("+_f(w)+`) Tj
`,e+=-Pt(c)+` 0 Td
`,d=-(s+2),u=0,p=I?y:y+1,x++,v=""}break}return r.text=e,r.fontSize=s,r},hy=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Lae={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Mae=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Dae=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),ln(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},jae=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ia.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Lae)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");R3=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new g9,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Mae(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Oae(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=it.createDefaultAppearanceStream(a),ln(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Rae(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var d=a.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var p=d[o];typeof p=="function"&&(p=p.call(i,a)),h+="/"+o+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=d)=="function"&&(p=p.call(i,a)),h+="/"+o+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&Dae(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},d9=Gn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ln(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+_f(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},M_=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+_f(r(t))+")"},Pa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pa.prototype.toString=function(){return this.objId+" 0 R"},Pa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Pa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:d9(i,this.objId,this.scope)}):i instanceof Pa?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var p9=function(){Pa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};hs(p9,Pa);var g9=function(){Pa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+_f(n(t))+")"}},set:function(n){t=n}})};hs(g9,Pa);var ia=function t(){Pa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!sr(e,3)},set:function(v){v?this.F=or(e,3):this.F=ar(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof v2)return;s="FieldObject"+t.FieldNum++}var v=function(x){return x};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+_f(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/R3:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof v2||this instanceof Fh))return M_(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Mr?f:M_(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof Mr?v:v.substr(0,1)==="("?rd(v.substr(1,v.length-2)):rd(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr?rd(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Mr?"/"+v:v}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Mr?d:M_(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=this instanceof Mr?v:v.substr(0,1)==="("?rd(v.substr(1,v.length-2)):rd(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr?rd(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof Mr?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(v){v=!!v,y=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(v){p=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,1)},set:function(v){v?this.Ff=or(this.Ff,1):this.Ff=ar(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,2)},set:function(v){v?this.Ff=or(this.Ff,2):this.Ff=ar(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,3)},set:function(v){v?this.Ff=or(this.Ff,3):this.Ff=ar(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};hs(ia,Pa);var qd=function(){ia.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return d9(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,18)},set:function(n){n?this.Ff=or(this.Ff,18):this.Ff=ar(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=or(this.Ff,19):this.Ff=ar(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,20)},set:function(n){n?(this.Ff=or(this.Ff,20),e.sort()):this.Ff=ar(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,22)},set:function(n){n?this.Ff=or(this.Ff,22):this.Ff=ar(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,23)},set:function(n){n?this.Ff=or(this.Ff,23):this.Ff=ar(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,27)},set:function(n){n?this.Ff=or(this.Ff,27):this.Ff=ar(this.Ff,27)}}),this.hasAppearanceStream=!1};hs(qd,ia);var Hd=function(){qd.call(this),this.fontName="helvetica",this.combo=!1};hs(Hd,qd);var Wd=function(){Hd.call(this),this.combo=!0};hs(Wd,Hd);var tv=function(){Wd.call(this),this.edit=!0};hs(tv,Wd);var Mr=function(){ia.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,15)},set:function(n){n?this.Ff=or(this.Ff,15):this.Ff=ar(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,16)},set:function(n){n?this.Ff=or(this.Ff,16):this.Ff=ar(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,17)},set:function(n){n?this.Ff=or(this.Ff,17):this.Ff=ar(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,26)},set:function(n){n?this.Ff=or(this.Ff,26):this.Ff=ar(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+_f(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){ln(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};hs(Mr,ia);var nv=function(){Mr.call(this),this.pushButton=!0};hs(nv,Mr);var Kd=function(){Mr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};hs(Kd,Mr);var v2=function(){var t,e;ia.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+_f(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){ln(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hs(v2,ia),Kd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Kd.prototype.createOption=function(t){var e=new v2;return e.Parent=this,e.optionName=t,this.Kids.push(e),Fae.call(this.scope,e),e};var rv=function(){Mr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};hs(rv,Mr);var Fh=function(){ia.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,13)},set:function(e){e?this.Ff=or(this.Ff,13):this.Ff=ar(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,21)},set:function(e){e?this.Ff=or(this.Ff,21):this.Ff=ar(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,23)},set:function(e){e?this.Ff=or(this.Ff,23):this.Ff=ar(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,24)},set:function(e){e?this.Ff=or(this.Ff,24):this.Ff=ar(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,25)},set:function(e){e?this.Ff=or(this.Ff,25):this.Ff=ar(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,26)},set:function(e){e?this.Ff=or(this.Ff,26):this.Ff=ar(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hs(Fh,ia);var iv=function(){Fh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,14)},set:function(t){t?this.Ff=or(this.Ff,14):this.Ff=ar(this.Ff,14)}}),this.password=!0};hs(iv,Fh);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=va(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=l4(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Pt(it.internal.getWidth(t))+" "+Pt(it.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Pt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=va(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=it.internal.getHeight(t),o=it.internal.getWidth(t),a=l4(t,t.caption);return i.push("1 g"),i.push("0 0 "+Pt(o)+" "+Pt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Pt(o-1)+" "+Pt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Pt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=va(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pt(it.internal.getWidth(t))+" "+Pt(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Circle.YesNormal,e.D[t]=it.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=va(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=it.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Nc(it.internal.getWidth(t)/2)+" "+Nc(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=va(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*it.internal.Bezier_C).toFixed(5)),o=Number((r*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nc(it.internal.getWidth(t)/2)+" "+Nc(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Nc(it.internal.getWidth(t)/2)+" "+Nc(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=va(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nc(it.internal.getWidth(t)/2)+" "+Nc(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Cross.YesNormal,e.D[t]=it.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=va(t);e.scope=t.scope;var n=[],r=it.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Pt(it.internal.getWidth(t)-2)+" "+Pt(it.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Pt(r.x1.x)+" "+Pt(r.x1.y)+" m"),n.push(Pt(r.x2.x)+" "+Pt(r.x2.y)+" l"),n.push(Pt(r.x4.x)+" "+Pt(r.x4.y)+" m"),n.push(Pt(r.x3.x)+" "+Pt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=va(t);e.scope=t.scope;var n=it.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(it.internal.getWidth(t))+" "+Pt(it.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Pt(it.internal.getWidth(t)-2)+" "+Pt(it.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Pt(n.x1.x)+" "+Pt(n.x1.y)+" m"),r.push(Pt(n.x2.x)+" "+Pt(n.x2.y)+" l"),r.push(Pt(n.x4.x)+" "+Pt(n.x4.y)+" m"),r.push(Pt(n.x3.x)+" "+Pt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=va(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pt(it.internal.getWidth(t))+" "+Pt(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};it.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=it.internal.getWidth(t),n=it.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},it.internal.getWidth=function(t){var e=0;return ln(t)==="object"&&(e=Lk(t.Rect[2])),e},it.internal.getHeight=function(t){var e=0;return ln(t)==="object"&&(e=Lk(t.Rect[3])),e};var Fae=Gn.addField=function(t){if(jae(this,t),!(t instanceof ia))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gn.AcroFormChoiceField=qd,Gn.AcroFormListBox=Hd,Gn.AcroFormComboBox=Wd,Gn.AcroFormEditBox=tv,Gn.AcroFormButton=Mr,Gn.AcroFormPushButton=nv,Gn.AcroFormRadioButton=Kd,Gn.AcroFormCheckBox=rv,Gn.AcroFormTextField=Fh,Gn.AcroFormPasswordField=iv,Gn.AcroFormAppearance=it,Gn.AcroForm={ChoiceField:qd,ListBox:Hd,ComboBox:Wd,EditBox:tv,Button:Mr,PushButton:nv,RadioButton:Kd,CheckBox:rv,TextField:Fh,PasswordField:iv,Appearance:it},mt.AcroForm={ChoiceField:qd,ListBox:Hd,ComboBox:Wd,EditBox:tv,Button:Mr,PushButton:nv,RadioButton:Kd,CheckBox:rv,TextField:Fh,PasswordField:iv,Appearance:it};function m9(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(E,C){var R,U,te,z,V,W=e;if((C=C||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(L(E))for(V in n)for(te=n[V],R=0;R<te.length;R+=1){for(z=!0,U=0;U<te[R].length;U+=1)if(te[R][U]!==void 0&&te[R][U]!==E[U]){z=!1;break}if(z===!0){W=V;break}}else for(V in n)for(te=n[V],R=0;R<te.length;R+=1){for(z=!0,U=0;U<te[R].length;U+=1)if(te[R][U]!==void 0&&te[R][U]!==E.charCodeAt(U)){z=!1;break}if(z===!0){W=V;break}}return W===e&&C!==e&&(W=C),W},i=function E(C){for(var R=this.internal.write,U=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:C.width}),z.push({key:"Height",value:C.height}),C.colorSpace===b.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===b.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var V="",W=0,X=C.transparency.length;W<X;W++)V+=C.transparency[W]+" "+C.transparency[W]+" ";z.push({key:"Mask",value:"["+V+"]"})}C.sMask!==void 0&&z.push({key:"SMask",value:C.objectId+1+" 0 R"});var re=C.filter!==void 0?["/"+C.filter]:void 0;if(U({data:C.data,additionalKeyValues:z,alreadyAppliedFilters:re,objectId:C.objectId}),R("endobj"),"sMask"in C&&C.sMask!==void 0){var ye="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,F={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:ye,data:C.sMask};"filter"in C&&(F.filter=C.filter),E.call(this,F)}if(C.colorSpace===b.INDEXED){var Y=this.internal.newObject();U({data:w(new Uint8Array(C.palette)),objectId:Y}),R("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var C in E)i.call(this,E[C])},o=function(){var E,C=this.internal.collections.addImage_images,R=this.internal.write;for(var U in C)R("/I"+(E=C[U]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof t["process"+E.toUpperCase()]=="function"},h=function(E){return ln(E)==="object"&&E.nodeType===1},f=function(E,C){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var R=""+E.getAttribute("src");if(R.indexOf("data:image/")===0)return wm(unescape(R).split("base64,").pop());var U=t.loadFile(R,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var te;switch(C){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;case"JPEG":case"JPG":default:te="image/jpeg"}return wm(E.toDataURL(te,1).split("base64,").pop())}},d=function(E){var C=this.internal.collections.addImage_images;if(C){for(var R in C)if(E===C[R].alias)return C[R]}},p=function(E,C,R){return E||C||(E=-96,C=-96),E<0&&(E=-1*R.width*72/E/this.internal.scaleFactor),C<0&&(C=-1*R.height*72/C/this.internal.scaleFactor),E===0&&(E=C*R.width/R.height),C===0&&(C=E*R.height/R.width),[E,C]},y=function(E,C,R,U,te,z){var V=p.call(this,R,U,te),W=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,re=l.call(this);if(R=V[0],U=V[1],re[te.index]=te,z){z*=Math.PI/180;var ye=Math.cos(z),F=Math.sin(z),Y=function(J){return J.toFixed(4)},Q=[Y(ye),Y(F),Y(-1*F),Y(ye),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,W(E),X(C+U),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([W(R),"0","0",W(U),"0","0","cm"].join(" "))):this.internal.write([W(R),"0","0",W(U),W(E),X(C+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(E){var C,R,U=0;if(typeof E=="string")for(R=E.length,C=0;C<R;C++)U=(U<<5)-U+E.charCodeAt(C),U|=0;else if(L(E))for(R=E.byteLength/2,C=0;C<R;C++)U=(U<<5)-U+E[C],U|=0;return U},S=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var C=!0;return E.length===0&&(C=!1),E.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(C=!1),C},I=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var C=E.indexOf(",");return C<0?null:E.substring(0,C).trim().endsWith("base64")?E.substring(C+1):null},M=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return M()&&E instanceof ArrayBuffer};var L=t.__addimage__.isArrayBufferView=function(E){return M()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=t.__addimage__.binaryStringToUint8Array=function(E){for(var C=E.length,R=new Uint8Array(C),U=0;U<C;U++)R[U]=E.charCodeAt(U);return R},w=t.__addimage__.arrayBufferToBinaryString=function(E){for(var C="",R=L(E)?E:new Uint8Array(E),U=0;U<R.length;U+=8192)C+=String.fromCharCode.apply(null,R.subarray(U,U+8192));return C};t.addImage=function(){var E,C,R,U,te,z,V,W,X;if(typeof arguments[1]=="number"?(C=e,R=arguments[1],U=arguments[2],te=arguments[3],z=arguments[4],V=arguments[5],W=arguments[6],X=arguments[7]):(C=arguments[1],R=arguments[2],U=arguments[3],te=arguments[4],z=arguments[5],V=arguments[6],W=arguments[7],X=arguments[8]),ln(E=arguments[0])==="object"&&!h(E)&&"imageData"in E){var re=E;E=re.imageData,C=re.format||C||e,R=re.x||R||0,U=re.y||U||0,te=re.w||re.width||te,z=re.h||re.height||z,V=re.alias||V,W=re.compression||W,X=re.rotation||re.angle||X}var ye=this.internal.getFilters();if(W===void 0&&ye.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(R)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var F=A.call(this,E,C,V,W);return y.call(this,R,U,te,z,F,X),this};var A=function(E,C,R,U){var te,z,V;if(typeof E=="string"&&r(E)===e){E=unescape(E);var W=O(E,!1);(W!==""||(W=t.loadFile(E,!0))!==void 0)&&(E=W)}if(h(E)&&(E=f(E,C)),C=r(E,C),!u(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((V=R)==null||V.length===0)&&(R=function(X){return typeof X=="string"||L(X)?x(X):L(X.data)?x(X.data):null}(E)),(te=d.call(this,R))||(M()&&(E instanceof Uint8Array||C==="RGBA"||(z=E,E=T(E))),te=this["process"+C.toUpperCase()](E,c.call(this),R,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in t.image_compression?X:v.NONE}(U),z)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},O=t.__addimage__.convertBase64ToBinaryString=function(E,C){C=typeof C!="boolean"||C;var R,U="";if(typeof E=="string"){var te;R=(te=I(E))!==null&&te!==void 0?te:E;try{U=wm(R)}catch(z){if(C)throw S(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};t.getImageProperties=function(E){var C,R,U="";if(h(E)&&(E=f(E)),typeof E=="string"&&r(E)===e&&((U=O(E,!1))===""&&(U=t.loadFile(E)||""),E=U),R=r(E),!u(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!M()||E instanceof Uint8Array||(E=T(E)),!(C=this["process"+R.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=R,C}})(mt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};mt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){r=c[f];var d=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(y.objId),x=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+d(v(r.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(v(x))+") >>",y.content=s;var S=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var I=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(p(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var M=this.annotations._nameMap[r.options.name];r.options.pageNumber=M.page,r.options.top=M.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var L=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+L+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(mt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=t.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(y){var b=0,v=n,x="",S=0;for(b=0;b<y.length;b+=1)v[y.charCodeAt(b)]!==void 0?(S++,typeof(v=v[y.charCodeAt(b)])=="number"&&(x+=String.fromCharCode(v),v=n,S=0),b===y.length-1&&(v=n,x+=y.charAt(b-(S-1)),b-=S-1,S=0)):(v=n,x+=y.charAt(b-S),b-=S,S=0);return x};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(y,b,v){return o(y)?s(y)===!1?-1:!c(y)||!o(b)&&!o(v)||!o(v)&&a(b)||a(y)&&!o(b)||a(y)&&l(b)||a(y)&&a(b)?0:u(y)&&o(b)&&!a(b)&&o(v)&&c(v)?3:a(y)||!o(v)?1:2:-1},d=function(y){var b=0,v=0,x=0,S="",I="",M="",L=(y=y||"").split("\\s+"),T=[];for(b=0;b<L.length;b+=1){for(T.push(""),v=0;v<L[b].length;v+=1)S=L[b][v],I=L[b][v-1],M=L[b][v+1],o(S)?(x=f(S,I,M),T[b]+=x!==-1?String.fromCharCode(e[S.charCodeAt(0)][x]):S):T[b]+=S;T[b]=h(T[b])}return T.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var x=0;for(v=[],x=0;x<b.length;x+=1)Array.isArray(b[x])?v.push([d(b[x][0]),b[x][1],b[x][2]]):v.push([d(b[x])]);y=v}else y=d(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",p])}(mt.API),mt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(mt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(y){p=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,d=0,p=0,y=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,I){return S.concat(b.splitTextToSize(I,v))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)d<(y=this.getStringUnitWidth(l[x],{font:h})*u)&&(d=y);return d!==0&&(p=l.length),{w:d/=f,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,d&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,f){if(r.call(this),!u)throw new Error("No data for PDF table.");var d,p,y,b,v=[],x=[],S=[],I={},M={},L=[],T=[],w=(f=f||{}).autoSize||!1,A=f.printHeaders!==!1,O=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,E=f.margins||Object.assign({width:this.getPageWidth()},e),C=typeof f.padding=="number"?f.padding:3,R=f.headerBackgroundColor||"#c8c8c8",U=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=U,this.setFontSize(O),h==null)x=v=Object.keys(u[0]),S=v.map(function(){return"left"});else if(Array.isArray(h)&&ln(h[0])==="object")for(v=h.map(function(re){return re.name}),x=h.map(function(re){return re.prompt||re.name||""}),S=h.map(function(re){return re.align||"left"}),d=0;d<h.length;d+=1)M[h[d].name]=h[d].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(x=v=h,S=v.map(function(){return"left"}));if(w||Array.isArray(h)&&typeof h[0]=="string")for(d=0;d<v.length;d+=1){for(I[b=v[d]]=u.map(function(re){return re[b]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(x[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=I[b],this.setFont(void 0,"normal"),y=0;y<p.length;y+=1)L.push(this.getTextDimensions(p[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[b]=Math.max.apply(null,L)+C+C,L=[]}if(A){var te={};for(d=0;d<v.length;d+=1)te[v[d]]={},te[v[d]].text=x[d],te[v[d]].align=S[d];var z=a.call(this,te,M);T=v.map(function(re){return new s(l,c,M[re],z,te[re].text,void 0,te[re].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var V=h.reduce(function(re,ye){return re[ye.name]=ye.align,re},{});for(d=0;d<u.length;d+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:d,data:u[d]},this);var W=a.call(this,u[d],M);for(y=0;y<v.length;y+=1){var X=u[d][v[y]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:d,col:y,data:X},this),o.call(this,new s(l,c,M[v[y]],W,X,d+2,V[v[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(d){var p=l[d];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*h/f+u+u},this).reduce(function(d,p){return Math.max(d,p)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(mt.API);var y9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},v9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],c4=m9(v9),b9=[100,200,300,400,500,600,700,800,900],Bae=m9(b9);function u4(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return y9[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof c4[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Mk(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Uae={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Dk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jk(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Vae(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Uae,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=u4(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+jk(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=c4[l],h=u<=c4.normal?-1:1,f=Mk(c,v9,u,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=y9[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=Bae[l],h=Mk(c,b9,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+jk(s)+"'.");return o}function Fk(t){return t.trimLeft()}function zae(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function $ae(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var fy,Bk,Uk,D_=["times"];(function(t){var e,n,r,i,s,o,a,l,c,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=F;Object.defineProperty(this,"pdf",{get:function(){return Y}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(we){Q=!!we}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(we){J=!!we}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(we){isNaN(we)||(ae=we)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(we){isNaN(we)||(pe=we)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(we){var se;typeof we=="number"?se=[we,we,we,we]:((se=new Array(4))[0]=we[0],se[1]=we.length>=2?we[1]:se[0],se[2]=we.length>=3?we[2]:se[0],se[3]=we.length>=4?we[3]:se[1]),c.margin=se}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(we){ve=we}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(we){le=we}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(we){Ae=we}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(we){we instanceof u&&(c=we)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(we){c.path=we}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(we){Ee=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var se;se=f(we),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var se=f(we);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var ge=null;function Fe(we,se){if(ge===null){var Ge=function(He){var Oe=[];return Object.keys(He).forEach(function(Be){He[Be].forEach(function(Ve){var $e=null;switch(Ve){case"bold":$e={family:Be,weight:"bold"};break;case"italic":$e={family:Be,style:"italic"};break;case"bolditalic":$e={family:Be,weight:"bold",style:"italic"};break;case"":case"normal":$e={family:Be}}$e!==null&&($e.ref={name:Be,style:Ve},Oe.push($e))})}),Oe}(we.getFontList());ge=function(He){for(var Oe={},Be=0;Be<He.length;++Be){var Ve=u4(He[Be]),$e=Ve.family,Xe=Ve.stretch,Je=Ve.style,lt=Ve.weight;Oe[$e]=Oe[$e]||{},Oe[$e][Xe]=Oe[$e][Xe]||{},Oe[$e][Xe][Je]=Oe[$e][Xe][Je]||{},Oe[$e][Xe][Je][lt]=Ve}return Oe}(Ge.concat(se))}return ge}var qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(we){ge=null,qe=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var se;if(this.ctx.font=we,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var Ge=se[1];se[2];var He=se[3],Oe=se[4];se[5];var Be=se[6],Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(Ve==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var $e=function(at){var ut,We,Yt=[],wt=at.trim();if(wt==="")return D_;if(wt in Dk)return[Dk[wt]];for(;wt!=="";){switch(We=null,ut=(wt=Fk(wt)).charAt(0)){case'"':case"'":We=zae(wt.substring(1),ut);break;default:We=$ae(wt)}if(We===null||(Yt.push(We[0]),(wt=Fk(We[1]))!==""&&wt.charAt(0)!==","))return D_;wt=wt.replace(/^,/,"")}return Yt}(Be);if(this.fontFaces){var Xe=Vae(Fe(this.pdf,this.fontFaces),$e.map(function(at){return{family:at,stretch:"normal",weight:He,style:Ge}}));this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var Je="";(He==="bold"||parseInt(He,10)>=700||Ge==="bold")&&(Je="bold"),Ge==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var lt="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<$e.length;ht++){if(this.pdf.internal.getFont($e[ht],Je,{noFallback:!0,disableWarning:!0})!==void 0){lt=$e[ht];break}if(Je==="bolditalic"&&this.pdf.internal.getFont($e[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)lt=$e[ht],Je="bold";else if(this.pdf.internal.getFont($e[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){lt=$e[ht],Je="normal";break}}if(lt===""){for(var ot=0;ot<$e.length;ot++)if(gt[$e[ot]]){lt=gt[$e[ot]];break}}lt=lt===""?"Times":lt,this.pdf.setFont(lt,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){I.call(this,"fill",!1)},h.prototype.stroke=function(){I.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,Y){if(isNaN(F)||isNaN(Y))throw gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(F,Y));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(F,Y)},h.prototype.closePath=function(){var F=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&ln(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){F=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},h.prototype.lineTo=function(F,Y){if(isNaN(F)||isNaN(Y))throw gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(F,Y));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,Y,Q,J){if(isNaN(Q)||isNaN(J)||isNaN(F)||isNaN(Y))throw gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(Q,J)),pe=this.ctx.transform.applyToPoint(new o(F,Y));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},h.prototype.bezierCurveTo=function(F,Y,Q,J,ae,pe){if(isNaN(ae)||isNaN(pe)||isNaN(F)||isNaN(Y)||isNaN(Q)||isNaN(J))throw gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(ae,pe)),le=this.ctx.transform.applyToPoint(new o(F,Y)),Ae=this.ctx.transform.applyToPoint(new o(Q,J));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:Ae.x,y2:Ae.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},h.prototype.arc=function(F,Y,Q,J,ae,pe){if(isNaN(F)||isNaN(Y)||isNaN(Q)||isNaN(J)||isNaN(ae))throw gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(F,Y));F=ve.x,Y=ve.y;var le=this.ctx.transform.applyToPoint(new o(0,Q)),Ae=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(le.x-Ae.x,2)+Math.pow(le.y-Ae.y,2))}Math.abs(ae-J)>=2*Math.PI&&(J=0,ae=2*Math.PI),this.path.push({type:"arc",x:F,y:Y,radius:Q,startAngle:J,endAngle:ae,counterclockwise:pe})},h.prototype.arcTo=function(F,Y,Q,J,ae){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,Y,Q,J){if(isNaN(F)||isNaN(Y)||isNaN(Q)||isNaN(J))throw gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,Y),this.lineTo(F+Q,Y),this.lineTo(F+Q,Y+J),this.lineTo(F,Y+J),this.lineTo(F,Y),this.lineTo(F+Q,Y),this.lineTo(F,Y)},h.prototype.fillRect=function(F,Y,Q,J){if(isNaN(F)||isNaN(Y)||isNaN(Q)||isNaN(J))throw gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,Y,Q,J),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},h.prototype.strokeRect=function(F,Y,Q,J){if(isNaN(F)||isNaN(Y)||isNaN(Q)||isNaN(J))throw gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(F,Y,Q,J),this.stroke())},h.prototype.clearRect=function(F,Y,Q,J){if(isNaN(F)||isNaN(Y)||isNaN(Q)||isNaN(J))throw gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,Y,Q,J))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(F){var Y,Q,J,ae;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))Y=0,Q=0,J=0,ae=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(pe!==null)Y=parseInt(pe[1]),Q=parseInt(pe[2]),J=parseInt(pe[3]),ae=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)Y=parseInt(pe[1]),Q=parseInt(pe[2]),J=parseInt(pe[3]),ae=parseFloat(pe[4]);else{if(ae=1,typeof F=="string"&&F.charAt(0)!=="#"){var ve=new u9(F);F=ve.ok?ve.toHex():"#000000"}F.length===4?(Y=F.substring(1,2),Y+=Y,Q=F.substring(2,3),Q+=Q,J=F.substring(3,4),J+=J):(Y=F.substring(1,3),Q=F.substring(3,5),J=F.substring(5,7)),Y=parseInt(Y,16),Q=parseInt(Q,16),J=parseInt(J,16)}}return{r:Y,g:Q,b:J,a:ae,style:F}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,Y,Q,J){if(isNaN(Y)||isNaN(Q)||typeof F!="string")throw gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!d.call(this)){var ae=W(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;C.call(this,{text:F,x:Y,y:Q,scale:pe,angle:ae,align:this.textAlign,maxWidth:J})}},h.prototype.strokeText=function(F,Y,Q,J){if(isNaN(Y)||isNaN(Q)||typeof F!="string")throw gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){J=isNaN(J)?void 0:J;var ae=W(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;C.call(this,{text:F,x:Y,y:Q,scale:pe,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:J})}},h.prototype.measureText=function(F){if(typeof F!="string")throw gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,Q=this.pdf.internal.scaleFactor,J=Y.internal.getFontSize(),ae=Y.getStringUnitWidth(F)*J/Y.internal.scaleFactor,pe=function(ve){var le=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new pe({width:ae*=Math.round(96*Q/72*1e4)/1e4})},h.prototype.scale=function(F,Y){if(isNaN(F)||isNaN(Y))throw gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(F,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.rotate=function(F){if(isNaN(F))throw gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.translate=function(F,Y){if(isNaN(F)||isNaN(Y))throw gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,F,Y);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.transform=function(F,Y,Q,J,ae,pe){if(isNaN(F)||isNaN(Y)||isNaN(Q)||isNaN(J)||isNaN(ae)||isNaN(pe))throw gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(F,Y,Q,J,ae,pe);this.ctx.transform=this.ctx.transform.multiply(ve)},h.prototype.setTransform=function(F,Y,Q,J,ae,pe){F=isNaN(F)?1:F,Y=isNaN(Y)?0:Y,Q=isNaN(Q)?0:Q,J=isNaN(J)?1:J,ae=isNaN(ae)?0:ae,pe=isNaN(pe)?0:pe,this.ctx.transform=new l(F,Y,Q,J,ae,pe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,Y,Q,J,ae,pe,ve,le,Ae){var Ee=this.pdf.getImageProperties(F),ge=1,Fe=1,qe=1,we=1;J!==void 0&&le!==void 0&&(qe=le/J,we=Ae/ae,ge=Ee.width/J*le/J,Fe=Ee.height/ae*Ae/ae),pe===void 0&&(pe=Y,ve=Q,Y=0,Q=0),J!==void 0&&le===void 0&&(le=J,Ae=ae),J===void 0&&le===void 0&&(le=Ee.width,Ae=Ee.height);for(var se,Ge=this.ctx.transform.decompose(),He=W(Ge.rotate.shx),Oe=new l,Be=(Oe=(Oe=(Oe=Oe.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new a(pe-Y*qe,ve-Q*we,J*ge,ae*Fe)),Ve=b.call(this,Be),$e=[],Xe=0;Xe<Ve.length;Xe+=1)$e.indexOf(Ve[Xe])===-1&&$e.push(Ve[Xe]);if(S($e),this.autoPaging)for(var Je=$e[0],lt=$e[$e.length-1],gt=Je;gt<lt+1;gt++){this.pdf.setPage(gt);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=gt===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=gt===1?0:at+(gt-2)*ut;if(this.ctx.clip_path.length!==0){var Yt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(se,this.posX+this.margin[3],-We+ot+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=Yt}var wt=JSON.parse(JSON.stringify(Be));wt=x([wt],this.posX+this.margin[3],-We+ot+this.ctx.prevPageLastElemOffset)[0];var An=(gt>Je||gt<lt)&&y.call(this);An&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,ut,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,He),An&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,He)};var b=function(F,Y,Q){var J=[];Y=Y||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":J.push(Math.floor((F.y+ae)/Q)+1);break;case"arc":J.push(Math.floor((F.y+ae-F.radius)/Q)+1),J.push(Math.floor((F.y+ae+F.radius)/Q)+1);break;case"qct":var pe=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);J.push(Math.floor((pe.y+ae)/Q)+1),J.push(Math.floor((pe.y+pe.h+ae)/Q)+1);break;case"bct":var ve=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);J.push(Math.floor((ve.y+ae)/Q)+1),J.push(Math.floor((ve.y+ve.h+ae)/Q)+1);break;case"rect":J.push(Math.floor((F.y+ae)/Q)+1),J.push(Math.floor((F.y+F.h+ae)/Q)+1)}for(var le=0;le<J.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<J[le];)v.call(this);return J},v=function(){var F=this.fillStyle,Y=this.strokeStyle,Q=this.font,J=this.lineCap,ae=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=Y,this.font=Q,this.lineCap=J,this.lineWidth=ae,this.lineJoin=pe},x=function(F,Y,Q){for(var J=0;J<F.length;J++)switch(F[J].type){case"bct":F[J].x2+=Y,F[J].y2+=Q;case"qct":F[J].x1+=Y,F[J].y1+=Q;case"mt":case"lt":case"arc":default:F[J].x+=Y,F[J].y+=Q}return F},S=function(F){return F.sort(function(Y,Q){return Y-Q})},I=function(F,Y){for(var Q,J,ae=this.fillStyle,pe=this.strokeStyle,ve=this.lineCap,le=this.lineWidth,Ae=Math.abs(le*this.ctx.transform.scaleX),Ee=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),qe=[],we=0;we<Fe.length;we++)if(Fe[we].x!==void 0)for(var se=b.call(this,Fe[we]),Ge=0;Ge<se.length;Ge+=1)qe.indexOf(se[Ge])===-1&&qe.push(se[Ge]);for(var He=0;He<qe.length;He++)for(;this.pdf.internal.getNumberOfPages()<qe[He];)v.call(this);if(S(qe),this.autoPaging)for(var Oe=qe[0],Be=qe[qe.length-1],Ve=Oe;Ve<Be+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=ae,this.strokeStyle=pe,this.lineCap=ve,this.lineWidth=Ae,this.lineJoin=Ee;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=Ve===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Ve===1?0:Je+(Ve-2)*lt;if(this.ctx.clip_path.length!==0){var ht=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Q,this.posX+this.margin[3],-gt+Xe+this.ctx.prevPageLastElemOffset),M.call(this,F,!0),this.path=ht}if(J=JSON.parse(JSON.stringify(ge)),this.path=x(J,this.posX+this.margin[3],-gt+Xe+this.ctx.prevPageLastElemOffset),Y===!1||Ve===0){var ot=(Ve>Oe||Ve<Be)&&y.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,lt,null).clip().discardPath()),M.call(this,F,Y),ot&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=Ae,M.call(this,F,Y),this.lineWidth=le;this.path=ge},M=function(F,Y){if((F!=="stroke"||Y||!p.call(this))&&(F==="stroke"||Y||!d.call(this))){for(var Q,J,ae=[],pe=this.path,ve=0;ve<pe.length;ve++){var le=pe[ve];switch(le.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:le,deltas:[],abs:[]});break;case"lt":var Ae=ae.length;if(pe[ve-1]&&!isNaN(pe[ve-1].x)&&(Q=[le.x-pe[ve-1].x,le.y-pe[ve-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ae[Ae-1].close!==!0&&ae[Ae-1].begin!==!0){ae[Ae-1].deltas.push(Q),ae[Ae-1].abs.push(le);break}}break;case"bct":Q=[le.x1-pe[ve-1].x,le.y1-pe[ve-1].y,le.x2-pe[ve-1].x,le.y2-pe[ve-1].y,le.x-pe[ve-1].x,le.y-pe[ve-1].y],ae[ae.length-1].deltas.push(Q);break;case"qct":var Ee=pe[ve-1].x+2/3*(le.x1-pe[ve-1].x),ge=pe[ve-1].y+2/3*(le.y1-pe[ve-1].y),Fe=le.x+2/3*(le.x1-le.x),qe=le.y+2/3*(le.y1-le.y),we=le.x,se=le.y;Q=[Ee-pe[ve-1].x,ge-pe[ve-1].y,Fe-pe[ve-1].x,qe-pe[ve-1].y,we-pe[ve-1].x,se-pe[ve-1].y],ae[ae.length-1].deltas.push(Q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(le)}}J=Y?null:F==="stroke"?"stroke":"fill";for(var Ge=!1,He=0;He<ae.length;He++)if(ae[He].arc)for(var Oe=ae[He].abs,Be=0;Be<Oe.length;Be++){var Ve=Oe[Be];Ve.type==="arc"?w.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,Y,!Ge):R.call(this,Ve.x,Ve.y),Ge=!0}else if(ae[He].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(ae[He].begin!==!0){var $e=ae[He].start.x,Xe=ae[He].start.y;U.call(this,ae[He].deltas,$e,Xe),Ge=!0}J&&A.call(this,J),Y&&O.call(this)}},L=function(F){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-Q;case"top":return F+Y-Q;case"hanging":return F+Y-2*Q;case"middle":return F+Y/2-Q;case"ideographic":return F;case"alphabetic":default:return F}},T=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(Y,Q){this.colorStops.push([Y,Q])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var w=function(F,Y,Q,J,ae,pe,ve,le,Ae){for(var Ee=z.call(this,Q,J,ae,pe),ge=0;ge<Ee.length;ge++){var Fe=Ee[ge];ge===0&&(Ae?E.call(this,Fe.x1+F,Fe.y1+Y):R.call(this,Fe.x1+F,Fe.y1+Y)),te.call(this,F,Y,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}le?O.call(this):A.call(this,ve)},A=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(F,Y){this.pdf.internal.out(n(F)+" "+r(Y)+" m")},C=function(F){var Y;switch(F.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var Q=this.pdf.getTextDimensions(F.text),J=L.call(this,F.y),ae=T.call(this,J)-Q.h,pe=this.ctx.transform.applyToPoint(new o(F.x,J)),ve=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Ae,Ee,ge,Fe=this.ctx.transform.applyToRectangle(new a(F.x,J,Q.w,Q.h)),qe=le.applyToRectangle(new a(F.x,ae,Q.w,Q.h)),we=b.call(this,qe),se=[],Ge=0;Ge<we.length;Ge+=1)se.indexOf(we[Ge])===-1&&se.push(we[Ge]);if(S(se),this.autoPaging)for(var He=se[0],Oe=se[se.length-1],Be=He;Be<Oe+1;Be++){this.pdf.setPage(Be);var Ve=Be===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],Je=Xe-this.margin[0],lt=this.pdf.internal.pageSize.width-this.margin[1],gt=lt-this.margin[3],ht=Be===1?0:$e+(Be-2)*Je;if(this.ctx.clip_path.length!==0){var ot=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ae,this.posX+this.margin[3],-1*ht+Ve),M.call(this,"fill",!0),this.path=ot}var at=x([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-ht+Ve+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*F.scale),ge=this.lineWidth,this.lineWidth=ge*F.scale);var ut=this.autoPaging!=="text";if(ut||at.y+at.h<=Xe){if(ut||at.y>=Ve&&at.x<=lt){var We=ut?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||lt-at.x)[0],Yt=x([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-ht+Ve+this.ctx.prevPageLastElemOffset)[0],wt=ut&&(Be>He||Be<Oe)&&y.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Je,null).clip().discardPath()),this.pdf.text(We,Yt.x,Yt.y,{angle:F.angle,align:Y,renderingMode:F.renderingMode}),wt&&this.pdf.restoreGraphicsState()}}else at.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-at.y);F.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=ge)}else F.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*F.scale),ge=this.lineWidth,this.lineWidth=ge*F.scale),this.pdf.text(F.text,pe.x+this.posX,pe.y+this.posY,{angle:F.angle,align:Y,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=ge)},R=function(F,Y,Q,J){Q=Q||0,J=J||0,this.pdf.internal.out(n(F+Q)+" "+r(Y+J)+" l")},U=function(F,Y,Q){return this.pdf.lines(F,Y,Q,null,null)},te=function(F,Y,Q,J,ae,pe,ve,le){this.pdf.internal.out([e(i(Q+F)),e(s(J+Y)),e(i(ae+F)),e(s(pe+Y)),e(i(ve+F)),e(s(le+Y)),"c"].join(" "))},z=function(F,Y,Q,J){for(var ae=2*Math.PI,pe=Math.PI/2;Y>Q;)Y-=ae;var ve=Math.abs(Q-Y);ve<ae&&J&&(ve=ae-ve);for(var le=[],Ae=J?-1:1,Ee=Y;ve>1e-5;){var ge=Ee+Ae*Math.min(ve,pe);le.push(V.call(this,F,Ee,ge)),ve-=Math.abs(ge-Ee),Ee=ge}return le},V=function(F,Y,Q){var J=(Q-Y)/2,ae=F*Math.cos(J),pe=F*Math.sin(J),ve=ae,le=-pe,Ae=ve*ve+le*le,Ee=Ae+ve*ae+le*pe,ge=4/3*(Math.sqrt(2*Ae*Ee)-Ee)/(ve*pe-le*ae),Fe=ve-ge*le,qe=le+ge*ve,we=Fe,se=-qe,Ge=J+Y,He=Math.cos(Ge),Oe=Math.sin(Ge);return{x1:F*Math.cos(Y),y1:F*Math.sin(Y),x2:Fe*He-qe*Oe,y2:Fe*Oe+qe*He,x3:we*He-se*Oe,y3:we*Oe+se*He,x4:F*Math.cos(Q),y4:F*Math.sin(Q)}},W=function(F){return 180*F/Math.PI},X=function(F,Y,Q,J,ae,pe){var ve=F+.5*(Q-F),le=Y+.5*(J-Y),Ae=ae+.5*(Q-ae),Ee=pe+.5*(J-pe),ge=Math.min(F,ae,ve,Ae),Fe=Math.max(F,ae,ve,Ae),qe=Math.min(Y,pe,le,Ee),we=Math.max(Y,pe,le,Ee);return new a(ge,qe,Fe-ge,we-qe)},re=function(F,Y,Q,J,ae,pe,ve,le){var Ae,Ee,ge,Fe,qe,we,se,Ge,He,Oe,Be,Ve,$e,Xe,Je=Q-F,lt=J-Y,gt=ae-Q,ht=pe-J,ot=ve-ae,at=le-pe;for(Ee=0;Ee<41;Ee++)He=(se=(ge=F+(Ae=Ee/40)*Je)+Ae*((qe=Q+Ae*gt)-ge))+Ae*(qe+Ae*(ae+Ae*ot-qe)-se),Oe=(Ge=(Fe=Y+Ae*lt)+Ae*((we=J+Ae*ht)-Fe))+Ae*(we+Ae*(pe+Ae*at-we)-Ge),Ee==0?(Be=He,Ve=Oe,$e=He,Xe=Oe):(Be=Math.min(Be,He),Ve=Math.min(Ve,Oe),$e=Math.max($e,He),Xe=Math.max(Xe,Oe));return new a(Math.round(Be),Math.round(Ve),Math.round($e-Be),Math.round(Xe-Ve))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,Y,Q=(F=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:Y}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(mt.API),function(t){var e=function(s){var o,a,l,c,u,h,f,d,p,y;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(y=u%85))/85)-(p=u%85))/85)-(d=u%85))/85)-(f=u%85))/85)%85,a.push(h+33,f+33,d+33,p+33,y+33)):a.push(122);return function(b,v){for(var x=v;x>0;x--)b.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,u,h=String,f="length",d=255,p="charCodeAt",y="slice",b="replace";for(s[y](-2),s=s[y](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[y](s[f]%5||5))[f];u>c;c+=5)a=52200625*(s[p](c)-33)+614125*(s[p](c+1)-33)+7225*(s[p](c+2)-33)+85*(s[p](c+3)-33)+(s[p](c+4)-33),l.push(d&a>>24,d&a>>16,d&a>>8,d&a);return function(v,x){for(var S=x;S>0;S--)v.pop()}(l,o[f]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=i4(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(mt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,f=0,d=function(p){var y=p.length,b=[],v=String.fromCharCode;for(f=0;f<y;f+=1)b.push(v(255&p.charCodeAt(f)));return b.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(d(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return d(h.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(mt.API),function(t){function e(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):ZS(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):ZS(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=ln(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var d=c[f],p=d.src.find(function(y){return y.format==="truetype"});p&&l.addFont(p.url,d.ref.name,d.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,mt.getPageSize=function(o,a,l){if(ln(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var d,p=0,y=0;if(f.hasOwnProperty(h))p=f[h][1]/u,y=f[h][0]/u;else try{p=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",y>p&&(d=y,y=p,p=d);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>y&&(d=y,y=p,p=d)}return{width:y,height:p,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(u4):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(mt.API),mt.API.addJS=function(t){return Uk=t,this.internal.events.subscribe("postPutResources",function(){fy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Bk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Uk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fy!==void 0&&Bk!==void 0&&this.internal.out("/Names <</JavaScript "+fy+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=n.internal.newObject();u.push(h);var f=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(mt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var f,d=256*h.charCodeAt(4)+h.charCodeAt(5),p=h.length,y={width:0,height:0,numcomponents:1},b=4;b<p;b+=2){if(b+=d,e.indexOf(h.charCodeAt(b+1))!==-1){f=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),y={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:f,numcomponents:h.charCodeAt(b+9)};break}d=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(mt.API);var id,dy,Vk,zk,$k,qae=function(){var t,e,n;function r(s){var o,a,l,c,u,h,f,d,p,y,b,v,x,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),p=(function(){var I,M;for(M=[],I=0;I<4;++I)M.push(String.fromCharCode(this.data[this.pos++]));return M}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((y=l-this.transparency.indexed.length)>0)for(x=0;0<=y?x<y:x>y;0<=y?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(b=this.read(o)).indexOf(0),d=String.fromCharCode.apply(String,b.slice(0,f)),this.text[d]=String.fromCharCode.apply(String,b.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(h,f,d,p){var y,b,v,x,S,I,M,L,T,w,A,O,E,C,R,U,te,z,V,W,X,re=Math.ceil((c.width-h)/d),ye=Math.ceil((c.height-f)/p),F=c.width==re&&c.height==ye;for(C=o*re,O=F?a:new Uint8Array(C*ye),I=s.length,E=0,b=0;E<ye&&l<I;){switch(s[l++]){case 0:for(x=te=0;te<C;x=te+=1)O[b++]=s[l++];break;case 1:for(x=z=0;z<C;x=z+=1)y=s[l++],S=x<o?0:O[b-o],O[b++]=(y+S)%256;break;case 2:for(x=V=0;V<C;x=V+=1)y=s[l++],v=(x-x%o)/o,R=E&&O[(E-1)*C+v*o+x%o],O[b++]=(R+y)%256;break;case 3:for(x=W=0;W<C;x=W+=1)y=s[l++],v=(x-x%o)/o,S=x<o?0:O[b-o],R=E&&O[(E-1)*C+v*o+x%o],O[b++]=(y+Math.floor((S+R)/2))%256;break;case 4:for(x=X=0;X<C;x=X+=1)y=s[l++],v=(x-x%o)/o,S=x<o?0:O[b-o],E===0?R=U=0:(R=O[(E-1)*C+v*o+x%o],U=v&&O[(E-1)*C+(v-1)*o+x%o]),M=S+R-U,L=Math.abs(M-S),w=Math.abs(M-R),A=Math.abs(M-U),T=L<=w&&L<=A?S:w<=A?R:U,O[b++]=(y+T)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!F){var Y=((f+E*p)*c.width+h)*o,Q=E*C;for(x=0;x<re;x+=1){for(var J=0;J<o;J+=1)a[Y++]=O[Q++];Y+=(d-1)*o}}E++}}return s=xae(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,h,f,d;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=h=0,f=a.length;h<f;o=h+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(d=u[s++])!=null?d:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,h,f,d,p,y,b,v;if(l=this.colors,y=null,a=this.hasAlphaChannel,this.palette.length&&(y=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,a=!0),p=(c=s.data||s).length,h=y||o,u=f=0,l===1)for(;u<p;)d=y?4*o[u/4]:f,b=h[d++],c[u++]=b,c[u++]=b,c[u++]=b,c[u++]=a?h[d++]:255,f=d;else for(;u<p;)d=y?4*o[u/4]:f,c[u++]=h[d++],c[u++]=h[d++],c[u++]=h[d++],c[u++]=a?h[d++]:255,f=d},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(yt)==="[object Window]"){try{e=yt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,h,f,d;if(this.animation){for(d=[],a=u=0,h=(f=this.animation.frames).length;u<h;a=++u)o=f[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,d.push(o.image=t(l));return d}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,h,f=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,u=h.numPlays,(o=function(){var d,p;if(d=a++%c,p=l[d],f.renderFrame(s,d),c>1&&a/c<u)return f.animation._timeout=setTimeout(o,p.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Hae(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,f=null,d=0,p=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],!(1&y)&&(f=null),d=y>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,I=t[e++],M=I>>6&1,L=1<<(7&I)+1,T=a,w=l,A=!1;I>>7&&(A=!0,T=e,w=L,e+=3*L);var O=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}u.push({x:b,y:v,width:x,height:S,has_local_palette:A,palette_offset:T,palette_size:w,data_offset:O,data_length:e-O,transparent_index:f,interlaced:!!M,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,R){var U=this.frameInfo(C),te=U.width*U.height,z=new Uint8Array(te);qk(t,U.data_offset,z,te);var V=U.palette_offset,W=U.transparent_index;W===null&&(W=256);var X=U.width,re=n-X,ye=X,F=4*(U.y*n+U.x),Y=4*((U.y+U.height)*n+U.x),Q=F,J=4*re;U.interlaced===!0&&(J+=4*n*7);for(var ae=8,pe=0,ve=z.length;pe<ve;++pe){var le=z[pe];if(ye===0&&(ye=X,(Q+=J)>=Y&&(J=4*re+4*n*(ae-1),Q=F+(X+re)*(ae<<1),ae>>=1)),le===W)Q+=4;else{var Ae=t[V+3*le],Ee=t[V+3*le+1],ge=t[V+3*le+2];R[Q++]=ge,R[Q++]=Ee,R[Q++]=Ae,R[Q++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(C,R){var U=this.frameInfo(C),te=U.width*U.height,z=new Uint8Array(te);qk(t,U.data_offset,z,te);var V=U.palette_offset,W=U.transparent_index;W===null&&(W=256);var X=U.width,re=n-X,ye=X,F=4*(U.y*n+U.x),Y=4*((U.y+U.height)*n+U.x),Q=F,J=4*re;U.interlaced===!0&&(J+=4*n*7);for(var ae=8,pe=0,ve=z.length;pe<ve;++pe){var le=z[pe];if(ye===0&&(ye=X,(Q+=J)>=Y&&(J=4*re+4*n*(ae-1),Q=F+(X+re)*(ae<<1),ae>>=1)),le===W)Q+=4;else{var Ae=t[V+3*le],Ee=t[V+3*le+1],ge=t[V+3*le+2];R[Q++]=Ae,R[Q++]=Ee,R[Q++]=ge,R[Q++]=255}--ye}}}function qk(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,f=0,d=t[e++],p=new Int32Array(4096),y=null;;){for(;u<16&&d!==0;)h|=t[e++]<<u,u+=8,d===1?d=t[e++]:--d;if(u<l)break;var b=h&c;if(h>>=l,u-=l,b!==s){if(b===o)break;for(var v=b<a?b:y,x=0,S=v;S>s;)S=p[S]>>8,++x;var I=S;if(f+x+(v!==b?1:0)>r)return void gn.log("Warning, gif stream longer than expected.");n[f++]=I;var M=f+=x;for(v!==b&&(n[f++]=I),S=v;x--;)S=p[S],n[--M]=255&S,S>>=8;y!==null&&a<4096&&(p[a++]=y<<8|I,a>=c+1&&l<12&&(++l,c=c<<1|1)),y=b}else a=o+1,c=(1<<(l=i+1))-1,y=null}return f!==r&&gn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function j_(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),f=new Array(65535),d=new Array(64),p=new Array(64),y=[],b=0,v=7,x=new Array(64),S=new Array(64),I=new Array(64),M=new Array(256),L=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],w=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(F,Y){for(var Q=0,J=0,ae=new Array,pe=1;pe<=16;pe++){for(var ve=1;ve<=F[pe];ve++)ae[Y[J]]=[],ae[Y[J]][0]=Q,ae[Y[J]][1]=pe,J++,Q++;Q*=2}return ae}function V(F){for(var Y=F[0],Q=F[1]-1;Q>=0;)Y&1<<Q&&(b|=1<<v),Q--,--v<0&&(b==255?(W(255),W(0)):W(b),v=7,b=0)}function W(F){y.push(F)}function X(F){W(F>>8&255),W(255&F)}function re(F,Y,Q,J,ae){for(var pe,ve=ae[0],le=ae[240],Ae=function(Oe,Be){var Ve,$e,Xe,Je,lt,gt,ht,ot,at,ut,We=0;for(at=0;at<8;++at){Ve=Oe[We],$e=Oe[We+1],Xe=Oe[We+2],Je=Oe[We+3],lt=Oe[We+4],gt=Oe[We+5],ht=Oe[We+6];var Yt=Ve+(ot=Oe[We+7]),wt=Ve-ot,An=$e+ht,kt=$e-ht,Ht=Xe+gt,Bi=Xe-gt,Mt=Je+lt,Ui=Je-lt,Xt=Yt+Mt,ri=Yt-Mt,Ln=An+Ht,Vt=An-Ht;Oe[We]=Xt+Ln,Oe[We+4]=Xt-Ln;var ft=.707106781*(Vt+ri);Oe[We+2]=ri+ft,Oe[We+6]=ri-ft;var Et=.382683433*((Xt=Ui+Bi)-(Vt=kt+wt)),fs=.5411961*Xt+Et,Jt=1.306562965*Vt+Et,Zn=.707106781*(Ln=Bi+kt),ii=wt+Zn,dt=wt-Zn;Oe[We+5]=dt+fs,Oe[We+3]=dt-fs,Oe[We+1]=ii+Jt,Oe[We+7]=ii-Jt,We+=8}for(We=0,at=0;at<8;++at){Ve=Oe[We],$e=Oe[We+8],Xe=Oe[We+16],Je=Oe[We+24],lt=Oe[We+32],gt=Oe[We+40],ht=Oe[We+48];var fn=Ve+(ot=Oe[We+56]),ds=Ve-ot,hr=$e+ht,En=$e-ht,Hn=Xe+gt,Pi=Xe-gt,ps=Je+lt,Eo=Je-lt,gs=fn+ps,si=fn-ps,Vi=hr+Hn,zi=hr-Hn;Oe[We]=gs+Vi,Oe[We+32]=gs-Vi;var qr=.707106781*(zi+si);Oe[We+16]=si+qr,Oe[We+48]=si-qr;var _r=.382683433*((gs=Eo+Pi)-(zi=En+ds)),la=.5411961*gs+_r,Ka=1.306562965*zi+_r,ca=.707106781*(Vi=Pi+En),ua=ds+ca,Ga=ds-ca;Oe[We+40]=Ga+la,Oe[We+24]=Ga-la,Oe[We+8]=ua+Ka,Oe[We+56]=ua-Ka,We++}for(at=0;at<64;++at)ut=Oe[at]*Be[at],d[at]=ut>0?ut+.5|0:ut-.5|0;return d}(F,Y),Ee=0;Ee<64;++Ee)p[T[Ee]]=Ae[Ee];var ge=p[0]-Q;Q=p[0],ge==0?V(J[0]):(V(J[f[pe=32767+ge]]),V(h[pe]));for(var Fe=63;Fe>0&&p[Fe]==0;)Fe--;if(Fe==0)return V(ve),Q;for(var qe,we=1;we<=Fe;){for(var se=we;p[we]==0&&we<=Fe;)++we;var Ge=we-se;if(Ge>=16){qe=Ge>>4;for(var He=1;He<=qe;++He)V(le);Ge&=15}pe=32767+p[we],V(ae[(Ge<<4)+f[pe]]),V(h[pe]),we++}return Fe!=63&&V(ve),Q}function ye(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(Y){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ae=o((Q[J]*Y+50)/100);ae=Math.min(Math.max(ae,1),255),a[T[J]]=ae}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var le=o((pe[ve]*Y+50)/100);le=Math.min(Math.max(le,1),255),l[T[ve]]=le}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,ge=0;ge<8;ge++)for(var Fe=0;Fe<8;Fe++)c[Ee]=1/(a[T[Ee]]*Ae[ge]*Ae[Fe]*8),u[Ee]=1/(l[T[Ee]]*Ae[ge]*Ae[Fe]*8),Ee++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,Y){Y&&ye(Y),y=new Array,b=0,v=7,X(65496),X(65504),X(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),X(1),X(1),W(0),W(0),function(){X(65499),X(132),W(0);for(var $e=0;$e<64;$e++)W(a[$e]);W(1);for(var Xe=0;Xe<64;Xe++)W(l[Xe])}(),function($e,Xe){X(65472),X(17),W(8),X(Xe),X($e),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(F.width,F.height),function(){X(65476),X(418),W(0);for(var $e=0;$e<16;$e++)W(w[$e+1]);for(var Xe=0;Xe<=11;Xe++)W(A[Xe]);W(16);for(var Je=0;Je<16;Je++)W(O[Je+1]);for(var lt=0;lt<=161;lt++)W(E[lt]);W(1);for(var gt=0;gt<16;gt++)W(C[gt+1]);for(var ht=0;ht<=11;ht++)W(R[ht]);W(17);for(var ot=0;ot<16;ot++)W(U[ot+1]);for(var at=0;at<=161;at++)W(te[at])}(),X(65498),X(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Q=0,J=0,ae=0;b=0,v=7,this.encode.displayName="_encode_";for(var pe,ve,le,Ae,Ee,ge,Fe,qe,we,se=F.data,Ge=F.width,He=F.height,Oe=4*Ge,Be=0;Be<He;){for(pe=0;pe<Oe;){for(Ee=Oe*Be+pe,Fe=-1,qe=0,we=0;we<64;we++)ge=Ee+(qe=we>>3)*Oe+(Fe=4*(7&we)),Be+qe>=He&&(ge-=Oe*(Be+1+qe-He)),pe+Fe>=Oe&&(ge-=pe+Fe-Oe+4),ve=se[ge++],le=se[ge++],Ae=se[ge++],x[we]=(L[ve]+L[le+256>>0]+L[Ae+512>>0]>>16)-128,S[we]=(L[ve+768>>0]+L[le+1024>>0]+L[Ae+1280>>0]>>16)-128,I[we]=(L[ve+1280>>0]+L[le+1536>>0]+L[Ae+1792>>0]>>16)-128;Q=re(x,c,Q,e,r),J=re(S,u,J,n,i),ae=re(I,u,ae,n,i),pe+=32}Be+=8}if(v>=0){var Ve=[];Ve[1]=v+1,Ve[0]=(1<<v+1)-1,V(Ve)}return X(65497),new Uint8Array(y)},t=t||50,function(){for(var F=String.fromCharCode,Y=0;Y<256;Y++)M[Y]=F(Y)}(),e=z(w,A),n=z(C,R),r=z(O,E),i=z(U,te),function(){for(var F=1,Y=2,Q=1;Q<=15;Q++){for(var J=F;J<Y;J++)f[32767+J]=Q,h[32767+J]=[],h[32767+J][1]=Q,h[32767+J][0]=J;for(var ae=-(Y-1);ae<=-F;ae++)f[32767+ae]=Q,h[32767+ae]=[],h[32767+ae][1]=Q,h[32767+ae][0]=Y-1+ae;F<<=1,Y<<=1}}(),function(){for(var F=0;F<256;F++)L[F]=19595*F,L[F+256>>0]=38470*F,L[F+512>>0]=7471*F+32768,L[F+768>>0]=-11059*F,L[F+1024>>0]=-21709*F,L[F+1280>>0]=32768*F+8421375,L[F+1536>>0]=-27439*F,L[F+1792>>0]=-5329*F}(),ye(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Bo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Hk(t){function e(w){if(!w)throw Error("assert :P")}function n(w,A,O){for(var E=0;4>E;E++)if(w[A+E]!=O.charCodeAt(E))return!0;return!1}function r(w,A,O,E,C){for(var R=0;R<C;R++)w[A+R]=O[E+R]}function i(w,A,O,E){for(var C=0;C<E;C++)w[A+C]=O}function s(w){return new Int32Array(w)}function o(w,A){for(var O=[],E=0;E<w;E++)O.push(new A);return O}function a(w,A){var O=[];return function E(C,R,U){for(var te=U[R],z=0;z<te&&(C.push(U.length>R+1?[]:new A),!(U.length<R+1));z++)E(C[z],R+1,U)}(O,0,w),O}var l=function(){var w=this;function A(g,_){for(var N=1<<_-1>>>0;g&N;)N>>>=1;return N?(g&N-1)+N:g}function O(g,_,N,j,q){e(!(j%N));do g[_+(j-=N)]=q;while(0<j)}function E(g,_,N,j,q){if(e(2328>=q),512>=q)var K=s(512);else if((K=s(q))==null)return 0;return function(G,ee,ne,ie,ue,xe){var Se,me,Le=ee,Ce=1<<ne,he=s(16),de=s(16);for(e(ue!=0),e(ie!=null),e(G!=null),e(0<ne),me=0;me<ue;++me){if(15<ie[me])return 0;++he[ie[me]]}if(he[0]==ue)return 0;for(de[1]=0,Se=1;15>Se;++Se){if(he[Se]>1<<Se)return 0;de[Se+1]=de[Se]+he[Se]}for(me=0;me<ue;++me)Se=ie[me],0<ie[me]&&(xe[de[Se]++]=me);if(de[15]==1)return(ie=new C).g=0,ie.value=xe[0],O(G,Le,1,Ce,ie),Ce;var ke,De=-1,Re=Ce-1,et=0,Ye=1,pt=1,Qe=1<<ne;for(me=0,Se=1,ue=2;Se<=ne;++Se,ue<<=1){if(Ye+=pt<<=1,0>(pt-=he[Se]))return 0;for(;0<he[Se];--he[Se])(ie=new C).g=Se,ie.value=xe[me++],O(G,Le+et,ue,Qe,ie),et=A(et,Se)}for(Se=ne+1,ue=2;15>=Se;++Se,ue<<=1){if(Ye+=pt<<=1,0>(pt-=he[Se]))return 0;for(;0<he[Se];--he[Se]){if(ie=new C,(et&Re)!=De){for(Le+=Qe,ke=1<<(De=Se)-ne;15>De&&!(0>=(ke-=he[De]));)++De,ke<<=1;Ce+=Qe=1<<(ke=De-ne),G[ee+(De=et&Re)].g=ke+ne,G[ee+De].value=Le-ee-De}ie.g=Se-ne,ie.value=xe[me++],O(G,Le+(et>>ne),ue,Qe,ie),et=A(et,Se)}}return Ye!=2*de[15]-1?0:Ce}(g,_,N,j,q,K)}function C(){this.value=this.g=0}function R(){this.value=this.g=0}function U(){this.G=o(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Wr,R)}function te(g,_,N,j){e(g!=null),e(_!=null),e(2147483648>j),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=N,g.Jd=_,g.Yc=N+j,g.Zc=4<=j?N+j-4+1:N,pe(g)}function z(g,_){for(var N=0;0<_--;)N|=le(g,128)<<_;return N}function V(g,_){var N=z(g,_);return ve(g)?-N:N}function W(g,_,N,j){var q,K=0;for(e(g!=null),e(_!=null),e(4294967288>j),g.Sb=j,g.Ra=0,g.u=0,g.h=0,4<j&&(j=4),q=0;q<j;++q)K+=_[N+q]<<8*q;g.Ra=K,g.bb=j,g.oa=_,g.pa=N}function X(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<qf-8>>>0,++g.bb,g.u-=8;Q(g)&&(g.h=1,g.u=0)}function re(g,_){if(e(0<=_),!g.h&&_<=$f){var N=Y(g)&zf[_];return g.u+=_,X(g),N}return g.h=1,g.u=0}function ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(g){return g.Ra>>>(g.u&qf-1)>>>0}function Q(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>qf}function J(g,_){g.u=_,g.h=Q(g)}function ae(g){g.u>=eg&&(e(g.u>=eg),X(g))}function pe(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ve(g){return z(g,1)}function le(g,_){var N=g.Ca;0>g.b&&pe(g);var j=g.b,q=N*_>>>8,K=(g.I>>>j>q)+0;for(K?(N-=q,g.I-=q+1<<j>>>0):N=q+1,j=N,q=0;256<=j;)q+=8,j>>=8;return j=7^q+Wi[j],g.b-=j,g.Ca=(N<<j)-1,K}function Ae(g,_,N){g[_+0]=N>>24&255,g[_+1]=N>>16&255,g[_+2]=N>>8&255,g[_+3]=N>>0&255}function Ee(g,_){return g[_+0]<<0|g[_+1]<<8}function ge(g,_){return Ee(g,_)|g[_+2]<<16}function Fe(g,_){return Ee(g,_)|Ee(g,_+2)<<16}function qe(g,_){var N=1<<_;return e(g!=null),e(0<_),g.X=s(N),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function we(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),r(_.X,0,g.X,0,1<<_.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function Ge(g,_,N,j){e(N!=null),e(j!=null);var q=N[0],K=j[0];return q==0&&(q=(g*K+_/2)/_),K==0&&(K=(_*q+g/2)/g),0>=q||0>=K?0:(N[0]=q,j[0]=K,1)}function He(g,_){return g+(1<<_)-1>>>_}function Oe(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Be(g,_){w[_]=function(N,j,q,K,G,ee,ne){var ie;for(ie=0;ie<G;++ie){var ue=w[g](ee[ne+ie-1],q,K+ie);ee[ne+ie]=Oe(N[j+ie],ue)}}}function Ve(){this.ud=this.hd=this.jd=0}function $e(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function Xe(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Je(g,_){return Xe(g+(g-_+.5>>1))}function lt(g,_,N){return Math.abs(_-N)-Math.abs(g-N)}function gt(g,_,N,j,q,K,G){for(j=K[G-1],N=0;N<q;++N)K[G+N]=j=Oe(g[_+N],j)}function ht(g,_,N,j,q){var K;for(K=0;K<N;++K){var G=g[_+K],ee=G>>8&255,ne=16711935&(ne=(ne=16711935&G)+((ee<<16)+ee));j[q+K]=(4278255360&G)+ne>>>0}}function ot(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function at(g,_,N,j,q,K){var G;for(G=0;G<j;++G){var ee=_[N+G],ne=ee>>>8,ie=ee,ue=255&(ue=(ue=ee>>>16)+((g.jd<<24>>24)*(ne<<24>>24)>>>5));ie=255&(ie=(ie=ie+((g.hd<<24>>24)*(ne<<24>>24)>>>5))+((g.ud<<24>>24)*(ue<<24>>24)>>>5)),q[K+G]=(4278255360&ee)+(ue<<16)+ie}}function ut(g,_,N,j,q){w[_]=function(K,G,ee,ne,ie,ue,xe,Se,me){for(ne=xe;ne<Se;++ne)for(xe=0;xe<me;++xe)ie[ue++]=q(ee[j(K[G++])])},w[g]=function(K,G,ee,ne,ie,ue,xe){var Se=8>>K.b,me=K.Ea,Le=K.K[0],Ce=K.w;if(8>Se)for(K=(1<<K.b)-1,Ce=(1<<Se)-1;G<ee;++G){var he,de=0;for(he=0;he<me;++he)he&K||(de=j(ne[ie++])),ue[xe++]=q(Le[de&Ce]),de>>=Se}else w["VP8LMapColor"+N](ne,ie,Le,Ce,ue,xe,G,ee,me)}}function We(g,_,N,j,q){for(N=_+N;_<N;){var K=g[_++];j[q++]=K>>16&255,j[q++]=K>>8&255,j[q++]=K>>0&255}}function Yt(g,_,N,j,q){for(N=_+N;_<N;){var K=g[_++];j[q++]=K>>16&255,j[q++]=K>>8&255,j[q++]=K>>0&255,j[q++]=K>>24&255}}function wt(g,_,N,j,q){for(N=_+N;_<N;){var K=(G=g[_++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;j[q++]=K,j[q++]=G}}function An(g,_,N,j,q){for(N=_+N;_<N;){var K=(G=g[_++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;j[q++]=K,j[q++]=G}}function kt(g,_,N,j,q){for(N=_+N;_<N;){var K=g[_++];j[q++]=K>>0&255,j[q++]=K>>8&255,j[q++]=K>>16&255}}function Ht(g,_,N,j,q,K){if(K==0)for(N=_+N;_<N;)Ae(j,((K=g[_++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),q+=32;else r(j,q,g,_,N)}function Bi(g,_){w[_][0]=w[g+"0"],w[_][1]=w[g+"1"],w[_][2]=w[g+"2"],w[_][3]=w[g+"3"],w[_][4]=w[g+"4"],w[_][5]=w[g+"5"],w[_][6]=w[g+"6"],w[_][7]=w[g+"7"],w[_][8]=w[g+"8"],w[_][9]=w[g+"9"],w[_][10]=w[g+"10"],w[_][11]=w[g+"11"],w[_][12]=w[g+"12"],w[_][13]=w[g+"13"],w[_][14]=w[g+"0"],w[_][15]=w[g+"0"]}function Mt(g){return g==p5||g==g5||g==h1||g==m5}function Ui(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ri(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ui,this.f.kb=new Xt,this.sd=null}function Ln(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Et(g,_){var N=g.T,j=_.ba.f.RGBA,q=j.eb,K=j.fb+g.ka*j.A,G=eo[_.ba.S],ee=g.y,ne=g.O,ie=g.f,ue=g.N,xe=g.ea,Se=g.W,me=_.cc,Le=_.dc,Ce=_.Mc,he=_.Nc,de=g.ka,ke=g.ka+g.T,De=g.U,Re=De+1>>1;for(de==0?G(ee,ne,null,null,ie,ue,xe,Se,ie,ue,xe,Se,q,K,null,null,De):(G(_.ec,_.fc,ee,ne,me,Le,Ce,he,ie,ue,xe,Se,q,K-j.A,q,K,De),++N);de+2<ke;de+=2)me=ie,Le=ue,Ce=xe,he=Se,ue+=g.Rc,Se+=g.Rc,K+=2*j.A,G(ee,(ne+=2*g.fa)-g.fa,ee,ne,me,Le,Ce,he,ie,ue,xe,Se,q,K-j.A,q,K,De);return ne+=g.fa,g.j+ke<g.o?(r(_.ec,_.fc,ee,ne,De),r(_.cc,_.dc,ie,ue,Re),r(_.Mc,_.Nc,xe,Se,Re),N--):1&ke||G(ee,ne,null,null,ie,ue,xe,Se,ie,ue,xe,Se,q,K+j.A,null,null,De),N}function fs(g,_,N){var j=g.F,q=[g.J];if(j!=null){var K=g.U,G=_.ba.S,ee=G==u1||G==h1;_=_.ba.f.RGBA;var ne=[0],ie=g.ka;ne[0]=g.T,g.Kb&&(ie==0?--ne[0]:(--ie,q[0]-=g.width),g.j+g.ka+g.T==g.o&&(ne[0]=g.o-g.j-ie));var ue=_.eb;ie=_.fb+ie*_.A,g=wn(j,q[0],g.width,K,ne,ue,ie+(ee?0:3),_.A),e(N==ne),g&&Mt(G)&&Js(ue,ie,ee,K,ne,_.A)}return 0}function Jt(g){var _=g.ma,N=_.ba.S,j=11>N,q=N==l1||N==c1||N==u1||N==d5||N==12||Mt(N);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!nl(_.Oa,g,q?11:12))return 0;if(q&&Mt(N)&&je(),g.da)alert("todo:use_scaling");else{if(j){if(_.Ib=ft,g.Kb){if(N=g.U+1>>1,_.memory=s(g.U+2*N),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+N,_.Ib=Et,je()}}else alert("todo:EmitYUV");q&&(_.Jb=fs,j&&be())}if(j&&!zT){for(g=0;256>g;++g)Q$[g]=89858*(g-128)+d1>>f1,eq[g]=-22014*(g-128)+d1,Z$[g]=-45773*(g-128),J$[g]=113618*(g-128)+d1>>f1;for(g=ag;g<b5;++g)_=76283*(g-16)+d1>>f1,tq[g-ag]=St(_,255),nq[g-ag]=St(_+8>>4,15);zT=1}return 1}function Zn(g){var _=g.ma,N=g.U,j=g.T;return e(!(1&g.ka)),0>=N||0>=j?0:(N=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,N),_.Dc+=N,1)}function ii(g){g.ma.memory=null}function dt(g,_,N,j){return re(g,8)!=47?0:(_[0]=re(g,14)+1,N[0]=re(g,14)+1,j[0]=re(g,1),re(g,3)!=0?0:!g.h)}function fn(g,_){if(4>g)return g+1;var N=g-2>>1;return(2+(1&g)<<N)+re(_,N)+1}function ds(g,_){return 120<_?_-120:1<=(N=((N=j$[_-1])>>4)*g+(8-(15&N)))?N:1;var N}function hr(g,_,N){var j=Y(N),q=g[_+=255&j].g-8;return 0<q&&(J(N,N.u+8),j=Y(N),_+=g[_].value,_+=j&(1<<q)-1),J(N,N.u+g[_].g),g[_].value}function En(g,_,N){return N.g+=g.g,N.value+=g.value<<_>>>0,e(8>=N.g),g.g}function Hn(g,_,N){var j=g.xc;return e((_=j==0?0:g.vc[g.md*(N>>j)+(_>>j)])<g.Wb),g.Ya[_]}function Pi(g,_,N,j){var q=g.ab,K=g.c*_,G=g.C;_=G+_;var ee=N,ne=j;for(j=g.Ta,N=g.Ua;0<q--;){var ie=g.gc[q],ue=G,xe=_,Se=ee,me=ne,Le=(ne=j,ee=N,ie.Ea);switch(e(ue<xe),e(xe<=ie.nc),ie.hc){case 2:t1(Se,me,(xe-ue)*Le,ne,ee);break;case 0:var Ce=ue,he=xe,de=ne,ke=ee,De=(Qe=ie).Ea;Ce==0&&(h5(Se,me,null,null,1,de,ke),gt(Se,me+1,0,0,De-1,de,ke+1),me+=De,ke+=De,++Ce);for(var Re=1<<Qe.b,et=Re-1,Ye=He(De,Qe.b),pt=Qe.K,Qe=Qe.w+(Ce>>Qe.b)*Ye;Ce<he;){var Qt=pt,rn=Qe,$t=1;for(tg(Se,me,de,ke-De,1,de,ke);$t<De;){var Dt=($t&~et)+Re;Dt>De&&(Dt=De),(0,gc[Qt[rn++]>>8&15])(Se,me+ +$t,de,ke+$t-De,Dt-$t,de,ke+$t),$t=Dt}me+=De,ke+=De,++Ce&et||(Qe+=Ye)}xe!=ie.nc&&r(ne,ee-Le,ne,ee+(xe-ue-1)*Le,Le);break;case 1:for(Le=Se,he=me,De=(Se=ie.Ea)-(ke=Se&~(de=(me=1<<ie.b)-1)),Ce=He(Se,ie.b),Re=ie.K,ie=ie.w+(ue>>ie.b)*Ce;ue<xe;){for(et=Re,Ye=ie,pt=new Ve,Qe=he+ke,Qt=he+Se;he<Qe;)ot(et[Ye++],pt),eh(pt,Le,he,me,ne,ee),he+=me,ee+=me;he<Qt&&(ot(et[Ye++],pt),eh(pt,Le,he,De,ne,ee),he+=De,ee+=De),++ue&de||(ie+=Ce)}break;case 3:if(Se==ne&&me==ee&&0<ie.b){for(he=ne,Se=Le=ee+(xe-ue)*Le-(ke=(xe-ue)*He(ie.Ea,ie.b)),me=ne,de=ee,Ce=[],ke=(De=ke)-1;0<=ke;--ke)Ce[ke]=me[de+ke];for(ke=De-1;0<=ke;--ke)he[Se+ke]=Ce[ke];Ys(ie,ue,xe,ne,Le,ne,ee)}else Ys(ie,ue,xe,Se,me,ne,ee)}ee=j,ne=N}ne!=N&&r(j,N,ee,ne,K)}function ps(g,_){var N=g.V,j=g.Ba+g.c*g.C,q=_-g.C;if(e(_<=g.l.o),e(16>=q),0<q){var K=g.l,G=g.Ta,ee=g.Ua,ne=K.width;if(Pi(g,q,N,j),q=ee=[ee],e((N=g.C)<(j=_)),e(K.v<K.va),j>K.o&&(j=K.o),N<K.j){var ie=K.j-N;N=K.j,q[0]+=ie*ne}if(N>=j?N=0:(q[0]+=4*K.v,K.ka=N-K.j,K.U=K.va-K.v,K.T=j-N,N=1),N){if(ee=ee[0],11>(N=g.ca).S){var ue=N.f.RGBA,xe=(j=N.S,q=K.U,K=K.T,ie=ue.eb,ue.A),Se=K;for(ue=ue.fb+g.Ma*ue.A;0<Se--;){var me=G,Le=ee,Ce=q,he=ie,de=ue;switch(j){case a1:Ki(me,Le,Ce,he,de);break;case l1:Ni(me,Le,Ce,he,de);break;case p5:Ni(me,Le,Ce,he,de),Js(he,de,0,Ce,1,0);break;case OT:il(me,Le,Ce,he,de);break;case c1:Ht(me,Le,Ce,he,de,1);break;case g5:Ht(me,Le,Ce,he,de,1),Js(he,de,0,Ce,1,0);break;case u1:Ht(me,Le,Ce,he,de,0);break;case h1:Ht(me,Le,Ce,he,de,0),Js(he,de,1,Ce,1,0);break;case d5:mc(me,Le,Ce,he,de);break;case m5:mc(me,Le,Ce,he,de),bn(he,de,Ce,1,0);break;case RT:rl(me,Le,Ce,he,de);break;default:e(0)}ee+=ne,ue+=xe}g.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=N.height)}}g.C=_,e(g.C<=g.i)}function Eo(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var N=g.Ya[_].G,j=g.Ya[_].H;if(0<N[1][j[1]+0].g||0<N[2][j[2]+0].g||0<N[3][j[3]+0].g)return 0}return 1}function gs(g,_,N,j,q,K){if(g.Z!=0){var G=g.qd,ee=g.rd;for(e(wc[g.Z]!=null);_<N;++_)wc[g.Z](G,ee,j,q,j,q,K),G=j,ee=q,q+=K;g.qd=G,g.rd=ee}}function si(g,_){var N=g.l.ma,j=N.Z==0||N.Z==1?g.l.j:g.C;if(j=g.C<j?j:g.C,e(_<=g.l.o),_>j){var q=g.l.width,K=N.ca,G=N.tb+q*j,ee=g.V,ne=g.Ba+g.c*j,ie=g.gc;e(g.ab==1),e(ie[0].hc==3),n1(ie[0],j,_,ee,ne,K,G),gs(N,j,_,K,G,q)}g.C=g.Ma=_}function Vi(g,_,N,j,q,K,G){var ee=g.$/j,ne=g.$%j,ie=g.m,ue=g.s,xe=N+g.$,Se=xe;q=N+j*q;var me=N+j*K,Le=280+ue.ua,Ce=g.Pb?ee:16777216,he=0<ue.ua?ue.Wa:null,de=ue.wc,ke=xe<me?Hn(ue,ne,ee):null;e(g.C<K),e(me<=q);var De=!1;e:for(;;){for(;De||xe<me;){var Re=0;if(ee>=Ce){var et=xe-N;e((Ce=g).Pb),Ce.wd=Ce.m,Ce.xd=et,0<Ce.s.ua&&we(Ce.s.Wa,Ce.s.vb),Ce=ee+B$}if(ne&de||(ke=Hn(ue,ne,ee)),e(ke!=null),ke.Qb&&(_[xe]=ke.qb,De=!0),!De)if(ae(ie),ke.jc){Re=ie,et=_;var Ye=xe,pt=ke.pd[Y(Re)&Wr-1];e(ke.jc),256>pt.g?(J(Re,Re.u+pt.g),et[Ye]=pt.value,Re=0):(J(Re,Re.u+pt.g-256),e(256<=pt.value),Re=pt.value),Re==0&&(De=!0)}else Re=hr(ke.G[0],ke.H[0],ie);if(ie.h)break;if(De||256>Re){if(!De)if(ke.nd)_[xe]=(ke.qb|Re<<8)>>>0;else{if(ae(ie),De=hr(ke.G[1],ke.H[1],ie),ae(ie),et=hr(ke.G[2],ke.H[2],ie),Ye=hr(ke.G[3],ke.H[3],ie),ie.h)break;_[xe]=(Ye<<24|De<<16|Re<<8|et)>>>0}if(De=!1,++xe,++ne>=j&&(ne=0,++ee,G!=null&&ee<=K&&!(ee%16)&&G(g,ee),he!=null))for(;Se<xe;)Re=_[Se++],he.X[(506832829*Re&4294967295)>>>he.Mb]=Re}else if(280>Re){if(Re=fn(Re-256,ie),et=hr(ke.G[4],ke.H[4],ie),ae(ie),et=ds(j,et=fn(et,ie)),ie.h)break;if(xe-N<et||q-xe<Re)break e;for(Ye=0;Ye<Re;++Ye)_[xe+Ye]=_[xe+Ye-et];for(xe+=Re,ne+=Re;ne>=j;)ne-=j,++ee,G!=null&&ee<=K&&!(ee%16)&&G(g,ee);if(e(xe<=q),ne&de&&(ke=Hn(ue,ne,ee)),he!=null)for(;Se<xe;)Re=_[Se++],he.X[(506832829*Re&4294967295)>>>he.Mb]=Re}else{if(!(Re<Le))break e;for(De=Re-280,e(he!=null);Se<xe;)Re=_[Se++],he.X[(506832829*Re&4294967295)>>>he.Mb]=Re;Re=xe,e(!(De>>>(et=he).Xa)),_[Re]=et.X[De],De=!0}De||e(ie.h==Q(ie))}if(g.Pb&&ie.h&&xe<q)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&we(g.s.vb,g.s.Wa);else{if(ie.h)break e;G!=null&&G(g,ee>K?K:ee),g.a=0,g.$=xe-N}return 1}return g.a=3,0}function zi(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function qr(){var g=new Zu;return g==null?null:(g.a=0,g.xb=DT,Bi("Predictor","VP8LPredictors"),Bi("Predictor","VP8LPredictors_C"),Bi("PredictorAdd","VP8LPredictorsAdd"),Bi("PredictorAdd","VP8LPredictorsAdd_C"),t1=ht,eh=at,Ki=We,Ni=Yt,mc=wt,rl=An,il=kt,w.VP8LMapColor32b=Hf,w.VP8LMapColor8b=r1,g)}function _r(g,_,N,j,q){var K=1,G=[g],ee=[_],ne=j.m,ie=j.s,ue=null,xe=0;e:for(;;){if(N)for(;K&&re(ne,1);){var Se=G,me=ee,Le=j,Ce=1,he=Le.m,de=Le.gc[Le.ab],ke=re(he,2);if(Le.Oc&1<<ke)K=0;else{switch(Le.Oc|=1<<ke,de.hc=ke,de.Ea=Se[0],de.nc=me[0],de.K=[null],++Le.ab,e(4>=Le.ab),ke){case 0:case 1:de.b=re(he,3)+2,Ce=_r(He(de.Ea,de.b),He(de.nc,de.b),0,Le,de.K),de.K=de.K[0];break;case 3:var De,Re=re(he,8)+1,et=16<Re?0:4<Re?1:2<Re?2:3;if(Se[0]=He(de.Ea,et),de.b=et,De=Ce=_r(Re,1,0,Le,de.K)){var Ye,pt=Re,Qe=de,Qt=1<<(8>>Qe.b),rn=s(Qt);if(rn==null)De=0;else{var $t=Qe.K[0],Dt=Qe.w;for(rn[0]=Qe.K[0][0],Ye=1;Ye<1*pt;++Ye)rn[Ye]=Oe($t[Dt+Ye],rn[Ye-1]);for(;Ye<4*Qt;++Ye)rn[Ye]=0;Qe.K[0]=null,Qe.K[0]=rn,De=1}}Ce=De;break;case 2:break;default:e(0)}K=Ce}}if(G=G[0],ee=ee[0],K&&re(ne,1)&&!(K=1<=(xe=re(ne,4))&&11>=xe)){j.a=3;break e}var pn;if(pn=K)t:{var hn,Ct,fr,Gi=j,dr=G,Yi=ee,sn=xe,Ss=N,As=Gi.m,Ir=Gi.s,Kr=[null],ki=1,to=0,pa=F$[sn];n:for(;;){if(Ss&&re(As,1)){var kr=re(As,3)+2,ll=He(dr,kr),sh=He(Yi,kr),Xf=ll*sh;if(!_r(ll,sh,0,Gi,Kr))break n;for(Kr=Kr[0],Ir.xc=kr,hn=0;hn<Xf;++hn){var _c=Kr[hn]>>8&65535;Kr[hn]=_c,_c>=ki&&(ki=_c+1)}}if(As.h)break n;for(Ct=0;5>Ct;++Ct){var Kn=LT[Ct];!Ct&&0<sn&&(Kn+=1<<sn),to<Kn&&(to=Kn)}var w5=o(ki*pa,C),HT=ki,WT=o(HT,U);if(WT==null)var g1=null;else e(65536>=HT),g1=WT;var lg=s(to);if(g1==null||lg==null||w5==null){Gi.a=1;break n}var m1=w5;for(hn=fr=0;hn<ki;++hn){var Mo=g1[hn],Qf=Mo.G,Jf=Mo.H,KT=0,y1=1,GT=0;for(Ct=0;5>Ct;++Ct){Kn=LT[Ct],Qf[Ct]=m1,Jf[Ct]=fr,!Ct&&0<sn&&(Kn+=1<<sn);i:{var v1,_5=Kn,b1=Gi,cg=lg,sq=m1,oq=fr,x5=0,xc=b1.m,aq=re(xc,1);if(i(cg,0,0,_5),aq){var lq=re(xc,1)+1,cq=re(xc,1),YT=re(xc,cq==0?1:8);cg[YT]=1,lq==2&&(cg[YT=re(xc,8)]=1);var w1=1}else{var XT=s(19),QT=re(xc,4)+4;if(19<QT){b1.a=3;var _1=0;break i}for(v1=0;v1<QT;++v1)XT[D$[v1]]=re(xc,3);var S5=void 0,ug=void 0,JT=b1,uq=XT,x1=_5,ZT=cg,A5=0,Sc=JT.m,eC=8,tC=o(128,C);r:for(;E(tC,0,7,uq,19);){if(re(Sc,1)){var hq=2+2*re(Sc,3);if((S5=2+re(Sc,hq))>x1)break r}else S5=x1;for(ug=0;ug<x1&&S5--;){ae(Sc);var nC=tC[0+(127&Y(Sc))];J(Sc,Sc.u+nC.g);var Zf=nC.value;if(16>Zf)ZT[ug++]=Zf,Zf!=0&&(eC=Zf);else{var fq=Zf==16,rC=Zf-16,dq=L$[rC],iC=re(Sc,R$[rC])+dq;if(ug+iC>x1)break r;for(var pq=fq?eC:0;0<iC--;)ZT[ug++]=pq}}A5=1;break r}A5||(JT.a=3),w1=A5}(w1=w1&&!xc.h)&&(x5=E(sq,oq,8,cg,_5)),w1&&x5!=0?_1=x5:(b1.a=3,_1=0)}if(_1==0)break n;if(y1&&M$[Ct]==1&&(y1=m1[fr].g==0),KT+=m1[fr].g,fr+=_1,3>=Ct){var hg,E5=lg[0];for(hg=1;hg<Kn;++hg)lg[hg]>E5&&(E5=lg[hg]);GT+=E5}}if(Mo.nd=y1,Mo.Qb=0,y1&&(Mo.qb=(Qf[3][Jf[3]+0].value<<24|Qf[1][Jf[1]+0].value<<16|Qf[2][Jf[2]+0].value)>>>0,KT==0&&256>Qf[0][Jf[0]+0].value&&(Mo.Qb=1,Mo.qb+=Qf[0][Jf[0]+0].value<<8)),Mo.jc=!Mo.Qb&&6>GT,Mo.jc){var S1,cl=Mo;for(S1=0;S1<Wr;++S1){var Ac=S1,Ec=cl.pd[Ac],A1=cl.G[0][cl.H[0]+Ac];256<=A1.value?(Ec.g=A1.g+256,Ec.value=A1.value):(Ec.g=0,Ec.value=0,Ac>>=En(A1,8,Ec),Ac>>=En(cl.G[1][cl.H[1]+Ac],16,Ec),Ac>>=En(cl.G[2][cl.H[2]+Ac],0,Ec),En(cl.G[3][cl.H[3]+Ac],24,Ec))}}}Ir.vc=Kr,Ir.Wb=ki,Ir.Ya=g1,Ir.yc=w5,pn=1;break t}pn=0}if(!(K=pn)){j.a=3;break e}if(0<xe){if(ie.ua=1<<xe,!qe(ie.Wa,xe)){j.a=1,K=0;break e}}else ie.ua=0;var P5=j,sC=G,gq=ee,T5=P5.s,C5=T5.xc;if(P5.c=sC,P5.i=gq,T5.md=He(sC,C5),T5.wc=C5==0?-1:(1<<C5)-1,N){j.xb=W$;break e}if((ue=s(G*ee))==null){j.a=1,K=0;break e}K=(K=Vi(j,ue,0,G,ee,ee,null))&&!ne.h;break e}return K?(q!=null?q[0]=ue:(e(ue==null),e(N)),j.$=0,N||zi(ie)):zi(ie),K}function la(g,_){var N=g.c*g.i,j=N+_+16*_;return e(g.c<=_),g.V=s(j),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+N+_,1)}function Ka(g,_){var N=g.C,j=_-N,q=g.V,K=g.Ba+g.c*N;for(e(_<=g.l.o);0<j;){var G=16<j?16:j,ee=g.l.ma,ne=g.l.width,ie=ne*G,ue=ee.ca,xe=ee.tb+ne*N,Se=g.Ta,me=g.Ua;Pi(g,G,q,K),nr(Se,me,ue,xe,ie),gs(ee,N,N+G,ue,xe,ne),j-=G,q+=G*g.c,N+=G}e(N==_),g.C=g.Ma=_}function ca(){this.ub=this.yd=this.td=this.Rb=0}function ua(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ga(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Uu(){this.Yb=function(){var g=[];return function _(N,j,q){for(var K=q[j],G=0;G<K&&(N.push(q.length>j+1?[]:0),!(q.length<j+1));G++)_(N[G],j+1,q)}(g,0,[3,11]),g}()}function Yp(){this.jb=s(3),this.Wc=a([4,8],Uu),this.Xc=a([4,17],Uu)}function ec(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ya(){this.ld=this.La=this.dd=this.tc=0}function tc(){this.Na=this.la=0}function Xa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ms(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ya),this.Y=0,this.ya=Array(new ms),this.aa=0,this.l=new Qa}function Nf(){this.y=s(16),this.f=s(8),this.ea=s(8)}function If(){this.cb=this.a=0,this.sc="",this.m=new ye,this.Od=new ca,this.Kc=new ua,this.ed=new ec,this.Qa=new Ga,this.Ic=this.$c=this.Aa=0,this.D=new Vu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ye),this.ia=0,this.pb=o(4,Xa),this.Pa=new Yp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nf),this.Hd=0,this.rb=Array(new tc),this.sb=0,this.wa=Array(new Ya),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ms),this.L=this.aa=0,this.gd=a([4,2],Ya),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function kf(){var g=new If;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,og||(og=$u)),g}function Pn(g,_,N){return g.a==0&&(g.a=_,g.sc=N,g.cb=0),0}function nc(g,_,N){return 3<=N&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function zu(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return Pn(g,2,"null VP8Io passed to VP8GetHeaders()");var N=_.data,j=_.w,q=_.ha;if(4>q)return Pn(g,7,"Truncated header.");var K=N[j+0]|N[j+1]<<8|N[j+2]<<16,G=g.Od;if(G.Rb=!(1&K),G.td=K>>1&7,G.yd=K>>4&1,G.ub=K>>5,3<G.td)return Pn(g,3,"Incorrect keyframe parameters.");if(!G.yd)return Pn(g,4,"Frame not displayable.");j+=3,q-=3;var ee=g.Kc;if(G.Rb){if(7>q)return Pn(g,7,"cannot parse picture header");if(!nc(N,j,q))return Pn(g,3,"Bad code word");ee.c=16383&(N[j+4]<<8|N[j+3]),ee.Td=N[j+4]>>6,ee.i=16383&(N[j+6]<<8|N[j+5]),ee.Ud=N[j+6]>>6,j+=7,q-=7,g.za=ee.c+15>>4,g.Ub=ee.i+15>>4,_.width=ee.c,_.height=ee.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((K=g.Pa).jb,0,255,K.jb.length),e((K=g.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,i(K.Zb,0,0,K.Zb.length),i(K.Lb,0,0,K.Lb)}if(G.ub>q)return Pn(g,7,"bad partition length");te(K=g.m,N,j,G.ub),j+=G.ub,q-=G.ub,G.Rb&&(ee.Ld=ve(K),ee.Kd=ve(K)),ee=g.Qa;var ne,ie=g.Pa;if(e(K!=null),e(ee!=null),ee.Cb=ve(K),ee.Cb){if(ee.Bb=ve(K),ve(K)){for(ee.Fb=ve(K),ne=0;4>ne;++ne)ee.Zb[ne]=ve(K)?V(K,7):0;for(ne=0;4>ne;++ne)ee.Lb[ne]=ve(K)?V(K,6):0}if(ee.Bb)for(ne=0;3>ne;++ne)ie.jb[ne]=ve(K)?z(K,8):255}else ee.Bb=0;if(K.Ka)return Pn(g,3,"cannot parse segment header");if((ee=g.ed).zd=ve(K),ee.Tb=z(K,6),ee.wb=z(K,3),ee.Pc=ve(K),ee.Pc&&ve(K)){for(ie=0;4>ie;++ie)ve(K)&&(ee.vd[ie]=V(K,6));for(ie=0;4>ie;++ie)ve(K)&&(ee.od[ie]=V(K,6))}if(g.L=ee.Tb==0?0:ee.zd?1:2,K.Ka)return Pn(g,3,"cannot parse filter header");var ue=q;if(q=ne=j,j=ne+ue,ee=ue,g.Xb=(1<<z(g.m,2))-1,ue<3*(ie=g.Xb))N=7;else{for(ne+=3*ie,ee-=3*ie,ue=0;ue<ie;++ue){var xe=N[q+0]|N[q+1]<<8|N[q+2]<<16;xe>ee&&(xe=ee),te(g.Jc[+ue],N,ne,xe),ne+=xe,ee-=xe,q+=3}te(g.Jc[+ie],N,ne,ee),N=ne<j?0:5}if(N!=0)return Pn(g,N,"cannot parse partitions");for(N=z(ne=g.m,7),q=ve(ne)?V(ne,4):0,j=ve(ne)?V(ne,4):0,ee=ve(ne)?V(ne,4):0,ie=ve(ne)?V(ne,4):0,ne=ve(ne)?V(ne,4):0,ue=g.Qa,xe=0;4>xe;++xe){if(ue.Cb){var Se=ue.Zb[xe];ue.Fb||(Se+=N)}else{if(0<xe){g.pb[xe]=g.pb[0];continue}Se=N}var me=g.pb[xe];me.Sc[0]=y5[St(Se+q,127)],me.Sc[1]=v5[St(Se+0,127)],me.Eb[0]=2*y5[St(Se+j,127)],me.Eb[1]=101581*v5[St(Se+ee,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=y5[St(Se+ie,117)],me.Qc[1]=v5[St(Se+ne,127)],me.lc=Se+ne}if(!G.Rb)return Pn(g,4,"Not a key frame.");for(ve(K),G=g.Pa,N=0;4>N;++N){for(q=0;8>q;++q)for(j=0;3>j;++j)for(ee=0;11>ee;++ee)ie=le(K,q$[N][q][j][ee])?z(K,8):z$[N][q][j][ee],G.Wc[N][q].Yb[j][ee]=ie;for(q=0;17>q;++q)G.Xc[N][q]=G.Wc[N][H$[q]]}return g.kc=ve(K),g.kc&&(g.Bd=z(K,8)),g.cb=1}function $u(g,_,N,j,q,K,G){var ee=_[q].Yb[N];for(N=0;16>q;++q){if(!le(g,ee[N+0]))return q;for(;!le(g,ee[N+1]);)if(ee=_[++q].Yb[0],N=0,q==16)return 16;var ne=_[q+1].Yb;if(le(g,ee[N+2])){var ie=g,ue=0;if(le(ie,(Se=ee)[(xe=N)+3]))if(le(ie,Se[xe+6])){for(ee=0,xe=2*(ue=le(ie,Se[xe+8]))+(Se=le(ie,Se[xe+9+ue])),ue=0,Se=U$[xe];Se[ee];++ee)ue+=ue+le(ie,Se[ee]);ue+=3+(8<<xe)}else le(ie,Se[xe+7])?(ue=7+2*le(ie,165),ue+=le(ie,145)):ue=5+le(ie,159);else ue=le(ie,Se[xe+4])?3+le(ie,Se[xe+5]):2;ee=ne[2]}else ue=1,ee=ne[1];ne=G+V$[q],0>(ie=g).b&&pe(ie);var xe,Se=ie.b,me=(xe=ie.Ca>>1)-(ie.I>>Se)>>31;--ie.b,ie.Ca+=me,ie.Ca|=1,ie.I-=(xe+1&me)<<Se,K[ne]=((ue^me)-me)*j[(0<q)+0]}return 16}function qu(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Xp(g,_){if(g==null)return 0;if(_==null)return Pn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!zu(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var N=p1[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-N>>4,g.zb=_.j-N>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+N>>4,g.Hb=_.va+15+N>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var j=g.ed;for(N=0;4>N;++N){var q;if(g.Qa.Cb){var K=g.Qa.Lb[N];g.Qa.Fb||(K+=j.Tb)}else K=j.Tb;for(q=0;1>=q;++q){var G=g.gd[N][q],ee=K;if(j.Pc&&(ee+=j.vd[0],q&&(ee+=j.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var ne=ee;0<j.wb&&(ne=4<j.wb?ne>>2:ne>>1)>9-j.wb&&(ne=9-j.wb),1>ne&&(ne=1),G.dd=ne,G.tc=2*ee+ne,G.ld=40<=ee?2:15<=ee?1:0}else G.tc=0;G.La=q}}}N=0}else Pn(g,6,"Frame setup failed"),N=g.a;if(N=N==0){if(N){g.$c=0,0<g.Aa||(g.Ic=iq);e:{N=g.Ic,j=4*(ne=g.za);var ie=32*ne,ue=ne+1,xe=0<g.L?ne*(0<g.Aa?2:1):0,Se=(g.Aa==2?2:1)*ne;if((G=j+832+(q=3*(16*N+p1[g.L])/2*ie)+(K=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=G)N=0;else{if(G>g.Vb){if(g.Vb=0,g.Ec=s(G),g.Fc=0,g.Ec==null){N=Pn(g,1,"no memory during frame initialization.");break e}g.Vb=G}G=g.Ec,ee=g.Fc,g.Ac=G,g.Bc=ee,ee+=j,g.Gd=o(ie,Nf),g.Hd=0,g.rb=o(ue+1,tc),g.sb=1,g.wa=xe?o(xe,Ya):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ne),e(!0),g.oc=G,g.pc=ee,ee+=832,g.ya=o(Se,ms),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ne),g.R=16*ne,g.B=8*ne,ne=(ie=p1[g.L])*g.R,ie=ie/2*g.B,g.sa=G,g.ta=ee+ne,g.qa=g.sa,g.ra=g.ta+16*N*g.R+ie,g.Ha=g.qa,g.Ia=g.ra+8*N*g.B+ie,g.$c=0,ee+=q,g.mb=K?G:null,g.nb=K?ee:null,e(ee+K<=g.Fc+g.Vb),qu(g),i(g.Ac,g.Bc,0,j),N=1}}if(N){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!s1){for(N=-255;255>=N;++N)xr[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)ol[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)sg[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)Yf[255+N]=0>N?0:255<N?255:N;s1=1}Wf=ic,sl=rc,ng=Za,Ii=Of,Xs=Zt,tr=qi,Kf=Io,i1=fa,rg=Uf,th=da,nh=Xu,yc=ko,rh=Qu,Gf=Ju,ih=Yu,vc=Ci,ig=Hs,Qs=bs,Lo[0]=qs,Lo[1]=el,Lo[2]=Mf,Lo[3]=ha,Lo[4]=Df,Lo[5]=Ti,Lo[6]=jf,Lo[7]=Wu,Lo[8]=ac,Lo[9]=Jp,bc[0]=Lf,bc[1]=Rf,bc[2]=To,bc[3]=sc,bc[4]=Wn,bc[5]=$s,bc[6]=Hu,al[0]=Hi,al[1]=Qp,al[2]=lc,al[3]=cc,al[4]=Co,al[5]=Ff,al[6]=un,N=1}else N=0}N&&(N=function(me,Le){for(me.M=0;me.M<me.Va;++me.M){var Ce,he=me.Jc[me.M&me.Xb],de=me.m,ke=me;for(Ce=0;Ce<ke.za;++Ce){var De=de,Re=ke,et=Re.Ac,Ye=Re.Bc+4*Ce,pt=Re.zc,Qe=Re.ya[Re.aa+Ce];if(Re.Qa.Bb?Qe.$b=le(De,Re.Pa.jb[0])?2+le(De,Re.Pa.jb[2]):le(De,Re.Pa.jb[1]):Qe.$b=0,Re.kc&&(Qe.Ad=le(De,Re.Bd)),Qe.Za=!le(De,145)+0,Qe.Za){var Qt=Qe.Ob,rn=0;for(Re=0;4>Re;++Re){var $t,Dt=pt[0+Re];for($t=0;4>$t;++$t){Dt=$$[et[Ye+$t]][Dt];for(var pn=MT[le(De,Dt[0])];0<pn;)pn=MT[2*pn+le(De,Dt[pn])];Dt=-pn,et[Ye+$t]=Dt}r(Qt,rn,et,Ye,4),rn+=4,pt[0+Re]=Dt}}else Dt=le(De,156)?le(De,128)?1:3:le(De,163)?2:0,Qe.Ob[0]=Dt,i(et,Ye,Dt,4),i(pt,0,Dt,4);Qe.Dd=le(De,142)?le(De,114)?le(De,183)?1:3:2:0}if(ke.m.Ka)return Pn(me,7,"Premature end-of-partition0 encountered.");for(;me.ja<me.za;++me.ja){if(ke=he,De=(de=me).rb[de.sb-1],et=de.rb[de.sb+de.ja],Ce=de.ya[de.aa+de.ja],Ye=de.kc?Ce.Ad:0)De.la=et.la=0,Ce.Za||(De.Na=et.Na=0),Ce.Hc=0,Ce.Gc=0,Ce.ia=0;else{var hn,Ct;if(De=et,et=ke,Ye=de.Pa.Xc,pt=de.ya[de.aa+de.ja],Qe=de.pb[pt.$b],Re=pt.ad,Qt=0,rn=de.rb[de.sb-1],Dt=$t=0,i(Re,Qt,0,384),pt.Za)var fr=0,Gi=Ye[3];else{pn=s(16);var dr=De.Na+rn.Na;if(dr=og(et,Ye[1],dr,Qe.Eb,0,pn,0),De.Na=rn.Na=(0<dr)+0,1<dr)Wf(pn,0,Re,Qt);else{var Yi=pn[0]+3>>3;for(pn=0;256>pn;pn+=16)Re[Qt+pn]=Yi}fr=1,Gi=Ye[0]}var sn=15&De.la,Ss=15&rn.la;for(pn=0;4>pn;++pn){var As=1&Ss;for(Yi=Ct=0;4>Yi;++Yi)sn=sn>>1|(As=(dr=og(et,Gi,dr=As+(1&sn),Qe.Sc,fr,Re,Qt))>fr)<<7,Ct=Ct<<2|(3<dr?3:1<dr?2:Re[Qt+0]!=0),Qt+=16;sn>>=4,Ss=Ss>>1|As<<7,$t=($t<<8|Ct)>>>0}for(Gi=sn,fr=Ss>>4,hn=0;4>hn;hn+=2){for(Ct=0,sn=De.la>>4+hn,Ss=rn.la>>4+hn,pn=0;2>pn;++pn){for(As=1&Ss,Yi=0;2>Yi;++Yi)dr=As+(1&sn),sn=sn>>1|(As=0<(dr=og(et,Ye[2],dr,Qe.Qc,0,Re,Qt)))<<3,Ct=Ct<<2|(3<dr?3:1<dr?2:Re[Qt+0]!=0),Qt+=16;sn>>=2,Ss=Ss>>1|As<<5}Dt|=Ct<<4*hn,Gi|=sn<<4<<hn,fr|=(240&Ss)<<hn}De.la=Gi,rn.la=fr,pt.Hc=$t,pt.Gc=Dt,pt.ia=43690&Dt?0:Qe.ia,Ye=!($t|Dt)}if(0<de.L&&(de.wa[de.Y+de.ja]=de.gd[Ce.$b][Ce.Za],de.wa[de.Y+de.ja].La|=!Ye),ke.Ka)return Pn(me,7,"Premature end-of-file encountered.")}if(qu(me),de=Le,ke=1,Ce=(he=me).D,De=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Ce.M=he.M,Ce.uc=De,Hr(he,Ce),ke=1,Ce=(Ct=he.D).Nb,De=(Dt=p1[he.L])*he.R,et=Dt/2*he.B,pn=16*Ce*he.R,Yi=8*Ce*he.B,Ye=he.sa,pt=he.ta-De+pn,Qe=he.qa,Re=he.ra-et+Yi,Qt=he.Ha,rn=he.Ia-et+Yi,Ss=(sn=Ct.M)==0,$t=sn>=he.Va-1,he.Aa==2&&Hr(he,Ct),Ct.uc)for(As=(dr=he).D.M,e(dr.D.uc),Ct=dr.yb;Ct<dr.Hb;++Ct){fr=Ct,Gi=As;var Ir=(Kr=(Kn=dr).D).Nb;hn=Kn.R;var Kr=Kr.wa[Kr.Y+fr],ki=Kn.sa,to=Kn.ta+16*Ir*hn+16*fr,pa=Kr.dd,kr=Kr.tc;if(kr!=0)if(e(3<=kr),Kn.L==1)0<fr&&vc(ki,to,hn,kr+4),Kr.La&&Qs(ki,to,hn,kr),0<Gi&&ih(ki,to,hn,kr+4),Kr.La&&ig(ki,to,hn,kr);else{var ll=Kn.B,sh=Kn.qa,Xf=Kn.ra+8*Ir*ll+8*fr,_c=Kn.Ha,Kn=Kn.Ia+8*Ir*ll+8*fr;Ir=Kr.ld,0<fr&&(i1(ki,to,hn,kr+4,pa,Ir),th(sh,Xf,_c,Kn,ll,kr+4,pa,Ir)),Kr.La&&(yc(ki,to,hn,kr,pa,Ir),Gf(sh,Xf,_c,Kn,ll,kr,pa,Ir)),0<Gi&&(Kf(ki,to,hn,kr+4,pa,Ir),rg(sh,Xf,_c,Kn,ll,kr+4,pa,Ir)),Kr.La&&(nh(ki,to,hn,kr,pa,Ir),rh(sh,Xf,_c,Kn,ll,kr,pa,Ir))}}if(he.ia&&alert("todo:DitherRow"),de.put!=null){if(Ct=16*sn,sn=16*(sn+1),Ss?(de.y=he.sa,de.O=he.ta+pn,de.f=he.qa,de.N=he.ra+Yi,de.ea=he.Ha,de.W=he.Ia+Yi):(Ct-=Dt,de.y=Ye,de.O=pt,de.f=Qe,de.N=Re,de.ea=Qt,de.W=rn),$t||(sn-=Dt),sn>de.o&&(sn=de.o),de.F=null,de.J=null,he.Fa!=null&&0<he.Fa.length&&Ct<sn&&(de.J=_s(he,de,Ct,sn-Ct),de.F=he.mb,de.F==null&&de.F.length==0)){ke=Pn(he,3,"Could not decode alpha data.");break e}Ct<de.j&&(Dt=de.j-Ct,Ct=de.j,e(!(1&Dt)),de.O+=he.R*Dt,de.N+=he.B*(Dt>>1),de.W+=he.B*(Dt>>1),de.F!=null&&(de.J+=de.width*Dt)),Ct<sn&&(de.O+=de.v,de.N+=de.v>>1,de.W+=de.v>>1,de.F!=null&&(de.J+=de.v),de.ka=Ct-de.j,de.U=de.va-de.v,de.T=sn-Ct,ke=de.put(de))}Ce+1!=he.Ic||$t||(r(he.sa,he.ta-De,Ye,pt+16*he.R,De),r(he.qa,he.ra-et,Qe,Re+8*he.B,et),r(he.Ha,he.Ia-et,Qt,rn+8*he.B,et))}if(!ke)return Pn(me,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),N&=1}return N?(g.cb=0,N):0}function $i(g,_,N,j,q){q=g[_+N+32*j]+(q>>3),g[_+N+32*j]=-256&q?0>q?0:255:q}function Ja(g,_,N,j,q,K){$i(g,_,0,N,j+q),$i(g,_,1,N,j+K),$i(g,_,2,N,j-K),$i(g,_,3,N,j-q)}function oi(g){return(20091*g>>16)+g}function ys(g,_,N,j){var q,K=0,G=s(16);for(q=0;4>q;++q){var ee=g[_+0]+g[_+8],ne=g[_+0]-g[_+8],ie=(35468*g[_+4]>>16)-oi(g[_+12]),ue=oi(g[_+4])+(35468*g[_+12]>>16);G[K+0]=ee+ue,G[K+1]=ne+ie,G[K+2]=ne-ie,G[K+3]=ee-ue,K+=4,_++}for(q=K=0;4>q;++q)ee=(g=G[K+0]+4)+G[K+8],ne=g-G[K+8],ie=(35468*G[K+4]>>16)-oi(G[K+12]),$i(N,j,0,0,ee+(ue=oi(G[K+4])+(35468*G[K+12]>>16))),$i(N,j,1,0,ne+ie),$i(N,j,2,0,ne-ie),$i(N,j,3,0,ee-ue),K++,j+=32}function qi(g,_,N,j){var q=g[_+0]+4,K=35468*g[_+4]>>16,G=oi(g[_+4]),ee=35468*g[_+1]>>16;Ja(N,j,0,q+G,g=oi(g[_+1]),ee),Ja(N,j,1,q+K,g,ee),Ja(N,j,2,q-K,g,ee),Ja(N,j,3,q-G,g,ee)}function rc(g,_,N,j,q){ys(g,_,N,j),q&&ys(g,_+16,N,j+4)}function Za(g,_,N,j){sl(g,_+0,N,j,1),sl(g,_+32,N,j+128,1)}function Of(g,_,N,j){var q;for(g=g[_+0]+4,q=0;4>q;++q)for(_=0;4>_;++_)$i(N,j,_,q,g)}function Zt(g,_,N,j){g[_+0]&&Ii(g,_+0,N,j),g[_+16]&&Ii(g,_+16,N,j+4),g[_+32]&&Ii(g,_+32,N,j+128),g[_+48]&&Ii(g,_+48,N,j+128+4)}function ic(g,_,N,j){var q,K=s(16);for(q=0;4>q;++q){var G=g[_+0+q]+g[_+12+q],ee=g[_+4+q]+g[_+8+q],ne=g[_+4+q]-g[_+8+q],ie=g[_+0+q]-g[_+12+q];K[0+q]=G+ee,K[8+q]=G-ee,K[4+q]=ie+ne,K[12+q]=ie-ne}for(q=0;4>q;++q)G=(g=K[0+4*q]+3)+K[3+4*q],ee=K[1+4*q]+K[2+4*q],ne=K[1+4*q]-K[2+4*q],ie=g-K[3+4*q],N[j+0]=G+ee>>3,N[j+16]=ie+ne>>3,N[j+32]=G-ee>>3,N[j+48]=ie-ne>>3,j+=64}function Po(g,_,N){var j,q=_-32,K=xs,G=255-g[q-1];for(j=0;j<N;++j){var ee,ne=K,ie=G+g[_-1];for(ee=0;ee<N;++ee)g[_+ee]=ne[ie+g[q+ee]];_+=32}}function el(g,_){Po(g,_,4)}function Qp(g,_){Po(g,_,8)}function Rf(g,_){Po(g,_,16)}function To(g,_){var N;for(N=0;16>N;++N)r(g,_+32*N,g,_-32,16)}function sc(g,_){var N;for(N=16;0<N;--N)i(g,_,g[_-1],16),_+=32}function oc(g,_,N){var j;for(j=0;16>j;++j)i(_,N+32*j,g,16)}function Lf(g,_){var N,j=16;for(N=0;16>N;++N)j+=g[_-1+32*N]+g[_+N-32];oc(j>>5,g,_)}function Wn(g,_){var N,j=8;for(N=0;16>N;++N)j+=g[_-1+32*N];oc(j>>4,g,_)}function $s(g,_){var N,j=8;for(N=0;16>N;++N)j+=g[_+N-32];oc(j>>4,g,_)}function Hu(g,_){oc(128,g,_)}function _t(g,_,N){return g+2*_+N+2>>2}function Mf(g,_){var N,j=_-32;for(j=new Uint8Array([_t(g[j-1],g[j+0],g[j+1]),_t(g[j+0],g[j+1],g[j+2]),_t(g[j+1],g[j+2],g[j+3]),_t(g[j+2],g[j+3],g[j+4])]),N=0;4>N;++N)r(g,_+32*N,j,0,j.length)}function ha(g,_){var N=g[_-1],j=g[_-1+32],q=g[_-1+64],K=g[_-1+96];Ae(g,_+0,16843009*_t(g[_-1-32],N,j)),Ae(g,_+32,16843009*_t(N,j,q)),Ae(g,_+64,16843009*_t(j,q,K)),Ae(g,_+96,16843009*_t(q,K,K))}function qs(g,_){var N,j=4;for(N=0;4>N;++N)j+=g[_+N-32]+g[_-1+32*N];for(j>>=3,N=0;4>N;++N)i(g,_+32*N,j,4)}function Df(g,_){var N=g[_-1+0],j=g[_-1+32],q=g[_-1+64],K=g[_-1-32],G=g[_+0-32],ee=g[_+1-32],ne=g[_+2-32],ie=g[_+3-32];g[_+0+96]=_t(j,q,g[_-1+96]),g[_+1+96]=g[_+0+64]=_t(N,j,q),g[_+2+96]=g[_+1+64]=g[_+0+32]=_t(K,N,j),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=_t(G,K,N),g[_+3+64]=g[_+2+32]=g[_+1+0]=_t(ee,G,K),g[_+3+32]=g[_+2+0]=_t(ne,ee,G),g[_+3+0]=_t(ie,ne,ee)}function jf(g,_){var N=g[_+1-32],j=g[_+2-32],q=g[_+3-32],K=g[_+4-32],G=g[_+5-32],ee=g[_+6-32],ne=g[_+7-32];g[_+0+0]=_t(g[_+0-32],N,j),g[_+1+0]=g[_+0+32]=_t(N,j,q),g[_+2+0]=g[_+1+32]=g[_+0+64]=_t(j,q,K),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=_t(q,K,G),g[_+3+32]=g[_+2+64]=g[_+1+96]=_t(K,G,ee),g[_+3+64]=g[_+2+96]=_t(G,ee,ne),g[_+3+96]=_t(ee,ne,ne)}function Ti(g,_){var N=g[_-1+0],j=g[_-1+32],q=g[_-1+64],K=g[_-1-32],G=g[_+0-32],ee=g[_+1-32],ne=g[_+2-32],ie=g[_+3-32];g[_+0+0]=g[_+1+64]=K+G+1>>1,g[_+1+0]=g[_+2+64]=G+ee+1>>1,g[_+2+0]=g[_+3+64]=ee+ne+1>>1,g[_+3+0]=ne+ie+1>>1,g[_+0+96]=_t(q,j,N),g[_+0+64]=_t(j,N,K),g[_+0+32]=g[_+1+96]=_t(N,K,G),g[_+1+32]=g[_+2+96]=_t(K,G,ee),g[_+2+32]=g[_+3+96]=_t(G,ee,ne),g[_+3+32]=_t(ee,ne,ie)}function Wu(g,_){var N=g[_+0-32],j=g[_+1-32],q=g[_+2-32],K=g[_+3-32],G=g[_+4-32],ee=g[_+5-32],ne=g[_+6-32],ie=g[_+7-32];g[_+0+0]=N+j+1>>1,g[_+1+0]=g[_+0+64]=j+q+1>>1,g[_+2+0]=g[_+1+64]=q+K+1>>1,g[_+3+0]=g[_+2+64]=K+G+1>>1,g[_+0+32]=_t(N,j,q),g[_+1+32]=g[_+0+96]=_t(j,q,K),g[_+2+32]=g[_+1+96]=_t(q,K,G),g[_+3+32]=g[_+2+96]=_t(K,G,ee),g[_+3+64]=_t(G,ee,ne),g[_+3+96]=_t(ee,ne,ie)}function Jp(g,_){var N=g[_-1+0],j=g[_-1+32],q=g[_-1+64],K=g[_-1+96];g[_+0+0]=N+j+1>>1,g[_+2+0]=g[_+0+32]=j+q+1>>1,g[_+2+32]=g[_+0+64]=q+K+1>>1,g[_+1+0]=_t(N,j,q),g[_+3+0]=g[_+1+32]=_t(j,q,K),g[_+3+32]=g[_+1+64]=_t(q,K,K),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=K}function ac(g,_){var N=g[_-1+0],j=g[_-1+32],q=g[_-1+64],K=g[_-1+96],G=g[_-1-32],ee=g[_+0-32],ne=g[_+1-32],ie=g[_+2-32];g[_+0+0]=g[_+2+32]=N+G+1>>1,g[_+0+32]=g[_+2+64]=j+N+1>>1,g[_+0+64]=g[_+2+96]=q+j+1>>1,g[_+0+96]=K+q+1>>1,g[_+3+0]=_t(ee,ne,ie),g[_+2+0]=_t(G,ee,ne),g[_+1+0]=g[_+3+32]=_t(N,G,ee),g[_+1+32]=g[_+3+64]=_t(j,N,G),g[_+1+64]=g[_+3+96]=_t(q,j,N),g[_+1+96]=_t(K,q,j)}function lc(g,_){var N;for(N=0;8>N;++N)r(g,_+32*N,g,_-32,8)}function cc(g,_){var N;for(N=0;8>N;++N)i(g,_,g[_-1],8),_+=32}function vs(g,_,N){var j;for(j=0;8>j;++j)i(_,N+32*j,g,8)}function Hi(g,_){var N,j=8;for(N=0;8>N;++N)j+=g[_+N-32]+g[_-1+32*N];vs(j>>4,g,_)}function Ff(g,_){var N,j=4;for(N=0;8>N;++N)j+=g[_+N-32];vs(j>>3,g,_)}function Co(g,_){var N,j=4;for(N=0;8>N;++N)j+=g[_-1+32*N];vs(j>>3,g,_)}function un(g,_){vs(128,g,_)}function uc(g,_,N){var j=g[_-N],q=g[_+0],K=3*(q-j)+f5[1020+g[_-2*N]-g[_+N]],G=o1[112+(K+4>>3)];g[_-N]=xs[255+j+o1[112+(K+3>>3)]],g[_+0]=xs[255+q-G]}function Bf(g,_,N,j){var q=g[_+0],K=g[_+N];return Zs[255+g[_-2*N]-g[_-N]]>j||Zs[255+K-q]>j}function Ku(g,_,N,j){return 4*Zs[255+g[_-N]-g[_+0]]+Zs[255+g[_-2*N]-g[_+N]]<=j}function Gu(g,_,N,j,q){var K=g[_-3*N],G=g[_-2*N],ee=g[_-N],ne=g[_+0],ie=g[_+N],ue=g[_+2*N],xe=g[_+3*N];return 4*Zs[255+ee-ne]+Zs[255+G-ie]>j?0:Zs[255+g[_-4*N]-K]<=q&&Zs[255+K-G]<=q&&Zs[255+G-ee]<=q&&Zs[255+xe-ue]<=q&&Zs[255+ue-ie]<=q&&Zs[255+ie-ne]<=q}function Yu(g,_,N,j){var q=2*j+1;for(j=0;16>j;++j)Ku(g,_+j,N,q)&&uc(g,_+j,N)}function Ci(g,_,N,j){var q=2*j+1;for(j=0;16>j;++j)Ku(g,_+j*N,1,q)&&uc(g,_+j*N,1)}function Hs(g,_,N,j){var q;for(q=3;0<q;--q)Yu(g,_+=4*N,N,j)}function bs(g,_,N,j){var q;for(q=3;0<q;--q)Ci(g,_+=4,N,j)}function No(g,_,N,j,q,K,G,ee){for(K=2*K+1;0<q--;){if(Gu(g,_,N,K,G))if(Bf(g,_,N,ee))uc(g,_,N);else{var ne=g,ie=_,ue=N,xe=ne[ie-2*ue],Se=ne[ie-ue],me=ne[ie+0],Le=ne[ie+ue],Ce=ne[ie+2*ue],he=27*(ke=f5[1020+3*(me-Se)+f5[1020+xe-Le]])+63>>7,de=18*ke+63>>7,ke=9*ke+63>>7;ne[ie-3*ue]=xs[255+ne[ie-3*ue]+ke],ne[ie-2*ue]=xs[255+xe+de],ne[ie-ue]=xs[255+Se+he],ne[ie+0]=xs[255+me-he],ne[ie+ue]=xs[255+Le-de],ne[ie+2*ue]=xs[255+Ce-ke]}_+=j}}function ws(g,_,N,j,q,K,G,ee){for(K=2*K+1;0<q--;){if(Gu(g,_,N,K,G))if(Bf(g,_,N,ee))uc(g,_,N);else{var ne=g,ie=_,ue=N,xe=ne[ie-ue],Se=ne[ie+0],me=ne[ie+ue],Le=o1[112+((Ce=3*(Se-xe))+4>>3)],Ce=o1[112+(Ce+3>>3)],he=Le+1>>1;ne[ie-2*ue]=xs[255+ne[ie-2*ue]+he],ne[ie-ue]=xs[255+xe+Ce],ne[ie+0]=xs[255+Se-Le],ne[ie+ue]=xs[255+me-he]}_+=j}}function Io(g,_,N,j,q,K){No(g,_,N,1,16,j,q,K)}function fa(g,_,N,j,q,K){No(g,_,1,N,16,j,q,K)}function Xu(g,_,N,j,q,K){var G;for(G=3;0<G;--G)ws(g,_+=4*N,N,1,16,j,q,K)}function ko(g,_,N,j,q,K){var G;for(G=3;0<G;--G)ws(g,_+=4,1,N,16,j,q,K)}function Uf(g,_,N,j,q,K,G,ee){No(g,_,q,1,8,K,G,ee),No(N,j,q,1,8,K,G,ee)}function da(g,_,N,j,q,K,G,ee){No(g,_,1,q,8,K,G,ee),No(N,j,1,q,8,K,G,ee)}function Qu(g,_,N,j,q,K,G,ee){ws(g,_+4*q,q,1,8,K,G,ee),ws(N,j+4*q,q,1,8,K,G,ee)}function Ju(g,_,N,j,q,K,G,ee){ws(g,_+4,1,q,8,K,G,ee),ws(N,j+4,1,q,8,K,G,ee)}function Ws(){this.ba=new ri,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function hc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dc(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new C}function Zu(){this.xb=this.a=0,this.l=new Qa,this.ca=new ri,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dc,this.ab=0,this.gc=o(4,fc),this.Oc=0}function tl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ks(g,_,N,j,q,K,G){for(g=g==null?0:g[_+0],_=0;_<G;++_)q[K+_]=g+N[j+_]&255,g=q[K+_]}function pc(g,_,N,j,q,K,G){var ee;if(g==null)Ks(null,null,N,j,q,K,G);else for(ee=0;ee<G;++ee)q[K+ee]=g[_+ee]+N[j+ee]&255}function Oo(g,_,N,j,q,K,G){if(g==null)Ks(null,null,N,j,q,K,G);else{var ee,ne=g[_+0],ie=ne,ue=ne;for(ee=0;ee<G;++ee)ie=ue+(ne=g[_+ee])-ie,ue=N[j+ee]+(-256&ie?0>ie?0:255:ie)&255,ie=ne,q[K+ee]=ue}}function _s(g,_,N,j){var q=_.width,K=_.o;if(e(g!=null&&_!=null),0>N||0>=j||N+j>K)return null;if(!g.Cc){if(g.ga==null){var G;if(g.ga=new tl,(G=g.ga==null)||(G=_.width*_.o,e(g.Gb.length==0),g.Gb=s(G),g.Uc=0,g.Gb==null?G=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,G=1),G=!G),!G){G=g.ga;var ee=g.Fa,ne=g.P,ie=g.qc,ue=g.mb,xe=g.nb,Se=ne+1,me=ie-1,Le=G.l;if(e(ee!=null&&ue!=null&&_!=null),wc[0]=null,wc[1]=Ks,wc[2]=pc,wc[3]=Oo,G.ca=ue,G.tb=xe,G.c=_.width,G.i=_.height,e(0<G.c&&0<G.i),1>=ie)_=0;else if(G.$a=ee[ne+0]>>0&3,G.Z=ee[ne+0]>>2&3,G.Lc=ee[ne+0]>>4&3,ne=ee[ne+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||ne)_=0;else if(Le.put=Zn,Le.ac=Jt,Le.bc=ii,Le.ma=G,Le.width=_.width,Le.height=_.height,Le.Da=_.Da,Le.v=_.v,Le.va=_.va,Le.j=_.j,Le.o=_.o,G.$a)e:{e(G.$a==1),_=qr();t:for(;;){if(_==null){_=0;break e}if(e(G!=null),G.mc=_,_.c=G.c,_.i=G.i,_.l=G.l,_.l.ma=G,_.l.width=G.c,_.l.height=G.i,_.a=0,W(_.m,ee,Se,me),!_r(G.c,G.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Eo(_.s)?(G.ic=1,ee=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(ee),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(G.ic=0,_=la(_,G.c)),!_))break t;_=1;break e}G.mc=null,_=0}else _=me>=G.c*G.i;G=!_}if(G)return null;g.ga.Lc!=1?g.Ga=0:j=K-N}e(g.ga!=null),e(N+j<=K);e:{if(_=(ee=g.ga).c,K=ee.l.o,ee.$a==0){if(Se=g.rc,me=g.Vc,Le=g.Fa,ne=g.P+1+N*_,ie=g.mb,ue=g.nb+N*_,e(ne<=g.P+g.qc),ee.Z!=0)for(e(wc[ee.Z]!=null),G=0;G<j;++G)wc[ee.Z](Se,me,Le,ne,ie,ue,_),Se=ie,me=ue,ue+=_,ne+=_;else for(G=0;G<j;++G)r(ie,ue,Le,ne,_),Se=ie,me=ue,ue+=_,ne+=_;g.rc=Se,g.Vc=me}else{if(e(ee.mc!=null),_=N+j,e((G=ee.mc)!=null),e(_<=G.i),G.C>=_)_=1;else if(ee.ic||be(),ee.ic){ee=G.V,Se=G.Ba,me=G.c;var Ce=G.i,he=(Le=1,ne=G.$/me,ie=G.$%me,ue=G.m,xe=G.s,G.$),de=me*Ce,ke=me*_,De=xe.wc,Re=he<ke?Hn(xe,ie,ne):null;e(he<=de),e(_<=Ce),e(Eo(xe));t:for(;;){for(;!ue.h&&he<ke;){if(ie&De||(Re=Hn(xe,ie,ne)),e(Re!=null),ae(ue),256>(Ce=hr(Re.G[0],Re.H[0],ue)))ee[Se+he]=Ce,++he,++ie>=me&&(ie=0,++ne<=_&&!(ne%16)&&si(G,ne));else{if(!(280>Ce)){Le=0;break t}Ce=fn(Ce-256,ue);var et,Ye=hr(Re.G[4],Re.H[4],ue);if(ae(ue),!(he>=(Ye=ds(me,Ye=fn(Ye,ue)))&&de-he>=Ce)){Le=0;break t}for(et=0;et<Ce;++et)ee[Se+he+et]=ee[Se+he+et-Ye];for(he+=Ce,ie+=Ce;ie>=me;)ie-=me,++ne<=_&&!(ne%16)&&si(G,ne);he<ke&&ie&De&&(Re=Hn(xe,ie,ne))}e(ue.h==Q(ue))}si(G,ne>_?_:ne);break t}!Le||ue.h&&he<de?(Le=0,G.a=ue.h?5:3):G.$=he,_=Le}else _=Vi(G,G.V,G.Ba,G.c,G.i,_,Ka);if(!_){j=0;break e}}N+j>=K&&(g.Cc=1),j=1}if(!j)return null;if(g.Cc&&((j=g.ga)!=null&&(j.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+N*q}function P(g,_,N,j,q,K){for(;0<q--;){var G,ee=g,ne=_+(N?1:0),ie=g,ue=_+(N?0:3);for(G=0;G<j;++G){var xe=ie[ue+4*G];xe!=255&&(xe*=32897,ee[ne+4*G+0]=ee[ne+4*G+0]*xe>>23,ee[ne+4*G+1]=ee[ne+4*G+1]*xe>>23,ee[ne+4*G+2]=ee[ne+4*G+2]*xe>>23)}_+=K}}function $(g,_,N,j,q){for(;0<j--;){var K;for(K=0;K<N;++K){var G=g[_+2*K+0],ee=15&(ie=g[_+2*K+1]),ne=4369*ee,ie=(240&ie|ie>>4)*ne>>16;g[_+2*K+0]=(240&G|G>>4)*ne>>16&240|(15&G|G<<4)*ne>>16>>4&15,g[_+2*K+1]=240&ie|ee}_+=q}}function oe(g,_,N,j,q,K,G,ee){var ne,ie,ue=255;for(ie=0;ie<q;++ie){for(ne=0;ne<j;++ne){var xe=g[_+ne];K[G+4*ne]=xe,ue&=xe}_+=N,G+=ee}return ue!=255}function ce(g,_,N,j,q){var K;for(K=0;K<q;++K)N[j+K]=g[_+K]>>8}function be(){Js=P,bn=$,wn=oe,nr=ce}function Pe(g,_,N){w[g]=function(j,q,K,G,ee,ne,ie,ue,xe,Se,me,Le,Ce,he,de,ke,De){var Re,et=De-1>>1,Ye=ee[ne+0]|ie[ue+0]<<16,pt=xe[Se+0]|me[Le+0]<<16;e(j!=null);var Qe=3*Ye+pt+131074>>2;for(_(j[q+0],255&Qe,Qe>>16,Ce,he),K!=null&&(Qe=3*pt+Ye+131074>>2,_(K[G+0],255&Qe,Qe>>16,de,ke)),Re=1;Re<=et;++Re){var Qt=ee[ne+Re]|ie[ue+Re]<<16,rn=xe[Se+Re]|me[Le+Re]<<16,$t=Ye+Qt+pt+rn+524296,Dt=$t+2*(Qt+pt)>>3;Qe=Dt+Ye>>1,Ye=($t=$t+2*(Ye+rn)>>3)+Qt>>1,_(j[q+2*Re-1],255&Qe,Qe>>16,Ce,he+(2*Re-1)*N),_(j[q+2*Re-0],255&Ye,Ye>>16,Ce,he+(2*Re-0)*N),K!=null&&(Qe=$t+pt>>1,Ye=Dt+rn>>1,_(K[G+2*Re-1],255&Qe,Qe>>16,de,ke+(2*Re-1)*N),_(K[G+2*Re+0],255&Ye,Ye>>16,de,ke+(2*Re+0)*N)),Ye=Qt,pt=rn}1&De||(Qe=3*Ye+pt+131074>>2,_(j[q+De-1],255&Qe,Qe>>16,Ce,he+(De-1)*N),K!=null&&(Qe=3*pt+Ye+131074>>2,_(K[G+De-1],255&Qe,Qe>>16,de,ke+(De-1)*N)))}}function je(){eo[a1]=K$,eo[l1]=jT,eo[OT]=G$,eo[c1]=FT,eo[u1]=BT,eo[d5]=UT,eo[RT]=Y$,eo[p5]=jT,eo[g5]=FT,eo[h1]=BT,eo[m5]=UT}function Ze(g){return g&~X$?0>g?0:255:g>>VT}function st(g,_){return Ze((19077*g>>8)+(26149*_>>8)-14234)}function m(g,_,N){return Ze((19077*g>>8)-(6419*_>>8)-(13320*N>>8)+8708)}function k(g,_){return Ze((19077*g>>8)+(33050*_>>8)-17685)}function B(g,_,N,j,q){j[q+0]=st(g,N),j[q+1]=m(g,_,N),j[q+2]=k(g,_)}function Z(g,_,N,j,q){j[q+0]=k(g,_),j[q+1]=m(g,_,N),j[q+2]=st(g,N)}function fe(g,_,N,j,q){var K=m(g,_,N);_=K<<3&224|k(g,_)>>3,j[q+0]=248&st(g,N)|K>>5,j[q+1]=_}function _e(g,_,N,j,q){var K=240&k(g,_)|15;j[q+0]=240&st(g,N)|m(g,_,N)>>4,j[q+1]=K}function Ue(g,_,N,j,q){j[q+0]=255,B(g,_,N,j,q+1)}function xt(g,_,N,j,q){Z(g,_,N,j,q),j[q+3]=255}function nn(g,_,N,j,q){B(g,_,N,j,q),j[q+3]=255}function St(g,_){return 0>g?0:g>_?_:g}function dn(g,_,N){w[g]=function(j,q,K,G,ee,ne,ie,ue,xe){for(var Se=ue+(-2&xe)*N;ue!=Se;)_(j[q+0],K[G+0],ee[ne+0],ie,ue),_(j[q+1],K[G+0],ee[ne+0],ie,ue+N),q+=2,++G,++ne,ue+=2*N;1&xe&&_(j[q+0],K[G+0],ee[ne+0],ie,ue)}}function er(g,_,N){return N==0?g==0?_==0?6:5:_==0?4:0:N}function Gs(g,_,N,j,q){switch(g>>>30){case 3:sl(_,N,j,q,0);break;case 2:tr(_,N,j,q);break;case 1:Ii(_,N,j,q)}}function Hr(g,_){var N,j,q=_.M,K=_.Nb,G=g.oc,ee=g.pc+40,ne=g.oc,ie=g.pc+584,ue=g.oc,xe=g.pc+600;for(N=0;16>N;++N)G[ee+32*N-1]=129;for(N=0;8>N;++N)ne[ie+32*N-1]=129,ue[xe+32*N-1]=129;for(0<q?G[ee-1-32]=ne[ie-1-32]=ue[xe-1-32]=129:(i(G,ee-32-1,127,21),i(ne,ie-32-1,127,9),i(ue,xe-32-1,127,9)),j=0;j<g.za;++j){var Se=_.ya[_.aa+j];if(0<j){for(N=-1;16>N;++N)r(G,ee+32*N-4,G,ee+32*N+12,4);for(N=-1;8>N;++N)r(ne,ie+32*N-4,ne,ie+32*N+4,4),r(ue,xe+32*N-4,ue,xe+32*N+4,4)}var me=g.Gd,Le=g.Hd+j,Ce=Se.ad,he=Se.Hc;if(0<q&&(r(G,ee-32,me[Le].y,0,16),r(ne,ie-32,me[Le].f,0,8),r(ue,xe-32,me[Le].ea,0,8)),Se.Za){var de=G,ke=ee-32+16;for(0<q&&(j>=g.za-1?i(de,ke,me[Le].y[15],4):r(de,ke,me[Le+1].y,0,4)),N=0;4>N;N++)de[ke+128+N]=de[ke+256+N]=de[ke+384+N]=de[ke+0+N];for(N=0;16>N;++N,he<<=2)de=G,ke=ee+$T[N],Lo[Se.Ob[N]](de,ke),Gs(he,Ce,16*+N,de,ke)}else if(de=er(j,q,Se.Ob[0]),bc[de](G,ee),he!=0)for(N=0;16>N;++N,he<<=2)Gs(he,Ce,16*+N,G,ee+$T[N]);for(N=Se.Gc,de=er(j,q,Se.Dd),al[de](ne,ie),al[de](ue,xe),he=Ce,de=ne,ke=ie,255&(Se=N>>0)&&(170&Se?ng(he,256,de,ke):Xs(he,256,de,ke)),Se=ue,he=xe,255&(N>>=8)&&(170&N?ng(Ce,320,Se,he):Xs(Ce,320,Se,he)),q<g.Ub-1&&(r(me[Le].y,0,G,ee+480,16),r(me[Le].f,0,ne,ie+224,8),r(me[Le].ea,0,ue,xe+224,8)),N=8*K*g.B,me=g.sa,Le=g.ta+16*j+16*K*g.R,Ce=g.qa,Se=g.ra+8*j+N,he=g.Ha,de=g.Ia+8*j+N,N=0;16>N;++N)r(me,Le+N*g.R,G,ee+32*N,16);for(N=0;8>N;++N)r(Ce,Se+N*g.B,ne,ie+32*N,8),r(he,de+N*g.B,ue,xe+32*N,8)}}function Ro(g,_,N,j,q,K,G,ee,ne){var ie=[0],ue=[0],xe=0,Se=ne!=null?ne.kd:0,me=ne??new hc;if(g==null||12>N)return 7;me.data=g,me.w=_,me.ha=N,_=[_],N=[N],me.gb=[me.gb];e:{var Le=_,Ce=N,he=me.gb;if(e(g!=null),e(Ce!=null),e(he!=null),he[0]=0,12<=Ce[0]&&!n(g,Le[0],"RIFF")){if(n(g,Le[0]+8,"WEBP")){he=3;break e}var de=Fe(g,Le[0]+4);if(12>de||4294967286<de){he=3;break e}if(Se&&de>Ce[0]-8){he=7;break e}he[0]=de,Le[0]+=12,Ce[0]-=12}he=0}if(he!=0)return he;for(de=0<me.gb[0],N=N[0];;){e:{var ke=g;Ce=_,he=N;var De=ie,Re=ue,et=Le=[0];if((Qe=xe=[xe])[0]=0,8>he[0])he=7;else{if(!n(ke,Ce[0],"VP8X")){if(Fe(ke,Ce[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var Ye=Fe(ke,Ce[0]+8),pt=1+ge(ke,Ce[0]+12);if(2147483648<=pt*(ke=1+ge(ke,Ce[0]+15))){he=3;break e}et!=null&&(et[0]=Ye),De!=null&&(De[0]=pt),Re!=null&&(Re[0]=ke),Ce[0]+=18,he[0]-=18,Qe[0]=1}he=0}}if(xe=xe[0],Le=Le[0],he!=0)return he;if(Ce=!!(2&Le),!de&&xe)return 3;if(K!=null&&(K[0]=!!(16&Le)),G!=null&&(G[0]=Ce),ee!=null&&(ee[0]=0),G=ie[0],Le=ue[0],xe&&Ce&&ne==null){he=0;break}if(4>N){he=7;break}if(de&&xe||!de&&!xe&&!n(g,_[0],"ALPH")){N=[N],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{Ye=g,he=_,de=N;var Qe=me.gb;De=me.na,Re=me.P,et=me.Sa,pt=22,e(Ye!=null),e(de!=null),ke=he[0];var Qt=de[0];for(e(De!=null),e(et!=null),De[0]=null,Re[0]=null,et[0]=0;;){if(he[0]=ke,de[0]=Qt,8>Qt){he=7;break e}var rn=Fe(Ye,ke+4);if(4294967286<rn){he=3;break e}var $t=8+rn+1&-2;if(pt+=$t,0<Qe&&pt>Qe){he=3;break e}if(!n(Ye,ke,"VP8 ")||!n(Ye,ke,"VP8L")){he=0;break e}if(Qt[0]<$t){he=7;break e}n(Ye,ke,"ALPH")||(De[0]=Ye,Re[0]=ke+8,et[0]=rn),ke+=$t,Qt-=$t}}if(N=N[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],he!=0)break}N=[N],me.Ja=[me.Ja],me.xa=[me.xa];e:if(Qe=g,he=_,de=N,De=me.gb[0],Re=me.Ja,et=me.xa,Ye=he[0],ke=!n(Qe,Ye,"VP8 "),pt=!n(Qe,Ye,"VP8L"),e(Qe!=null),e(de!=null),e(Re!=null),e(et!=null),8>de[0])he=7;else{if(ke||pt){if(Qe=Fe(Qe,Ye+4),12<=De&&Qe>De-12){he=3;break e}if(Se&&Qe>de[0]-8){he=7;break e}Re[0]=Qe,he[0]+=8,de[0]-=8,et[0]=pt}else et[0]=5<=de[0]&&Qe[Ye+0]==47&&!(Qe[Ye+4]>>5),Re[0]=de[0];he=0}if(N=N[0],me.Ja=me.Ja[0],me.xa=me.xa[0],_=_[0],he!=0)break;if(4294967286<me.Ja)return 3;if(ee==null||Ce||(ee[0]=me.xa?2:1),G=[G],Le=[Le],me.xa){if(5>N){he=7;break}ee=G,Se=Le,Ce=K,g==null||5>N?g=0:5<=N&&g[_+0]==47&&!(g[_+4]>>5)?(de=[0],Qe=[0],De=[0],W(Re=new F,g,_,N),dt(Re,de,Qe,De)?(ee!=null&&(ee[0]=de[0]),Se!=null&&(Se[0]=Qe[0]),Ce!=null&&(Ce[0]=De[0]),g=1):g=0):g=0}else{if(10>N){he=7;break}ee=Le,g==null||10>N||!nc(g,_+3,N-3)?g=0:(Se=g[_+0]|g[_+1]<<8|g[_+2]<<16,Ce=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=me.Ja||!Ce||!g?g=0:(G&&(G[0]=Ce),ee&&(ee[0]=g),g=1))}if(!g||(G=G[0],Le=Le[0],xe&&(ie[0]!=G||ue[0]!=Le)))return 3;ne!=null&&(ne[0]=me,ne.offset=_-ne.w,e(4294967286>_-ne.w),e(ne.offset==ne.ha-N));break}return he==0||he==7&&xe&&ne==null?(K!=null&&(K[0]|=me.na!=null&&0<me.na.length),j!=null&&(j[0]=G),q!=null&&(q[0]=Le),0):he}function nl(g,_,N){var j=_.width,q=_.height,K=0,G=0,ee=j,ne=q;if(_.Da=g!=null&&0<g.Da,_.Da&&(ee=g.cd,ne=g.bd,K=g.v,G=g.j,11>N||(K&=-2,G&=-2),0>K||0>G||0>=ee||0>=ne||K+ee>j||G+ne>q))return 0;if(_.v=K,_.j=G,_.va=K+ee,_.o=G+ne,_.U=ee,_.T=ne,_.da=g!=null&&0<g.da,_.da){if(!Ge(ee,ne,N=[g.ib],K=[g.hb]))return 0;_.ib=N[0],_.hb=K[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*j/4&&_.hb<3*q/4,_.Kb=0),1}function Zp(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function Vf(g,_,N,j){if(j==null||0>=g||0>=_)return 2;if(N!=null){if(N.Da){var q=N.cd,K=N.bd,G=-2&N.v,ee=-2&N.j;if(0>G||0>ee||0>=q||0>=K||G+q>g||ee+K>_)return 2;g=q,_=K}if(N.da){if(!Ge(g,_,q=[N.ib],K=[N.hb]))return 2;g=q[0],_=K[0]}}j.width=g,j.height=_;e:{var ne=j.width,ie=j.height;if(g=j.S,0>=ne||0>=ie||!(g>=a1&&13>g))g=2;else{if(0>=j.Rd&&j.sd==null){G=K=q=_=0;var ue=(ee=ne*qT[g])*ie;if(11>g||(K=(ie+1)/2*(_=(ne+1)/2),g==12&&(G=(q=ne)*ie)),(ie=s(ue+2*K+G))==null){g=1;break e}j.sd=ie,11>g?((ne=j.f.RGBA).eb=ie,ne.fb=0,ne.A=ee,ne.size=ue):((ne=j.f.kb).y=ie,ne.O=0,ne.fa=ee,ne.Fd=ue,ne.f=ie,ne.N=0+ue,ne.Ab=_,ne.Cd=K,ne.ea=ie,ne.W=0+ue+K,ne.Db=_,ne.Ed=K,g==12&&(ne.F=ie,ne.J=0+ue+2*K),ne.Tc=G,ne.lb=q)}if(_=1,q=j.S,K=j.width,G=j.height,q>=a1&&13>q)if(11>q)g=j.f.RGBA,_&=(ee=Math.abs(g.A))*(G-1)+K<=g.size,_&=ee>=K*qT[q],_&=g.eb!=null;else{g=j.f.kb,ee=(K+1)/2,ue=(G+1)/2,ne=Math.abs(g.fa),ie=Math.abs(g.Ab);var xe=Math.abs(g.Db),Se=Math.abs(g.lb),me=Se*(G-1)+K;_&=ne*(G-1)+K<=g.Fd,_&=ie*(ue-1)+ee<=g.Cd,_=(_&=xe*(ue-1)+ee<=g.Ed)&ne>=K&ie>=ee&xe>=ee,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,q==12&&(_&=Se>=K,_&=me<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||N!=null&&N.fd&&(g=Zp(j)),g}var Wr=64,zf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$f=24,qf=32,eg=8,Wi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(g){return g},w.Predictor2=function(g,_,N){return _[N+0]},w.Predictor3=function(g,_,N){return _[N+1]},w.Predictor4=function(g,_,N){return _[N-1]},w.Predictor5=function(g,_,N){return $e($e(g,_[N+1]),_[N+0])},w.Predictor6=function(g,_,N){return $e(g,_[N-1])},w.Predictor7=function(g,_,N){return $e(g,_[N+0])},w.Predictor8=function(g,_,N){return $e(_[N-1],_[N+0])},w.Predictor9=function(g,_,N){return $e(_[N+0],_[N+1])},w.Predictor10=function(g,_,N){return $e($e(g,_[N-1]),$e(_[N+0],_[N+1]))},w.Predictor11=function(g,_,N){var j=_[N+0];return 0>=lt(j>>24&255,g>>24&255,(_=_[N-1])>>24&255)+lt(j>>16&255,g>>16&255,_>>16&255)+lt(j>>8&255,g>>8&255,_>>8&255)+lt(255&j,255&g,255&_)?j:g},w.Predictor12=function(g,_,N){var j=_[N+0];return(Xe((g>>24&255)+(j>>24&255)-((_=_[N-1])>>24&255))<<24|Xe((g>>16&255)+(j>>16&255)-(_>>16&255))<<16|Xe((g>>8&255)+(j>>8&255)-(_>>8&255))<<8|Xe((255&g)+(255&j)-(255&_)))>>>0},w.Predictor13=function(g,_,N){var j=_[N-1];return(Je((g=$e(g,_[N+0]))>>24&255,j>>24&255)<<24|Je(g>>16&255,j>>16&255)<<16|Je(g>>8&255,j>>8&255)<<8|Je(g>>0&255,j>>0&255))>>>0};var h5=w.PredictorAdd0;w.PredictorAdd1=gt,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var tg=w.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var t1,Ys=w.ColorIndexInverseTransform,Hf=w.MapARGB,n1=w.VP8LColorIndexInverseTransformAlpha,r1=w.MapAlpha,gc=w.VP8LPredictorsAdd=[];gc.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var eh,Ki,Ni,mc,rl,il,Wf,sl,tr,ng,Ii,Xs,Kf,i1,rg,th,nh,yc,rh,Gf,ih,vc,ig,Qs,Js,bn,wn,nr,xr=s(511),ol=s(2041),sg=s(225),Yf=s(767),s1=0,f5=ol,o1=sg,xs=Yf,Zs=xr,a1=0,l1=1,OT=2,c1=3,u1=4,d5=5,RT=6,p5=7,g5=8,h1=9,m5=10,R$=[2,3,7],L$=[3,3,11],LT=[280,256,256,256,40],M$=[0,1,1,1,0],D$=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],j$=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],F$=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],B$=8,y5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],v5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],og=null,U$=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],V$=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],MT=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],z$=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$$=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],q$=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],H$=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bc=[],Lo=[],al=[],W$=1,DT=2,wc=[],eo=[];Pe("UpsampleRgbLinePair",B,3),Pe("UpsampleBgrLinePair",Z,3),Pe("UpsampleRgbaLinePair",nn,4),Pe("UpsampleBgraLinePair",xt,4),Pe("UpsampleArgbLinePair",Ue,4),Pe("UpsampleRgba4444LinePair",_e,2),Pe("UpsampleRgb565LinePair",fe,2);var K$=w.UpsampleRgbLinePair,G$=w.UpsampleBgrLinePair,jT=w.UpsampleRgbaLinePair,FT=w.UpsampleBgraLinePair,BT=w.UpsampleArgbLinePair,UT=w.UpsampleRgba4444LinePair,Y$=w.UpsampleRgb565LinePair,f1=16,d1=1<<f1-1,ag=-227,b5=482,VT=6,X$=(256<<VT)-1,zT=0,Q$=s(256),J$=s(256),Z$=s(256),eq=s(256),tq=s(b5-ag),nq=s(b5-ag);dn("YuvToRgbRow",B,3),dn("YuvToBgrRow",Z,3),dn("YuvToRgbaRow",nn,4),dn("YuvToBgraRow",xt,4),dn("YuvToArgbRow",Ue,4),dn("YuvToRgba4444Row",_e,2),dn("YuvToRgb565Row",fe,2);var $T=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],p1=[0,2,8],rq=[8,7,6,4,4,2,2,2,1,1,1,1],iq=1;this.WebPDecodeRGBA=function(g,_,N,j,q){var K=l1,G=new Ws,ee=new ri;G.ba=ee,ee.S=K,ee.width=[ee.width],ee.height=[ee.height];var ne=ee.width,ie=ee.height,ue=new Ln;if(ue==null||g==null)var xe=2;else e(ue!=null),xe=Ro(g,_,N,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(xe!=0?ne=0:(ne!=null&&(ne[0]=ue.width[0]),ie!=null&&(ie[0]=ue.height[0]),ne=1),ne){ee.width=ee.width[0],ee.height=ee.height[0],j!=null&&(j[0]=ee.width),q!=null&&(q[0]=ee.height);e:{if(j=new Qa,(q=new hc).data=g,q.w=_,q.ha=N,q.kd=1,_=[0],e(q!=null),((g=Ro(q.data,q.w,q.ha,null,null,null,_,null,q))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(G!=null),j.data=q.data,j.w=q.w+q.offset,j.ha=q.ha-q.offset,j.put=Zn,j.ac=Jt,j.bc=ii,j.ma=G,q.xa){if((g=qr())==null){G=1;break e}if(function(Se,me){var Le=[0],Ce=[0],he=[0];t:for(;;){if(Se==null)return 0;if(me==null)return Se.a=2,0;if(Se.l=me,Se.a=0,W(Se.m,me.data,me.w,me.ha),!dt(Se.m,Le,Ce,he)){Se.a=3;break t}if(Se.xb=DT,me.width=Le[0],me.height=Ce[0],!_r(Le[0],Ce[0],1,Se,null))break t;return 1}return e(Se.a!=0),0}(g,j)){if(j=(_=Vf(j.width,j.height,G.Oa,G.ba))==0){t:{j=g;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((N=j.l)!=null),e((q=N.ma)!=null),j.xb!=0){if(j.ca=q.ba,j.tb=q.tb,e(j.ca!=null),!nl(q.Oa,N,c1)){j.a=2;break n}if(!la(j,N.width)||N.da)break n;if((N.da||Mt(j.ca.S))&&be(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&be()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!qe(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Vi(j,j.V,j.Ba,j.c,j.i,N.o,ps))break n;q.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(_=g.a)}else _=g.a}else{if((g=new kf)==null){G=1;break e}if(g.Fa=q.na,g.P=q.P,g.qc=q.Sa,zu(g,j)){if((_=Vf(j.width,j.height,G.Oa,G.ba))==0){if(g.Aa=0,N=G.Oa,e((q=g)!=null),N!=null){if(0<(ne=0>(ne=N.Md)?0:100<ne?255:255*ne/100)){for(ie=ue=0;4>ie;++ie)12>(xe=q.pb[ie]).lc&&(xe.ia=ne*rq[0>xe.lc?0:xe.lc]>>3),ue|=xe.ia;ue&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=N.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}Xp(g,j)||(_=g.a)}}else _=g.a}_==0&&G.Oa!=null&&G.Oa.fd&&(_=Zp(G.ba))}G=_}K=G!=0?null:11>K?ee.f.RGBA.eb:ee.f.kb.y}else K=null;return K};var qT=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(w,A){for(var O="",E=0;E<4;E++)O+=String.fromCharCode(w[A++]);return O}function u(w,A){return(w[A+0]<<0|w[A+1]<<8|w[A+2]<<16)>>>0}function h(w,A){return(w[A+0]<<0|w[A+1]<<8|w[A+2]<<16|w[A+3]<<24)>>>0}new l;var f=[0],d=[0],p=[],y=new l,b=t,v=function(w,A){var O={},E=0,C=!1,R=0,U=0;if(O.frames=[],!function(Y,Q,J,ae){for(var pe=0;pe<ae;pe++)if(Y[Q+pe]!=J.charCodeAt(pe))return!0;return!1}(w,A,"RIFF",4)){for(h(w,A+=4),A+=8;A<w.length;){var te=c(w,A),z=h(w,A+=4);A+=4;var V=z+(1&z);switch(te){case"VP8 ":case"VP8L":O.frames[E]===void 0&&(O.frames[E]={}),(re=O.frames[E]).src_off=C?U:A-8,re.src_size=R+z+8,E++,C&&(C=!1,R=0,U=0);break;case"VP8X":(re=O.header={}).feature_flags=w[A];var W=A+4;re.canvas_width=1+u(w,W),W+=3,re.canvas_height=1+u(w,W),W+=3;break;case"ALPH":C=!0,R=V+8,U=A-8;break;case"ANIM":(re=O.header).bgcolor=h(w,A),W=A+4,re.loop_count=(ye=w)[(F=W)+0]<<0|ye[F+1]<<8,W+=2;break;case"ANMF":var X,re;(re=O.frames[E]={}).offset_x=2*u(w,A),A+=3,re.offset_y=2*u(w,A),A+=3,re.width=1+u(w,A),A+=3,re.height=1+u(w,A),A+=3,re.duration=u(w,A),A+=3,X=w[A++],re.dispose=1&X,re.blend=X>>1&1}te!="ANMF"&&(A+=V)}var ye,F;return O}}(b,0);v.response=b,v.rgbaoutput=!0,v.dataurl=!1;var x=v.header?v.header:null,S=v.frames?v.frames:null;if(x){x.loop_counter=x.loop_count,f=[x.canvas_height],d=[x.canvas_width];for(var I=0;I<S.length&&S[I].blend!=0;I++);}var M=S[0],L=y.WebPDecodeRGBA(b,M.src_off,M.src_size,d,f);M.rgba=L,M.imgwidth=d[0],M.imgheight=f[0];for(var T=0;T<d[0]*f[0]*4;T++)p[T]=L[T];return this.width=d,this.height=f,this.data=p,this}(function(t){var e=function(){return typeof i4=="function"},n=function(f,d,p,y){var b=4,v=o;switch(y){case t.image_compression.FAST:b=1,v=s;break;case t.image_compression.MEDIUM:b=6,v=a;break;case t.image_compression.SLOW:b=9,v=l}f=r(f,d,p,v);var x=i4(f,{level:b});return t.__addimage__.arrayBufferToBinaryString(x)},r=function(f,d,p,y){for(var b,v,x,S=f.length/d,I=new Uint8Array(f.length+S),M=u(),L=0;L<S;L+=1){if(x=L*d,b=f.subarray(x,x+d),y)I.set(y(b,p,v),x+L);else{for(var T,w=M.length,A=[];T<w;T+=1)A[T]=M[T](b,p,v);var O=h(A.concat());I.set(A[O],x+L)}v=b}return I},i=function(f){var d=Array.apply([],f);return d.unshift(0),d},s=function(f,d){var p,y=[],b=f.length;y[0]=1;for(var v=0;v<b;v+=1)p=f[v-d]||0,y[v+1]=f[v]-p+256&255;return y},o=function(f,d,p){var y,b=[],v=f.length;b[0]=2;for(var x=0;x<v;x+=1)y=p&&p[x]||0,b[x+1]=f[x]-y+256&255;return b},a=function(f,d,p){var y,b,v=[],x=f.length;v[0]=3;for(var S=0;S<x;S+=1)y=f[S-d]||0,b=p&&p[S]||0,v[S+1]=f[S]+256-(y+b>>>1)&255;return v},l=function(f,d,p){var y,b,v,x,S=[],I=f.length;S[0]=4;for(var M=0;M<I;M+=1)y=f[M-d]||0,b=p&&p[M]||0,v=p&&p[M-d]||0,x=c(y,b,v),S[M+1]=f[M]-x+256&255;return S},c=function(f,d,p){if(f===d&&d===p)return f;var y=Math.abs(d-p),b=Math.abs(f-p),v=Math.abs(f+d-p-p);return y<=b&&y<=v?f:b<=v?d:p},u=function(){return[i,s,o,a,l]},h=function(f){var d=f.map(function(p){return p.reduce(function(y,b){return y+Math.abs(b)},0)});return d.indexOf(Math.min.apply(null,d))};t.processPNG=function(f,d,p,y){var b,v,x,S,I,M,L,T,w,A,O,E,C,R,U,te=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(x=new qae(f)).imgData,v=x.bits,b=x.colorSpace,I=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){w=(T=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,O=new Uint8Array(w*x.colors),A=new Uint8Array(w);var V,W=x.pixelBitlength-x.bits;for(R=0,U=0;R<w;R++){for(C=T[R],V=0;V<W;)O[U++]=C>>>V&255,V+=x.bits;A[R]=C>>>V&255}}if(x.bits===16){w=(T=new Uint32Array(x.decodePixels().buffer)).length,O=new Uint8Array(w*(32/x.pixelBitlength)*x.colors),A=new Uint8Array(w*(32/x.pixelBitlength)),E=x.colors>1,R=0,U=0;for(var X=0;R<w;)C=T[R++],O[U++]=C>>>0&255,E&&(O[U++]=C>>>16&255,C=T[R++],O[U++]=C>>>0&255),A[X++]=C>>>16&255;v=8}y!==t.image_compression.NONE&&e()?(f=n(O,x.width*x.colors,x.colors,y),L=n(A,x.width,1,y)):(f=O,L=A,te=void 0)}if(x.colorType===3&&(b=this.color_spaces.INDEXED,M=x.palette,x.transparency.indexed)){var re=x.transparency.indexed,ye=0;for(R=0,w=re.length;R<w;++R)ye+=re[R];if((ye/=255)===w-1&&re.indexOf(0)!==-1)S=[re.indexOf(0)];else if(ye!==w){for(T=x.decodePixels(),A=new Uint8Array(T.length),R=0,w=T.length;R<w;R++)A[R]=re[T[R]];L=n(A,x.width,1)}}var F=function(Y){var Q;switch(Y){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(y);return te===this.decode.FLATE_DECODE&&(z="/Predictor "+F+" "),z+="/Colors "+I+" /BitsPerComponent "+v+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(L&&this.__addimage__.isArrayBuffer(L)||this.__addimage__.isArrayBufferView(L))&&(L=this.__addimage__.arrayBufferToBinaryString(L)),{alias:p,data:f,index:d,filter:te,decodeParameters:z,transparency:S,palette:M,sMask:L,predictor:F,width:x.width,height:x.height,bitsPerComponent:v,colorSpace:b}}}})(mt.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new Hae(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new j_(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(mt.API),Bo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Bo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){gn.log("bit decode error:"+n)}},Bo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Bo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Bo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Bo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Bo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Bo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Bo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Bo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Bo(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new j_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(mt.API),Hk.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Hk(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new j_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(mt.API),mt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],f=r[c+2],d=r[c+3];s[a++]=u,s[a++]=h,s[a++]=f,o[l++]=d}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},mt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},id=mt.API,dy=id.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,f=0,d=t.length,p=0,y=a[0]||l,b=[];for(n=0;n<d;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(f=h&&ln(c[r])==="object"&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,b.push((a[r]||y)/l+f)),p=r;return b},Vk=id.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return id.processArabic&&(t=id.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:dy.apply(this,arguments).reduce(function(s,o){return s+o},0)},zk=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},$k=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,u=[],h=[u],f=n.textIndent||0,d=0,p=0,y=t.split(" "),b=dy.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),x=[];y.map(function(I){(I=I.split(/\s*\n/)).length>1?x=x.concat(I.map(function(M,L){return(L&&M.length?`
`:"")+M})):x.push(I[0])}),y=x,l=Vk.apply(this,[v,n])}for(s=0,o=y.length;s<o;s++){var S=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),S=1),f+d+(p=(i=dy.apply(this,[r,n])).reduce(function(I,M){return I+M},0))>e||S){if(p>e){for(a=zk.apply(this,[r,i,e-(f+d),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);p=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(I,M){return I+M},0)}else u=[r];h.push(u),f=p+l,d=b}else u.push(r),f+=d+p,d=b}return c=l?function(I,M){return(M?v:"")+I.join(" ")}:function(I){return I.join(" ")},h.map(c)},id.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat($k.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var f,d,p,y,b=["{"];for(var v in h){if(f=h[v],isNaN(parseInt(v,10))?d="'"+v+"'":(v=parseInt(v,10),d=(d=s(v).slice(2)).slice(0,-1)+r[d.slice(-1)]),typeof f=="number")f<0?(p=s(f).slice(3),y="-"):(p=s(f).slice(2),y=""),p=y+p.slice(0,-1)+r[p.slice(-1)];else{if(ln(f)!=="object")throw new Error("Don't know what to do with value type "+ln(f)+".");p=o(f)}b.push(d+p)}return b.push("}"),b.join("")},a=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,d,p,y,b={},v=1,x=b,S=[],I="",M="",L=h.length-1,T=1;T<L;T+=1)(y=h[T])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(S.push([x,p]),x={},p=void 0):y=="}"?((d=S.pop())[0][d[1]]=x,p=void 0,x=d[0]):y=="-"?v=-1:p===void 0?n.hasOwnProperty(y)?(I+=n[y],p=parseInt(I,16)*v,v=1,I=""):I+=y:n.hasOwnProperty(y)?(M+=n[y],x[p]=parseInt(M,16)*v,v=1,p=void 0,M=""):M+=y;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,d=u.Unicode[f.postScriptName];d&&(f.metadata.Unicode={},f.metadata.Unicode.widths=d.widths,f.metadata.Unicode.kerning=d.kerning);var p=c.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(mt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(wm(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(mt),function(t){function e(){return(yt.canvg?Promise.resolve(yt.canvg):ZS(()=>import("./index.es-2d13f609.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}mt.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(p){return p.fromString(h,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),mt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},mt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function f(p,y){var b,v=!1;for(b=0;b<p.length;b+=1)p[b]===y&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=a.length;for(h=0;h<d;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(ln(t)==="object"){for(i in t)if(s=t[i],f(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&f(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,y=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?y.push("/"+p+" /"+n[p].value):y.push("/"+p+" "+n[p].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(mt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,f=s.length;h<f;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,f=(a=Object.keys(s).sort(function(d,p){return d-p})).length;h<f;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",p=0;p<f.length;p++)d+=String.fromCharCode(f[p]);var y=c();u({data:d,addLength1:!0,objectId:y}),l("endobj");var b=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+dd(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+dd(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+dd(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,f="",d=0;d<h.length;d++)f+=String.fromCharCode(h[d]);var p=c();u({data:f,addLength1:!0,objectId:p}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var b=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+dd(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+dd(a.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},f=h.pdfEscape,d=h.activeFontKey,p=h.fonts,y=d,b="",v=0,x="",S=p[y].encoding;if(p[y].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(x=a,y=d,Array.isArray(a)&&(x=a[0]),v=0;v<x.length;v+=1)p[y].metadata.hasOwnProperty("cmap")&&(o=p[y].metadata.cmap.unicode.codeMap[x[v].charCodeAt(0)]),o||x[v].charCodeAt(0)<256&&p[y].metadata.hasOwnProperty("Unicode")?b+=x[v]:b+="";var I="";return parseInt(y.slice(1))<14||S==="WinAnsiEncoding"?I=f(b,y).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(I=n(b,p[y])),h.isHex=!0,{text:I,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(mt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(mt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var I=function(E){var C=E.charCodeAt(),R=C>>8,U=y[R];return U!==void 0?h[256*U+(255&C)]:R===252||R===253?"AL":v.test(R)?"L":R===8?"R":"N"},M=function(E){for(var C,R=0;R<E.length;R++){if((C=I(E.charAt(R)))==="L")return!1;if(C==="R")return!0}return!1},L=function(E,C,R,U){var te,z,V,W,X=C[U];switch(X){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(X="AN");break;case"AL":x=!0,X="R";break;case"WS":X="N";break;case"CS":U<1||U+1>=C.length||(te=R[U-1])!=="EN"&&te!=="AN"||(z=C[U+1])!=="EN"&&z!=="AN"?X="N":x&&(z="AN"),X=z===te?z:"N";break;case"ES":X=(te=U>0?R[U-1]:"B")==="EN"&&U+1<C.length&&C[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&R[U-1]==="EN"){X="EN";break}if(x){X="N";break}for(V=U+1,W=C.length;V<W&&C[V]==="ET";)V++;X=V<W&&C[V]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(W=C.length,V=U+1;V<W&&C[V]==="NSM";)V++;if(V<W){var re=E[U],ye=re>=1425&&re<=2303||re===64286;if(te=C[V],ye&&(te==="R"||te==="AL")){X="R";break}}}X=U<1||(te=C[U-1])==="B"?"N":R[U-1];break;case"B":x=!1,i=!0,X=S;break;case"S":s=!0,X="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":X="N"}return X},T=function(E,C,R){var U=E.split("");return R&&w(U,R,{hiLevel:S}),U.reverse(),C&&C.reverse(),U.join("")},w=function(E,C,R){var U,te,z,V,W,X=-1,re=E.length,ye=0,F=[],Y=S?d:f,Q=[];for(x=!1,i=!1,s=!1,te=0;te<re;te++)Q[te]=I(E[te]);for(z=0;z<re;z++){if(W=ye,F[z]=L(E,Q,F,z),U=240&(ye=Y[W][p[F[z]]]),ye&=15,C[z]=V=Y[ye][5],U>0)if(U===16){for(te=X;te<z;te++)C[te]=1;X=-1}else X=-1;if(Y[ye][6])X===-1&&(X=z);else if(X>-1){for(te=X;te<z;te++)C[te]=V;X=-1}Q[z]==="B"&&(C[z]=0),R.hiLevel|=V}s&&function(J,ae,pe){for(var ve=0;ve<pe;ve++)if(J[ve]==="S"){ae[ve]=S;for(var le=ve-1;le>=0&&J[le]==="WS";le--)ae[le]=S}}(Q,C,re)},A=function(E,C,R,U,te){if(!(te.hiLevel<E)){if(E===1&&S===1&&!i)return C.reverse(),void(R&&R.reverse());for(var z,V,W,X,re=C.length,ye=0;ye<re;){if(U[ye]>=E){for(W=ye+1;W<re&&U[W]>=E;)W++;for(X=ye,V=W-1;X<V;X++,V--)z=C[X],C[X]=C[V],C[V]=z,R&&(z=R[X],R[X]=R[V],R[V]=z);ye=W}ye++}}},O=function(E,C,R){var U=E.split(""),te={hiLevel:S};return R||(R=[]),w(U,R,te),function(z,V,W){if(W.hiLevel!==0&&u)for(var X,re=0;re<z.length;re++)V[re]===1&&(X=b.indexOf(z[re]))>=0&&(z[re]=b[X+1])}(U,R,te),A(2,U,C,R,te),A(1,U,C,R,te),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,C,R){if(function(te,z){if(z)for(var V=0;V<te.length;V++)z[V]=V;a===void 0&&(a=M(te)),c===void 0&&(c=M(te))}(E,C),o||!l||c)if(o&&l&&a^c)S=a?1:0,E=T(E,C,R);else if(!o&&l&&c)S=a?1:0,E=O(E,C,R),E=T(E,C);else if(!o||a||l||c){if(o&&!l&&a^c)E=T(E,C),a?(S=0,E=O(E,C,R)):(S=1,E=O(E,C,R),E=T(E,C));else if(o&&a&&!l&&c)S=1,E=O(E,C,R),E=T(E,C);else if(!o&&!l&&a^c){var U=u;a?(S=1,E=O(E,C,R),S=0,u=!1,E=O(E,C,R),u=U):(S=0,E=O(E,C,R),E=T(E,C),S=1,u=!1,E=O(E,C,R),u=U,E=T(E,C))}}else S=0,E=O(E,C,R);else S=a?1:0,E=O(E,C,R);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(mt),mt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Cu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ole(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Wae(this.contents),this.head=new Gae(this),this.name=new Zae(this),this.cmap=new w9(this),this.toUnicode={},this.hhea=new Yae(this),this.maxp=new ele(this),this.hmtx=new tle(this),this.post=new Qae(this),this.os2=new Xae(this),this.loca=new sle(this),this.glyf=new nle(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var sa,Cu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),Wae=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,u,h,f,d,p,y;for(y in d=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(d)/l),o=Math.floor(h/l),u=16*d-h,(i=new Cu).writeInt(this.scalarType),i.writeShort(d),i.writeShort(h),i.writeShort(o),i.writeShort(u),s=16*d,c=i.pos+s,a=null,p=[],n)for(f=n[y],i.writeString(y),i.writeInt(t(f)),i.writeInt(c),i.writeInt(f.length),p=p.concat(f),y==="head"&&(a=c),c+=f.length;c%4;)p.push(0),c++;return i.write(p),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=_9.call(n);n.length%4;)n.push(0);for(s=new Cu(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Kae={}.hasOwnProperty,Wa=function(t,e){for(var n in e)Kae.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};sa=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Gae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,sa),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Cu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Wk=function(){function t(e,n){var r,i,s,o,a,l,c,u,h,f,d,p,y,b,v,x,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),f=d/2,e.pos+=6,s=function(){var I,M;for(M=[],l=I=0;0<=f?I<f:I>f;l=0<=f?++I:--I)M.push(e.readUInt16());return M}(),e.pos+=2,y=function(){var I,M;for(M=[],l=I=0;0<=f?I<f:I>f;l=0<=f?++I:--I)M.push(e.readUInt16());return M}(),c=function(){var I,M;for(M=[],l=I=0;0<=f?I<f:I>f;l=0<=f?++I:--I)M.push(e.readUInt16());return M}(),u=function(){var I,M;for(M=[],l=I=0;0<=f?I<f:I>f;l=0<=f?++I:--I)M.push(e.readUInt16());return M}(),i=(this.length-e.pos+this.offset)/2,a=function(){var I,M;for(M=[],l=I=0;0<=i?I<i:I>i;l=0<=i?++I:--I)M.push(e.readUInt16());return M}(),l=v=0,S=s.length;v<S;l=++v)for(b=s[l],r=x=p=y[l];p<=b?x<=b:x>=b;r=p<=b?++x:--x)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-p)-(f-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,i,s,o,a,l,c,u,h,f,d,p,y,b,v,x,S,I,M,L,T,w,A,O,E,C,R,U,te,z,V,W,X,re,ye,F,Y,Q,J,ae,pe,ve,le,Ae,Ee,ge;switch(U=new Cu,o=Object.keys(e).sort(function(Fe,qe){return Fe-qe}),n){case"macroman":for(y=0,b=function(){var Fe=[];for(p=0;p<256;++p)Fe.push(0);return Fe}(),x={0:0},s={},te=0,X=o.length;te<X;te++)x[le=e[i=o[te]]]==null&&(x[le]=++y),s[i]={old:e[i],new:x[e[i]]},b[i]=x[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(b),{charMap:s,subtable:U.data,maxGlyphID:y+1};case"unicode":for(C=[],h=[],S=0,x={},r={},v=c=null,z=0,re=o.length;z<re;z++)x[M=e[i=o[z]]]==null&&(x[M]=++S),r[i]={old:M,new:x[M]},a=x[M]-i,v!=null&&a===c||(v&&h.push(v),C.push(i),c=a),v=i;for(v&&h.push(v),h.push(65535),C.push(65535),O=2*(A=C.length),w=2*Math.pow(Math.log(A)/Math.LN2,2),f=Math.log(w/2)/Math.LN2,T=2*A-w,l=[],L=[],d=[],p=V=0,ye=C.length;V<ye;p=++V){if(E=C[p],u=h[p],E===65535){l.push(0),L.push(0);break}if(E-(R=r[E].new)>=32768)for(l.push(0),L.push(2*(d.length+A-p)),i=W=E;E<=u?W<=u:W>=u;i=E<=u?++W:--W)d.push(r[i].new);else l.push(R-E),L.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*A+2*d.length),U.writeUInt16(0),U.writeUInt16(O),U.writeUInt16(w),U.writeUInt16(f),U.writeUInt16(T),pe=0,F=h.length;pe<F;pe++)i=h[pe],U.writeUInt16(i);for(U.writeUInt16(0),ve=0,Y=C.length;ve<Y;ve++)i=C[ve],U.writeUInt16(i);for(Ae=0,Q=l.length;Ae<Q;Ae++)a=l[Ae],U.writeUInt16(a);for(Ee=0,J=L.length;Ee<J;Ee++)I=L[Ee],U.writeUInt16(I);for(ge=0,ae=d.length;ge<ae;ge++)y=d[ge],U.writeUInt16(y);return{charMap:r,subtable:U.data,maxGlyphID:S+1}}},t}(),w9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,sa),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Wk(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Wk.encode(n,r),(s=new Cu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Yae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,sa),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),Xae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,sa),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Qae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,sa),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),Jae=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Zae=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,sa),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,c,u,h,f,d;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=h=0,f=i.length;h<f;o=++h)s=i[o],n.pos=s.offset,u=n.readString(s.length),a=new Jae(u,s),c[d=s.nameID]==null&&(c[d]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),ele=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,sa),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),tle=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,sa),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(n.readInt16());return h}(),this.widths=(function(){var u,h,f,d;for(d=[],u=0,h=(f=this.metrics).length;u<h;u++)o=f[u],d.push(o.advance);return d}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),_9=[].slice,nle=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,sa),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,u,h,f;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Cu(r.read(s))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[n]=a===-1?new ile(l,u,f,c,h):new rle(l,a,u,f,c,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),rle=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),ile=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Cu(_9.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),sle=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,sa),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),h=0;h<i.length;++h)u[4*h+3]=255&i[h],u[4*h+2]=(65280&i[h])>>8,u[4*h+1]=(16711680&i[h])>>16,u[4*h]=(4278190080&i[h])>>24;return u},e}(),ole=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,u,h,f,d,p,y,b,v;for(i in r=w9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},v=r.charMap)d[(l=v[i]).old]=l.new;for(p in f=r.maxGlyphID,o)p in d||(d[p]=f++);return u=function(x){var S,I;for(S in I={},x)I[x[S]]=S;return I}(d),h=Object.keys(u).sort(function(x,S){return x-S}),y=function(){var x,S,I;for(I=[],x=0,S=h.length;x<S;x++)a=h[x],I.push(u[a]);return I}(),s=this.font.glyf.encode(o,y,d),c=this.font.loca.encode(s.offsets,y),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();mt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function x9(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=a*l,u=/\r\n|\r|\n/g,h="",f=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(u):t,f=h.length||1),n+=a*(2-s),r.valign==="middle"?n-=f/2*c:r.valign==="bottom"&&(n-=f*c),r.halign==="center"||r.halign==="right"){var d=a;if(r.halign==="center"&&(d*=.5),h&&f>=1){for(var p=0;p<h.length;p++)i.text(h[p],e-i.getStringUnitWidth(h[p])*d,n),n+=c;return i}e-=i.getStringUnitWidth(t)*d}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var Kk={},Gd=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:Kk=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var u=t.unifyColor(e.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=t.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=t.unifyColor(e.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Kk||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),h4=function(t,e){return h4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},h4(t,e)};function S9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");h4(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var A9=function(t){S9(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function ale(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function lle(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function b2(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function E9(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=P9(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function P9(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function aw(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function T9(t,e){var n=aw(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function cle(t,e,n,r,i){var s={},o=1.3333333333333333,a=F_(e,function(S){return i.getComputedStyle(S).backgroundColor});a!=null&&(s.fillColor=a);var l=F_(e,function(S){return i.getComputedStyle(S).color});l!=null&&(s.textColor=l);var c=hle(r,n);c&&(s.cellPadding=c);var u="borderTopColor",h=o*n,f=r.borderTopWidth;if(r.borderBottomWidth===f&&r.borderRightWidth===f&&r.borderLeftWidth===f){var d=(parseFloat(f)||0)/h;d&&(s.lineWidth=d)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var p=F_(e,function(S){return i.getComputedStyle(S)[u]});p!=null&&(s.lineColor=p);var y=["left","right","center","justify"];y.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),y=["middle","bottom","top"],y.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var b=parseInt(r.fontSize||"");isNaN(b)||(s.fontSize=b/o);var v=ule(r);v&&(s.fontStyle=v);var x=(r.fontFamily||"").toLowerCase();return t.indexOf(x)!==-1&&(s.font=x),s}function ule(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function F_(t,e){var n=C9(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function C9(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:C9(t.parentElement,e):n}function hle(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=aw(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function N9(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),u=[],h=[],f=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:u,body:h,foot:f};for(var d=0;d<a.rows.length;d++){var p=a.rows[d],y=(o=(s=p==null?void 0:p.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),b=fle(l,c,n,p,r,i);b&&(y==="thead"?u.push(b):y==="tfoot"?f.push(b):h.push(b))}return{head:u,body:h,foot:f}}function fle(t,e,n,r,i,s){for(var o=new A9(r),a=0;a<r.cells.length;a++){var l=r.cells[a],c=n.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;s&&(u=cle(t,l,e,c,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:dle(l)})}}var h=n.getComputedStyle(r);if(o.length>0&&(i||h.display!=="none"))return o}function dle(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function ple(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Sl(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function gle(t,e){var n=new Gd(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();ple(i,r,e);var s=Sl({},i,r,e),o;typeof window<"u"&&(o=window);var a=mle(i,r,e),l=yle(i,r,e),c=vle(n,s),u=wle(n,s,o);return{id:e.tableId,content:u,hooks:l,styles:a,settings:c}}function mle(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],u=e[l],h=n[l];r.columnStyles=Sl({},c,u,h)}else{var f=[t,e,n],d=f.map(function(p){return p[l]||{}});r[l]=Sl({},d[0],d[1],d[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function yle(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function vle(t,e){var n,r,i,s,o,a,l,c,u,h,f,d,p=aw(e.margin,40/t.scaleFactor()),y=(n=ble(t,e.startY))!==null&&n!==void 0?n:p.top,b;e.showFoot===!0?b="everyPage":e.showFoot===!1?b="never":b=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var x=(s=e.useCss)!==null&&s!==void 0?s:!1,S=e.theme||(x?"plain":"striped"),I=!!e.horizontalPageBreak,M=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:x,theme:S,startY:y,margin:p,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:b,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(f=e.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:I,horizontalPageBreakRepeat:M,horizontalPageBreakBehaviour:(d=e.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function ble(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function wle(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=N9(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||_le(r,i,s);return{columns:l,head:r,body:i,foot:s}}function _le(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var c=void 0;Array.isArray(r)?c=i.length:c=s+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var f4=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),xle=function(t){S9(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(f4),Sle=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var c=l[a],u=new xle(e,this,r,i,s,o),h=c(u)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new f4(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new f4(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),I9=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof A9&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),c=l+a;return c>i?c:i},0)},t}(),k9=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=aw(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),Ale=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function Ele(t,e){Ple(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=d4(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=d4(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Cle(e),Nle(e,t),Tle(e)}function Ple(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=T9(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(t,u,c,s,l,null);var h=c.padding("horizontal");c.contentWidth=b2(c.text,c.styles,t)+h;var f=b2(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=f+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||r===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var d=10/n;c.minWidth=c.styles.minCellWidth||d,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function d4(t,e,n){for(var r=e,i=t.reduce(function(d,p){return d+p.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,c=o.width+l,u=n(o),h=c<u?u:c;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var f=t.filter(function(d){return e<0?d.width>n(d):!0});f.length&&(e=d4(f,e,n))}return e}function Tle(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,n=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var h=r.length-i,f=u.rowSpan>h?h:u.rowSpan;e[l.index]={cell:u,left:f,row:s}}}}}function Cle(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+s}else{var c=r.cells[l.index];if(!c)continue;if(o=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function Nle(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=Gk(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=Gk(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var h=c.styles.overflow(c.text,u);typeof h=="string"?c.text=[h]:c.text=h}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var f=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<f*c.rowSpan?n={height:f,count:c.rowSpan}:n&&n.count>0&&n.height>f&&(f=n.height),f>s.height&&(s.height=f)}}n.count--}}function Gk(t,e,n,r,i){return t.map(function(s){return Ile(s,e,n,r,i)})}function Ile(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=b2(t,n,r))return t;for(;e<b2(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function kle(t,e){var n=new Gd(t),r=Ole(e,n.scaleFactor()),i=new Sle(e,r);return Ele(n,i),n.applyStyles(n.userStyles),i}function Ole(t,e){var n=t.content,r=Lle(n.columns);if(n.head.length===0){var i=Yk(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Yk(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:B_("head",n.head,r,o,s,e),body:B_("body",n.body,r,o,s,e),foot:B_("foot",n.foot,r,o,s,e)}}function B_(t,e,n,r,i,s){var o={},a=e.map(function(l,c){for(var u=0,h={},f=0,d=0,p=0,y=n;p<y.length;p++){var b=y[p];if(o[b.index]==null||o[b.index].left===0)if(d===0){var v=void 0;Array.isArray(l)?v=l[b.index-f-u]:v=l[b.dataKey];var x={};typeof v=="object"&&!Array.isArray(v)&&(x=(v==null?void 0:v.styles)||{});var S=Mle(t,b,c,i,r,s,x),I=new k9(v,S,t);h[b.dataKey]=I,h[b.index]=I,d=I.colSpan-1,o[b.index]={left:I.rowSpan-1,times:d}}else d--,f++;else o[b.index].left--,d=o[b.index].times,u++}return new I9(l,c,t,h)});return a}function Yk(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=Rle(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function Rle(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Lle(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new Ale(i,e,n)})}function Mle(t,e,n,r,i,s,o){var a=lle(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=Sl({},a.table,a[t],i.styles,l),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},h=t==="body"?u:{},f=t==="body"&&n%2===0?Sl({},a.alternateRow,i.alternateRowStyles):{},d=ale(s),p=Sl({},d,c,f,h);return Sl(p,o)}function Dle(t,e,n){var r;n===void 0&&(n={});var i=T9(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(f){var d=e.columns.find(function(p){return p.dataKey===f||p.index===f});d&&!s.has(d.index)&&(s.set(d.index,!0),o.push(d.index),a.push(e.columns[d.index]),i-=d.wrappedWidth)});for(var c=!0,u=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;u<e.columns.length;){if(s.has(u)){u++;continue}var h=e.columns[u].wrappedWidth;if(c||i>=h)c=!1,o.push(u),a.push(e.columns[u]),i-=h;else break;u++}return{colIndexes:o,columns:a,lastIndex:u-1}}function jle(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=Dle(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function Fle(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(f,d){return f+d.height},0);a+=c}var u=new Gd(t);(n.pageBreak==="always"||n.startY!=null&&a>u.pageSize().height)&&(R9(u),s.y=i.top),e.callWillDrawPageHooks(u,s);var h=Sl({},s);e.startPageNumber=u.pageNumber(),n.horizontalPageBreak?Ble(u,e,h,s):(u.applyStyles(u.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(f){return Vl(u,e,f,s,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(f,d){var p=d===e.body.length-1;w2(u,e,f,p,h,s,e.columns)}),u.applyStyles(u.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(f){return Vl(u,e,f,s,e.columns)})),E9(u,e,h,s),e.callEndPageHooks(u,s),e.finalY=s.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function Ble(t,e,n,r){var i=jle(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){t.applyStyles(t.userStyles),u>0?_m(t,e,n,r,c.columns,!0):Xk(t,e,r,c.columns),Ule(t,e,n,r,c.columns),U_(t,e,r,c.columns)});else for(var o=-1,a=i[0],l=function(){var c=o;if(a){t.applyStyles(t.userStyles);var u=a.columns;o>=0?_m(t,e,n,r,u,!0):Xk(t,e,r,u),c=Qk(t,e,o+1,r,u),U_(t,e,r,u)}var h=c-o;i.slice(1).forEach(function(f){t.applyStyles(t.userStyles),_m(t,e,n,r,f.columns,!0),Qk(t,e,o+1,r,f.columns,h),U_(t,e,r,f.columns)}),o=c};o<e.body.length-1;)l()}function Xk(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Vl(t,e,s,n,r)})}function Ule(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;w2(t,e,s,a,n,r,i)})}function Qk(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,c){var u=n+c===e.body.length-1,h=O9(t,e,u,r);l.canEntireRowFit(h,i)&&(Vl(t,e,l,r,i),a=n+c)}),a}function U_(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Vl(t,e,s,n,r)})}function Vle(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function zle(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new k9(c.raw,c.styles,c.section);u=Sl(u,c),u.text=[];var h=Vle(c,e,r);c.text.length>h&&(u.text=c.text.splice(h,c.text.length));var f=r.scaleFactor(),d=r.getLineHeightFactor();c.contentHeight=c.getContentHeight(f,d),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),u.contentHeight=u.getContentHeight(f,d),u.contentHeight>s&&(s=u.contentHeight),i[l.index]=u}}var p=new I9(t.raw,-1,t.section,i,!0);p.height=s;for(var y=0,b=n.columns;y<b.length;y++){var l=b[y],u=p.cells[l.index];u&&(u.height=p.height);var c=t.cells[l.index];c&&(c.height=t.height)}return p}function $le(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),c=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>a;return h?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||r.settings.rowPageBreak==="avoid")}function w2(t,e,n,r,i,s,o){var a=O9(t,e,r,s);if(n.canEntireRowFit(a,o))Vl(t,e,n,s,o);else if($le(t,n,a,e)){var l=zle(n,a,e,t);Vl(t,e,n,s,o),_m(t,e,i,s,o),w2(t,e,l,r,i,s,o)}else _m(t,e,i,s,o),w2(t,e,n,r,i,s,o)}function Vl(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(c===!1){r.x+=a.width;continue}qle(t,l,r);var u=l.getTextPos();x9(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function qle(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=P9(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),Hle(t,e,n,r.lineWidth))}function Hle(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(c,u,h,f,d){t.getDocument().setLineWidth(c),t.getDocument().line(u,h,f,d,"S")}}function O9(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function _m(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Vl(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;E9(t,e,n,r),R9(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Vl(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function R9(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function Wle(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=gle(this,r),s=kle(this,i);return Fle(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){x9(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Gd.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Gd.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Gd(this),s=N9(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var V_;try{if(typeof window<"u"&&window){var Jk=window,Zk=Jk.jsPDF||((V_=Jk.jspdf)===null||V_===void 0?void 0:V_.jsPDF);Zk&&Wle(Zk)}}catch(t){console.error("Could not apply autoTable plugin",t)}function Kle(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function L9(t,e){return new Promise(function(n,r){let i;return Gle(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const Gle=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const c=o+10;let u;switch(s.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const h=s.getUint32(c+4,u),f=c+h+2+12*s.getUint16(c+h,u);for(let d=c+h+2;d<f;d+=12)if(s.getUint16(d,u)==274){if(s.getUint16(d+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(d+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(d+8,1,u);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var _2={},Yle={get exports(){return _2},set exports(t){_2=t}};(function(t){var e,n,r={};Yle.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(i),h=u.length-4;a(u,h)!=101010256;)h--;l=h,l+=4;var f=o(u,l+=4);o(u,l+=2);var d=a(u,l+=2),p=a(u,l+=4);l+=4,l=p;for(var y=0;y<f;y++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),d=a(u,l+=4);var b=a(u,l+=4),v=o(u,l+=4),x=o(u,l+2),S=o(u,l+4);l+=6;var I=a(u,l+=8);l+=4,l+=v+x+S,r._readLocal(u,I,c,d,b,s)}return c},r._readLocal=function(i,s,o,a,l,c){var u=r.bin.readUshort,h=r.bin.readUint;h(i,s),u(i,s+=4),u(i,s+=2);var f=u(i,s+=2);h(i,s+=2),h(i,s+=4),s+=4;var d=u(i,s+=8),p=u(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,d);if(s+=d,s+=p,c)o[y]={size:l,csize:a};else{var b=new Uint8Array(i.buffer,s);if(f==0)o[y]=new Uint8Array(b.buffer.slice(s,s+a));else{if(f!=8)throw"unknown compression method: "+f;var v=new Uint8Array(l);r.inflateRaw(b,v),o[y]=v}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in i){var h=!r._noNeed(u)&&!s,f=i[u],d=r.crc.crc(f,0,f.length);c[u]={cpr:h,usize:f.length,crc:d,file:h?r.deflateRaw(f):f}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var p=new Uint8Array(o),y=0,b=[];for(var u in c){var v=c[u];b.push(y),y=r._writeHeader(p,y,u,v,0)}var x=0,S=y;for(var u in c)v=c[u],b.push(y),y=r._writeHeader(p,y,u,v,1,b[x++]);var I=y-S;return a(p,y,101010256),y+=4,l(p,y+=4,x),l(p,y+=2,x),a(p,y+=2,I),a(p,y+=4,S),y+=4,y+=2,p.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,c){var u=r.bin.writeUint,h=r.bin.writeUshort,f=a.file;return u(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),h(i,s,20),h(i,s+=2,0),h(i,s+=2,a.cpr?8:0),u(i,s+=2,0),u(i,s+=4,a.crc),u(i,s+=4,f.length),u(i,s+=4,a.usize),h(i,s+=4,r.bin.sizeUTF8(o)),h(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,u(i,s+=6,c),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(f,s),s+=f.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,c=s,u=s+o;c<u;){for(var h=Math.min(c+5552,u);c<h;)l+=a+=i[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(i[s+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))i[s+l]=u,l++;else if(!(4294965248&u))i[s+l]=192|u>>6,i[s+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[s+l]=224|u>>12,i[s+l+1]=128|u>>6&63,i[s+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[s+l]=240|u>>18,i[s+l+1]=128|u>>12&63,i[s+l+2]=128|u>>6&63,i[s+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var h=r.F._putsE,f=0,d=o<<3,p=0,y=i.length;if(a==0){for(;f<y;)h(s,d,f+(E=Math.min(65535,y-f))==y?1:0),d=r.F._copyExact(i,f,E,s,d+8),f+=E;return d>>>3}var b=c.lits,v=c.strt,x=c.prev,S=0,I=0,M=0,L=0,T=0,w=0;for(y>2&&(v[w=r.F._hash(i,0)]=0),f=0;f<y;f++){if(T=w,f+1<y-2){w=r.F._hash(i,f+1);var A=f+1&32767;x[A]=v[w],v[w]=A}if(p<=f){(S>14e3||I>26697)&&y-f>100&&(p<f&&(b[S]=f-p,S+=2,p=f),d=r.F._writeBlock(f==y-1||p==y?1:0,b,S,L,i,M,f-M,s,d),S=I=L=0,M=f);var O=0;f<y-2&&(O=r.F._bestMatch(i,f,x,T,Math.min(l[2],y-f),l[3]));var E=O>>>16,C=65535&O;if(O!=0){C=65535&O;var R=u(E=O>>>16,c.of0);c.lhst[257+R]++;var U=u(C,c.df0);c.dhst[U]++,L+=c.exb[R]+c.dxb[U],b[S]=E<<23|f-p,b[S+1]=C<<16|R<<8|U,S+=2,p=f+E}else c.lhst[i[f]]++;I++}}for(M==f&&i.length!=0||(p<f&&(b[S]=f-p,S+=2,p=f),d=r.F._writeBlock(1,b,S,L,i,M,f-M,s,d),S=0,I=0,S=I=L=0,M=f);7&d;)d++;return d>>>3},r.F._bestMatch=function(i,s,o,a,l,c){var u=32767&s,h=o[u],f=u-h+32768&32767;if(h==u||a!=r.F._hash(i,s-f))return 0;for(var d=0,p=0,y=Math.min(32767,s);f<=y&&--c!=0&&h!=u;){if(d==0||i[s+d]==i[s+d-f]){var b=r.F._howLong(i,s,f);if(b>d){if(p=f,(d=b)>=l)break;f+2<b&&(b=f+2);for(var v=0,x=0;x<b-2;x++){var S=s-f+x+32768&32767,I=S-o[S]+32768&32767;I>v&&(v=I,h=S)}}}f+=(u=h)-(h=o[u])+32768&32767}return d<<16|p},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,c,u,h,f){var d,p,y,b,v,x,S,I,M,L=r.F.U,T=r.F._putsF,w=r.F._putsE;L.lhst[256]++,p=(d=r.F.getTrees())[0],y=d[1],b=d[2],v=d[3],x=d[4],S=d[5],I=d[6],M=d[7];var A=32+(f+3&7?8-(f+3&7):0)+(u<<3),O=a+r.F.contSize(L.fltree,L.lhst)+r.F.contSize(L.fdtree,L.dhst),E=a+r.F.contSize(L.ltree,L.lhst)+r.F.contSize(L.dtree,L.dhst);E+=14+3*S+r.F.contSize(L.itree,L.ihst)+(2*L.ihst[16]+3*L.ihst[17]+7*L.ihst[18]);for(var C=0;C<286;C++)L.lhst[C]=0;for(C=0;C<30;C++)L.dhst[C]=0;for(C=0;C<19;C++)L.ihst[C]=0;var R=A<O&&A<E?0:O<E?1:2;if(T(h,f,i),T(h,f+1,R),f+=3,R==0){for(;7&f;)f++;f=r.F._copyExact(l,c,u,h,f)}else{var U,te;if(R==1&&(U=L.fltree,te=L.fdtree),R==2){r.F.makeCodes(L.ltree,p),r.F.revCodes(L.ltree,p),r.F.makeCodes(L.dtree,y),r.F.revCodes(L.dtree,y),r.F.makeCodes(L.itree,b),r.F.revCodes(L.itree,b),U=L.ltree,te=L.dtree,w(h,f,v-257),w(h,f+=5,x-1),w(h,f+=5,S-4),f+=4;for(var z=0;z<S;z++)w(h,f+3*z,L.itree[1+(L.ordr[z]<<1)]);f+=3*S,f=r.F._codeTiny(I,L.itree,h,f),f=r.F._codeTiny(M,L.itree,h,f)}for(var V=c,W=0;W<o;W+=2){for(var X=s[W],re=X>>>23,ye=V+(8388607&X);V<ye;)f=r.F._writeLit(l[V++],U,h,f);if(re!=0){var F=s[W+1],Y=F>>16,Q=F>>8&255,J=255&F;w(h,f=r.F._writeLit(257+Q,U,h,f),re-L.of0[Q]),f+=L.exb[Q],T(h,f=r.F._writeLit(J,te,h,f),Y-L.df0[J]),f+=L.dxb[J],V+=re}}f=r.F._writeLit(256,U,h,f)}return f},r.F._copyExact=function(i,s,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,s,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),c=[],u=r.F._lenCodes(i.dtree,c),h=0;h<a.length;h+=2)i.ihst[a[h]]++;for(h=0;h<c.length;h+=2)i.ihst[c[h]]++;for(var f=r.F._hufTree(i.ihst,i.itree,7),d=19;d>4&&i.itree[1+(i.ordr[d-1]<<1)]==0;)d--;return[s,o,f,l,u,d,a,c]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var c=i[l],u=i[l+1];a=r.F._writeLit(c,s,o,a);var h=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,h),a+=h)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],c=a+3<o?i[a+3]:-1,u=a+5<o?i[a+5]:-1,h=a==0?-1:i[a-1];if(l==0&&c==l&&u==l){for(var f=a+5;f+2<o&&i[f+2]==l;)f+=2;(d=Math.min(f+1-a>>>1,138))<11?s.push(17,d-3):s.push(18,d-11),a+=2*d-2}else if(l==h&&c==l&&u==l){for(f=a+5;f+2<o&&i[f+2]==l;)f+=2;var d=Math.min(f+1-a>>>1,6);s.push(16,d-3),a+=2*d-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,c=s.length,u=0;for(u=0;u<c;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&a.push({lit:u,f:i[u]});var h=a.length,f=a.slice(0);if(h==0)return 0;if(h==1){var d=a[0].lit;return f=d==0?1:0,s[1+(d<<1)]=1,s[1+(f<<1)]=1,1}a.sort(function(I,M){return I.f-M.f});var p=a[0],y=a[1],b=0,v=1,x=2;for(a[0]={lit:-1,f:p.f+y.f,l:p,r:y,d:0};v!=h-1;)p=b!=v&&(x==h||a[b].f<a[x].f)?a[b++]:a[x++],y=b!=v&&(x==h||a[b].f<a[x].f)?a[b++]:a[x++],a[v++]={lit:-1,f:p.f+y.f,l:p,r:y};var S=r.F.setDepth(a[v-1],0);for(S>o&&(r.F.restrictDepth(f,o,S),S=o),u=0;u<h;u++)s[1+(f[u].lit<<1)]=f[u].d;return S},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,c=0;for(i.sort(function(h,f){return f.d==h.d?h.f-f.f:f.d-h.d}),a=0;a<i.length&&i[a].d>s;a++){var u=i[a].d;i[a].d=s,c+=l-(1<<o-u)}for(c>>>=o-s;c>0;)(u=i[a].d)<s?(i[a].d++,c-=1<<s-u-1):a++;for(;a>=0;a--)i[a].d==s&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,h=a.makeCodes,f=a.codes2map,d=a._get17,p=a.U,y=s==null;y&&(s=new o(i.length>>>2<<3));for(var b,v,x=0,S=0,I=0,M=0,L=0,T=0,w=0,A=0,O=0;x==0;)if(x=l(i,O,1),S=l(i,O+1,2),O+=3,S!=0){if(y&&(s=r.F._check(s,A+(1<<17))),S==1&&(b=p.flmap,v=p.fdmap,T=511,w=31),S==2){I=c(i,O,5)+257,M=c(i,O+5,5)+1,L=c(i,O+10,4)+4,O+=14;for(var E=0;E<38;E+=2)p.itree[E]=0,p.itree[E+1]=0;var C=1;for(E=0;E<L;E++){var R=c(i,O+3*E,3);p.itree[1+(p.ordr[E]<<1)]=R,R>C&&(C=R)}O+=3*L,h(p.itree,C),f(p.itree,C,p.imap),b=p.lmap,v=p.dmap,O=u(p.imap,(1<<C)-1,I+M,i,O,p.ttree);var U=a._copyOut(p.ttree,0,I,p.ltree);T=(1<<U)-1;var te=a._copyOut(p.ttree,I,M,p.dtree);w=(1<<te)-1,h(p.ltree,U),f(p.ltree,U,b),h(p.dtree,te),f(p.dtree,te,v)}for(;;){var z=b[d(i,O)&T];O+=15&z;var V=z>>>4;if(!(V>>>8))s[A++]=V;else{if(V==256)break;var W=A+V-254;if(V>264){var X=p.ldef[V-257];W=A+(X>>>3)+c(i,O,7&X),O+=7&X}var re=v[d(i,O)&w];O+=15&re;var ye=re>>>4,F=p.ddef[ye],Y=(F>>>4)+l(i,O,15&F);for(O+=15&F,y&&(s=r.F._check(s,A+(1<<17)));A<W;)s[A]=s[A++-Y],s[A]=s[A++-Y],s[A]=s[A++-Y],s[A]=s[A++-Y];A=W}}}else{7&O&&(O+=8-(7&O));var Q=4+(O>>>3),J=i[Q-4]|i[Q-3]<<8;y&&(s=r.F._check(s,A+J)),s.set(new o(i.buffer,i.byteOffset+Q,J),A),O=Q+J<<3,A+=J}return s.length==A?s:s.slice(0,A)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,c){for(var u=r.F._bitsE,h=r.F._get17,f=0;f<o;){var d=i[h(a,l)&s];l+=15&d;var p=d>>>4;if(p<=15)c[f]=p,f++;else{var y=0,b=0;p==16?(b=3+u(a,l,2),l+=2,y=c[f-1]):p==17?(b=3+u(a,l,3),l+=3):p==18&&(b=11+u(a,l,7),l+=7);for(var v=f+b;f<v;)c[f]=y,f++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var h=i[c+s];a[c<<1]=0,a[1+(c<<1)]=h,h>l&&(l=h),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,c,u=r.F.U,h=i.length,f=u.bl_count,d=0;d<=s;d++)f[d]=0;for(d=1;d<h;d+=2)f[i[d]]++;var p=u.next_code;for(o=0,f[0]=0,a=1;a<=s;a++)o=o+f[a-1]<<1,p[a]=o;for(l=0;l<h;l+=2)(c=i[l+1])!=0&&(i[l]=p[c],p[c]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var u=c>>1,h=i[c+1],f=u<<4|h,d=s-h,p=i[c]<<d,y=p+(1<<d);p!=y;)o[l[p]>>>15-s]=f,p++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var c=i[l]<<s-i[l+1];i[l]=o[c]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var Xle=Kle({__proto__:null,default:_2},[_2]);const Uo=function(){var t={nextZero(u,h){for(;u[h]!=0;)h++;return h},readUshort:(u,h)=>u[h]<<8|u[h+1],writeUshort(u,h,f){u[h]=f>>8&255,u[h+1]=255&f},readUint:(u,h)=>16777216*u[h]+(u[h+1]<<16|u[h+2]<<8|u[h+3]),writeUint(u,h,f){u[h]=f>>24&255,u[h+1]=f>>16&255,u[h+2]=f>>8&255,u[h+3]=255&f},readASCII(u,h,f){let d="";for(let p=0;p<f;p++)d+=String.fromCharCode(u[h+p]);return d},writeASCII(u,h,f){for(let d=0;d<f.length;d++)u[h+d]=f.charCodeAt(d)},readBytes(u,h,f){const d=[];for(let p=0;p<f;p++)d.push(u[h+p]);return d},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,h,f){let d,p="";for(let y=0;y<f;y++)p+=`%${t.pad(u[h+y].toString(16))}`;try{d=decodeURIComponent(p)}catch{return t.readASCII(u,h,f)}return d}};function e(u,h,f,d){const p=h*f,y=s(d),b=Math.ceil(h*y/8),v=new Uint8Array(4*p),x=new Uint32Array(v.buffer),{ctype:S}=d,{depth:I}=d,M=t.readUshort;if(S==6){const X=p<<2;if(I==8)for(var L=0;L<X;L+=4)v[L]=u[L],v[L+1]=u[L+1],v[L+2]=u[L+2],v[L+3]=u[L+3];if(I==16)for(L=0;L<X;L++)v[L]=u[L<<1]}else if(S==2){const X=d.tabs.tRNS;if(X==null){if(I==8)for(L=0;L<p;L++){var T=3*L;x[L]=255<<24|u[T+2]<<16|u[T+1]<<8|u[T]}if(I==16)for(L=0;L<p;L++)T=6*L,x[L]=255<<24|u[T+4]<<16|u[T+2]<<8|u[T]}else{var w=X[0];const re=X[1],ye=X[2];if(I==8)for(L=0;L<p;L++){var A=L<<2;T=3*L,x[L]=255<<24|u[T+2]<<16|u[T+1]<<8|u[T],u[T]==w&&u[T+1]==re&&u[T+2]==ye&&(v[A+3]=0)}if(I==16)for(L=0;L<p;L++)A=L<<2,T=6*L,x[L]=255<<24|u[T+4]<<16|u[T+2]<<8|u[T],M(u,T)==w&&M(u,T+2)==re&&M(u,T+4)==ye&&(v[A+3]=0)}}else if(S==3){const X=d.tabs.PLTE,re=d.tabs.tRNS,ye=re?re.length:0;if(I==1)for(var O=0;O<f;O++){var E=O*b,C=O*h;for(L=0;L<h;L++){A=C+L<<2;var R=3*(U=u[E+(L>>3)]>>7-((7&L)<<0)&1);v[A]=X[R],v[A+1]=X[R+1],v[A+2]=X[R+2],v[A+3]=U<ye?re[U]:255}}if(I==2)for(O=0;O<f;O++)for(E=O*b,C=O*h,L=0;L<h;L++)A=C+L<<2,R=3*(U=u[E+(L>>2)]>>6-((3&L)<<1)&3),v[A]=X[R],v[A+1]=X[R+1],v[A+2]=X[R+2],v[A+3]=U<ye?re[U]:255;if(I==4)for(O=0;O<f;O++)for(E=O*b,C=O*h,L=0;L<h;L++)A=C+L<<2,R=3*(U=u[E+(L>>1)]>>4-((1&L)<<2)&15),v[A]=X[R],v[A+1]=X[R+1],v[A+2]=X[R+2],v[A+3]=U<ye?re[U]:255;if(I==8)for(L=0;L<p;L++){var U;A=L<<2,R=3*(U=u[L]),v[A]=X[R],v[A+1]=X[R+1],v[A+2]=X[R+2],v[A+3]=U<ye?re[U]:255}}else if(S==4){if(I==8)for(L=0;L<p;L++){A=L<<2;var te=u[z=L<<1];v[A]=te,v[A+1]=te,v[A+2]=te,v[A+3]=u[z+1]}if(I==16)for(L=0;L<p;L++){var z;A=L<<2,te=u[z=L<<2],v[A]=te,v[A+1]=te,v[A+2]=te,v[A+3]=u[z+2]}}else if(S==0)for(w=d.tabs.tRNS?d.tabs.tRNS:-1,O=0;O<f;O++){const X=O*b,re=O*h;if(I==1)for(var V=0;V<h;V++){var W=(te=255*(u[X+(V>>>3)]>>>7-(7&V)&1))==255*w?0:255;x[re+V]=W<<24|te<<16|te<<8|te}else if(I==2)for(V=0;V<h;V++)W=(te=85*(u[X+(V>>>2)]>>>6-((3&V)<<1)&3))==85*w?0:255,x[re+V]=W<<24|te<<16|te<<8|te;else if(I==4)for(V=0;V<h;V++)W=(te=17*(u[X+(V>>>1)]>>>4-((1&V)<<2)&15))==17*w?0:255,x[re+V]=W<<24|te<<16|te<<8|te;else if(I==8)for(V=0;V<h;V++)W=(te=u[X+V])==w?0:255,x[re+V]=W<<24|te<<16|te<<8|te;else if(I==16)for(V=0;V<h;V++)te=u[X+(V<<1)],W=M(u,X+(V<<1))==w?0:255,x[re+V]=W<<24|te<<16|te<<8|te}return v}function n(u,h,f,d){const p=s(u),y=Math.ceil(f*p/8),b=new Uint8Array((y+1+u.interlace)*d);return h=u.tabs.CgBI?i(h,b):r(h,b),u.interlace==0?h=o(h,u,0,f,d):u.interlace==1&&(h=function(x,S){const I=S.width,M=S.height,L=s(S),T=L>>3,w=Math.ceil(I*L/8),A=new Uint8Array(M*w);let O=0;const E=[0,0,4,0,2,0,1],C=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],U=[8,8,4,4,2,2,1];let te=0;for(;te<7;){const V=R[te],W=U[te];let X=0,re=0,ye=E[te];for(;ye<M;)ye+=V,re++;let F=C[te];for(;F<I;)F+=W,X++;const Y=Math.ceil(X*L/8);o(x,S,O,X,re);let Q=0,J=E[te];for(;J<M;){let ae=C[te],pe=O+Q*Y<<3;for(;ae<I;){var z;if(L==1&&(z=(z=x[pe>>3])>>7-(7&pe)&1,A[J*w+(ae>>3)]|=z<<7-((7&ae)<<0)),L==2&&(z=(z=x[pe>>3])>>6-(7&pe)&3,A[J*w+(ae>>2)]|=z<<6-((3&ae)<<1)),L==4&&(z=(z=x[pe>>3])>>4-(7&pe)&15,A[J*w+(ae>>1)]|=z<<4-((1&ae)<<2)),L>=8){const ve=J*w+ae*T;for(let le=0;le<T;le++)A[ve+le]=x[(pe>>3)+le]}pe+=L,ae+=W}Q++,J+=V}X*re!=0&&(O+=re*(1+Y)),te+=1}return A}(h,u)),h}function r(u,h){return i(new Uint8Array(u.buffer,2,u.length-6),h)}var i=function(){const u={H:{}};return u.H.N=function(h,f){const d=Uint8Array;let p,y,b=0,v=0,x=0,S=0,I=0,M=0,L=0,T=0,w=0;if(h[0]==3&&h[1]==0)return f||new d(0);const A=u.H,O=A.b,E=A.e,C=A.R,R=A.n,U=A.A,te=A.Z,z=A.m,V=f==null;for(V&&(f=new d(h.length>>>2<<5));b==0;)if(b=O(h,w,1),v=O(h,w+1,2),w+=3,v!=0){if(V&&(f=u.H.W(f,T+(1<<17))),v==1&&(p=z.J,y=z.h,M=511,L=31),v==2){x=E(h,w,5)+257,S=E(h,w+5,5)+1,I=E(h,w+10,4)+4,w+=14;let X=1;for(var W=0;W<38;W+=2)z.Q[W]=0,z.Q[W+1]=0;for(W=0;W<I;W++){const F=E(h,w+3*W,3);z.Q[1+(z.X[W]<<1)]=F,F>X&&(X=F)}w+=3*I,R(z.Q,X),U(z.Q,X,z.u),p=z.w,y=z.d,w=C(z.u,(1<<X)-1,x+S,h,w,z.v);const re=A.V(z.v,0,x,z.C);M=(1<<re)-1;const ye=A.V(z.v,x,S,z.D);L=(1<<ye)-1,R(z.C,re),U(z.C,re,p),R(z.D,ye),U(z.D,ye,y)}for(;;){const X=p[te(h,w)&M];w+=15&X;const re=X>>>4;if(!(re>>>8))f[T++]=re;else{if(re==256)break;{let ye=T+re-254;if(re>264){const ae=z.q[re-257];ye=T+(ae>>>3)+E(h,w,7&ae),w+=7&ae}const F=y[te(h,w)&L];w+=15&F;const Y=F>>>4,Q=z.c[Y],J=(Q>>>4)+O(h,w,15&Q);for(w+=15&Q;T<ye;)f[T]=f[T++-J],f[T]=f[T++-J],f[T]=f[T++-J],f[T]=f[T++-J];T=ye}}}}else{7&w&&(w+=8-(7&w));const X=4+(w>>>3),re=h[X-4]|h[X-3]<<8;V&&(f=u.H.W(f,T+re)),f.set(new d(h.buffer,h.byteOffset+X,re),T),w=X+re<<3,T+=re}return f.length==T?f:f.slice(0,T)},u.H.W=function(h,f){const d=h.length;if(f<=d)return h;const p=new Uint8Array(d<<1);return p.set(h,0),p},u.H.R=function(h,f,d,p,y,b){const v=u.H.e,x=u.H.Z;let S=0;for(;S<d;){const I=h[x(p,y)&f];y+=15&I;const M=I>>>4;if(M<=15)b[S]=M,S++;else{let L=0,T=0;M==16?(T=3+v(p,y,2),y+=2,L=b[S-1]):M==17?(T=3+v(p,y,3),y+=3):M==18&&(T=11+v(p,y,7),y+=7);const w=S+T;for(;S<w;)b[S]=L,S++}}return y},u.H.V=function(h,f,d,p){let y=0,b=0;const v=p.length>>>1;for(;b<d;){const x=h[b+f];p[b<<1]=0,p[1+(b<<1)]=x,x>y&&(y=x),b++}for(;b<v;)p[b<<1]=0,p[1+(b<<1)]=0,b++;return y},u.H.n=function(h,f){const d=u.H.m,p=h.length;let y,b,v,x;const S=d.j;for(var I=0;I<=f;I++)S[I]=0;for(I=1;I<p;I+=2)S[h[I]]++;const M=d.K;for(y=0,S[0]=0,b=1;b<=f;b++)y=y+S[b-1]<<1,M[b]=y;for(v=0;v<p;v+=2)x=h[v+1],x!=0&&(h[v]=M[x],M[x]++)},u.H.A=function(h,f,d){const p=h.length,y=u.H.m.r;for(let b=0;b<p;b+=2)if(h[b+1]!=0){const v=b>>1,x=h[b+1],S=v<<4|x,I=f-x;let M=h[b]<<I;const L=M+(1<<I);for(;M!=L;)d[y[M]>>>15-f]=S,M++}},u.H.l=function(h,f){const d=u.H.m.r,p=15-f;for(let y=0;y<h.length;y+=2){const b=h[y]<<f-h[y+1];h[y]=d[b]>>>p}},u.H.M=function(h,f,d){d<<=7&f;const p=f>>>3;h[p]|=d,h[p+1]|=d>>>8},u.H.I=function(h,f,d){d<<=7&f;const p=f>>>3;h[p]|=d,h[p+1]|=d>>>8,h[p+2]|=d>>>16},u.H.e=function(h,f,d){return(h[f>>>3]|h[1+(f>>>3)]<<8)>>>(7&f)&(1<<d)-1},u.H.b=function(h,f,d){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16)>>>(7&f)&(1<<d)-1},u.H.Z=function(h,f){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(h,f){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16|h[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=function(){const h=Uint16Array,f=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=u.H.m;for(var f=0;f<32768;f++){let p=f;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,h.r[f]=(p>>>16|p<<16)>>>17}function d(p,y,b){for(;y--!=0;)p.push(0,b)}for(f=0;f<32;f++)h.q[f]=h.S[f]<<3|h.T[f],h.c[f]=h.p[f]<<4|h.z[f];d(h._,144,8),d(h._,112,9),d(h._,24,7),d(h._,8,8),u.H.n(h._,9),u.H.A(h._,9,h.J),u.H.l(h._,9),d(h.$,32,5),u.H.n(h.$,5),u.H.A(h.$,5,h.h),u.H.l(h.$,5),d(h.Q,19,0),d(h.C,286,0),d(h.D,30,0),d(h.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,h,f,d,p){let y=s(h);const b=Math.ceil(d*y/8);let v,x;y=Math.ceil(y/8);let S=u[f],I=0;if(S>1&&(u[f]=[0,0,1][S-2]),S==3)for(I=y;I<b;I++)u[I+1]=u[I+1]+(u[I+1-y]>>>1)&255;for(let M=0;M<p;M++)if(v=f+M*b,x=v+M+1,S=u[x-1],I=0,S==0)for(;I<b;I++)u[v+I]=u[x+I];else if(S==1){for(;I<y;I++)u[v+I]=u[x+I];for(;I<b;I++)u[v+I]=u[x+I]+u[v+I-y]}else if(S==2)for(;I<b;I++)u[v+I]=u[x+I]+u[v+I-b];else if(S==3){for(;I<y;I++)u[v+I]=u[x+I]+(u[v+I-b]>>>1);for(;I<b;I++)u[v+I]=u[x+I]+(u[v+I-b]+u[v+I-y]>>>1)}else{for(;I<y;I++)u[v+I]=u[x+I]+a(0,u[v+I-b],0);for(;I<b;I++)u[v+I]=u[x+I]+a(u[v+I-y],u[v+I-b],u[v+I-y-b])}return u}function a(u,h,f){const d=u+h-f,p=d-u,y=d-h,b=d-f;return p*p<=y*y&&p*p<=b*b?u:y*y<=b*b?h:f}function l(u,h,f){f.width=t.readUint(u,h),h+=4,f.height=t.readUint(u,h),h+=4,f.depth=u[h],h++,f.ctype=u[h],h++,f.compress=u[h],h++,f.filter=u[h],h++,f.interlace=u[h],h++}function c(u,h,f,d,p,y,b,v,x){const S=Math.min(h,p),I=Math.min(f,y);let M=0,L=0;for(let te=0;te<I;te++)for(let z=0;z<S;z++)if(b>=0&&v>=0?(M=te*h+z<<2,L=(v+te)*p+b+z<<2):(M=(-v+te)*h-b+z<<2,L=te*p+z<<2),x==0)d[L]=u[M],d[L+1]=u[M+1],d[L+2]=u[M+2],d[L+3]=u[M+3];else if(x==1){var T=u[M+3]*.00392156862745098,w=u[M]*T,A=u[M+1]*T,O=u[M+2]*T,E=d[L+3]*(1/255),C=d[L]*E,R=d[L+1]*E,U=d[L+2]*E;const V=1-T,W=T+E*V,X=W==0?0:1/W;d[L+3]=255*W,d[L+0]=(w+C*V)*X,d[L+1]=(A+R*V)*X,d[L+2]=(O+U*V)*X}else if(x==2)T=u[M+3],w=u[M],A=u[M+1],O=u[M+2],E=d[L+3],C=d[L],R=d[L+1],U=d[L+2],T==E&&w==C&&A==R&&O==U?(d[L]=0,d[L+1]=0,d[L+2]=0,d[L+3]=0):(d[L]=w,d[L+1]=A,d[L+2]=O,d[L+3]=T);else if(x==3){if(T=u[M+3],w=u[M],A=u[M+1],O=u[M+2],E=d[L+3],C=d[L],R=d[L+1],U=d[L+2],T==E&&w==C&&A==R&&O==U)continue;if(T<220&&E>20)return!1}return!0}return{decode:function(h){const f=new Uint8Array(h);let d=8;const p=t,y=p.readUshort,b=p.readUint,v={tabs:{},frames:[]},x=new Uint8Array(f.length);let S,I=0,M=0;const L=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(f[T]!=L[T])throw"The input is not a PNG file!";for(;d<f.length;){const te=p.readUint(f,d);d+=4;const z=p.readASCII(f,d,4);if(d+=4,z=="IHDR")l(f,d,v);else if(z=="iCCP"){for(var w=d;f[w]!=0;)w++;p.readASCII(f,d,w-d),f[w+1];const V=f.slice(w+2,d+te);let W=null;try{W=r(V)}catch{W=i(V)}v.tabs[z]=W}else if(z=="CgBI")v.tabs[z]=f.slice(d,d+4);else if(z=="IDAT"){for(T=0;T<te;T++)x[I+T]=f[d+T];I+=te}else if(z=="acTL")v.tabs[z]={num_frames:b(f,d),num_plays:b(f,d+4)},S=new Uint8Array(f.length);else if(z=="fcTL"){M!=0&&((U=v.frames[v.frames.length-1]).data=n(v,S.slice(0,M),U.rect.width,U.rect.height),M=0);const V={x:b(f,d+12),y:b(f,d+16),width:b(f,d+4),height:b(f,d+8)};let W=y(f,d+22);W=y(f,d+20)/(W==0?100:W);const X={rect:V,delay:Math.round(1e3*W),dispose:f[d+24],blend:f[d+25]};v.frames.push(X)}else if(z=="fdAT"){for(T=0;T<te-4;T++)S[M+T]=f[d+T+4];M+=te-4}else if(z=="pHYs")v.tabs[z]=[p.readUint(f,d),p.readUint(f,d+4),f[d+8]];else if(z=="cHRM")for(v.tabs[z]=[],T=0;T<8;T++)v.tabs[z].push(p.readUint(f,d+4*T));else if(z=="tEXt"||z=="zTXt"){v.tabs[z]==null&&(v.tabs[z]={});var A=p.nextZero(f,d),O=p.readASCII(f,d,A-d),E=d+te-A-1;if(z=="tEXt")R=p.readASCII(f,A+1,E);else{var C=r(f.slice(A+2,A+2+E));R=p.readUTF8(C,0,C.length)}v.tabs[z][O]=R}else if(z=="iTXt"){v.tabs[z]==null&&(v.tabs[z]={}),A=0,w=d,A=p.nextZero(f,w),O=p.readASCII(f,w,A-w);const V=f[w=A+1];var R;f[w+1],w+=2,A=p.nextZero(f,w),p.readASCII(f,w,A-w),w=A+1,A=p.nextZero(f,w),p.readUTF8(f,w,A-w),E=te-((w=A+1)-d),V==0?R=p.readUTF8(f,w,E):(C=r(f.slice(w,w+E)),R=p.readUTF8(C,0,C.length)),v.tabs[z][O]=R}else if(z=="PLTE")v.tabs[z]=p.readBytes(f,d,te);else if(z=="hIST"){const V=v.tabs.PLTE.length/3;for(v.tabs[z]=[],T=0;T<V;T++)v.tabs[z].push(y(f,d+2*T))}else if(z=="tRNS")v.ctype==3?v.tabs[z]=p.readBytes(f,d,te):v.ctype==0?v.tabs[z]=y(f,d):v.ctype==2&&(v.tabs[z]=[y(f,d),y(f,d+2),y(f,d+4)]);else if(z=="gAMA")v.tabs[z]=p.readUint(f,d)/1e5;else if(z=="sRGB")v.tabs[z]=f[d];else if(z=="bKGD")v.ctype==0||v.ctype==4?v.tabs[z]=[y(f,d)]:v.ctype==2||v.ctype==6?v.tabs[z]=[y(f,d),y(f,d+2),y(f,d+4)]:v.ctype==3&&(v.tabs[z]=f[d]);else if(z=="IEND")break;d+=te,p.readUint(f,d),d+=4}var U;return M!=0&&((U=v.frames[v.frames.length-1]).data=n(v,S.slice(0,M),U.rect.width,U.rect.height)),v.data=n(v,x,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(h){const f=h.width,d=h.height;if(h.tabs.acTL==null)return[e(h.data,f,d,h).buffer];const p=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const y=f*d*4,b=new Uint8Array(y),v=new Uint8Array(y),x=new Uint8Array(y);for(let I=0;I<h.frames.length;I++){const M=h.frames[I],L=M.rect.x,T=M.rect.y,w=M.rect.width,A=M.rect.height,O=e(M.data,w,A,h);if(I!=0)for(var S=0;S<y;S++)x[S]=b[S];if(M.blend==0?c(O,w,A,b,f,d,L,T,0):M.blend==1&&c(O,w,A,b,f,d,L,T,1),p.push(b.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)c(v,w,A,b,f,d,L,T,0);else if(M.dispose==2)for(S=0;S<y;S++)b[S]=x[S]}}return p},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Uo,{_bin:e}=Uo,n=Uo._paeth;var r={table:function(){const w=new Uint32Array(256);for(let A=0;A<256;A++){let O=A;for(let E=0;E<8;E++)1&O?O=3988292384^O>>>1:O>>>=1;w[A]=O}return w}(),update(w,A,O,E){for(let C=0;C<E;C++)w=r.table[255&(w^A[O+C])]^w>>>8;return w},crc:(w,A,O)=>4294967295^r.update(4294967295,w,A,O)};function i(w,A,O,E){A[O]+=w[0]*E>>4,A[O+1]+=w[1]*E>>4,A[O+2]+=w[2]*E>>4,A[O+3]+=w[3]*E>>4}function s(w){return Math.max(0,Math.min(255,w))}function o(w,A){const O=w[0]-A[0],E=w[1]-A[1],C=w[2]-A[2],R=w[3]-A[3];return O*O+E*E+C*C+R*R}function a(w,A,O,E,C,R,U){U==null&&(U=1);const te=E.length,z=[];for(var V=0;V<te;V++){const J=E[V];z.push([J>>>0&255,J>>>8&255,J>>>16&255,J>>>24&255])}for(V=0;V<te;V++){let J=4294967295;for(var W=0,X=0;X<te;X++){var re=o(z[V],z[X]);X!=V&&re<J&&(J=re,W=X)}}const ye=new Uint32Array(C.buffer),F=new Int16Array(A*O*4),Y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(V=0;V<Y.length;V++)Y[V]=255*((Y[V]+.5)/16-.5);for(let J=0;J<O;J++)for(let ae=0;ae<A;ae++){var Q;V=4*(J*A+ae),U!=2?Q=[s(w[V]+F[V]),s(w[V+1]+F[V+1]),s(w[V+2]+F[V+2]),s(w[V+3]+F[V+3])]:(re=Y[4*(3&J)+(3&ae)],Q=[s(w[V]+re),s(w[V+1]+re),s(w[V+2]+re),s(w[V+3]+re)]),W=0;let pe=16777215;for(X=0;X<te;X++){const Ae=o(Q,z[X]);Ae<pe&&(pe=Ae,W=X)}const ve=z[W],le=[Q[0]-ve[0],Q[1]-ve[1],Q[2]-ve[2],Q[3]-ve[3]];U==1&&(ae!=A-1&&i(le,F,V+4,7),J!=O-1&&(ae!=0&&i(le,F,V+4*A-4,3),i(le,F,V+4*A,5),ae!=A-1&&i(le,F,V+4*A+4,1))),R[V>>2]=W,ye[V>>2]=E[W]}}function l(w,A,O,E,C){C==null&&(C={});const{crc:R}=r,U=e.writeUint,te=e.writeUshort,z=e.writeASCII;let V=8;const W=w.frames.length>1;let X,re=!1,ye=33+(W?20:0);if(C.sRGB!=null&&(ye+=13),C.pHYs!=null&&(ye+=21),C.iCCP!=null&&(X=pako.deflate(C.iCCP),ye+=21+X.length+4),w.ctype==3){for(var F=w.plte.length,Y=0;Y<F;Y++)w.plte[Y]>>>24!=255&&(re=!0);ye+=8+3*F+4+(re?8+1*F+4:0)}for(var Q=0;Q<w.frames.length;Q++)W&&(ye+=38),ye+=(ve=w.frames[Q]).cimg.length+12,Q!=0&&(ye+=4);ye+=12;const J=new Uint8Array(ye),ae=[137,80,78,71,13,10,26,10];for(Y=0;Y<8;Y++)J[Y]=ae[Y];if(U(J,V,13),V+=4,z(J,V,"IHDR"),V+=4,U(J,V,A),V+=4,U(J,V,O),V+=4,J[V]=w.depth,V++,J[V]=w.ctype,V++,J[V]=0,V++,J[V]=0,V++,J[V]=0,V++,U(J,V,R(J,V-17,17)),V+=4,C.sRGB!=null&&(U(J,V,1),V+=4,z(J,V,"sRGB"),V+=4,J[V]=C.sRGB,V++,U(J,V,R(J,V-5,5)),V+=4),C.iCCP!=null){const le=13+X.length;U(J,V,le),V+=4,z(J,V,"iCCP"),V+=4,z(J,V,"ICC profile"),V+=11,V+=2,J.set(X,V),V+=X.length,U(J,V,R(J,V-(le+4),le+4)),V+=4}if(C.pHYs!=null&&(U(J,V,9),V+=4,z(J,V,"pHYs"),V+=4,U(J,V,C.pHYs[0]),V+=4,U(J,V,C.pHYs[1]),V+=4,J[V]=C.pHYs[2],V++,U(J,V,R(J,V-13,13)),V+=4),W&&(U(J,V,8),V+=4,z(J,V,"acTL"),V+=4,U(J,V,w.frames.length),V+=4,U(J,V,C.loop!=null?C.loop:0),V+=4,U(J,V,R(J,V-12,12)),V+=4),w.ctype==3){for(U(J,V,3*(F=w.plte.length)),V+=4,z(J,V,"PLTE"),V+=4,Y=0;Y<F;Y++){const le=3*Y,Ae=w.plte[Y],Ee=255&Ae,ge=Ae>>>8&255,Fe=Ae>>>16&255;J[V+le+0]=Ee,J[V+le+1]=ge,J[V+le+2]=Fe}if(V+=3*F,U(J,V,R(J,V-3*F-4,3*F+4)),V+=4,re){for(U(J,V,F),V+=4,z(J,V,"tRNS"),V+=4,Y=0;Y<F;Y++)J[V+Y]=w.plte[Y]>>>24&255;V+=F,U(J,V,R(J,V-F-4,F+4)),V+=4}}let pe=0;for(Q=0;Q<w.frames.length;Q++){var ve=w.frames[Q];W&&(U(J,V,26),V+=4,z(J,V,"fcTL"),V+=4,U(J,V,pe++),V+=4,U(J,V,ve.rect.width),V+=4,U(J,V,ve.rect.height),V+=4,U(J,V,ve.rect.x),V+=4,U(J,V,ve.rect.y),V+=4,te(J,V,E[Q]),V+=2,te(J,V,1e3),V+=2,J[V]=ve.dispose,V++,J[V]=ve.blend,V++,U(J,V,R(J,V-30,30)),V+=4);const le=ve.cimg;U(J,V,(F=le.length)+(Q==0?0:4)),V+=4;const Ae=V;z(J,V,Q==0?"IDAT":"fdAT"),V+=4,Q!=0&&(U(J,V,pe++),V+=4),J.set(le,V),V+=F,U(J,V,R(J,Ae,V-Ae)),V+=4}return U(J,V,0),V+=4,z(J,V,"IEND"),V+=4,U(J,V,R(J,V-4,4)),V+=4,J.buffer}function c(w,A,O){for(let E=0;E<w.frames.length;E++){const C=w.frames[E];C.rect.width;const R=C.rect.height,U=new Uint8Array(R*C.bpl+R);C.cimg=d(C.img,R,C.bpp,C.bpl,U,A,O)}}function u(w,A,O,E,C){const R=C[0],U=C[1],te=C[2],z=C[3],V=C[4],W=C[5];let X=6,re=8,ye=255;for(var F=0;F<w.length;F++){const se=new Uint8Array(w[F]);for(var Y=se.length,Q=0;Q<Y;Q+=4)ye&=se[Q+3]}const J=ye!=255,ae=function(Ge,He,Oe,Be,Ve,$e){const Xe=[];for(var Je=0;Je<Ge.length;Je++){const ut=new Uint8Array(Ge[Je]),We=new Uint32Array(ut.buffer);var lt;let Yt=0,wt=0,An=He,kt=Oe,Ht=Be?1:0;if(Je!=0){const Bi=$e||Be||Je==1||Xe[Je-2].dispose!=0?1:2;let Mt=0,Ui=1e9;for(let Xt=0;Xt<Bi;Xt++){var gt=new Uint8Array(Ge[Je-1-Xt]);const ri=new Uint32Array(Ge[Je-1-Xt]);let Ln=He,Vt=Oe,ft=-1,Et=-1;for(let Jt=0;Jt<Oe;Jt++)for(let Zn=0;Zn<He;Zn++)We[ot=Jt*He+Zn]!=ri[ot]&&(Zn<Ln&&(Ln=Zn),Zn>ft&&(ft=Zn),Jt<Vt&&(Vt=Jt),Jt>Et&&(Et=Jt));ft==-1&&(Ln=Vt=ft=Et=0),Ve&&((1&Ln)==1&&Ln--,(1&Vt)==1&&Vt--);const fs=(ft-Ln+1)*(Et-Vt+1);fs<Ui&&(Ui=fs,Mt=Xt,Yt=Ln,wt=Vt,An=ft-Ln+1,kt=Et-Vt+1)}gt=new Uint8Array(Ge[Je-1-Mt]),Mt==1&&(Xe[Je-1].dispose=2),lt=new Uint8Array(An*kt*4),t(gt,He,Oe,lt,An,kt,-Yt,-wt,0),Ht=t(ut,He,Oe,lt,An,kt,-Yt,-wt,3)?1:0,Ht==1?f(ut,He,Oe,lt,{x:Yt,y:wt,width:An,height:kt}):t(ut,He,Oe,lt,An,kt,-Yt,-wt,0)}else lt=ut.slice(0);Xe.push({rect:{x:Yt,y:wt,width:An,height:kt},img:lt,blend:Ht,dispose:0})}if(Be)for(Je=0;Je<Xe.length;Je++){if((at=Xe[Je]).blend==1)continue;const ut=at.rect,We=Xe[Je-1].rect,Yt=Math.min(ut.x,We.x),wt=Math.min(ut.y,We.y),An={x:Yt,y:wt,width:Math.max(ut.x+ut.width,We.x+We.width)-Yt,height:Math.max(ut.y+ut.height,We.y+We.height)-wt};Xe[Je-1].dispose=1,Je-1!=0&&h(Ge,He,Oe,Xe,Je-1,An,Ve),h(Ge,He,Oe,Xe,Je,An,Ve)}let ht=0;if(Ge.length!=1)for(var ot=0;ot<Xe.length;ot++){var at;ht+=(at=Xe[ot]).rect.width*at.rect.height}return Xe}(w,A,O,R,U,te),pe={},ve=[],le=[];if(E!=0){const se=[];for(Q=0;Q<ae.length;Q++)se.push(ae[Q].img.buffer);const Ge=function(Ve){let $e=0;for(var Xe=0;Xe<Ve.length;Xe++)$e+=Ve[Xe].byteLength;const Je=new Uint8Array($e);let lt=0;for(Xe=0;Xe<Ve.length;Xe++){const gt=new Uint8Array(Ve[Xe]),ht=gt.length;for(let ot=0;ot<ht;ot+=4){let at=gt[ot],ut=gt[ot+1],We=gt[ot+2];const Yt=gt[ot+3];Yt==0&&(at=ut=We=0),Je[lt+ot]=at,Je[lt+ot+1]=ut,Je[lt+ot+2]=We,Je[lt+ot+3]=Yt}lt+=ht}return Je.buffer}(se),He=y(Ge,E);for(Q=0;Q<He.plte.length;Q++)ve.push(He.plte[Q].est.rgba);let Oe=0;for(Q=0;Q<ae.length;Q++){const Be=(Ee=ae[Q]).img.length;var Ae=new Uint8Array(He.inds.buffer,Oe>>2,Be>>2);le.push(Ae);const Ve=new Uint8Array(He.abuf,Oe,Be);W&&a(Ee.img,Ee.rect.width,Ee.rect.height,ve,Ve,Ae),Ee.img.set(Ve),Oe+=Be}}else for(F=0;F<ae.length;F++){var Ee=ae[F];const se=new Uint32Array(Ee.img.buffer);var ge=Ee.rect.width;for(Y=se.length,Ae=new Uint8Array(Y),le.push(Ae),Q=0;Q<Y;Q++){const Ge=se[Q];if(Q!=0&&Ge==se[Q-1])Ae[Q]=Ae[Q-1];else if(Q>ge&&Ge==se[Q-ge])Ae[Q]=Ae[Q-ge];else{let He=pe[Ge];if(He==null&&(pe[Ge]=He=ve.length,ve.push(Ge),ve.length>=300))break;Ae[Q]=He}}}const Fe=ve.length;for(Fe<=256&&V==0&&(re=Fe<=2?1:Fe<=4?2:Fe<=16?4:8,re=Math.max(re,z)),F=0;F<ae.length;F++){(Ee=ae[F]).rect.x,Ee.rect.y,ge=Ee.rect.width;const se=Ee.rect.height;let Ge=Ee.img;new Uint32Array(Ge.buffer);let He=4*ge,Oe=4;if(Fe<=256&&V==0){He=Math.ceil(re*ge/8);var qe=new Uint8Array(He*se);const Be=le[F];for(let Ve=0;Ve<se;Ve++){Q=Ve*He;const $e=Ve*ge;if(re==8)for(var we=0;we<ge;we++)qe[Q+we]=Be[$e+we];else if(re==4)for(we=0;we<ge;we++)qe[Q+(we>>1)]|=Be[$e+we]<<4-4*(1&we);else if(re==2)for(we=0;we<ge;we++)qe[Q+(we>>2)]|=Be[$e+we]<<6-2*(3&we);else if(re==1)for(we=0;we<ge;we++)qe[Q+(we>>3)]|=Be[$e+we]<<7-1*(7&we)}Ge=qe,X=3,Oe=1}else if(J==0&&ae.length==1){qe=new Uint8Array(ge*se*3);const Be=ge*se;for(Q=0;Q<Be;Q++){const Ve=3*Q,$e=4*Q;qe[Ve]=Ge[$e],qe[Ve+1]=Ge[$e+1],qe[Ve+2]=Ge[$e+2]}Ge=qe,X=2,Oe=3,He=3*ge}Ee.img=Ge,Ee.bpl=He,Ee.bpp=Oe}return{ctype:X,depth:re,plte:ve,frames:ae}}function h(w,A,O,E,C,R,U){const te=Uint8Array,z=Uint32Array,V=new te(w[C-1]),W=new z(w[C-1]),X=C+1<w.length?new te(w[C+1]):null,re=new te(w[C]),ye=new z(re.buffer);let F=A,Y=O,Q=-1,J=-1;for(let pe=0;pe<R.height;pe++)for(let ve=0;ve<R.width;ve++){const le=R.x+ve,Ae=R.y+pe,Ee=Ae*A+le,ge=ye[Ee];ge==0||E[C-1].dispose==0&&W[Ee]==ge&&(X==null||X[4*Ee+3]!=0)||(le<F&&(F=le),le>Q&&(Q=le),Ae<Y&&(Y=Ae),Ae>J&&(J=Ae))}Q==-1&&(F=Y=Q=J=0),U&&((1&F)==1&&F--,(1&Y)==1&&Y--),R={x:F,y:Y,width:Q-F+1,height:J-Y+1};const ae=E[C];ae.rect=R,ae.blend=1,ae.img=new Uint8Array(R.width*R.height*4),E[C-1].dispose==0?(t(V,A,O,ae.img,R.width,R.height,-R.x,-R.y,0),f(re,A,O,ae.img,R)):t(re,A,O,ae.img,R.width,R.height,-R.x,-R.y,0)}function f(w,A,O,E,C){t(w,A,O,E,C.width,C.height,-C.x,-C.y,2)}function d(w,A,O,E,C,R,U){const te=[];let z,V=[0,1,2,3,4];R!=-1?V=[R]:(A*E>5e5||O==1)&&(V=[0]),U&&(z={level:0});const W=Xle;for(var X=0;X<V.length;X++){for(let F=0;F<A;F++)p(C,w,F,E,O,V[X]);te.push(W.deflate(C,z))}let re,ye=1e9;for(X=0;X<te.length;X++)te[X].length<ye&&(re=X,ye=te[X].length);return te[re]}function p(w,A,O,E,C,R){const U=O*E;let te=U+O;if(w[te]=R,te++,R==0)if(E<500)for(var z=0;z<E;z++)w[te+z]=A[U+z];else w.set(new Uint8Array(A.buffer,U,E),te);else if(R==1){for(z=0;z<C;z++)w[te+z]=A[U+z];for(z=C;z<E;z++)w[te+z]=A[U+z]-A[U+z-C]+256&255}else if(O==0){for(z=0;z<C;z++)w[te+z]=A[U+z];if(R==2)for(z=C;z<E;z++)w[te+z]=A[U+z];if(R==3)for(z=C;z<E;z++)w[te+z]=A[U+z]-(A[U+z-C]>>1)+256&255;if(R==4)for(z=C;z<E;z++)w[te+z]=A[U+z]-n(A[U+z-C],0,0)+256&255}else{if(R==2)for(z=0;z<E;z++)w[te+z]=A[U+z]+256-A[U+z-E]&255;if(R==3){for(z=0;z<C;z++)w[te+z]=A[U+z]+256-(A[U+z-E]>>1)&255;for(z=C;z<E;z++)w[te+z]=A[U+z]+256-(A[U+z-E]+A[U+z-C]>>1)&255}if(R==4){for(z=0;z<C;z++)w[te+z]=A[U+z]+256-n(0,A[U+z-E],0)&255;for(z=C;z<E;z++)w[te+z]=A[U+z]+256-n(A[U+z-C],A[U+z-E],A[U+z-C-E])&255}}}function y(w,A){const O=new Uint8Array(w),E=O.slice(0),C=new Uint32Array(E.buffer),R=b(E,A),U=R[0],te=R[1],z=O.length,V=new Uint8Array(z>>2);let W;if(O.length<2e7)for(var X=0;X<z;X+=4)W=v(U,re=O[X]*(1/255),ye=O[X+1]*(1/255),F=O[X+2]*(1/255),Y=O[X+3]*(1/255)),V[X>>2]=W.ind,C[X>>2]=W.est.rgba;else for(X=0;X<z;X+=4){var re=O[X]*.00392156862745098,ye=O[X+1]*(1/255),F=O[X+2]*(1/255),Y=O[X+3]*(1/255);for(W=U;W.left;)W=x(W.est,re,ye,F,Y)<=0?W.left:W.right;V[X>>2]=W.ind,C[X>>2]=W.est.rgba}return{abuf:E.buffer,inds:V,plte:te}}function b(w,A,O){O==null&&(O=1e-4);const E=new Uint32Array(w.buffer),C={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};C.bst=M(w,C.i0,C.i1),C.est=L(C.bst);const R=[C];for(;R.length<A;){let te=0,z=0;for(var U=0;U<R.length;U++)R[U].est.L>te&&(te=R[U].est.L,z=U);if(te<O)break;const V=R[z],W=S(w,E,V.i0,V.i1,V.est.e,V.est.eMq255);if(V.i0>=W||V.i1<=W){V.est.L=0;continue}const X={i0:V.i0,i1:W,bst:null,est:null,tdst:0,left:null,right:null};X.bst=M(w,X.i0,X.i1),X.est=L(X.bst);const re={i0:W,i1:V.i1,bst:null,est:null,tdst:0,left:null,right:null};for(re.bst={R:[],m:[],N:V.bst.N-X.bst.N},U=0;U<16;U++)re.bst.R[U]=V.bst.R[U]-X.bst.R[U];for(U=0;U<4;U++)re.bst.m[U]=V.bst.m[U]-X.bst.m[U];re.est=L(re.bst),V.left=X,V.right=re,R[z]=X,R.push(re)}for(R.sort((te,z)=>z.bst.N-te.bst.N),U=0;U<R.length;U++)R[U].ind=U;return[C,R]}function v(w,A,O,E,C){if(w.left==null)return w.tdst=function(X,re,ye,F,Y){const Q=re-X[0],J=ye-X[1],ae=F-X[2],pe=Y-X[3];return Q*Q+J*J+ae*ae+pe*pe}(w.est.q,A,O,E,C),w;const R=x(w.est,A,O,E,C);let U=w.left,te=w.right;R>0&&(U=w.right,te=w.left);const z=v(U,A,O,E,C);if(z.tdst<=R*R)return z;const V=v(te,A,O,E,C);return V.tdst<z.tdst?V:z}function x(w,A,O,E,C){const{e:R}=w;return R[0]*A+R[1]*O+R[2]*E+R[3]*C-w.eMq}function S(w,A,O,E,C,R){for(E-=4;O<E;){for(;I(w,O,C)<=R;)O+=4;for(;I(w,E,C)>R;)E-=4;if(O>=E)break;const U=A[O>>2];A[O>>2]=A[E>>2],A[E>>2]=U,O+=4,E-=4}for(;I(w,O,C)>R;)O-=4;return O+4}function I(w,A,O){return w[A]*O[0]+w[A+1]*O[1]+w[A+2]*O[2]+w[A+3]*O[3]}function M(w,A,O){const E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C=[0,0,0,0],R=O-A>>2;for(let U=A;U<O;U+=4){const te=w[U]*.00392156862745098,z=w[U+1]*(1/255),V=w[U+2]*(1/255),W=w[U+3]*(1/255);C[0]+=te,C[1]+=z,C[2]+=V,C[3]+=W,E[0]+=te*te,E[1]+=te*z,E[2]+=te*V,E[3]+=te*W,E[5]+=z*z,E[6]+=z*V,E[7]+=z*W,E[10]+=V*V,E[11]+=V*W,E[15]+=W*W}return E[4]=E[1],E[8]=E[2],E[9]=E[6],E[12]=E[3],E[13]=E[7],E[14]=E[11],{R:E,m:C,N:R}}function L(w){const{R:A}=w,{m:O}=w,{N:E}=w,C=O[0],R=O[1],U=O[2],te=O[3],z=E==0?0:1/E,V=[A[0]-C*C*z,A[1]-C*R*z,A[2]-C*U*z,A[3]-C*te*z,A[4]-R*C*z,A[5]-R*R*z,A[6]-R*U*z,A[7]-R*te*z,A[8]-U*C*z,A[9]-U*R*z,A[10]-U*U*z,A[11]-U*te*z,A[12]-te*C*z,A[13]-te*R*z,A[14]-te*U*z,A[15]-te*te*z],W=V,X=T;let re=[Math.random(),Math.random(),Math.random(),Math.random()],ye=0,F=0;if(E!=0)for(let Q=0;Q<16&&(re=X.multVec(W,re),F=Math.sqrt(X.dot(re,re)),re=X.sml(1/F,re),!(Q!=0&&Math.abs(F-ye)<1e-9));Q++)ye=F;const Y=[C*z,R*z,U*z,te*z];return{Cov:V,q:Y,e:re,L:ye,eMq255:X.dot(X.sml(255,Y),re),eMq:X.dot(re,Y),rgba:(Math.round(255*Y[3])<<24|Math.round(255*Y[2])<<16|Math.round(255*Y[1])<<8|Math.round(255*Y[0])<<0)>>>0}}var T={multVec:(w,A)=>[w[0]*A[0]+w[1]*A[1]+w[2]*A[2]+w[3]*A[3],w[4]*A[0]+w[5]*A[1]+w[6]*A[2]+w[7]*A[3],w[8]*A[0]+w[9]*A[1]+w[10]*A[2]+w[11]*A[3],w[12]*A[0]+w[13]*A[1]+w[14]*A[2]+w[15]*A[3]],dot:(w,A)=>w[0]*A[0]+w[1]*A[1]+w[2]*A[2]+w[3]*A[3],sml:(w,A)=>[w*A[0],w*A[1],w*A[2],w*A[3]]};Uo.encode=function(A,O,E,C,R,U,te){C==null&&(C=0),te==null&&(te=!1);const z=u(A,O,E,C,[!1,!1,!1,0,te,!1]);return c(z,-1),l(z,O,E,R,U)},Uo.encodeLL=function(A,O,E,C,R,U,te,z){const V={ctype:0+(C==1?0:2)+(R==0?0:4),depth:U,frames:[]},W=(C+R)*U,X=W*O;for(let re=0;re<A.length;re++)V.frames.push({rect:{x:0,y:0,width:O,height:E},img:new Uint8Array(A[re]),blend:0,dispose:1,bpp:Math.ceil(W/8),bpl:Math.ceil(X/8)});return c(V,0,!0),l(V,O,E,te,z)},Uo.encode.compress=u,Uo.encode.dither=a,Uo.quantize=y,Uo.quantize.getKDtree=b,Uo.quantize.getNearest=v})();const M9={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),h=new DataView(u),f=1<<20;let d,p,y,b,v=f,x=0,S=0,I=0;function M(w){h.setUint16(S,w,!0),S+=2}function L(w){h.setUint32(S,w,!0),S+=4}function T(w){S+=w}M(19778),L(c),T(4),L(122),L(108),L(n),L(-r>>>0),M(1),M(32),L(3),L(l),L(2835),L(2835),T(8),L(16711680),L(65280),L(255),L(4278190080),L(1466527264),function w(){for(;x<r&&v>0;){for(b=122+x*a,d=0;d<i;)v--,p=o[I++],y=p>>>24,h.setUint32(b+d,p<<8|y),d+=4;x++}I<o.length?(v=f,setTimeout(w,M9._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var ts={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Qle={[ts.CHROME]:16384,[ts.FIREFOX]:11180,[ts.DESKTOP_SAFARI]:16384,[ts.IE]:8192,[ts.IOS]:4096,[ts.ETC]:8192};const L3=typeof window<"u",D9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,x2=L3&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Jle=(L3||D9)&&(x2&&x2.getOriginalSymbol(window,"File")||typeof File<"u"&&File),j9=(L3||D9)&&(x2&&x2.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function M3(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:s});c.name=e,c.lastModified=n,r(c)})}function F9(t){return new Promise((e,n)=>{const r=new j9;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function B9(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Ah(){if(Ah.cachedResult!==void 0)return Ah.cachedResult;let t=ts.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=ts.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=ts.IOS:/Safari/i.test(e)?t=ts.DESKTOP_SAFARI:/Firefox/i.test(e)?t=ts.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=ts.IE),Ah.cachedResult=t,Ah.cachedResult}function U9(t,e){const n=Ah(),r=Qle[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,c=(r+s)/2;l<c?(s=c,i=c*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function lw(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function V9(t,e){const{width:n,height:r}=U9(t.width,t.height),[i,s]=lw(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function sv(){return sv.cachedResult!==void 0||(sv.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),sv.cachedResult}function S2(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=V9(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(h){return r(h)}};try{let u;return F9(t).then(function(h){try{return u=h,B9(u).then(function(f){try{return i=f,function(){try{return o()}catch(d){return r(d)}}()}catch(d){return c(d)}},c)}catch(f){return c(f)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(sv()||[ts.DESKTOP_SAFARI,ts.MOBILE_SAFARI].includes(Ah()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function A2(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let c,u,h;return c=t.getContext("2d"),{data:u}=c.getImageData(0,0,t.width,t.height),h=Uo.encode([u.buffer],t.width,t.height,4096*i),a=new Blob([h],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let c=function(){return l.call(this)};if(e==="image/bmp")return new Promise(u=>M9.toBlob(t,u)).then((function(u){try{return a=u,a.name=n,a.lastModified=r,c.call(this)}catch(h){return o(h)}}).bind(this),o);{let u=function(){return c.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(h){try{return a=h,a.name=n,a.lastModified=r,u.call(this)}catch(f){return o(f)}}).bind(this),o);{let h;return h=t.toDataURL(e,i),M3(h,n,r).then((function(f){try{return a=f,u.call(this)}catch(d){return o(d)}}).bind(this),o)}}}function l(){return s(a)}})}function Sa(t){t.width=0,t.height=0}function Id(){return new Promise(function(t,e){let n,r,i,s;return Id.cachedResult!==void 0?t(Id.cachedResult):M3("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,S2(n).then(function(a){try{return r=a[1],A2(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,Sa(r),S2(i).then(function(c){try{return s=c[0],Id.cachedResult=s.width===1&&s.height===2,t(Id.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function z9(t){return new Promise((e,n)=>{const r=new j9;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,c);const u=s.getUint16(a,c);a+=2;for(let h=0;h<u;h++)if(s.getUint16(a+12*h,c)==274)return e(s.getUint16(a+12*h+8,c))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function $9(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=lw(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),Sa(t)),o}function q9(t,e){const{width:n}=t,{height:r}=t,[i,s]=lw(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),Sa(t),i}function eO(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,c,u,h,f,d,p,y,b,v,x,S,I,M,L,T,w;function A(E=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=E,e.onProgress(Math.min(s,100))}function O(E){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(E,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,A(),S2(t,e).then((function(E){try{return[,l]=E,A(),c=$9(l,e),A(),new Promise(function(C,R){var U;if(!(U=e.exifOrientation))return z9(t).then((function(z){try{return U=z,te.call(this)}catch(V){return R(V)}}).bind(this),R);function te(){return C(U)}return te.call(this)}).then((function(C){try{return u=C,A(),Id().then((function(R){try{return h=R?c:q9(c,u),A(),f=e.initialQuality||1,d=e.fileType||t.type,A2(h,d,t.name,t.lastModified,f).then((function(U){try{{let z=function(){if(o--&&(S>a||S>v)){let W,X;return W=w?.95*T.width:T.width,X=w?.95*T.height:T.height,[M,L]=lw(W,X),L.drawImage(T,0,0,W,X),f*=d==="image/png"?.85:.95,A2(M,d,t.name,t.lastModified,f).then(function(re){try{return I=re,Sa(T),T=M,S=I.size,O(Math.min(99,Math.floor((x-S)/(x-a)*100))),z}catch(ye){return i(ye)}},i)}return[1]},V=function(){return Sa(T),Sa(M),Sa(c),Sa(h),Sa(l),O(100),r(I)};if(p=U,A(),y=p.size>a,b=p.size>t.size,!y&&!b)return O(100),r(p);var te;return v=t.size,x=p.size,S=x,T=h,w=!e.alwaysKeepResolution&&y,(te=(function(W){for(;W;){if(W.then)return void W.then(te,i);try{if(W.pop){if(W.length)return W.pop()?V.call(this):W;W=z}else W=W.call(this)}catch(X){return i(X)}}}).bind(this))(z)}}catch(z){return i(z)}}).bind(this),i)}catch(U){return i(U)}}).bind(this),i)}catch(R){return i(R)}}).bind(this),i)}catch(C){return i(C)}}).bind(this),i)})}const Zle=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let z_;function ece(t,e){return new Promise((n,r)=>{z_||(z_=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(Zle));const i=new Worker(z_);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function pi(t,e){return new Promise(function(n,r){let i,s,o,a,l,c;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=d=>{o=d,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof Jle))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return eO(t,i).then((function(d){try{return s=d,f.call(this)}catch(p){return r(p)}}).bind(this),r);var u=(function(){try{return f.call(this)}catch(d){return r(d)}}).bind(this),h=function(d){try{return eO(t,i).then(function(p){try{return s=p,u()}catch(y){return r(y)}},r)}catch(p){return r(p)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ece(t,i).then(function(d){try{return s=d,u()}catch{return h()}},h)}catch{h()}function f(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=L9(t,s))}catch{}return n(s)}})}pi.getDataUrlFromFile=F9,pi.getFilefromDataUrl=M3,pi.loadImage=B9,pi.drawImageInCanvas=V9,pi.drawFileInCanvas=S2,pi.canvasToFile=A2,pi.getExifOrientation=z9,pi.handleMaxWidthOrHeight=$9,pi.followExifOrientation=q9,pi.cleanupCanvasMemory=Sa,pi.isAutoOrientationInBrowser=Id,pi.approximateBelowMaximumCanvasSizeOfBrowser=U9,pi.copyExifWithoutOrientation=L9,pi.getBrowserName=Ah,pi.version="2.0.2";const tce=29,nce=80,rce=async(t,e=40,n=40)=>{try{let r;typeof t=="string"?r=await(await fetch(t)).blob():r=t;const i=await pi(r,{maxSizeMB:1,maxWidthOrHeight:Math.max(e,n),useWebWorker:!0}),s=await new Promise((h,f)=>{const d=new Image;d.onload=()=>h(d),d.onerror=f,d.src=URL.createObjectURL(i)}),o=document.createElement("canvas");let{width:a,height:l}=s;const c=Math.min(e/a,n/l,1);return a*=c,l*=c,o.width=a,o.height=l,o.getContext("2d").drawImage(s,0,0,a,l),o.toDataURL("image/jpeg",.8)}catch(r){return console.error("Erreur chargement/compression image :",r),null}},tO=async t=>{const e=new mt("p","mm","a4");e.setFontSize(14),e.text(`Devis: ${t.id||"—"}`,14,15),e.setFontSize(12),e.text(`Client: ${t.client||"—"}`,14,25),e.text(`Date: ${t.createdAt||"—"}`,14,32);let n=42;const r=await Promise.all((t.produits||[]).map(async s=>s.imageProduit?await rce(s.imageProduit,40,40):null));let i=0;for(let s=0;s<(t.produits||[]).length;s++){const o=t.produits[s],a=r[s],l=o.transport==="air"?(o.poids||0)*tce:(o.volume||0)*nce,u=((o.prix||0)+l)*(1+(o.commission||0)/100),h=u*(o.quantite||0);i+=h,e.setDrawColor(200),e.rect(14,n,182,25,"S"),a&&e.addImage(a,"JPEG",16,n+3,20,20);const f=40;e.setFontSize(11);const d=e.splitTextToSize(o.nomProduit||"—",100);e.text(d,f,n+6),e.text(`Qté: ${o.quantite||0}`,f,n+14),e.text(`Prix unitaire (avec frais+comm): ${u.toFixed(2)} $`,f,n+19),e.text(`Total: ${h.toFixed(2)} $`,140,n+14),n+=30,n>250&&(e.addPage(),n=14)}e.setFontSize(12),e.text(`Total commande: ${i.toFixed(2)} $`,14,n+5),e.save(`Devis-${t.id||"SansID"}.pdf`)},nO=[{key:"validé",label:"Payé"},{key:"depotShenzen",label:"En cours"},{key:"expeditionRDC",label:"Prêt à être livré"},{key:"receptionRDC",label:"Livré"}],rO=({currentStep:t="validé",percentage:e=0})=>{const n=t||"validé",r=nO.findIndex(s=>s.key===n),i=r!==-1?nO[r].label:"Payé";return D.jsxs("div",{className:"flex flex-col items-center w-full max-w-[140px] mx-auto",children:[D.jsx("div",{className:"relative w-full h-2 rounded bg-gray-300 overflow-hidden",children:D.jsx("div",{className:"absolute top-0 left-0 h-2 rounded bg-gradient-to-r from-green-400 via-green-500 to-green-600 animate-gradient-move",style:{width:`${e}%`,transition:"width 0.8s ease-in-out"}})}),D.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-500 mt-1 text-center",children:[i," (",e,"%)"]})]})},ice=t=>{if(!t)return{step:"validé",percent:0,daysElapsed:0,estimatedDelivery:"—"};const e=new Date,n=new Date(t),r=Math.floor((e-n)/(1e3*60*60*24)),i=new Date(n);i.setDate(i.getDate()+8);let s="validé",o=0;return r<=2?(s="validé",o=Math.min(r/8*100,20)):r<=3?(s="depotShenzen",o=Math.min(r/8*100,50)):r<=8?(s="expeditionRDC",o=Math.min(r/8*100,80)):(s="receptionRDC",o=100),{step:s,percent:Math.round(o),daysElapsed:r,estimatedDelivery:i.toLocaleDateString()}},sce=()=>{const{role:t}=ju(),[e,n]=H.useState([]),[r,i]=H.useState(!0),s=$a();H.useEffect(()=>{(async()=>{try{let c=(await Va(vr(Rt,"commandes"))).docs.map(u=>{var v,x;const h=u.data()||{},f=(v=h.createdAt)!=null&&v.toDate?h.createdAt.toDate():null,d=ice(f),p=new Date;let y=f?new Date(f):null;y&&y.setDate(y.getDate()+8);let b=h.status||d.step;return y&&b!=="receptionRDC"&&(p-y)/(1e3*60*60*24)>10&&(b="receptionRDC"),{id:u.id,client:h.client||"—",produits:h.produits||[],total:typeof h.total=="number"?h.total:0,createdAt:f?f.toLocaleDateString():"—",createdAtRaw:f,invoiceNumber:((x=h.invoiceNumber)==null?void 0:x.trim())||`INV-${u.id.slice(0,6)}`,currentStep:b,progressPercent:b==="receptionRDC"?100:d.percent,daysElapsed:d.daysElapsed,estimatedDelivery:y?y.toLocaleDateString():"—",addedBy:h.addedBy||"—"}});c.sort((u,h)=>(h.createdAtRaw||0)-(u.createdAtRaw||0)),n(c)}catch(l){alert("❌ Erreur chargement commandes : "+l.message)}finally{i(!1)}})()},[]);const o=async a=>{if(window.confirm("⚠️ Supprimer cette commande ?"))try{await Qv(Er(Rt,"commandes",a)),n(l=>l.filter(c=>c.id!==a)),alert("✅ Commande supprimée")}catch(l){alert("❌ Erreur suppression : "+l.message)}};return D.jsxs("div",{className:"p-4 sm:p-6 bg-gray-100 min-h-screen",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2",children:[D.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"📦 Commandes"}),D.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[D.jsx("button",{onClick:()=>s("/dashboard"),className:"bg-gray-600 text-white px-3 sm:px-4 py-2 rounded text-sm sm:text-base",children:"⬅ Accueil"}),D.jsx("button",{onClick:()=>s("/ajouter-commande"),className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded text-sm sm:text-base",children:"➕ Ajouter"})]})]}),r?D.jsx("p",{children:"Chargement..."}):e.length===0?D.jsx("p",{className:"text-gray-500",children:"Aucune commande enregistrée."}):D.jsxs("div",{className:"bg-white rounded shadow",children:[D.jsx("div",{className:"hidden md:block overflow-x-auto",children:D.jsxs("table",{className:"min-w-full text-left text-xs sm:text-sm",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"bg-gray-100 border-b",children:[D.jsx("th",{className:"p-2 sm:p-3",children:"Commande"}),D.jsx("th",{className:"p-2 sm:p-3",children:"Client"}),D.jsx("th",{className:"p-2 sm:p-3",children:"Facture"}),D.jsx("th",{className:"p-2 sm:p-3",children:"Date"}),D.jsx("th",{className:"p-2 sm:p-3",children:"Livraison estimée"}),D.jsx("th",{className:"p-2 sm:p-3",children:"Progression"}),D.jsx("th",{className:"p-2 sm:p-3",children:"Total"}),D.jsx("th",{className:"p-2 sm:p-3",children:"Ajouté par"}),D.jsx("th",{className:"p-2 sm:p-3",children:"Actions"})]})}),D.jsx("tbody",{children:e.map(a=>D.jsxs("tr",{onClick:()=>s(`/commandes/${a.id}`),className:`border-b cursor-pointer hover:bg-gray-50 ${a.currentStep==="receptionRDC"?"bg-green-100":""}`,children:[D.jsxs("td",{className:"p-2 text-blue-600 relative",children:["#",a.id.slice(0,6),a.currentStep==="receptionRDC"&&D.jsx("span",{className:"ml-1 text-green-600 font-bold text-xs",children:"✅"})]}),D.jsx("td",{className:"p-2 font-semibold",children:a.client}),D.jsx("td",{className:"p-2",children:a.invoiceNumber}),D.jsx("td",{className:"p-2",children:a.createdAt}),D.jsx("td",{className:"p-2",children:D.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs",children:a.estimatedDelivery})}),D.jsx("td",{className:"p-2",children:D.jsx(rO,{currentStep:a.currentStep,percentage:a.progressPercent})}),D.jsxs("td",{className:"p-2 font-bold text-xs sm:text-sm",children:[a.total.toFixed(2)," $"]}),D.jsx("td",{className:"p-2",children:a.addedBy}),D.jsxs("td",{className:"p-2 flex gap-2",children:[D.jsx("button",{onClick:l=>{l.stopPropagation(),tO(a)},className:"bg-purple-600 text-white px-2 py-1 rounded text-xs",children:"📄 PDF"}),t==="admin"&&D.jsx("button",{onClick:l=>{l.stopPropagation(),o(a.id)},className:"px-2 py-1 bg-red-500 text-white rounded text-xs",children:"🗑️"})]})]},a.id))})]})}),D.jsx("div",{className:"md:hidden flex flex-col gap-3 p-2",children:e.map(a=>D.jsxs("div",{className:`border rounded p-3 shadow-sm cursor-pointer relative ${a.currentStep==="receptionRDC"?"bg-green-100":"bg-white"}`,onClick:()=>s(`/commandes/${a.id}`),children:[a.currentStep==="receptionRDC"&&D.jsx("span",{className:"absolute top-2 right-2 bg-green-600 text-white text-[10px] px-2 py-0.5 rounded-full font-bold",children:"✅ Livré"}),D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsxs("span",{className:"text-blue-600 font-semibold text-sm",children:["#",a.id.slice(0,6)]}),D.jsx("span",{className:"text-xs bg-gray-200 px-2 rounded",children:a.invoiceNumber})]}),D.jsxs("p",{className:"text-xs mt-1",children:["👤 ",a.client]}),D.jsxs("p",{className:"text-xs",children:["📅 ",a.createdAt]}),D.jsxs("p",{className:"text-xs",children:["🚚 Livraison estimée:"," ",D.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:a.estimatedDelivery})]}),D.jsxs("p",{className:"text-xs",children:["💰 ",D.jsxs("b",{children:[a.total.toFixed(2)," $"]})]}),D.jsxs("p",{className:"text-xs",children:["👤 Ajouté par: ",a.addedBy]}),D.jsx("div",{className:"mt-2",children:D.jsx(rO,{currentStep:a.currentStep,percentage:a.progressPercent})}),D.jsxs("div",{className:"flex gap-2 mt-3",children:[D.jsx("button",{onClick:l=>{l.stopPropagation(),s(`/commandes/${a.id}`)},className:"flex-1 bg-blue-500 text-white py-1 rounded text-xs",children:"🔍 Voir"}),D.jsx("button",{onClick:l=>{l.stopPropagation(),tO(a)},className:"flex-1 bg-purple-600 text-white py-1 rounded text-xs",children:"📄 PDF"}),t==="admin"&&D.jsx("button",{onClick:l=>{l.stopPropagation(),o(a.id)},className:"flex-1 bg-red-500 text-white py-1 rounded text-xs",children:"🗑️ Supprimer"})]})]},a.id))})]})]})};function H9(t,e){return function(){return t.apply(e,arguments)}}const{toString:oce}=Object.prototype,{getPrototypeOf:D3}=Object,{iterator:cw,toStringTag:W9}=Symbol,uw=(t=>e=>{const n=oce.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),oa=t=>(t=t.toLowerCase(),e=>uw(e)===t),hw=t=>e=>typeof e===t,{isArray:jp}=Array,i0=hw("undefined");function B0(t){return t!==null&&!i0(t)&&t.constructor!==null&&!i0(t.constructor)&&us(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const K9=oa("ArrayBuffer");function ace(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&K9(t.buffer),e}const lce=hw("string"),us=hw("function"),G9=hw("number"),U0=t=>t!==null&&typeof t=="object",cce=t=>t===!0||t===!1,ov=t=>{if(uw(t)!=="object")return!1;const e=D3(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(W9 in t)&&!(cw in t)},uce=t=>{if(!U0(t)||B0(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},hce=oa("Date"),fce=oa("File"),dce=oa("Blob"),pce=oa("FileList"),gce=t=>U0(t)&&us(t.pipe),mce=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||us(t.append)&&((e=uw(t))==="formdata"||e==="object"&&us(t.toString)&&t.toString()==="[object FormData]"))},yce=oa("URLSearchParams"),[vce,bce,wce,_ce]=["ReadableStream","Request","Response","Headers"].map(oa),xce=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function V0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),jp(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(B0(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function Y9(t,e){if(B0(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Eh=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),X9=t=>!i0(t)&&t!==Eh;function p4(){const{caseless:t}=X9(this)&&this||{},e={},n=(r,i)=>{const s=t&&Y9(e,i)||i;ov(e[s])&&ov(r)?e[s]=p4(e[s],r):ov(r)?e[s]=p4({},r):jp(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&V0(arguments[r],n);return e}const Sce=(t,e,n,{allOwnKeys:r}={})=>(V0(e,(i,s)=>{n&&us(i)?t[s]=H9(i,n):t[s]=i},{allOwnKeys:r}),t),Ace=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ece=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Pce=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&D3(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Tce=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Cce=t=>{if(!t)return null;if(jp(t))return t;let e=t.length;if(!G9(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Nce=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&D3(Uint8Array)),Ice=(t,e)=>{const r=(t&&t[cw]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},kce=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Oce=oa("HTMLFormElement"),Rce=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),iO=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Lce=oa("RegExp"),Q9=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};V0(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Mce=t=>{Q9(t,(e,n)=>{if(us(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(us(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Dce=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return jp(t)?r(t):r(String(t).split(e)),n},jce=()=>{},Fce=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Bce(t){return!!(t&&us(t.append)&&t[W9]==="FormData"&&t[cw])}const Uce=t=>{const e=new Array(10),n=(r,i)=>{if(U0(r)){if(e.indexOf(r)>=0)return;if(B0(r))return r;if(!("toJSON"in r)){e[i]=r;const s=jp(r)?[]:{};return V0(r,(o,a)=>{const l=n(o,i+1);!i0(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},Vce=oa("AsyncFunction"),zce=t=>t&&(U0(t)||us(t))&&us(t.then)&&us(t.catch),J9=((t,e)=>t?setImmediate:e?((n,r)=>(Eh.addEventListener("message",({source:i,data:s})=>{i===Eh&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Eh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",us(Eh.postMessage)),$ce=typeof queueMicrotask<"u"?queueMicrotask.bind(Eh):typeof process<"u"&&process.nextTick||J9,qce=t=>t!=null&&us(t[cw]),Te={isArray:jp,isArrayBuffer:K9,isBuffer:B0,isFormData:mce,isArrayBufferView:ace,isString:lce,isNumber:G9,isBoolean:cce,isObject:U0,isPlainObject:ov,isEmptyObject:uce,isReadableStream:vce,isRequest:bce,isResponse:wce,isHeaders:_ce,isUndefined:i0,isDate:hce,isFile:fce,isBlob:dce,isRegExp:Lce,isFunction:us,isStream:gce,isURLSearchParams:yce,isTypedArray:Nce,isFileList:pce,forEach:V0,merge:p4,extend:Sce,trim:xce,stripBOM:Ace,inherits:Ece,toFlatObject:Pce,kindOf:uw,kindOfTest:oa,endsWith:Tce,toArray:Cce,forEachEntry:Ice,matchAll:kce,isHTMLForm:Oce,hasOwnProperty:iO,hasOwnProp:iO,reduceDescriptors:Q9,freezeMethods:Mce,toObjectSet:Dce,toCamelCase:Rce,noop:jce,toFiniteNumber:Fce,findKey:Y9,global:Eh,isContextDefined:X9,isSpecCompliantForm:Bce,toJSONObject:Uce,isAsyncFn:Vce,isThenable:zce,setImmediate:J9,asap:$ce,isIterable:qce};function Nt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Te.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const Z9=Nt.prototype,eB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{eB[t]={value:t}});Object.defineProperties(Nt,eB);Object.defineProperty(Z9,"isAxiosError",{value:!0});Nt.from=(t,e,n,r,i,s)=>{const o=Object.create(Z9);return Te.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Nt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Hce=null;function g4(t){return Te.isPlainObject(t)||Te.isArray(t)}function tB(t){return Te.endsWith(t,"[]")?t.slice(0,-2):t}function sO(t,e,n){return t?t.concat(e).map(function(i,s){return i=tB(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function Wce(t){return Te.isArray(t)&&!t.some(g4)}const Kce=Te.toFlatObject(Te,{},null,function(e){return/^is[A-Z]/.test(e)});function fw(t,e,n){if(!Te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!Te.isUndefined(b[y])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(e);if(!Te.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(Te.isDate(p))return p.toISOString();if(Te.isBoolean(p))return p.toString();if(!l&&Te.isBlob(p))throw new Nt("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(p)||Te.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,y,b){let v=p;if(p&&!b&&typeof p=="object"){if(Te.endsWith(y,"{}"))y=r?y:y.slice(0,-2),p=JSON.stringify(p);else if(Te.isArray(p)&&Wce(p)||(Te.isFileList(p)||Te.endsWith(y,"[]"))&&(v=Te.toArray(p)))return y=tB(y),v.forEach(function(S,I){!(Te.isUndefined(S)||S===null)&&e.append(o===!0?sO([y],I,s):o===null?y:y+"[]",c(S))}),!1}return g4(p)?!0:(e.append(sO(b,y,s),c(p)),!1)}const h=[],f=Object.assign(Kce,{defaultVisitor:u,convertValue:c,isVisitable:g4});function d(p,y){if(!Te.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(p),Te.forEach(p,function(v,x){(!(Te.isUndefined(v)||v===null)&&i.call(e,v,Te.isString(x)?x.trim():x,y,f))===!0&&d(v,y?y.concat(x):[x])}),h.pop()}}if(!Te.isObject(t))throw new TypeError("data must be an object");return d(t),e}function oO(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function j3(t,e){this._pairs=[],t&&fw(t,this,e)}const nB=j3.prototype;nB.append=function(e,n){this._pairs.push([e,n])};nB.toString=function(e){const n=e?function(r){return e.call(this,r,oO)}:oO;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Gce(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rB(t,e,n){if(!e)return t;const r=n&&n.encode||Gce;Te.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Te.isURLSearchParams(e)?e.toString():new j3(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Yce{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Te.forEach(this.handlers,function(r){r!==null&&e(r)})}}const aO=Yce,iB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xce=typeof URLSearchParams<"u"?URLSearchParams:j3,Qce=typeof FormData<"u"?FormData:null,Jce=typeof Blob<"u"?Blob:null,Zce={isBrowser:!0,classes:{URLSearchParams:Xce,FormData:Qce,Blob:Jce},protocols:["http","https","file","blob","url","data"]},F3=typeof window<"u"&&typeof document<"u",m4=typeof navigator=="object"&&navigator||void 0,eue=F3&&(!m4||["ReactNative","NativeScript","NS"].indexOf(m4.product)<0),tue=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),nue=F3&&window.location.href||"http://localhost",rue=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:F3,hasStandardBrowserEnv:eue,hasStandardBrowserWebWorkerEnv:tue,navigator:m4,origin:nue},Symbol.toStringTag,{value:"Module"})),wi={...rue,...Zce};function iue(t,e){return fw(t,new wi.classes.URLSearchParams,{visitor:function(n,r,i,s){return wi.isNode&&Te.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function sue(t){return Te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oue(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function sB(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Te.isArray(i)?i.length:o,l?(Te.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Te.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Te.isArray(i[o])&&(i[o]=oue(i[o])),!a)}if(Te.isFormData(t)&&Te.isFunction(t.entries)){const n={};return Te.forEachEntry(t,(r,i)=>{e(sue(r),i,n,0)}),n}return null}function aue(t,e,n){if(Te.isString(t))try{return(e||JSON.parse)(t),Te.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const B3={transitional:iB,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Te.isObject(e);if(s&&Te.isHTMLForm(e)&&(e=new FormData(e)),Te.isFormData(e))return i?JSON.stringify(sB(e)):e;if(Te.isArrayBuffer(e)||Te.isBuffer(e)||Te.isStream(e)||Te.isFile(e)||Te.isBlob(e)||Te.isReadableStream(e))return e;if(Te.isArrayBufferView(e))return e.buffer;if(Te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iue(e,this.formSerializer).toString();if((a=Te.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return fw(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),aue(e)):e}],transformResponse:[function(e){const n=this.transitional||B3.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Te.isResponse(e)||Te.isReadableStream(e))return e;if(e&&Te.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Nt.from(a,Nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wi.classes.FormData,Blob:wi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],t=>{B3.headers[t]={}});const U3=B3,lue=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cue=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&lue[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},lO=Symbol("internals");function Ng(t){return t&&String(t).trim().toLowerCase()}function av(t){return t===!1||t==null?t:Te.isArray(t)?t.map(av):String(t)}function uue(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const hue=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $_(t,e,n,r,i){if(Te.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Te.isString(e)){if(Te.isString(r))return e.indexOf(r)!==-1;if(Te.isRegExp(r))return r.test(e)}}function fue(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function due(t,e){const n=Te.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class dw{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=Ng(l);if(!u)throw new Error("header name must be a non-empty string");const h=Te.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=av(a))}const o=(a,l)=>Te.forEach(a,(c,u)=>s(c,u,l));if(Te.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Te.isString(e)&&(e=e.trim())&&!hue(e))o(cue(e),n);else if(Te.isObject(e)&&Te.isIterable(e)){let a={},l,c;for(const u of e){if(!Te.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Te.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Ng(e),e){const r=Te.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return uue(i);if(Te.isFunction(n))return n.call(this,i,r);if(Te.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ng(e),e){const r=Te.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Ng(o),o){const a=Te.findKey(r,o);a&&(!n||$_(r,r[a],a,n))&&(delete r[a],i=!0)}}return Te.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||$_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Te.forEach(this,(i,s)=>{const o=Te.findKey(r,s);if(o){n[o]=av(i),delete n[s];return}const a=e?fue(s):String(s).trim();a!==s&&delete n[s],n[a]=av(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Te.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Te.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[lO]=this[lO]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ng(o);r[a]||(due(i,o),r[a]=!0)}return Te.isArray(e)?e.forEach(s):s(e),this}}dw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(dw.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Te.freezeMethods(dw);const Zo=dw;function q_(t,e){const n=this||U3,r=e||n,i=Zo.from(r.headers);let s=r.data;return Te.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function oB(t){return!!(t&&t.__CANCEL__)}function Fp(t,e,n){Nt.call(this,t??"canceled",Nt.ERR_CANCELED,e,n),this.name="CanceledError"}Te.inherits(Fp,Nt,{__CANCEL__:!0});function aB(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Nt("Request failed with status code "+n.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function pue(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gue(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const d=u&&c-u;return d?Math.round(f*1e3/d):void 0}}function mue(t,e){let n=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const E2=(t,e,n=3)=>{let r=0;const i=gue(50,250);return mue(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},cO=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},uO=t=>(...e)=>Te.asap(()=>t(...e)),yue=wi.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,wi.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(wi.origin),wi.navigator&&/(msie|trident)/i.test(wi.navigator.userAgent)):()=>!0,vue=wi.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Te.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Te.isString(r)&&o.push("path="+r),Te.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bue(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wue(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lB(t,e,n){let r=!bue(e);return t&&(r||n==!1)?wue(t,e):e}const hO=t=>t instanceof Zo?{...t}:t;function rf(t,e){e=e||{};const n={};function r(c,u,h,f){return Te.isPlainObject(c)&&Te.isPlainObject(u)?Te.merge.call({caseless:f},c,u):Te.isPlainObject(u)?Te.merge({},u):Te.isArray(u)?u.slice():u}function i(c,u,h,f){if(Te.isUndefined(u)){if(!Te.isUndefined(c))return r(void 0,c,h,f)}else return r(c,u,h,f)}function s(c,u){if(!Te.isUndefined(u))return r(void 0,u)}function o(c,u){if(Te.isUndefined(u)){if(!Te.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>i(hO(c),hO(u),h,!0)};return Te.forEach(Object.keys({...t,...e}),function(u){const h=l[u]||i,f=h(t[u],e[u],u);Te.isUndefined(f)&&h!==a||(n[u]=f)}),n}const cB=t=>{const e=rf({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Zo.from(o),e.url=rB(lB(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Te.isFormData(n)){if(wi.hasStandardBrowserEnv||wi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(wi.hasStandardBrowserEnv&&(r&&Te.isFunction(r)&&(r=r(e)),r||r!==!1&&yue(e.url))){const c=i&&s&&vue.read(s);c&&o.set(i,c)}return e},_ue=typeof XMLHttpRequest<"u",xue=_ue&&function(t){return new Promise(function(n,r){const i=cB(t);let s=i.data;const o=Zo.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,h,f,d,p;function y(){d&&d(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function v(){if(!b)return;const S=Zo.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:t,request:b};aB(function(T){n(T),y()},function(T){r(T),y()},M),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(r(new Nt("Request aborted",Nt.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new Nt("Network Error",Nt.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||iB;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new Nt(I,M.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,t,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&Te.forEach(o.toJSON(),function(I,M){b.setRequestHeader(M,I)}),Te.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),c&&([f,p]=E2(c,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,d]=E2(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",d)),(i.cancelToken||i.signal)&&(u=S=>{b&&(r(!S||S.type?new Fp(null,t,b):S),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const x=pue(i.url);if(x&&wi.protocols.indexOf(x)===-1){r(new Nt("Unsupported protocol "+x+":",Nt.ERR_BAD_REQUEST,t));return}b.send(s||null)})},Sue=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Nt?u:new Fp(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new Nt(`timeout ${e} of ms exceeded`,Nt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Te.asap(a),l}},Aue=Sue,Eue=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Pue=async function*(t,e){for await(const n of Tue(t))yield*Eue(n,e)},Tue=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},fO=(t,e,n,r)=>{const i=Pue(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let h=u.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},pw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uB=pw&&typeof ReadableStream=="function",Cue=pw&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),hB=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Nue=uB&&hB(()=>{let t=!1;const e=new Request(wi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),dO=64*1024,y4=uB&&hB(()=>Te.isReadableStream(new Response("").body)),P2={stream:y4&&(t=>t.body)};pw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!P2[e]&&(P2[e]=Te.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Nt(`Response type '${e}' is not supported`,Nt.ERR_NOT_SUPPORT,r)})})})(new Response);const Iue=async t=>{if(t==null)return 0;if(Te.isBlob(t))return t.size;if(Te.isSpecCompliantForm(t))return(await new Request(wi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(t)||Te.isArrayBuffer(t))return t.byteLength;if(Te.isURLSearchParams(t)&&(t=t+""),Te.isString(t))return(await Cue(t)).byteLength},kue=async(t,e)=>{const n=Te.toFiniteNumber(t.getContentLength());return n??Iue(e)},Oue=pw&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=cB(t);c=c?(c+"").toLowerCase():"text";let d=Aue([i,s&&s.toAbortSignal()],o),p;const y=d&&d.unsubscribe&&(()=>{d.unsubscribe()});let b;try{if(l&&Nue&&n!=="get"&&n!=="head"&&(b=await kue(u,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(Te.isFormData(r)&&(L=M.headers.get("content-type"))&&u.setContentType(L),M.body){const[T,w]=cO(b,E2(uO(l)));r=fO(M.body,dO,T,w)}}Te.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;p=new Request(e,{...f,signal:d,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0});let x=await fetch(p,f);const S=y4&&(c==="stream"||c==="response");if(y4&&(a||S&&y)){const M={};["status","statusText","headers"].forEach(A=>{M[A]=x[A]});const L=Te.toFiniteNumber(x.headers.get("content-length")),[T,w]=a&&cO(L,E2(uO(a),!0))||[];x=new Response(fO(x.body,dO,T,()=>{w&&w(),y&&y()}),M)}c=c||"text";let I=await P2[Te.findKey(P2,c)||"text"](x,t);return!S&&y&&y(),await new Promise((M,L)=>{aB(M,L,{data:I,headers:Zo.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:p})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,t,p),{cause:v.cause||v}):Nt.from(v,v&&v.code,t,p)}}),v4={http:Hce,xhr:xue,fetch:Oue};Te.forEach(v4,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const pO=t=>`- ${t}`,Rue=t=>Te.isFunction(t)||t===null||t===!1,fB={getAdapter:t=>{t=Te.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!Rue(n)&&(r=v4[(o=String(n)).toLowerCase()],r===void 0))throw new Nt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(pO).join(`
`):" "+pO(s[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:v4};function H_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fp(null,t)}function gO(t){return H_(t),t.headers=Zo.from(t.headers),t.data=q_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fB.getAdapter(t.adapter||U3.adapter)(t).then(function(r){return H_(t),r.data=q_.call(t,t.transformResponse,r),r.headers=Zo.from(r.headers),r},function(r){return oB(r)||(H_(t),r&&r.response&&(r.response.data=q_.call(t,t.transformResponse,r.response),r.response.headers=Zo.from(r.response.headers))),Promise.reject(r)})}const dB="1.11.0",gw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gw[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const mO={};gw.transitional=function(e,n,r){function i(s,o){return"[Axios v"+dB+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Nt(i(o," has been removed"+(n?" in "+n:"")),Nt.ERR_DEPRECATED);return n&&!mO[o]&&(mO[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};gw.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Lue(t,e,n){if(typeof t!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Nt("option "+s+" must be "+l,Nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Nt("Unknown option "+s,Nt.ERR_BAD_OPTION)}}const lv={assertOptions:Lue,validators:gw},ma=lv.validators;class T2{constructor(e){this.defaults=e||{},this.interceptors={request:new aO,response:new aO}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=rf(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&lv.assertOptions(r,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean)},!1),i!=null&&(Te.isFunction(i)?n.paramsSerializer={serialize:i}:lv.assertOptions(i,{encode:ma.function,serialize:ma.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lv.assertOptions(n,{baseUrl:ma.spelling("baseURL"),withXsrfToken:ma.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Te.merge(s.common,s[n.method]);s&&Te.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=Zo.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,h=0,f;if(!l){const p=[gO.bind(this),void 0];for(p.unshift(...a),p.push(...c),f=p.length,u=Promise.resolve(n);h<f;)u=u.then(p[h++],p[h++]);return u}f=a.length;let d=n;for(h=0;h<f;){const p=a[h++],y=a[h++];try{d=p(d)}catch(b){y.call(this,b);break}}try{u=gO.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=rf(this.defaults,e);const n=lB(e.baseURL,e.url,e.allowAbsoluteUrls);return rB(n,e.params,e.paramsSerializer)}}Te.forEach(["delete","get","head","options"],function(e){T2.prototype[e]=function(n,r){return this.request(rf(r||{},{method:e,url:n,data:(r||{}).data}))}});Te.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(rf(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}T2.prototype[e]=n(),T2.prototype[e+"Form"]=n(!0)});const cv=T2;class V3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Fp(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new V3(function(i){e=i}),cancel:e}}}const Mue=V3;function Due(t){return function(n){return t.apply(null,n)}}function jue(t){return Te.isObject(t)&&t.isAxiosError===!0}const b4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(b4).forEach(([t,e])=>{b4[e]=t});const Fue=b4;function pB(t){const e=new cv(t),n=H9(cv.prototype.request,e);return Te.extend(n,cv.prototype,e,{allOwnKeys:!0}),Te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return pB(rf(t,i))},n}const wr=pB(U3);wr.Axios=cv;wr.CanceledError=Fp;wr.CancelToken=Mue;wr.isCancel=oB;wr.VERSION=dB;wr.toFormData=fw;wr.AxiosError=Nt;wr.Cancel=wr.CanceledError;wr.all=function(e){return Promise.all(e)};wr.spread=Due;wr.isAxiosError=jue;wr.mergeConfig=rf;wr.AxiosHeaders=Zo;wr.formToJSON=t=>sB(Te.isHTMLForm(t)?new FormData(t):t);wr.getAdapter=fB.getAdapter;wr.HttpStatusCode=Fue;wr.default=wr;const gB=wr,w4=[{key:"validé",label:"Payé"},{key:"depotShenzen",label:"En cours"},{key:"expeditionRDC",label:"Prêt à être livré"},{key:"receptionRDC",label:"Livré"}],yO={air:"✈️",sea:"🚢",land:"🚚"},Bue=({currentStep:t="validé",percentage:e=0})=>{const n=t||"validé",r=w4.findIndex(s=>s.key===n),i=r!==-1?w4[r].label:"Payé";return D.jsxs("div",{className:"flex flex-col items-center w-full max-w-[180px] mx-auto",children:[D.jsx("div",{className:"relative w-full h-2 rounded bg-gray-300 overflow-hidden",children:D.jsx("div",{className:"absolute top-0 left-0 h-2 rounded bg-gradient-to-r from-green-400 via-green-500 to-green-600 animate-gradient-move",style:{width:`${e}%`,transition:"width 0.8s ease-in-out"}})}),D.jsxs("span",{className:"text-xs text-gray-500 mt-1 text-center",children:[i," (",e,"%)"]})]})},Uue=t=>{if(!t)return{step:"validé",percent:0,daysElapsed:0,estimatedDelivery:"—"};const e=new Date,n=new Date(t),r=Math.floor((e-n)/(1e3*60*60*24)),i=new Date(n);i.setDate(i.getDate()+8);let s="validé",o=0;return r<=2?(s="validé",o=Math.min(r/8*100,20)):r<=3?(s="depotShenzen",o=Math.min(r/8*100,50)):r<=8?(s="expeditionRDC",o=Math.min(r/8*100,80)):(s="receptionRDC",o=100),{step:s,percent:Math.round(o),daysElapsed:r,estimatedDelivery:i.toLocaleDateString()}};async function vO(t){let e=[];for(const n of t)try{const r=await gB.post("https://translation.googleapis.com/language/translate/v2",{},{params:{q:n,target:"en",key:"AIzaSyBybcMCWvoC62APSF6vOSfb5AwvirxZihw"}});e.push(r.data.data.translations[0].translatedText)}catch(r){console.error("Erreur traduction Google:",r.message),e.push(n)}return e}const Vue=()=>{const{orderId:t}=sD(),{role:e}=ju(),n=$a(),[r,i]=H.useState(null),[s,o]=H.useState(!0),[a,l]=H.useState(0),[c,u]=H.useState(0),[h,f]=H.useState(!1);H.useEffect(()=>{(async()=>{var M;try{const L=Er(Rt,"commandes",t),T=await Qh(L);if(T.exists()){const w=T.data(),A=(M=w.createdAt)!=null&&M.toDate?w.createdAt.toDate():null,O=Uue(A);i({id:T.id,...w,createdAt:A?A.toLocaleDateString():"—",invoiceNumber:w.invoiceNumber||`INV-${T.id.slice(0,6)}`,currentStep:w.currentStep||O.step,progressPercent:O.percent,estimatedDelivery:O.estimatedDelivery,produits:w.produits||[],total:w.total||0,shippingMode:w.shippingMode||"standard"}),l(w.paiementChine||0),u(w.paiementTransport||0)}else alert("Commande introuvable"),n("/commandes")}catch(L){alert("Erreur chargement : "+L.message)}finally{o(!1)}})()},[t,n]);const d=async I=>{if(r){i({...r,currentStep:I});try{const M=Er(Rt,"commandes",r.id);await Bl(M,{currentStep:I}),alert("État de la commande mis à jour !")}catch(M){console.error("Erreur mise à jour état :",M)}}},p=async I=>{if(r){i({...r,shippingMode:I});try{const M=Er(Rt,"commandes",r.id);await Bl(M,{shippingMode:I}),alert("Type d'expédition mis à jour !")}catch(M){console.error("Erreur mise à jour expédition :",M)}}},y=I=>(I.setFontSize(18),I.text("Détail Commande",105,20,{align:"center"}),I.setFontSize(12),I.text(`Commande #${r.id.slice(0,6)}`,20,35),I.text(`Client : ${r.client||"—"}`,20,45),I.text(`Facture : ${r.invoiceNumber}`,20,55),I.text(`Date : ${r.createdAt}`,20,65),I.text(`Livraison estimée : ${r.estimatedDelivery}`,20,75),I.text(`Type d'expédition : ${r.shippingMode}`,20,85),I.text(`État : ${r.currentStep} (${r.progressPercent}%)`,20,95),I.text(`Total : ${r.total.toFixed(2)} $`,20,105),120),b=async()=>{if(!(!r||!r.produits)){f(!0);try{const I=r.produits.map(w=>w.designation),M=await vO(I),L=new mt("p","mm","a4");let T=y(L);for(let w=0;w<r.produits.length;w++){const A=r.produits[w];if(L.setFontSize(14),L.text(`${M[w]}`,20,T),T+=6,L.setFontSize(12),L.text(`Quantity: ${A.quantite}`,20,T),T+=6,L.text(`Unit Price: ${A.prix} $`,20,T),T+=6,L.text(`Total: ${A.total} $`,20,T),T+=6,A.images&&A.images[0]){const O=await x(A.images[0]);L.addImage(O,"JPEG",140,T-18,40,40),T+=45}else T+=10;T>270&&w!==r.produits.length-1&&(L.addPage(),T=20)}L.save(`Order_${r.id}_Products_EN.pdf`)}finally{f(!1)}}},v=async()=>{if(!(!r||!r.produits)){f(!0);try{const I=r.produits.map(O=>O.designation),M=await vO(I),L=new mt("p","mm","a4");let T=y(L);for(let O=0;O<r.produits.length;O++){const E=r.produits[O];if(L.setFontSize(14),L.text(`${M[O]}`,20,T),T+=6,L.setFontSize(12),L.text(`Quantity: ${E.quantite}`,20,T),T+=6,E.images&&E.images[0]){const C=await x(E.images[0]);L.addImage(C,"JPEG",140,T-18,40,40),T+=45}else T+=10;T>270&&O!==r.produits.length-1&&(L.addPage(),T=20)}const w=L.output("blob"),A=new FormData;A.append("pdf",w,`Order_${r.id}_Products_EN.pdf`),A.append("recipients",JSON.stringify(["congoalibaba@gmail.com","1794635146@qq.com"])),await gB.post("http://localhost:5000/send-pdf",A,{headers:{"Content-Type":"multipart/form-data"}}),alert("📧 Email envoyé avec succès !")}catch(I){console.error("Erreur envoi email:",I),alert("❌ Échec envoi email")}finally{f(!1)}}},x=I=>new Promise((M,L)=>{const T=new Image;T.crossOrigin="anonymous",T.src=I,T.onload=()=>{const w=document.createElement("canvas");w.width=T.width,w.height=T.height,w.getContext("2d").drawImage(T,0,0),M(w.toDataURL("image/jpeg"))},T.onerror=L});if(s)return D.jsx("p",{className:"p-4",children:"Chargement..."});if(!r)return null;const S=(r.total-a-c).toFixed(2);return D.jsxs("div",{className:"p-4 sm:p-6 bg-gray-100 min-h-screen",children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsx("button",{onClick:()=>n("/commandes"),className:"bg-gray-600 text-white px-3 py-2 rounded",children:"⬅ Retour"}),D.jsxs("h2",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2",children:["📄 Détail Commande",r.shippingMode&&D.jsx("span",{title:"Mode d'expédition",children:yO[r.shippingMode]||"📦"})]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:b,className:"bg-green-600 text-white px-3 py-2 rounded",disabled:h,children:h?"⏳...":"📄 Export Produits EN"}),D.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-3 py-2 rounded",disabled:h,children:h?"📧 Envoi...":"📧 Envoyer Email"})]})]}),D.jsxs("div",{id:"pdf-content",className:"bg-white shadow rounded p-4",children:[D.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["Commande #",r.id.slice(0,6)]}),D.jsxs("p",{children:["Client : ",r.client||"—"]}),D.jsxs("p",{children:["Facture : ",r.invoiceNumber]}),D.jsxs("p",{children:["Date : ",r.createdAt]}),D.jsxs("p",{children:["Livraison estimée : ",r.estimatedDelivery]}),D.jsxs("p",{children:["Type d'expédition : ",yO[r.shippingMode]||"📦"," ",r.shippingMode]}),D.jsxs("p",{children:["Total : ",D.jsxs("b",{children:[r.total.toFixed(2)," $"]})]}),D.jsx("div",{className:"mt-4",children:D.jsx(Bue,{currentStep:r.currentStep,percentage:r.progressPercent})}),e==="admin"&&D.jsxs("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg shadow",children:[D.jsx("h3",{className:"text-lg font-semibold text-blue-600 mb-3",children:"💰 Détails Dépenses"}),D.jsxs("label",{className:"block mb-2",children:["Paiement Chine ($)",D.jsx("input",{type:"number",value:a,onChange:I=>l(I.target.value),className:"border rounded px-3 py-2 w-full mt-1"})]}),D.jsxs("label",{className:"block mb-2",children:["Paiement frais de transport ($)",D.jsx("input",{type:"number",value:c,onChange:I=>u(I.target.value),className:"border rounded px-3 py-2 w-full mt-1"})]}),D.jsxs("label",{className:"block mb-2",children:["État de la commande",D.jsx("select",{value:r.currentStep,onChange:I=>d(I.target.value),className:"border rounded px-3 py-2 w-full mt-1",children:w4.map(I=>D.jsx("option",{value:I.key,children:I.label},I.key))})]}),D.jsxs("label",{className:"block mb-2",children:["Type d'expédition",D.jsxs("select",{value:r.shippingMode,onChange:I=>p(I.target.value),className:"border rounded px-3 py-2 w-full mt-1",children:[D.jsx("option",{value:"air",children:"Air ✈️"}),D.jsx("option",{value:"sea",children:"Mer 🚢"}),D.jsx("option",{value:"land",children:"Terre 🚚"})]})]}),D.jsxs("p",{className:"text-green-700 font-bold mt-2",children:["Bénéfice estimé : ",S," $"]})]}),r.produits.length>0&&D.jsxs("div",{className:"mt-6",children:[D.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Produits :"}),D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.produits.map((I,M)=>D.jsxs("div",{className:"border p-4 rounded-lg shadow-sm flex flex-col items-center text-center",children:[I.images&&I.images[0]&&D.jsx("img",{src:I.images[0],alt:"Produit",className:"w-32 h-32 object-cover mb-2 rounded-md"}),D.jsx("p",{className:"font-bold text-lg",children:I.designation}),D.jsxs("p",{children:["Quantité : ",I.quantite]}),D.jsxs("p",{children:["Prix unitaire : ",I.prix," $"]}),D.jsxs("p",{className:"font-semibold mt-1",children:["Total : ",I.total," $"]})]},M))})]})]})]})},zue=()=>{const[t,e]=H.useState([]),[n,r]=H.useState(!0),[i,s]=H.useState(""),o=async()=>{try{const c=(await Va(vr(Rt,"clients"))).docs.map(f=>({id:f.id,...f.data()})),u=[],h=new Set;for(let f of c)if(!h.has(f.telephone)){h.add(f.telephone);const p=(await Va(kh(vr(Rt,"commandes"),Y7("client","==",f.nom)))).docs.map(x=>({id:x.id,...x.data()})),y=p.filter(x=>x.etat&&x.etat.toLowerCase()==="en cours").length,b=p.reduce((x,S)=>x+(S.total||0),0),v=p.length>0?p.map(x=>{var S,I;return((I=(S=x.createdAt)==null?void 0:S.toDate)==null?void 0:I.call(S))||new Date}).sort((x,S)=>S-x)[0].toLocaleDateString():"—";u.push({...f,commandes:p.length,commandesEnCours:y,total:b.toFixed(2)+" $",derniere:v})}e(u)}catch(l){alert("❌ Erreur lors du chargement : "+l.message)}finally{r(!1)}};H.useEffect(()=>{o()},[]);const a=t.filter(l=>l.nom.toLowerCase().includes(i.toLowerCase())||l.telephone.includes(i));return D.jsxs("div",{className:"relative min-h-screen p-4 bg-gradient-to-br from-blue-800 via-blue-900 to-blue-950 text-white overflow-hidden",children:[D.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_30%_30%,rgba(255,255,255,0.1),transparent_70%)] pointer-events-none"}),D.jsxs("div",{className:"relative z-10",children:[D.jsxs("div",{className:"sticky top-0 z-20 bg-white/20 backdrop-blur-md shadow flex justify-between items-center px-4 py-3 mb-4 rounded-lg",children:[D.jsxs(lm,{to:"/dashboard",className:"flex items-center text-white hover:text-gray-200",children:[D.jsx(aF,{className:"mr-2 text-lg"})," Accueil"]}),D.jsx("h2",{className:"text-lg font-bold text-left flex-1 ml-4",children:"📋 Liste des clients"}),D.jsx(lm,{to:"/ajouter-client",className:"flex items-center justify-center w-10 h-10 bg-green-500 text-white rounded-full shadow hover:bg-green-600",children:D.jsx(One,{className:"text-lg"})})]}),D.jsxs("div",{className:"flex items-center bg-white/20 border border-white/30 rounded-lg shadow p-3 mb-4 mx-auto max-w-lg backdrop-blur-sm",children:[D.jsx(Mne,{className:"text-white mr-3"}),D.jsx("input",{type:"text",placeholder:"Rechercher un client...",value:i,onChange:l=>s(l.target.value),className:"flex-1 outline-none bg-transparent text-white placeholder-gray-200"})]}),n?D.jsx("p",{className:"text-center mt-10",children:"Chargement..."}):D.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:a.map(l=>D.jsxs("div",{className:"bg-white text-gray-800 rounded-lg shadow hover:shadow-lg transition-all p-2 flex flex-col justify-between transform scale-90",children:[D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center mb-1",children:[D.jsx(uF,{className:"text-blue-600 mr-2"}),D.jsx("span",{className:"font-bold text-sm truncate",children:l.nom})]}),D.jsxs("div",{className:"flex items-center text-gray-600 text-xs mb-1",children:[D.jsx(cF,{className:"mr-2"}),l.telephone]}),D.jsxs("div",{className:"flex items-center text-gray-600 text-xs mb-1",children:[D.jsx(oF,{className:"mr-2"}),l.email||"—"]}),D.jsxs("div",{className:"flex items-center text-gray-600 text-xs mb-2",children:[D.jsx(lF,{className:"mr-2"}),l.adresse||"—"]})]}),D.jsxs("div",{className:"space-y-1 text-xs text-gray-700",children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx(VS,{className:"mr-2 text-gray-500"}),"Commandes :",D.jsx("span",{className:"font-semibold ml-1",children:l.commandes})]}),D.jsxs("div",{className:"flex items-center",children:[D.jsx(VS,{className:"mr-2 text-orange-500"}),"En cours :",D.jsx("span",{className:"font-semibold ml-1",children:l.commandesEnCours})]}),D.jsxs("div",{className:"flex items-center",children:[D.jsx(sF,{className:"mr-2 text-gray-500"}),"Total payé :",D.jsx("span",{className:"font-semibold ml-1",children:l.total})]}),D.jsxs("div",{className:"flex items-center",children:[D.jsx(Pne,{className:"mr-2 text-gray-500"}),"Dernière :",D.jsx("span",{className:"font-semibold ml-1",children:l.derniere})]})]}),D.jsx("div",{className:"mt-2 flex justify-end",children:D.jsxs(lm,{to:`/modifier-client/${l.id}`,className:"flex items-center bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded shadow text-xs",children:[D.jsx(Cne,{className:"mr-1"})," Modifier"]})})]},l.id))})]})]})},$ue=()=>{const[t,e]=H.useState(null);return H.useEffect(()=>{if(!t)return;const r=setTimeout(()=>e(null),3e3);return()=>clearTimeout(r)},[t]),{notification:t,showNotification:(r,i="info")=>e({message:r,type:i})}},que="flex flex-col sm:flex-row font-semibold border-b pb-1 text-sm sm:text-base text-center sm:text-left",Hue="flex flex-col sm:flex-row items-center sm:items-start text-sm sm:text-base",py="flex-1 text-center sm:text-right",Wue="w-20 flex justify-center gap-1",Kue=t=>{const e=parseFloat(t);return isNaN(e)?"0":e.toLocaleString()},Gue=t=>{if(!t)return"";const e=t.toDate?t.toDate():t;return e instanceof Date?e.toLocaleString():""},Yue=2800;function Xue(){const{currentUser:t,role:e}=ju(),n=$a(),{notification:r,showNotification:i}=$ue(),[s,o]=H.useState([]),[a,l]=H.useState([]),[c,u]=H.useState(null),[h,f]=H.useState(null),[d,p]=H.useState({type:"Entrée",categorie:"",montant:"",devise:"USD",semaine:"S1",compte:"Caisse"}),[y,b]=H.useState({titre:"",montant:""}),[v,x]=H.useState({USD:0,CDF:0}),[S,I]=H.useState({USD:0,CDF:0}),[M,L]=H.useState(Yue),T=H.useRef({USD:0,CDF:0}),w=H.useCallback(W=>W?W.split("@")[0].replace(/[._]/g," "):"Utilisateur Inconnu",[]);if(H.useEffect(()=>{(async()=>{var X;try{const ye=await(await fetch("https://api.exchangerate.host/latest?base=USD&symbols=CDF")).json();(X=ye==null?void 0:ye.rates)!=null&&X.CDF&&L(ye.rates.CDF)}catch(re){console.error("Erreur récupération taux :",re)}})()},[]),H.useEffect(()=>{if(!t||!Rt)return;const W=typeof __app_id<"u"?__app_id:"default-app-id",X=vr(Rt,`artifacts/${W}/transactions`),re=vr(Rt,`artifacts/${W}/tasks`),ye=Jv(kh(X,dm("createdAt","desc")),Y=>o(Y.docs.map(Q=>({id:Q.id,...Q.data()}))),Y=>i("Erreur transactions: "+Y.message,"error")),F=Jv(kh(re,dm("createdAt","asc")),Y=>l(Y.docs.map(Q=>({id:Q.id,...Q.data()}))),Y=>i("Erreur tâches: "+Y.message,"error"));return()=>{ye(),F()}},[t,i]),H.useEffect(()=>{const W={USD:0,CDF:0},X={USD:0,CDF:0};s.forEach(re=>{const ye=parseFloat(re.montant);if(isNaN(ye))return;const F=re.compte==="Banque"?X:W,Y=re.type==="Entrée"?1:-1;re.devise==="USD"?F.USD+=Y*ye:re.devise==="CDF"&&(F.CDF+=Y*ye)}),x(W),I(X),T.current={USD:W.USD+X.USD,CDF:W.CDF+X.CDF}},[s]),!t)return n("/login"),null;if(e!=="admin")return D.jsx("div",{className:"text-center text-red-600 font-bold text-xl mt-20",children:"❌ Accès réservé aux administrateurs."});const A=W=>p({...d,[W.target.name]:W.target.value}),O=async W=>{W.preventDefault();try{const re=vr(Rt,`artifacts/${typeof __app_id<"u"?__app_id:"default-app-id"}/transactions`),ye={...d,createdAt:fp(),adminEmail:(t==null?void 0:t.email)||null};c?(await Bl(Er(re,c),ye),u(null),i("Transaction mise à jour ✅","success")):(await hp(re,ye),i("Transaction ajoutée ✅","success")),p({type:"Entrée",categorie:"",montant:"",devise:"USD",semaine:"S1",compte:"Caisse"})}catch(X){i("Erreur ajout/mise à jour: "+X.message,"error")}},E=W=>p({type:W.type,categorie:W.categorie,montant:W.montant,devise:W.devise,semaine:W.semaine||"S1",compte:W.compte||"Caisse"})||u(W.id),C=async W=>{const X=typeof __app_id<"u"?__app_id:"default-app-id";try{await Qv(Er(Rt,`artifacts/${X}/transactions`,W)),i("Transaction supprimée ✅","success")}catch(re){i("Erreur suppression: "+re.message,"error")}},R=W=>b({...y,[W.target.name]:W.target.value}),U=async W=>{W.preventDefault();try{const re=vr(Rt,`artifacts/${typeof __app_id<"u"?__app_id:"default-app-id"}/tasks`),ye={...y,createdAt:fp()};h?(await Bl(Er(re,h),ye),f(null),i("Tâche mise à jour ✅","success")):(await hp(re,ye),i("Tâche ajoutée ✅","success")),b({titre:"",montant:""})}catch(X){i("Erreur ajout/mise à jour: "+X.message,"error")}},te=async W=>{const X=typeof __app_id<"u"?__app_id:"default-app-id";try{await Qv(Er(Rt,`artifacts/${X}/tasks`,W)),i("Tâche supprimée ✅","success")}catch(re){i("Erreur suppression: "+re.message,"error")}},z=v.USD+S.USD+(v.CDF+S.CDF)/(M||1),V=v.CDF+S.CDF+(v.USD+S.USD)*(M||0);return D.jsxs("div",{className:"min-h-screen bg-gray-50 p-4",children:[r&&D.jsx("div",{className:`fixed top-4 right-4 p-4 rounded shadow text-white ${r.type==="error"?"bg-red-600":r.type==="success"?"bg-green-600":"bg-blue-500"}`,children:r.message}),D.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-b-xl mb-4",children:D.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start justify-between gap-4 text-center sm:text-left",children:[D.jsxs("div",{children:[D.jsxs("h1",{className:"text-3xl font-bold",children:["Salut ",w(t.email),"!"]}),D.jsxs("div",{className:"mt-3 grid sm:grid-cols-2 gap-3",children:[D.jsxs("div",{className:"bg-white/10 rounded p-3",children:[D.jsx("div",{className:"font-semibold",children:"Caisse"}),D.jsxs("div",{children:["USD : ",v.USD.toFixed(2)]}),D.jsxs("div",{children:["CDF : ",v.CDF.toLocaleString()]})]}),D.jsxs("div",{className:"bg-white/10 rounded p-3",children:[D.jsx("div",{className:"font-semibold",children:"Banque"}),D.jsxs("div",{children:["USD : ",S.USD.toFixed(2)]}),D.jsxs("div",{children:["CDF : ",S.CDF.toLocaleString()]})]})]}),D.jsx("div",{className:"mt-3 text-sm opacity-90",children:D.jsxs("div",{children:["Total ~ USD : ",z.toFixed(2)," | CDF : ",V.toLocaleString()]})})]}),D.jsxs("div",{className:"flex flex-col items-end gap-2",children:[D.jsxs("label",{className:"text-sm",children:["Taux du jour (USD → CDF)",D.jsx("input",{type:"number",className:"ml-2 px-2 py-1 rounded text-black",value:M,onChange:W=>L(Number(W.target.value)||0),min:0})]}),D.jsx("button",{onClick:()=>n("/dashboard"),className:"mt-1 bg-white text-blue-700 px-3 py-2 rounded shadow hover:bg-blue-50 mx-auto sm:mx-0",children:"← Retour au tableau de bord"})]})]})}),D.jsxs("div",{className:"bg-white p-4 shadow rounded mb-4",children:[D.jsx("h2",{className:"text-xl font-bold mb-2",children:c?"Éditer Transaction":"Nouvelle Transaction"}),D.jsxs("form",{onSubmit:O,className:"grid sm:grid-cols-3 gap-2",children:[D.jsxs("select",{name:"type",value:d.type,onChange:A,className:"border p-2 rounded",children:[D.jsx("option",{children:"Entrée"}),D.jsx("option",{children:"Sortie"})]}),D.jsx("input",{name:"categorie",placeholder:"Catégorie",value:d.categorie,onChange:A,className:"border p-2 rounded"}),D.jsx("input",{name:"montant",type:"number",placeholder:"Montant",value:d.montant,onChange:A,className:"border p-2 rounded"}),D.jsxs("select",{name:"devise",value:d.devise,onChange:A,className:"border p-2 rounded",children:[D.jsx("option",{value:"USD",children:"USD"}),D.jsx("option",{value:"CDF",children:"CDF"})]}),D.jsxs("select",{name:"semaine",value:d.semaine,onChange:A,className:"border p-2 rounded",children:[D.jsx("option",{value:"S1",children:"S1"}),D.jsx("option",{value:"S2",children:"S2"}),D.jsx("option",{value:"S3",children:"S3"}),D.jsx("option",{value:"S4",children:"S4"})]}),D.jsxs("select",{name:"compte",value:d.compte,onChange:A,className:"border p-2 rounded",children:[D.jsx("option",{value:"Caisse",children:"Caisse"}),D.jsx("option",{value:"Banque",children:"Banque"})]}),D.jsx("div",{className:"sm:col-span-3",children:D.jsx("button",{className:"bg-blue-600 text-white p-2 rounded hover:bg-blue-700",type:"submit",children:c?"Mettre à jour":"Ajouter"})})]})]}),D.jsxs("div",{className:"bg-white p-4 shadow rounded mb-4",children:[D.jsx("h2",{className:"text-xl font-bold mb-2",children:"Transactions"}),s.length===0?D.jsx("p",{className:"text-gray-500 italic",children:"Aucune transaction trouvée"}):D.jsxs("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:[D.jsxs("li",{className:que,role:"row",children:[D.jsx("span",{role:"columnheader",className:"flex-1",children:"Catégorie"}),D.jsx("span",{className:py,role:"columnheader",children:"Montant"}),D.jsx("span",{className:py,role:"columnheader",children:"Date"}),D.jsx("span",{className:"w-20 text-center",role:"columnheader",children:"Actions"})]}),s.map(W=>D.jsxs("li",{className:`${Hue} border-b pb-1 ${W.type==="Entrée"?"bg-green-50":"bg-red-50"}`,role:"row",children:[D.jsxs("div",{className:"flex-1 flex flex-col",children:[D.jsxs("span",{className:"font-medium text-gray-900",children:[W.categorie||"Sans catégorie"," ",W.type?`(${W.type})`:""," – ",W.compte||"Caisse"]}),D.jsx("small",{className:"text-gray-500",children:W.adminEmail||"Inconnu"})]}),D.jsxs("span",{className:`${py} font-medium`,children:[Kue(W.montant)," ",W.devise||""]}),D.jsx("span",{className:`${py} text-gray-600`,children:Gue(W.createdAt)}),D.jsxs("span",{className:Wue,children:[D.jsx("button",{onClick:()=>E==null?void 0:E(W),className:"text-yellow-600 hover:text-yellow-800","aria-label":"Éditer",children:"✏️"}),D.jsx("button",{onClick:()=>C==null?void 0:C(W.id),className:"text-red-600 hover:text-red-800","aria-label":"Supprimer",children:"🗑️"})]})]},W.id))]})]}),D.jsxs("div",{className:"bg-white p-4 shadow rounded mb-4",children:[D.jsx("h2",{className:"text-xl font-bold mb-2",children:h?"Éditer Tâche":"Nouvelle Tâche"}),D.jsxs("form",{onSubmit:U,className:"flex flex-col gap-2",children:[D.jsx("input",{name:"titre",placeholder:"Titre",value:y.titre,onChange:R,className:"border p-2 rounded"}),D.jsx("input",{name:"montant",type:"number",placeholder:"Montant",value:y.montant,onChange:R,className:"border p-2 rounded"}),D.jsx("button",{className:"bg-green-600 text-white p-2 rounded hover:bg-green-700",type:"submit",children:h?"Mettre à jour":"Ajouter"})]})]}),D.jsxs("div",{className:"bg-white p-4 shadow rounded mb-4",children:[D.jsx("h2",{className:"text-xl font-bold mb-2",children:"Tâches en attente"}),a.length===0?D.jsx("p",{className:"text-gray-500 italic",children:"Aucune tâche en attente"}):D.jsx("ul",{children:a.map(W=>D.jsxs("li",{className:"flex justify-between border-b py-1",children:[D.jsxs("span",{children:[W.titre," - ",W.montant,"$"]}),D.jsxs("span",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>{f(W.id),b({titre:W.titre,montant:W.montant})},className:"text-yellow-600 hover:text-yellow-800",children:"✏️"}),D.jsx("button",{onClick:()=>te(W.id),className:"text-red-600 hover:text-red-800",children:"🗑️"})]})]},W.id))})]})]})}const Que=()=>{const[t,e]=H.useState([{client:"",produits:[{designation:"",lien:"",images:[],prix:"",quantite:"",total:0}],total:0}]),[n,r]=H.useState([]),[i,s]=H.useState({}),[o,a]=H.useState({}),[l,c]=H.useState(!1);H.useEffect(()=>{(async()=>{const M=(await Va(vr(Rt,"clients"))).docs.map(L=>({id:L.id,nom:L.data().nom}));r(M)})()},[]);const u=(S,I,M,L)=>{const T=[...t];if(T[S].produits[I][M]=L,M==="prix"||M==="quantite"){const w=parseFloat(T[S].produits[I].prix)||0,A=parseInt(T[S].produits[I].quantite)||0;T[S].produits[I].total=w*A}T[S].total=T[S].produits.reduce((w,A)=>w+(A.total||0),0),e(T)},h=(S,I,M)=>new Promise((L,T)=>{const w=eF(tF,`public/produits/${Date.now()}_${S.name}`),A=Jj(w,S);A.on("state_changed",O=>{const E=Math.round(O.bytesTransferred/O.totalBytes*100);a(C=>({...C,[`${I}-${M}-${S.name}`]:E}))},T,async()=>{const O=await Zj(A.snapshot.ref);L(O)})}),f=async(S,I,M)=>{if(M.length===0)return;c(!0);const L=Array.from(M),T=L.map(w=>URL.createObjectURL(w));s(w=>({...w,[`${S}-${I}`]:[...w[`${S}-${I}`]||[],...T]}));try{const w=L.map(O=>h(O,S,I)),A=await Promise.all(w);e(O=>{const E=[...O],C=E[S].produits[I].images||[];return E[S].produits[I].images=[...C,...A],E})}catch(w){console.error("Erreur lors de l'upload des images:",w),alert("❌ Erreur lors de l'upload des images")}finally{c(!1),a({})}},d=(S,I,M)=>{e(L=>{const T=[...L];return T[S].produits[I].images.splice(M,1),T}),s(L=>{const T={...L};return T[`${S}-${I}`].splice(M,1),T})},p=S=>{const I=[...t];I[S].produits.push({designation:"",lien:"",images:[],prix:"",quantite:"",total:0}),e(I)},y=()=>{e([...t,{client:"",produits:[{designation:"",lien:"",images:[],prix:"",quantite:"",total:0}],total:0}])},b=async()=>{const S=Er(Rt,"config","ordersCounter"),I=await Qh(S);I.exists()||await DS(S,{lastNumber:0});const L=(I.exists()?I.data().lastNumber:0)+1;return await Bl(S,{lastNumber:L}),`ALKN${String(L).padStart(3,"0")}`},v=async S=>{const I=kh(vr(Rt,"produitsEvalués"),Y7("designation","==",S.designation)),M=await Va(I);if(M.empty)await hp(vr(Rt,"produitsEvalués"),{designation:S.designation,lien:S.lien,images:S.images,prixFinal:parseFloat(S.prix)||0,quantite:parseInt(S.quantite)||0,createdAt:fp()});else{const L=M.docs[0].ref,T=M.docs[0].data();await Bl(L,{quantite:(T.quantite||0)+(parseInt(S.quantite)||0),prixFinal:parseFloat(S.prix)||0})}},x=async S=>{if(S.preventDefault(),!ef.currentUser)return alert("Vous devez être connecté");try{for(const I of t){const M=await b();await hp(vr(Rt,"commandes"),{client:I.client,produits:I.produits,total:I.total,etat:"Payé",numeroCommande:M,createdAt:fp(),userId:ef.currentUser.uid});for(const L of I.produits)await v(L)}alert("✅ Commandes enregistrées !"),e([{client:"",produits:[{designation:"",lien:"",images:[],prix:"",quantite:"",total:0}],total:0}]),s({}),a({})}catch(I){alert("❌ Erreur: "+I.message)}};return D.jsxs("div",{className:"flex",children:[D.jsx(M0,{}),D.jsxs("div",{className:"flex-1 flex flex-col min-h-screen bg-gray-100",children:[D.jsx(D0,{}),D.jsxs("main",{className:"p-6",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"📝 Ajouter plusieurs commandes"}),D.jsxs("form",{onSubmit:x,className:"space-y-6",children:[t.map((S,I)=>D.jsxs("div",{className:"bg-white p-4 border rounded shadow space-y-4",children:[D.jsx("label",{className:"font-semibold",children:"Client :"}),D.jsxs("select",{className:"block w-full p-2 mt-1 border rounded mb-4",value:S.client,onChange:M=>{const L=[...t];L[I].client=M.target.value,e(L)},required:!0,children:[D.jsx("option",{value:"",children:"-- Sélectionner un client --"}),n.map(M=>D.jsx("option",{value:M.nom,children:M.nom},M.id))]}),S.produits.map((M,L)=>{var T;return D.jsxs("div",{className:"bg-gray-50 p-4 border rounded mb-3 space-y-2",children:[D.jsx("input",{type:"text",placeholder:"Désignation",value:M.designation,onChange:w=>u(I,L,"designation",w.target.value),className:"input w-full mb-2",required:!0}),D.jsx("input",{type:"text",placeholder:"Lien du produit",value:M.lien,onChange:w=>u(I,L,"lien",w.target.value),className:"input w-full mb-2"}),D.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed rounded mb-2 cursor-pointer",onClick:()=>document.getElementById(`fileInput-${I}-${L}`).click(),children:[D.jsx("p",{className:"text-gray-500",children:"📂 Glisser ou cliquer pour images"}),D.jsx("input",{id:`fileInput-${I}-${L}`,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:w=>f(I,L,w.target.files)})]}),((T=i[`${I}-${L}`])==null?void 0:T.length)>0&&D.jsx("div",{className:"grid grid-cols-3 gap-2 mb-2",children:i[`${I}-${L}`].map((w,A)=>D.jsxs("div",{className:"relative",children:[D.jsx("img",{src:w,alt:"",className:"h-24 w-full object-cover border rounded"}),o[`${I}-${L}-${A}`]&&D.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-gray-300",children:D.jsxs("div",{className:"bg-green-500 text-xs text-white text-center",style:{width:`${o[`${I}-${L}-${A}`]}%`},children:[o[`${I}-${L}-${A}`],"%"]})}),D.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 text-xs",onClick:()=>d(I,L,A),children:"✖"})]},A))}),D.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[D.jsx("input",{type:"number",placeholder:"Prix unitaire",value:M.prix,onChange:w=>u(I,L,"prix",w.target.value),className:"input w-full",required:!0}),D.jsx("input",{type:"number",placeholder:"Quantité",value:M.quantite,onChange:w=>u(I,L,"quantite",w.target.value),className:"input w-full",required:!0})]}),D.jsxs("p",{className:"mt-2 font-bold",children:["💵 Total : ",(M.total||0).toFixed(2)," $"]})]},L)}),D.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:()=>p(I),children:"➕ Ajouter un produit"}),D.jsxs("p",{className:"mt-4 font-bold",children:["Total commande : ",S.total.toFixed(2)," $"]})]},I)),D.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 bg-yellow-500 text-white rounded",children:"➕ Ajouter une commande"}),D.jsx("button",{type:"submit",className:"px-6 py-3 bg-green-600 text-white font-bold rounded",disabled:l,children:l?"Chargement...":"✅ Enregistrer toutes les commandes"})]})]})]})]})},Jue=()=>{const[t,e]=H.useState(""),[n,r]=H.useState(""),[i,s]=H.useState(""),[o,a]=H.useState(""),[l,c]=H.useState(!1),u=$a(),h=async f=>{f.preventDefault(),c(!0);try{await hp(vr(Rt,"clients"),{nom:t,telephone:n,email:i,adresse:o,createdAt:fp()}),alert("✅ Client ajouté avec succès !"),u("/clients")}catch(d){alert("❌ Erreur lors de l’ajout : "+d.message)}finally{c(!1)}};return D.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-600 via-blue-700 to-blue-900 min-h-screen flex flex-col items-center text-white",children:[D.jsxs("div",{className:"sticky top-0 w-full bg-white/20 backdrop-blur-md shadow flex items-center justify-between px-4 py-3 mb-6 rounded-lg",children:[D.jsxs("button",{onClick:()=>u("/clients"),className:"flex items-center text-white hover:text-gray-200",children:[D.jsx(aI,{className:"mr-2"})," Retour"]}),D.jsx("h2",{className:"text-lg font-bold",children:"➕ Ajouter un client"}),D.jsx("div",{})]}),D.jsxs("form",{onSubmit:h,className:"space-y-4 bg-white text-gray-800 p-6 rounded-2xl shadow-lg w-full max-w-lg",children:[D.jsxs("div",{className:"flex items-center border rounded px-3 py-2 focus-within:ring-2 focus-within:ring-blue-400",children:[D.jsx(uF,{className:"text-gray-400 mr-3"}),D.jsx("input",{type:"text",placeholder:"Nom complet",value:t,onChange:f=>e(f.target.value),className:"flex-1 outline-none",required:!0})]}),D.jsxs("div",{className:"flex items-center border rounded px-3 py-2 focus-within:ring-2 focus-within:ring-blue-400",children:[D.jsx(cF,{className:"text-gray-400 mr-3"}),D.jsx("input",{type:"text",placeholder:"Téléphone",value:n,onChange:f=>r(f.target.value),className:"flex-1 outline-none",required:!0})]}),D.jsxs("div",{className:"flex items-center border rounded px-3 py-2 focus-within:ring-2 focus-within:ring-blue-400",children:[D.jsx(oF,{className:"text-gray-400 mr-3"}),D.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:f=>s(f.target.value),className:"flex-1 outline-none"})]}),D.jsxs("div",{className:"flex items-start border rounded px-3 py-2 focus-within:ring-2 focus-within:ring-blue-400",children:[D.jsx(lF,{className:"text-gray-400 mt-1 mr-3"}),D.jsx("textarea",{placeholder:"Adresse de livraison",value:o,onChange:f=>a(f.target.value),className:"flex-1 outline-none resize-none",rows:3})]}),D.jsxs("div",{className:"flex gap-4 justify-end mt-4",children:[D.jsxs("button",{type:"button",onClick:()=>u("/clients"),className:"flex items-center bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded shadow",children:[D.jsx(aI,{className:"mr-2"})," Annuler"]}),D.jsxs("button",{type:"submit",disabled:l,className:`flex items-center bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded shadow ${l?"opacity-50 cursor-not-allowed":""}`,children:[D.jsx(Lne,{className:"mr-2"})," ",l?"Enregistrement...":"Enregistrer"]})]})]})]})},Zue=()=>{const{id:t}=sD(),e=$a(),[n,r]=H.useState(""),[i,s]=H.useState(""),[o,a]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const u=Er(Rt,"clients",t),h=await Qh(u);if(h.exists()){const f=h.data();r(f.nom||""),s(f.telephone||"")}else alert("❌ Client introuvable."),e("/clients")}catch(u){alert("❌ Erreur lors de la récupération : "+u.message)}finally{a(!1)}})()},[t,e]);const l=async c=>{c.preventDefault();try{const u=Er(Rt,"clients",t);await Bl(u,{nom:n,telephone:i}),alert("✅ Client mis à jour avec succès !"),e("/clients")}catch(u){alert("❌ Erreur lors de la mise à jour : "+u.message)}};return o?D.jsx("p",{className:"p-6",children:"Chargement..."}):D.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[D.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"✏️ Modifier client"}),D.jsxs("form",{onSubmit:l,className:"space-y-4 max-w-md bg-white p-6 rounded shadow",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block font-semibold mb-1",children:"Nom :"}),D.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),className:"input w-full border p-2 rounded",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block font-semibold mb-1",children:"Téléphone :"}),D.jsx("input",{type:"text",value:i,onChange:c=>s(c.target.value),className:"input w-full border p-2 rounded",required:!0})]}),D.jsxs("div",{className:"flex gap-4",children:[D.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded",children:"💾 Enregistrer"}),D.jsx("button",{type:"button",onClick:()=>e("/clients"),className:"bg-gray-400 text-white px-4 py-2 rounded",children:"↩️ Retour"})]})]})]})},ehe=()=>{ju();const[t,e]=H.useState(""),[n,r]=H.useState([]),[i,s]=H.useState("Air"),[o,a]=H.useState([{nomProduit:"",designation:"",lienProduit:"",imageProduit:"",prixAffiche:"",commission:25,poidsKg:"",quantite:"",imageFile:null}]),[l,c]=H.useState(!1);H.useEffect(()=>{(async()=>{try{const x=(await Va(vr(Rt,"clients"))).docs.map(S=>({id:S.id,...S.data()}));r(x)}catch(v){console.error("Erreur chargement clients:",v)}})()},[]);const u=()=>{a([...o,{nomProduit:"",designation:"",lienProduit:"",imageProduit:"",prixAffiche:"",commission:25,poidsKg:"",quantite:"",imageFile:null}])},h=b=>{const v=[...o];v.splice(b,1),a(v)},f=(b,v,x)=>{const S=[...o];S[b][v]=x,a(S)},d=(b,v)=>{const x=[...o];x[b].imageFile=v,a(x)},p=()=>o.reduce((b,v)=>{const x=parseFloat(v.prixAffiche)||0,S=parseInt(v.quantite)||0;return b+x*S},0),y=async()=>{try{c(!0);const b=await Promise.all(o.map(async v=>{let x="";if(v.imageFile){const S=eF(tF,`produits/${Date.now()}-${v.imageFile.name}`);await Jj(S,v.imageFile),x=await Zj(S)}return{...v,imageProduit:x}}));await hp(vr(Rt,"cotations"),{client:t,modeExpedition:i,produits:b,totalGlobal:p(),createdAt:fp()}),alert("Cotation enregistrée ✅"),a([{nomProduit:"",designation:"",lienProduit:"",imageProduit:"",prixAffiche:"",commission:25,poidsKg:"",quantite:"",imageFile:null}]),e("")}catch(b){console.error("Erreur ajout cotation:",b),alert("Erreur lors de l'enregistrement ❌")}finally{c(!1)}};return D.jsxs("div",{className:"flex",children:[D.jsx(M0,{}),D.jsxs("div",{className:"flex-1",children:[D.jsx(D0,{}),D.jsxs("div",{className:"p-4",children:[D.jsx("h1",{className:"text-xl font-bold mb-4",children:"Créer une cotation"}),D.jsx("label",{className:"block mb-2 font-semibold",children:"Client"}),D.jsxs("select",{value:t,onChange:b=>e(b.target.value),className:"border p-2 rounded w-full mb-4",children:[D.jsx("option",{value:"",children:"-- Sélectionner un client --"}),n.map(b=>D.jsx("option",{value:b.nom,children:b.nom},b.id))]}),D.jsx("label",{className:"block mb-2 font-semibold",children:"Mode d'expédition"}),D.jsxs("select",{value:i,onChange:b=>s(b.target.value),className:"border p-2 rounded w-full mb-4",children:[D.jsx("option",{value:"Air",children:"Air"}),D.jsx("option",{value:"Maritime",children:"Maritime"})]}),o.map((b,v)=>D.jsxs("div",{className:"border p-4 rounded mb-4",children:[D.jsxs("h2",{className:"font-semibold mb-2",children:["Produit ",v+1]}),D.jsx("input",{type:"text",placeholder:"Nom du produit",value:b.nomProduit,onChange:x=>f(v,"nomProduit",x.target.value),className:"border p-2 rounded w-full mb-2"}),D.jsx("input",{type:"text",placeholder:"Désignation",value:b.designation,onChange:x=>f(v,"designation",x.target.value),className:"border p-2 rounded w-full mb-2"}),D.jsx("input",{type:"text",placeholder:"Lien du produit",value:b.lienProduit,onChange:x=>f(v,"lienProduit",x.target.value),className:"border p-2 rounded w-full mb-2"}),D.jsx("input",{type:"number",placeholder:"Prix affiché",value:b.prixAffiche,onChange:x=>f(v,"prixAffiche",x.target.value),className:"border p-2 rounded w-full mb-2"}),D.jsx("input",{type:"number",placeholder:"Quantité",value:b.quantite,onChange:x=>f(v,"quantite",x.target.value),className:"border p-2 rounded w-full mb-2"}),D.jsx("input",{type:"number",placeholder:"Poids (kg)",value:b.poidsKg,onChange:x=>f(v,"poidsKg",x.target.value),className:"border p-2 rounded w-full mb-2"}),D.jsx("input",{type:"file",accept:"image/*",onChange:x=>d(v,x.target.files[0]),className:"mb-2"}),b.imageFile&&D.jsx("img",{src:URL.createObjectURL(b.imageFile),alt:"preview",className:"w-24 h-24 object-cover rounded mb-2"}),D.jsx("button",{onClick:()=>h(v),className:"bg-red-500 text-white px-3 py-1 rounded",children:"Supprimer"})]},v)),D.jsx("button",{onClick:u,className:"bg-blue-500 text-white px-4 py-2 rounded mb-4",children:"➕ Ajouter un produit"}),D.jsxs("div",{className:"mb-4",children:[D.jsx("strong",{children:"Total global:"})," ",p()," $"]}),D.jsx("button",{onClick:y,disabled:l,className:"bg-green-600 text-white px-6 py-2 rounded",children:l?"Enregistrement...":"✅ Enregistrer la cotation"})]})]})]})},bO=12,the=[{key:"all",label:"Tout"},{key:"beauty",label:"Beauté"},{key:"accessoires",label:"Accessoires"},{key:"electronique",label:"Électronique"},{key:"mode",label:"Mode"},{key:"maison",label:"Maison"}],W_="store_products_cache",nhe=()=>{const[t,e]=H.useState([]),[n,r]=H.useState("Air"),[i,s]=H.useState(!0),[o,a]=H.useState(""),[l,c]=H.useState("all"),[u,h]=H.useState("default"),[f,d]=H.useState("all"),[p,y]=H.useState(null),[b,v]=H.useState(!1),x=H.useRef(),S=$a();H.useEffect(()=>{const w=localStorage.getItem(W_);if(w){const A=JSON.parse(w);e(A.data),y(A.lastDoc||null),s(!1)}},[]),H.useEffect(()=>{const w=Jv(kh(vr(Rt,"produitsEvalués"),dm("createdAt","desc"),kN(bO)),O=>{const E=O.docs.map(C=>({id:C.id,...C.data(),source:"evalué"}));e(C=>{const R=[...E];return C.forEach(U=>{R.find(te=>te.code===U.code)||R.push(U)}),R}),y(O.docs[O.docs.length-1]),localStorage.setItem(W_,JSON.stringify({data:E,lastDoc:O.docs[O.docs.length-1]})),s(!1)}),A=Jv(kh(vr(Rt,"commandes"),dm("createdAt","desc")),O=>{let E=[];O.docs.forEach(C=>{const R=C.data();R.produits&&R.produits.forEach(U=>{E.find(te=>te.code===U.code)||E.push({...U,source:"commande",prixCommande:U.total||U.prix||U.montant||0})})}),e(C=>{const R=[...C];return E.forEach(U=>{R.find(te=>te.code===U.code)||R.push(U)}),R})});return()=>{w(),A()}},[]);const I=async()=>{if(!p)return;v(!0);const w=kh(vr(Rt,"produitsEvalués"),dm("createdAt","desc"),MJ(p),kN(bO)),A=await Va(w),O=A.docs.map(C=>({id:C.id,...C.data(),source:"evalué"})),E=[...t,...O];e(E),y(A.docs[A.docs.length-1]||null),localStorage.setItem(W_,JSON.stringify({data:E,lastDoc:A.docs[A.docs.length-1]})),v(!1)},M=H.useCallback(w=>{i||b||(x.current&&x.current.disconnect(),x.current=new IntersectionObserver(A=>{A[0].isIntersecting&&p&&I()}),w&&x.current.observe(w))},[i,b,p]),L=w=>{var E;if(!((E=w.createdAt)!=null&&E.toDate))return!1;const A=w.createdAt.toDate();return(Date.now()-A.getTime())/(1e3*60*60*24)<=7};let T=t.filter(w=>{var C,R,U;const A=((C=w.nomProduit)==null?void 0:C.toLowerCase().includes(o.toLowerCase()))||((R=w.designation)==null?void 0:R.toLowerCase().includes(o.toLowerCase())),O=l==="all"||((U=w.categorie)==null?void 0:U.toLowerCase())===l.toLowerCase(),E=f==="all"||f==="commande"&&w.source==="commande"||f==="evalué"&&w.source==="evalué";return A&&O&&E});return u==="prix-asc"?T.sort((w,A)=>parseFloat(w.prixCommande||w.total||w.prix||w.montant||0)-parseFloat(A.prixCommande||A.total||A.prix||A.montant||0)):u==="prix-desc"?T.sort((w,A)=>parseFloat(A.prixCommande||A.total||A.prix||A.montant||0)-parseFloat(w.prixCommande||w.total||w.prix||w.montant||0)):u==="quantite"&&T.sort((w,A)=>(A.quantite||0)-(w.quantite||0)),D.jsxs("div",{className:"flex bg-gray-50 min-h-screen",children:[D.jsx(M0,{className:"hidden sm:block"}),D.jsxs("div",{className:"flex-1 flex flex-col",children:[D.jsx(D0,{className:"hidden sm:block"}),D.jsxs("main",{className:"p-2 sm:p-4",children:[D.jsxs("button",{onClick:()=>S("/dashboard"),className:"sm:hidden mb-4 bg-gray-200 text-gray-700 px-4 py-2 rounded-full shadow-sm text-sm flex items-center",children:[D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Retour"]}),D.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2",children:[D.jsx("input",{type:"text",placeholder:"🔍 Rechercher un produit...",value:o,onChange:w=>a(w.target.value),className:"w-full sm:w-1/3 border border-gray-300 rounded-full px-4 py-2 text-sm"}),D.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-end gap-2 w-full sm:w-2/3",children:[D.jsxs("select",{className:"border border-gray-300 rounded-full px-4 py-2 text-xs",value:n,onChange:w=>r(w.target.value),children:[D.jsx("option",{value:"Air",children:"✈️ Aérien"}),D.jsx("option",{value:"Maritime",children:"🚢 Maritime"})]}),D.jsxs("select",{className:"border border-gray-300 rounded-full px-4 py-2 text-xs",value:u,onChange:w=>h(w.target.value),children:[D.jsx("option",{value:"default",children:"Trier par défaut"}),D.jsx("option",{value:"prix-asc",children:"Prix croissant"}),D.jsx("option",{value:"prix-desc",children:"Prix décroissant"}),D.jsx("option",{value:"quantite",children:"Quantité disponible"})]}),D.jsxs("select",{className:"border border-gray-300 rounded-full px-4 py-2 text-xs",value:f,onChange:w=>d(w.target.value),children:[D.jsx("option",{value:"all",children:"Tous"}),D.jsx("option",{value:"commande",children:"Produits Commandes"}),D.jsx("option",{value:"evalué",children:"Produits Évalués"})]})]})]}),D.jsx("div",{className:"flex overflow-x-auto space-x-2 mb-4 py-2 no-scrollbar",children:the.map(w=>D.jsx("button",{onClick:()=>c(w.key),className:`px-4 py-1 rounded-full text-xs whitespace-nowrap transition-all duration-200 ${l===w.key?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`,children:w.label},w.key))}),i?D.jsx("p",{className:"text-center text-gray-500",children:"Chargement..."}):T.length===0?D.jsx("p",{className:"text-center text-gray-500",children:"Aucun produit trouvé."}):D.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2",children:T.map((w,A)=>{var O;return D.jsxs("div",{ref:A===T.length-1?M:null,className:`relative bg-white rounded-lg shadow-sm hover:shadow-md transition-all p-2 flex flex-col ${(w.quantite||0)===0?"opacity-60":""}`,children:[D.jsx("div",{className:"relative w-full aspect-square bg-gray-100 rounded-md overflow-hidden mb-2",children:D.jsx("img",{src:w.imageProduit||((O=w.images)==null?void 0:O[0]),alt:w.nomProduit||w.designation,loading:"lazy",className:"w-full h-full object-cover"})}),D.jsx("h3",{className:"font-semibold text-gray-800 text-xs line-clamp-2 min-h-[30px]",children:w.nomProduit||w.designation}),D.jsx("div",{className:"flex-1"})," ",D.jsxs("span",{className:"text-green-700 font-bold text-xs mt-1",children:["💵"," ",(parseFloat(w.prixCommande||w.total||w.prix||w.montant||0)||0).toFixed(2)," ","$"]}),D.jsxs("span",{className:"text-[10px] text-gray-500 mb-2",children:["Stock : ",w.quantite||0]}),w.source==="commande"&&D.jsx("span",{className:"absolute top-3 right-3 bg-blue-500 text-white text-[9px] px-2 py-0.5 rounded-full shadow-md font-semibold",children:"📦 Commandé"}),D.jsx("button",{disabled:(w.quantite||0)===0,className:`mt-auto px-2 py-1 rounded-full text-[10px] font-medium transition-colors ${(w.quantite||0)===0?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:"Commander"}),L(w)&&D.jsx("span",{className:"absolute top-3 left-3 bg-red-500 text-white text-[9px] px-2 py-0.5 rounded-full shadow-md font-semibold",children:"🔥 Nouveau"})]},w.id||A)})}),b&&D.jsx("p",{className:"text-center mt-4 text-sm text-gray-500",children:"Chargement plus de produits..."})]})]})]})};function mB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=mB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Cr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=mB(t))&&(r&&(r+=" "),r+=e);return r}var mw={},yB={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(yB);var z3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(z3);var $3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})($3);var yw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,o="",a="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const c=n[s];a?c==="\\"&&s+1<i?(s++,o+=n[s]):c===a?a="":o+=c:l?c==='"'||c==="'"?a=c:c==="]"?(l=!1,r.push(o),o=""):o+=c:c==="["?(l=!0,o&&(r.push(o),o="")):c==="."?o&&(r.push(o),o=""):o+=c,s++}return o&&r.push(o),r}t.toPath=e})(yw);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yB,n=z3,r=$3,i=yw;function s(a,l,c){if(a==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=a[l];return u===void 0?n.isDeepKey(l)?s(a,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=a[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(a,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=a[l];return u===void 0?c:u}}}function o(a,l,c){if(l.length===0)return c;let u=a;for(let h=0;h<l.length;h++){if(u==null||e.isUnsafeProperty(l[h]))return c;u=u[l[h]]}return u===void 0?c:u}t.get=s})(mw);var rhe=mw.get;const mp=Kl(rhe);var vB={exports:{}},vn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q3=Symbol.for("react.transitional.element"),H3=Symbol.for("react.portal"),vw=Symbol.for("react.fragment"),bw=Symbol.for("react.strict_mode"),ww=Symbol.for("react.profiler"),_w=Symbol.for("react.consumer"),xw=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),Aw=Symbol.for("react.suspense"),Ew=Symbol.for("react.suspense_list"),Pw=Symbol.for("react.memo"),Tw=Symbol.for("react.lazy"),ihe=Symbol.for("react.view_transition"),she=Symbol.for("react.client.reference");function xo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case q3:switch(t=t.type,t){case vw:case ww:case bw:case Aw:case Ew:case ihe:return t;default:switch(t=t&&t.$$typeof,t){case xw:case Sw:case Tw:case Pw:return t;case _w:return t;default:return e}}case H3:return e}}}vn.ContextConsumer=_w;vn.ContextProvider=xw;vn.Element=q3;vn.ForwardRef=Sw;vn.Fragment=vw;vn.Lazy=Tw;vn.Memo=Pw;vn.Portal=H3;vn.Profiler=ww;vn.StrictMode=bw;vn.Suspense=Aw;vn.SuspenseList=Ew;vn.isContextConsumer=function(t){return xo(t)===_w};vn.isContextProvider=function(t){return xo(t)===xw};vn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===q3};vn.isForwardRef=function(t){return xo(t)===Sw};vn.isFragment=function(t){return xo(t)===vw};vn.isLazy=function(t){return xo(t)===Tw};vn.isMemo=function(t){return xo(t)===Pw};vn.isPortal=function(t){return xo(t)===H3};vn.isProfiler=function(t){return xo(t)===ww};vn.isStrictMode=function(t){return xo(t)===bw};vn.isSuspense=function(t){return xo(t)===Aw};vn.isSuspenseList=function(t){return xo(t)===Ew};vn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vw||t===ww||t===bw||t===Aw||t===Ew||typeof t=="object"&&t!==null&&(t.$$typeof===Tw||t.$$typeof===Pw||t.$$typeof===xw||t.$$typeof===_w||t.$$typeof===Sw||t.$$typeof===she||t.getModuleId!==void 0)};vn.typeOf=xo;vB.exports=vn;var ohe=vB.exports,Ms=t=>t===0?0:t>0?1:-1,na=t=>typeof t=="number"&&t!=+t,Xg=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Bt=t=>(typeof t=="number"||t instanceof Number)&&!na(t),zl=t=>Bt(t)||typeof t=="string",ahe=0,C2=t=>{var e=++ahe;return"".concat(t||"").concat(e)},Fa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Bt(e)&&typeof e!="string")return r;var s;if(Xg(e)){if(n==null)return r;var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return na(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},bB=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},wO=(t,e)=>Bt(t)&&Bt(e)?n=>t+n*(e-t):()=>e;function lhe(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):mp(r,e))===n)}var sf=t=>t===null||typeof t>"u",z0=t=>sf(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),che=["viewBox","children"],uhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_O=["points","pathLength"],K_={svg:che,polygon:_O,polyline:_O},W3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hhe=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(H.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{W3.includes(i)&&(r[i]=e||(s=>n[i](n,s)))}),r},fhe=(t,e,n)=>r=>(t(e,n,r),null),wB=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];W3.includes(i)&&typeof s=="function"&&(r||(r={}),r[i]=fhe(s,e,n))}),r},xO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",SO=null,G_=null,_B=t=>{if(t===SO&&Array.isArray(G_))return G_;var e=[];return H.Children.forEach(t,n=>{sf(n)||(ohe.isFragment(n)?e=e.concat(_B(n.props.children)):e.push(n))}),G_=e,SO=t,e};function xB(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>xO(i)):r=[xO(e)],_B(t).forEach(i=>{var s=mp(i,"type.displayName")||mp(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var dhe=(t,e,n,r)=>{var i,s=(i=r&&(K_==null?void 0:K_[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&s.includes(e)||uhe.includes(e))||n&&W3.includes(e)},Ur=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(H.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var o;dhe((o=r)===null||o===void 0?void 0:o[s],s,e,n)&&(i[s]=r[s])}),i},phe=["children","width","height","viewBox","className","style","title","desc"];function _4(){return _4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_4.apply(null,arguments)}function ghe(t,e){if(t==null)return{};var n,r,i=mhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K3=H.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:a,title:l,desc:c}=t,u=ghe(t,phe),h=s||{width:r,height:i,x:0,y:0},f=Cr("recharts-surface",o);return H.createElement("svg",_4({},Ur(u,!0,"svg"),{className:f,width:r,height:i,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),H.createElement("title",null,l),H.createElement("desc",null,c),n)}),yhe=["children","className"];function x4(){return x4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x4.apply(null,arguments)}function vhe(t,e){if(t==null)return{};var n,r,i=bhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yp=H.forwardRef((t,e)=>{var{children:n,className:r}=t,i=vhe(t,yhe),s=Cr("recharts-layer",r);return H.createElement("g",x4({className:s},Ur(i,!0),{ref:e}),n)}),SB=H.createContext(null),whe=()=>H.useContext(SB);function xn(t){return function(){return t}}const AB=Math.cos,N2=Math.sin,aa=Math.sqrt,I2=Math.PI,Cw=2*I2,S4=Math.PI,A4=2*S4,gh=1e-6,_he=A4-gh;function EB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xhe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return EB;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class She{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?EB:xhe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,u=o-e,h=a-n,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>gh)if(!(Math.abs(h*l-c*u)>gh)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,p=i-a,y=l*l+c*c,b=d*d+p*p,v=Math.sqrt(y),x=Math.sqrt(f),S=s*Math.tan((S4-Math.acos((y+f-b)/(2*v*x)))/2),I=S/x,M=S/v;Math.abs(I-1)>gh&&this._append`L${e+I*u},${n+I*h}`,this._append`A${s},${s},0,0,${+(h*d>u*p)},${this._x1=e+M*l},${this._y1=n+M*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,h=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>gh||Math.abs(this._y1-u)>gh)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%A4+A4),f>_he?this._append`A${r},${r},0,1,${h},${e-a},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=u}`:f>gh&&this._append`A${r},${r},0,${+(f>=S4)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function G3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new She(e)}function Y3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function PB(t){this._context=t}PB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nw(t){return new PB(t)}function TB(t){return t[0]}function CB(t){return t[1]}function NB(t,e){var n=xn(!0),r=null,i=Nw,s=null,o=G3(a);t=typeof t=="function"?t:t===void 0?TB:xn(t),e=typeof e=="function"?e:e===void 0?CB:xn(e);function a(l){var c,u=(l=Y3(l)).length,h,f=!1,d;for(r==null&&(s=i(d=o())),c=0;c<=u;++c)!(c<u&&n(h=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,c,l),+e(h,c,l));if(d)return s=null,d+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:xn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:xn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function gy(t,e,n){var r=null,i=xn(!0),s=null,o=Nw,a=null,l=G3(c);t=typeof t=="function"?t:t===void 0?TB:xn(+t),e=typeof e=="function"?e:xn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?CB:xn(+n);function c(h){var f,d,p,y=(h=Y3(h)).length,b,v=!1,x,S=new Array(y),I=new Array(y);for(s==null&&(a=o(x=l())),f=0;f<=y;++f){if(!(f<y&&i(b=h[f],f,h))===v)if(v=!v)d=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=d;--p)a.point(S[p],I[p]);a.lineEnd(),a.areaEnd()}v&&(S[f]=+t(b,f,h),I[f]=+e(b,f,h),a.point(r?+r(b,f,h):S[f],n?+n(b,f,h):I[f]))}if(x)return a=null,x+""||null}function u(){return NB().defined(i).curve(o).context(s)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:xn(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:xn(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:xn(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:xn(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:xn(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:xn(+h),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:xn(!!h),c):i},c.curve=function(h){return arguments.length?(o=h,s!=null&&(a=o(s)),c):o},c.context=function(h){return arguments.length?(h==null?s=a=null:a=o(s=h),c):s},c}class IB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ahe(t){return new IB(t,!0)}function Ehe(t){return new IB(t,!1)}const X3={draw(t,e){const n=aa(e/I2);t.moveTo(n,0),t.arc(0,0,n,0,Cw)}},Phe={draw(t,e){const n=aa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},kB=aa(1/3),The=kB*2,Che={draw(t,e){const n=aa(e/The),r=n*kB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Nhe={draw(t,e){const n=aa(e),r=-n/2;t.rect(r,r,n,n)}},Ihe=.8908130915292852,OB=N2(I2/10)/N2(7*I2/10),khe=N2(Cw/10)*OB,Ohe=-AB(Cw/10)*OB,Rhe={draw(t,e){const n=aa(e*Ihe),r=khe*n,i=Ohe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=Cw*s/5,a=AB(o),l=N2(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Y_=aa(3),Lhe={draw(t,e){const n=-aa(e/(Y_*3));t.moveTo(0,n*2),t.lineTo(-Y_*n,-n),t.lineTo(Y_*n,-n),t.closePath()}},ro=-.5,io=aa(3)/2,E4=1/aa(12),Mhe=(E4/2+1)*3,Dhe={draw(t,e){const n=aa(e/Mhe),r=n/2,i=n*E4,s=r,o=n*E4+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(ro*r-io*i,io*r+ro*i),t.lineTo(ro*s-io*o,io*s+ro*o),t.lineTo(ro*a-io*l,io*a+ro*l),t.lineTo(ro*r+io*i,ro*i-io*r),t.lineTo(ro*s+io*o,ro*o-io*s),t.lineTo(ro*a+io*l,ro*l-io*a),t.closePath()}};function jhe(t,e){let n=null,r=G3(i);t=typeof t=="function"?t:xn(t||X3),e=typeof e=="function"?e:xn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:xn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:xn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function k2(){}function O2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function RB(t){this._context=t}RB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:O2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:O2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fhe(t){return new RB(t)}function LB(t){this._context=t}LB.prototype={areaStart:k2,areaEnd:k2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:O2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bhe(t){return new LB(t)}function MB(t){this._context=t}MB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:O2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uhe(t){return new MB(t)}function DB(t){this._context=t}DB.prototype={areaStart:k2,areaEnd:k2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Vhe(t){return new DB(t)}function AO(t){return t<0?-1:1}function EO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(AO(s)+AO(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function PO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function X_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function R2(t){this._context=t}R2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:X_(this,this._t0,PO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,X_(this,PO(this,n=EO(this,t,e)),n);break;default:X_(this,this._t0,n=EO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function jB(t){this._context=new FB(t)}(jB.prototype=Object.create(R2.prototype)).point=function(t,e){R2.prototype.point.call(this,e,t)};function FB(t){this._context=t}FB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function zhe(t){return new R2(t)}function $he(t){return new jB(t)}function BB(t){this._context=t}BB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=TO(t),i=TO(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function TO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function qhe(t){return new BB(t)}function Iw(t,e){this._context=t,this._t=e}Iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Hhe(t){return new Iw(t,.5)}function Whe(t){return new Iw(t,0)}function Khe(t){return new Iw(t,1)}function vp(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function P4(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ghe(t,e){return t[e]}function Yhe(t){const e=[];return e.key=t,e}function Xhe(){var t=xn([]),e=P4,n=vp,r=Ghe;function i(s){var o=Array.from(t.apply(this,arguments),Yhe),a,l=o.length,c=-1,u;for(const h of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(h,o[a].key,c,s)]).data=h;for(a=0,u=Y3(e(o));a<l;++a)o[u[a]].index=a;return n(o,u),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:xn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:xn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?P4:typeof s=="function"?s:xn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??vp,i):n},i}function Qhe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}vp(t,e)}}function Jhe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}vp(t,e)}}function Zhe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var u=t[e[a]],h=u[r][1]||0,f=u[r-1][1]||0,d=(h-f)/2,p=0;p<a;++p){var y=t[e[p]],b=y[r][1]||0,v=y[r-1][1]||0;d+=b-v}l+=h,c+=d*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,vp(t,e)}}var efe=["type","size","sizeType"];function T4(){return T4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T4.apply(null,arguments)}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return(e=nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return typeof e=="symbol"?e:e+""}function rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ife(t,e){if(t==null)return{};var n,r,i=sfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var UB={symbolCircle:X3,symbolCross:Phe,symbolDiamond:Che,symbolSquare:Nhe,symbolStar:Rhe,symbolTriangle:Lhe,symbolWye:Dhe},ofe=Math.PI/180,afe=t=>{var e="symbol".concat(z0(t));return UB[e]||X3},lfe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*ofe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},cfe=(t,e)=>{UB["symbol".concat(z0(t))]=e},Q3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=ife(t,efe),s=NO(NO({},i),{},{type:e,size:n,sizeType:r}),o=()=>{var h=afe(e),f=jhe().type(h).size(lfe(n,r,e));return f()},{className:a,cx:l,cy:c}=s,u=Ur(s,!0);return l===+l&&c===+c&&n===+n?H.createElement("path",T4({},u,{className:Cr("recharts-symbols",a),transform:"translate(".concat(l,", ").concat(c,")"),d:o()})):null};Q3.registerSymbol=cfe;function C4(){return C4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C4.apply(null,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ufe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){J3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J3(t,e,n){return(e=hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hfe(t){var e=ffe(t,"string");return typeof e=="symbol"?e:e+""}function ffe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var so=32;class Z3 extends H.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=so/2,s=so/6,o=so/3,a=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:so,y2:i,className:"recharts-legend-icon"});if(l==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(so,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return H.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(so/8,"h").concat(so,"v").concat(so*3/4,"h").concat(-so,"z"),className:"recharts-legend-icon"});if(H.isValidElement(e.legendIcon)){var c=ufe({},e);return delete c.legendIcon,H.cloneElement(e.legendIcon,c)}return H.createElement(Q3,{fill:a,cx:i,cy:i,size:so,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:o}=this.props,a={x:0,y:0,width:so,height:so},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,h)=>{var f=u.formatter||i,d=Cr({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?s:u.color,y=f?f(u.value,u,h):u.value;return H.createElement("li",C4({className:d,style:l,key:"legend-item-".concat(h)},wB(this.props,u,h)),H.createElement(K3,{width:n,height:n,viewBox:a,style:c,"aria-label":"".concat(y," legend icon")},this.renderIcon(u,o)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},y))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}J3(Z3,"displayName","Legend");J3(Z3,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var VB={},zB={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],a=r(o);i.has(a)||i.set(a,o)}return Array.from(i.values())}t.uniqBy=e})(zB);var eP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(eP);var $B={},tP={},qB={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(qB);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qB;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(tP);var HB={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(HB);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tP,n=HB;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})($B);var WB={},KB={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mw;function n(r){return function(i){return e.get(i,r)}}t.property=n})(KB);var GB={},Q_={},J_={},nP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(nP);var rP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(rP);var kw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(kw);var kO;function dfe(){return kO||(kO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iP(),n=nP,r=rP,i=kw;function s(h,f,d){return typeof d!="function"?e.isMatch(h,f):o(h,f,function p(y,b,v,x,S,I){const M=d(y,b,v,x,S,I);return M!==void 0?!!M:o(y,b,p,I)},new Map)}function o(h,f,d,p){if(f===h)return!0;switch(typeof f){case"object":return a(h,f,d,p);case"function":return Object.keys(f).length>0?o(h,{...f},d,p):i.eq(h,f);default:return n.isObject(h)?typeof f=="string"?f==="":!0:i.eq(h,f)}}function a(h,f,d,p){if(f==null)return!0;if(Array.isArray(f))return c(h,f,d,p);if(f instanceof Map)return l(h,f,d,p);if(f instanceof Set)return u(h,f,d,p);const y=Object.keys(f);if(h==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(f))return p.get(f)===h;p&&p.set(f,h);try{for(let b=0;b<y.length;b++){const v=y[b];if(!r.isPrimitive(h)&&!(v in h)||f[v]===void 0&&h[v]!==void 0||f[v]===null&&h[v]!==null||!d(h[v],f[v],v,h,f,p))return!1}return!0}finally{p&&p.delete(f)}}function l(h,f,d,p){if(f.size===0)return!0;if(!(h instanceof Map))return!1;for(const[y,b]of f.entries()){const v=h.get(y);if(d(v,b,y,h,f,p)===!1)return!1}return!0}function c(h,f,d,p){if(f.length===0)return!0;if(!Array.isArray(h))return!1;const y=new Set;for(let b=0;b<f.length;b++){const v=f[b];let x=!1;for(let S=0;S<h.length;S++){if(y.has(S))continue;const I=h[S];let M=!1;if(d(I,v,b,h,f,p)&&(M=!0),M){y.add(S),x=!0;break}}if(!x)return!1}return!0}function u(h,f,d,p){return f.size===0?!0:h instanceof Set?c([...h],[...f],d,p):!1}t.isMatchWith=s,t.isSetMatch=u}(J_)),J_}var OO;function iP(){return OO||(OO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dfe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(Q_)),Q_}var YB={},sP={},oP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(oP);var Ow={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Ow);var Rw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",a="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",h="[object Function]",f="[object ArrayBuffer]",d="[object Object]",p="[object Error]",y="[object DataView]",b="[object Uint8Array]",v="[object Uint8ClampedArray]",x="[object Uint16Array]",S="[object Uint32Array]",I="[object BigUint64Array]",M="[object Int8Array]",L="[object Int16Array]",T="[object Int32Array]",w="[object BigInt64Array]",A="[object Float32Array]",O="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=u,t.bigInt64ArrayTag=w,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=y,t.dateTag=a,t.errorTag=p,t.float32ArrayTag=A,t.float64ArrayTag=O,t.functionTag=h,t.int16ArrayTag=L,t.int32ArrayTag=T,t.int8ArrayTag=M,t.mapTag=l,t.numberTag=r,t.objectTag=d,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=x,t.uint32ArrayTag=S,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=v})(Rw);var XB={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(XB);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oP,n=Ow,r=Rw,i=rP,s=XB;function o(u,h){return a(u,void 0,u,new Map,h)}function a(u,h,f,d=new Map,p=void 0){const y=p==null?void 0:p(u,h,f,d);if(y!=null)return y;if(i.isPrimitive(u))return u;if(d.has(u))return d.get(u);if(Array.isArray(u)){const b=new Array(u.length);d.set(u,b);for(let v=0;v<u.length;v++)b[v]=a(u[v],v,f,d,p);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;d.set(u,b);for(const[v,x]of u)b.set(v,a(x,v,f,d,p));return b}if(u instanceof Set){const b=new Set;d.set(u,b);for(const v of u)b.add(a(v,void 0,f,d,p));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);d.set(u,b);for(let v=0;v<u.length;v++)b[v]=a(u[v],v,f,d,p);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return d.set(u,b),l(b,u,f,d,p),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return d.set(u,b),l(b,u,f,d,p),b}if(u instanceof Blob){const b=new Blob([u],{type:u.type});return d.set(u,b),l(b,u,f,d,p),b}if(u instanceof Error){const b=new u.constructor;return d.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,l(b,u,f,d,p),b}if(typeof u=="object"&&c(u)){const b=Object.create(Object.getPrototypeOf(u));return d.set(u,b),l(b,u,f,d,p),b}return u}function l(u,h,f=u,d,p){const y=[...Object.keys(h),...e.getSymbols(h)];for(let b=0;b<y.length;b++){const v=y[b],x=Object.getOwnPropertyDescriptor(u,v);(x==null||x.writable)&&(u[v]=a(h[v],v,f,d,p))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=a,t.copyProperties=l})(sP);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sP;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(YB);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iP(),n=YB;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(GB);var QB={},JB={},ZB={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sP,n=Rw;function r(i,s){return e.cloneDeepWith(i,(o,a,l,c)=>{const u=s==null?void 0:s(o,a,l,c);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(ZB);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZB;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(JB);var eU={},aP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(aP);var tU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ow;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(tU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z3,n=aP,r=tU,i=yw;function s(o,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&e.isDeepKey(a)&&(o==null?void 0:o[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const h=l[u];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}t.has=s})(eU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iP(),n=$3,r=JB,i=mw,s=eU;function o(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,a);return u===void 0?s.has(c,a):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=o})(QB);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eP,n=KB,r=GB,i=QB;function s(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=s})(WB);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zB,n=eP,r=$B,i=WB;function s(o,a=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(a)):[]}t.uniqBy=s})(VB);var pfe=VB.uniqBy;const RO=Kl(pfe);function nU(t,e,n){return e===!0?RO(t,n):typeof e=="function"?RO(t,e):t}var rU={exports:{}},iU={},sU={exports:{}},oU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=H;function gfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mfe=typeof Object.is=="function"?Object.is:gfe,yfe=bp.useState,vfe=bp.useEffect,bfe=bp.useLayoutEffect,wfe=bp.useDebugValue;function _fe(t,e){var n=e(),r=yfe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return bfe(function(){i.value=n,i.getSnapshot=e,Z_(i)&&s({inst:i})},[t,n,e]),vfe(function(){return Z_(i)&&s({inst:i}),t(function(){Z_(i)&&s({inst:i})})},[t]),wfe(n),n}function Z_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mfe(t,n)}catch{return!0}}function xfe(t,e){return e()}var Sfe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xfe:_fe;oU.useSyncExternalStore=bp.useSyncExternalStore!==void 0?bp.useSyncExternalStore:Sfe;sU.exports=oU;var Afe=sU.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw=H,Efe=Afe;function Pfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tfe=typeof Object.is=="function"?Object.is:Pfe,Cfe=Efe.useSyncExternalStore,Nfe=Lw.useRef,Ife=Lw.useEffect,kfe=Lw.useMemo,Ofe=Lw.useDebugValue;iU.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Nfe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=kfe(function(){function l(d){if(!c){if(c=!0,u=d,d=r(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return h=p}return h=d}if(p=h,Tfe(u,d))return p;var y=r(d);return i!==void 0&&i(p,y)?(u=d,p):(u=d,h=y)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Cfe(t,s[0],s[1]);return Ife(function(){o.hasValue=!0,o.value=a},[a]),Ofe(a),a};rU.exports=iU;var Rfe=rU.exports,lP=H.createContext(null),Lfe=t=>t,Vr=()=>{var t=H.useContext(lP);return t?t.store.dispatch:Lfe},uv=()=>{},Mfe=()=>uv,Dfe=(t,e)=>t===e;function Ot(t){var e=H.useContext(lP);return Rfe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Mfe,e?e.store.getState:uv,e?e.store.getState:uv,e?t:uv,Dfe)}function jfe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Ffe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Bfe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var LO=t=>Array.isArray(t)?t:[t];function Ufe(t){const e=Array.isArray(t[0])?t[0]:t;return Bfe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Vfe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var zfe=class{constructor(t){this.value=t}deref(){return this.value}},$fe=typeof WeakRef<"u"?WeakRef:zfe,qfe=0,MO=1;function my(){return{s:qfe,v:void 0,o:null,p:null}}function aU(t,e={}){let n=my();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var h;let a=n;const{length:l}=arguments;for(let f=0,d=l;f<d;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=a.o;y===null&&(a.o=y=new WeakMap);const b=y.get(p);b===void 0?(a=my(),y.set(p,a)):a=b}else{let y=a.p;y===null&&(a.p=y=new Map);const b=y.get(p);b===void 0?(a=my(),y.set(p,a)):a=b}}const c=a;let u;if(a.s===MO)u=a.v;else if(u=t.apply(null,arguments),s++,r){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&r(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new $fe(u):u}return c.s=MO,c.v=u,u}return o.clearCache=()=>{n=my(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Hfe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),jfe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:h,memoizeOptions:f=[],argsMemoize:d=aU,argsMemoizeOptions:p=[],devModeChecks:y={}}=u,b=LO(f),v=LO(p),x=Ufe(i),S=h(function(){return s++,c.apply(null,arguments)},...b),I=d(function(){o++;const L=Vfe(x,arguments);return a=S.apply(null,L),a},...v);return Object.assign(I,{resultFunc:c,memoizedResultFunc:S,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var Ne=Hfe(aU),Wfe=Object.assign((t,e=Ne)=>{Ffe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>Wfe}),lU={},cU={},uU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=e(r),a=e(i);if(o===a&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?a-o:o-a}return 0};t.compareValues=n})(uU);var hU={},cP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(cP);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cP,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}t.isKey=i})(hU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uU,n=hU,r=yw;function i(s,o,a,l){if(s==null)return[];a=l?void 0:a,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(d=>String(d));const c=(d,p)=>{let y=d;for(let b=0;b<p.length&&y!=null;++b)y=y[p[b]];return y},u=(d,p)=>p==null||d==null?p:typeof d=="object"&&"key"in d?Object.hasOwn(p,d.key)?p[d.key]:c(p,d.path):typeof d=="function"?d(p):Array.isArray(d)?c(p,d):typeof p=="object"?p[d]:p,h=o.map(d=>(Array.isArray(d)&&d.length===1&&(d=d[0]),d==null||typeof d=="function"||Array.isArray(d)||n.isKey(d)?d:{key:d,path:r.toPath(d)}));return s.map(d=>({original:d,criteria:h.map(p=>u(p,d))})).slice().sort((d,p)=>{for(let y=0;y<h.length;y++){const b=e.compareValues(d.criteria[y],p.criteria[y],a[y]);if(b!==0)return b}return 0}).map(d=>d.original)}t.orderBy=i})(cU);var fU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),o=(a,l)=>{for(let c=0;c<a.length;c++){const u=a[c];Array.isArray(u)&&l<s?o(u,l+1):i.push(u)}};return o(n,0),i}t.flatten=e})(fU);var uP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aP,n=tP,r=nP,i=kw;function s(o,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&e.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],o):!1}t.isIterateeCall=s})(uP);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cU,n=fU,r=uP;function i(s,...o){const a=o.length;return a>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:a>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(s,n.flatten(o),["asc"])}t.sortBy=i})(lU);var Kfe=lU.sortBy;const Mw=Kl(Kfe);var dU=t=>t.legend.settings,Gfe=t=>t.legend.size,Yfe=t=>t.legend.payload,Xfe=Ne([Yfe,dU],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Mw(r,n):r});function Qfe(){return Ot(Xfe)}var yy=1;function pU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=H.useState({height:0,left:0,top:0,width:0}),r=H.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-e.height)>yy||Math.abs(o.left-e.left)>yy||Math.abs(o.top-e.top)>yy||Math.abs(o.width-e.width)>yy)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Gr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Jfe=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),DO=Jfe,ex=()=>Math.random().toString(36).substring(7).split("").join("."),Zfe={INIT:`@@redux/INIT${ex()}`,REPLACE:`@@redux/REPLACE${ex()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ex()}`},L2=Zfe;function hP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function gU(t,e,n){if(typeof t!="function")throw new Error(Gr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gr(1));return n(gU)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((b,v)=>{o.set(v,b)}))}function u(){if(l)throw new Error(Gr(3));return i}function h(b){if(typeof b!="function")throw new Error(Gr(4));if(l)throw new Error(Gr(5));let v=!0;c();const x=a++;return o.set(x,b),function(){if(v){if(l)throw new Error(Gr(6));v=!1,c(),o.delete(x),s=null}}}function f(b){if(!hP(b))throw new Error(Gr(7));if(typeof b.type>"u")throw new Error(Gr(8));if(typeof b.type!="string")throw new Error(Gr(17));if(l)throw new Error(Gr(9));try{l=!0,i=r(i,b)}finally{l=!1}return(s=o).forEach(x=>{x()}),b}function d(b){if(typeof b!="function")throw new Error(Gr(10));r=b,f({type:L2.REPLACE})}function p(){const b=h;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Gr(11));function x(){const I=v;I.next&&I.next(u())}return x(),{unsubscribe:b(x)}},[DO](){return this}}}return f({type:L2.INIT}),{dispatch:f,subscribe:h,getState:u,replaceReducer:d,[DO]:p}}function ede(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:L2.INIT})>"u")throw new Error(Gr(12));if(typeof n(void 0,{type:L2.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gr(13))})}function mU(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{ede(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const h=r[u],f=n[h],d=o[h],p=f(d,a);if(typeof p>"u")throw a&&a.type,new Error(Gr(14));c[h]=p,l=l||p!==d}return l=l||r.length!==Object.keys(o).length,l?c:o}}function M2(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function tde(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Gr(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=M2(...a)(i.dispatch),{...i,dispatch:s}}}function yU(t){return hP(t)&&"type"in t&&typeof t.type=="string"}var vU=Symbol.for("immer-nothing"),jO=Symbol.for("immer-draftable"),Bs=Symbol.for("immer-state");function Ho(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var wp=Object.getPrototypeOf;function of(t){return!!t&&!!t[Bs]}function $l(t){var e;return t?bU(t)||Array.isArray(t)||!!t[jO]||!!((e=t.constructor)!=null&&e[jO])||jw(t)||Fw(t):!1}var nde=Object.prototype.constructor.toString();function bU(t){if(!t||typeof t!="object")return!1;const e=wp(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===nde}function D2(t,e){Dw(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Dw(t){const e=t[Bs];return e?e.type_:Array.isArray(t)?1:jw(t)?2:Fw(t)?3:0}function N4(t,e){return Dw(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function wU(t,e,n){const r=Dw(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function rde(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function jw(t){return t instanceof Map}function Fw(t){return t instanceof Set}function mh(t){return t.copy_||t.base_}function I4(t,e){if(jw(t))return new Map(t);if(Fw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=bU(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Bs];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(wp(t),r)}else{const r=wp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function fP(t,e=!1){return Bw(t)||of(t)||!$l(t)||(Dw(t)>1&&(t.set=t.add=t.clear=t.delete=ide),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>fP(r,!0))),t}function ide(){Ho(2)}function Bw(t){return Object.isFrozen(t)}var sde={};function af(t){const e=sde[t];return e||Ho(0,t),e}var s0;function _U(){return s0}function ode(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FO(t,e){e&&(af("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function k4(t){O4(t),t.drafts_.forEach(ade),t.drafts_=null}function O4(t){t===s0&&(s0=t.parent_)}function BO(t){return s0=ode(s0,t)}function ade(t){const e=t[Bs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function UO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Bs].modified_&&(k4(e),Ho(4)),$l(t)&&(t=j2(e,t),e.parent_||F2(e,t)),e.patches_&&af("Patches").generateReplacementPatches_(n[Bs].base_,t,e.patches_,e.inversePatches_)):t=j2(e,n,[]),k4(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==vU?t:void 0}function j2(t,e,n){if(Bw(e))return e;const r=e[Bs];if(!r)return D2(e,(i,s)=>VO(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return F2(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),D2(s,(a,l)=>VO(t,r,i,a,l,n,o)),F2(t,i,!1),n&&t.patches_&&af("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function VO(t,e,n,r,i,s,o){if(of(i)){const a=s&&e&&e.type_!==3&&!N4(e.assigned_,r)?s.concat(r):void 0,l=j2(t,i,a);if(wU(n,r,l),of(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if($l(i)&&!Bw(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;j2(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&F2(t,i)}}function F2(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&fP(e,n)}function lde(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:_U(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=dP;n&&(i=[r],s=o0);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var dP={get(t,e){if(e===Bs)return t;const n=mh(t);if(!N4(n,e))return cde(t,n,e);const r=n[e];return t.finalized_||!$l(r)?r:r===tx(t.base_,e)?(nx(t),t.copy_[e]=L4(r,t)):r},has(t,e){return e in mh(t)},ownKeys(t){return Reflect.ownKeys(mh(t))},set(t,e,n){const r=xU(mh(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=tx(mh(t),e),s=i==null?void 0:i[Bs];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(rde(n,i)&&(n!==void 0||N4(t.base_,e)))return!0;nx(t),R4(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return tx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,nx(t),R4(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=mh(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ho(11)},getPrototypeOf(t){return wp(t.base_)},setPrototypeOf(){Ho(12)}},o0={};D2(dP,(t,e)=>{o0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});o0.deleteProperty=function(t,e){return o0.set.call(this,t,e,void 0)};o0.set=function(t,e,n){return dP.set.call(this,t[0],e,n,t[0])};function tx(t,e){const n=t[Bs];return(n?mh(n):t)[e]}function cde(t,e,n){var i;const r=xU(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function xU(t,e){if(!(e in t))return;let n=wp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=wp(n)}}function R4(t){t.modified_||(t.modified_=!0,t.parent_&&R4(t.parent_))}function nx(t){t.copy_||(t.copy_=I4(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ude=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Ho(6),r!==void 0&&typeof r!="function"&&Ho(7);let i;if($l(e)){const s=BO(this),o=L4(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?k4(s):O4(s)}return FO(s,r),UO(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===vU&&(i=void 0),this.autoFreeze_&&fP(i,!0),r){const s=[],o=[];af("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Ho(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){$l(t)||Ho(8),of(t)&&(t=Nl(t));const e=BO(this),n=L4(t,void 0);return n[Bs].isManual_=!0,O4(e),n}finishDraft(t,e){const n=t&&t[Bs];(!n||!n.isManual_)&&Ho(9);const{scope_:r}=n;return FO(r,e),UO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=af("Patches").applyPatches_;return of(t)?r(t,e):this.produce(t,i=>r(i,e))}};function L4(t,e){const n=jw(t)?af("MapSet").proxyMap_(t,e):Fw(t)?af("MapSet").proxySet_(t,e):lde(t,e);return(e?e.scope_:_U()).drafts_.push(n),n}function Nl(t){return of(t)||Ho(10,t),SU(t)}function SU(t){if(!$l(t)||Bw(t))return t;const e=t[Bs];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=I4(t,e.scope_.immer_.useStrictShallowCopy_)}else n=I4(t,!0);return D2(n,(r,i)=>{wU(n,r,SU(i))}),e&&(e.finalized_=!1),n}var Us=new ude,AU=Us.produce;Us.produceWithPatches.bind(Us);Us.setAutoFreeze.bind(Us);Us.setUseStrictShallowCopy.bind(Us);Us.applyPatches.bind(Us);Us.createDraft.bind(Us);Us.finishDraft.bind(Us);function EU(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var hde=EU(),fde=EU,dde=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?M2:M2.apply(null,arguments)};function wo(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(js(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>yU(r)&&r.type===t,n}var PU=class Qg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Qg.prototype)}static get[Symbol.species](){return Qg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Qg(...e[0].concat(this)):new Qg(...e.concat(this))}};function zO(t){return $l(t)?AU(t,()=>{}):t}function vy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function pde(t){return typeof t=="boolean"}var gde=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new PU;return n&&(pde(n)?o.push(hde):o.push(fde(n.extraArgument))),o},mde="RTK_autoBatch",$O=t=>e=>{setTimeout(e,t)},yde=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$O(10):t.type==="callback"?t.queueNotification:$O(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const h=()=>i&&u(),f=r.subscribe(h);return a.add(u),()=>{f(),a.delete(u)}},dispatch(u){var h;try{return i=!((h=u==null?void 0:u.meta)!=null&&h[mde]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},vde=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new PU(t);return r&&i.push(yde(typeof r=="object"?r:void 0)),i};function bde(t){const e=gde(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(hP(n))l=mU(n);else throw new Error(js(1));let c;typeof r=="function"?c=r(e):c=e();let u=M2;i&&(u=dde({trace:!1,...typeof i=="object"&&i}));const h=tde(...c),f=vde(h);let d=typeof a=="function"?a(f):f();const p=u(...d);return gU(l,o,p)}function TU(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(js(28));if(a in e)throw new Error(js(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function wde(t){return typeof t=="function"}function _de(t,e){let[n,r,i]=TU(e),s;if(wde(t))s=()=>zO(t());else{const a=zO(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,h)=>{if(h)if(of(u)){const d=h(u,l);return d===void 0?u:d}else{if($l(u))return AU(u,f=>h(f,l));{const f=h(u,l);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},a)}return o.getInitialState=s,o}var xde="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Sde=(t=21)=>{let e="",n=t;for(;n--;)e+=xde[Math.random()*64|0];return e},Ade=Symbol.for("rtk-slice-createasyncthunk");function Ede(t,e){return`${t}/${e}`}function Pde({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Ade];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(js(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(Cde()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(I,M){const L=typeof I=="string"?I:I.type;if(!L)throw new Error(js(12));if(L in c.sliceCaseReducersByType)throw new Error(js(13));return c.sliceCaseReducersByType[L]=M,u},addMatcher(I,M){return c.sliceMatchers.push({matcher:I,reducer:M}),u},exposeAction(I,M){return c.actionCreators[I]=M,u},exposeCaseReducer(I,M){return c.sliceCaseReducersByName[I]=M,u}};l.forEach(I=>{const M=a[I],L={reducerName:I,type:Ede(s,I),createNotation:typeof i.reducers=="function"};Ide(M)?Ode(L,M,u,e):Nde(L,M,u)});function h(){const[I={},M=[],L=void 0]=typeof i.extraReducers=="function"?TU(i.extraReducers):[i.extraReducers],T={...I,...c.sliceCaseReducersByType};return _de(i.initialState,w=>{for(let A in T)w.addCase(A,T[A]);for(let A of c.sliceMatchers)w.addMatcher(A.matcher,A.reducer);for(let A of M)w.addMatcher(A.matcher,A.reducer);L&&w.addDefaultCase(L)})}const f=I=>I,d=new Map,p=new WeakMap;let y;function b(I,M){return y||(y=h()),y(I,M)}function v(){return y||(y=h()),y.getInitialState()}function x(I,M=!1){function L(w){let A=w[I];return typeof A>"u"&&M&&(A=vy(p,L,v)),A}function T(w=f){const A=vy(d,M,()=>new WeakMap);return vy(A,w,()=>{const O={};for(const[E,C]of Object.entries(i.selectors??{}))O[E]=Tde(C,w,()=>vy(p,w,v),M);return O})}return{reducerPath:I,getSelectors:T,get selectors(){return T(L)},selectSlice:L}}const S={name:s,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...x(o),injectInto(I,{reducerPath:M,...L}={}){const T=M??o;return I.inject({reducerPath:T,reducer:b},L),{...S,...x(T,!0)}}};return S}}function Tde(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var So=Pde();function Cde(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Nde({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!kde(r))throw new Error(js(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?wo(t,o):wo(t))}function Ide(t){return t._reducerDefinitionType==="asyncThunk"}function kde(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ode({type:t,reducerName:e},n,r,i){if(!i)throw new Error(js(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,h=i(t,s,u);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:o||by,pending:a||by,rejected:l||by,settled:c||by})}function by(){}var Rde="task",CU="listener",NU="completed",pP="cancelled",Lde=`task-${pP}`,Mde=`task-${NU}`,M4=`${CU}-${pP}`,Dde=`${CU}-${NU}`,Uw=class{constructor(t){It(this,"name","TaskAbortError");It(this,"message");this.code=t,this.message=`${Rde} ${pP} (reason: ${t})`}},gP=(t,e)=>{if(typeof t!="function")throw new TypeError(js(32))},B2=()=>{},IU=(t,e=B2)=>(t.catch(e),t),kU=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Bh=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Uh=t=>{if(t.aborted){const{reason:e}=t;throw new Uw(e)}};function OU(t,e){let n=B2;return new Promise((r,i)=>{const s=()=>i(new Uw(t.reason));if(t.aborted){s();return}n=kU(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=B2})}var jde=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Uw?"cancelled":"rejected",error:n}}finally{e==null||e()}},U2=t=>e=>IU(OU(t,e).then(n=>(Uh(t),n))),RU=t=>{const e=U2(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Yd}=Object,qO={},Vw="listenerMiddleware",Fde=(t,e)=>{const n=r=>kU(t,()=>Bh(r,t.reason));return(r,i)=>{gP(r);const s=new AbortController;n(s);const o=jde(async()=>{Uh(t),Uh(s.signal);const a=await r({pause:U2(s.signal),delay:RU(s.signal),signal:s.signal});return Uh(s.signal),a},()=>Bh(s,Mde));return i!=null&&i.autoJoin&&e.push(o.catch(B2)),{result:U2(t)(o),cancel(){Bh(s,Lde)}}}},Bde=(t,e)=>{const n=async(r,i)=>{Uh(e);let s=()=>{};const a=[new Promise((l,c)=>{let u=t({predicate:r,effect:(h,f)=>{f.unsubscribe(),l([h,f.getState(),f.getOriginalState()])}});s=()=>{u(),c()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await OU(e,Promise.race(a));return Uh(e),l}finally{s()}};return(r,i)=>IU(n(r,i))},LU=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=wo(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(js(21));return gP(s),{predicate:i,type:e,effect:s}},MU=Yd(t=>{const{type:e,predicate:n,effect:r}=LU(t);return{id:Sde(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(js(22))}}},{withTypes:()=>MU}),HO=(t,e)=>{const{type:n,effect:r,predicate:i}=LU(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},D4=t=>{t.pending.forEach(e=>{Bh(e,M4)})},Ude=t=>()=>{t.forEach(D4),t.clear()},WO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},DU=Yd(wo(`${Vw}/add`),{withTypes:()=>DU}),Vde=wo(`${Vw}/removeAll`),jU=Yd(wo(`${Vw}/remove`),{withTypes:()=>jU}),zde=(...t)=>{console.error(`${Vw}/error`,...t)},$0=(t={})=>{const e=new Map,{extra:n,onError:r=zde}=t;gP(r);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),h=>{u.unsubscribe(),h!=null&&h.cancelActive&&D4(u)}),s=u=>{const h=HO(e,u)??MU(u);return i(h)};Yd(s,{withTypes:()=>s});const o=u=>{const h=HO(e,u);return h&&(h.unsubscribe(),u.cancelActive&&D4(h)),!!h};Yd(o,{withTypes:()=>o});const a=async(u,h,f,d)=>{const p=new AbortController,y=Bde(s,p.signal),b=[];try{u.pending.add(p),await Promise.resolve(u.effect(h,Yd({},f,{getOriginalState:d,condition:(v,x)=>y(v,x).then(Boolean),take:y,delay:RU(p.signal),pause:U2(p.signal),extra:n,signal:p.signal,fork:Fde(p.signal,b),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((v,x,S)=>{v!==p&&(Bh(v,M4),S.delete(v))})},cancel:()=>{Bh(p,M4),u.pending.delete(p)},throwIfCancelled:()=>{Uh(p.signal)}})))}catch(v){v instanceof Uw||WO(r,v,{raisedBy:"effect"})}finally{await Promise.all(b),Bh(p,Dde),u.pending.delete(p)}},l=Ude(e);return{middleware:u=>h=>f=>{if(!yU(f))return h(f);if(DU.match(f))return s(f.payload);if(Vde.match(f)){l();return}if(jU.match(f))return o(f.payload);let d=u.getState();const p=()=>{if(d===qO)throw new Error(js(23));return d};let y;try{if(y=h(f),e.size>0){const b=u.getState(),v=Array.from(e.values());for(const x of v){let S=!1;try{S=x.predicate(f,b,d)}catch(I){S=!1,WO(r,I,{raisedBy:"predicate"})}S&&a(x,f,u,p)}}}finally{d=qO}return y},startListening:s,stopListening:o,clearListeners:l}};function js(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $de={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},FU=So({name:"chartLayout",initialState:$de,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:qde,setLayout:Hde,setChartSize:Wde,setScale:Kde}=FU.actions,Gde=FU.reducer;function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){Yde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yde(t,e,n){return(e=Xde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xde(t){var e=Qde(t,"string");return typeof e=="symbol"?e:e+""}function Qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V2=Math.PI/180,Jde=t=>t*180/Math.PI,_i=(t,e,n,r)=>({x:t+Math.cos(-V2*r)*n,y:e+Math.sin(-V2*r)*n}),BU=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Zde=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},epe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,o=Zde({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var a=(n-i)/o,l=Math.acos(a);return r>s&&(l=2*Math.PI-l),{radius:o,angle:Jde(l),angleInRadian:l}},tpe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},npe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return t+o*360},rpe=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=epe({x:n,y:r},e),{innerRadius:o,outerRadius:a}=e;if(i<o||i>a||i===0)return null;var{startAngle:l,endAngle:c}=tpe(e),u=s,h;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;h=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;h=u>=c&&u<=l}return h?GO(GO({},e),{},{radius:i,angle:npe(u,e)}):null};function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){ipe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ipe(t,e,n){return(e=spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function spe(t){var e=ope(t,"string");return typeof e=="symbol"?e:e+""}function ope(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dr(t,e,n){return sf(t)||sf(e)?n:zl(e)?mp(t,e,n):typeof e=="function"?e(t):n}var ape=(t,e,n,r,i)=>{var s,o=-1,a=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c=l>0?n[l-1].coordinate:n[a-1].coordinate,u=n[l].coordinate,h=l>=a-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Ms(u-c)!==Ms(h-u)){var d=[];if(Ms(h-u)===Ms(i[1]-i[0])){f=h;var p=u+i[1]-i[0];d[0]=Math.min(p,(p+c)/2),d[1]=Math.max(p,(p+c)/2)}else{f=c;var y=h+i[1]-i[0];d[0]=Math.min(u,(y+u)/2),d[1]=Math.max(u,(y+u)/2)}var b=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(t>b[0]&&t<=b[1]||t>=d[0]&&t<=d[1]){({index:o}=n[l]);break}}else{var v=Math.min(c,h),x=Math.max(c,h);if(t>(v+u)/2&&t<=(x+u)/2){({index:o}=n[l]);break}}}else if(e){for(var S=0;S<a;S++)if(S===0&&t<=(e[S].coordinate+e[S+1].coordinate)/2||S>0&&S<a-1&&t>(e[S].coordinate+e[S-1].coordinate)/2&&t<=(e[S].coordinate+e[S+1].coordinate)/2||S===a-1&&t>(e[S].coordinate+e[S-1].coordinate)/2){({index:o}=e[S]);break}}return o},lpe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:a}=e;if((a==="vertical"||a==="horizontal"&&o==="middle")&&s!=="center"&&Bt(t[s]))return co(co({},t),{},{[s]:t[s]+(r||0)});if((a==="horizontal"||a==="vertical"&&s==="center")&&o!=="middle"&&Bt(t[o]))return co(co({},t),{},{[o]:t[o]+(i||0)})}return t},xf=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",XO=1e-4,cpe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-XO,s=Math.max(r[0],r[1])+XO,o=t(e[0]),a=t(e[n-1]);(o<i||o>s||a<i||a>s)&&t.domain([e[0],e[n-1]])}},upe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,o=0;o<e;++o){var a=na(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+a,s=t[o][n][1])}},hpe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var o=na(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},fpe={sign:upe,expand:Qhe,none:vp,silhouette:Jhe,wiggle:Zhe,positive:hpe},dpe=(t,e,n)=>{var r=fpe[n],i=Xhe().keys(e).value((s,o)=>+Dr(s,o,0)).order(P4).offset(r);return i(t)},ppe=t=>{var e=t.flat(2).filter(Bt);return[Math.min(...e),Math.max(...e)]},gpe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],mpe=(t,e,n)=>{if(t!=null)return gpe(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:o}=s,a=o.reduce((l,c)=>{var u=ppe(c.slice(e,n+1));return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},QO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ype=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Mw(e,u=>u.coordinate),s=1/0,o=1,a=i.length;o<a;o++){var l=i[o],c=i[o-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function ZO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return co(co({},e),{},{dataKey:n,payload:r,value:i,name:s})}function UU(t,e){if(t)return String(t);if(typeof e=="string")return e}function vpe(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?rpe({x:t,y:e},r):null}var bpe=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:o}=r;return co(co(co({},r),_i(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var a=i.coordinate,{angle:l}=r;return co(co(co({},r),_i(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},wpe=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Xl=t=>t.layout.width,Ql=t=>t.layout.height,_pe=t=>t.layout.scale,VU=t=>t.layout.margin,mP=Ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),yP=Ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),zU="data-recharts-item-index",$U="data-recharts-item-data-key",zw=60;function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){xpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xpe(t,e,n){return(e=Spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Spe(t){var e=Ape(t,"string");return typeof e=="symbol"?e:e+""}function Ape(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Epe=t=>t.brush.height,Ei=Ne([Xl,Ql,VU,Epe,mP,yP,dU,Gfe],(t,e,n,r,i,s,o,a)=>{var l=s.reduce((p,y)=>{var{orientation:b}=y;if(!y.mirror&&!y.hide){var v=typeof y.width=="number"?y.width:zw;return Ic(Ic({},p),{},{[b]:p[b]+v})}return p},{left:n.left||0,right:n.right||0}),c=i.reduce((p,y)=>{var{orientation:b}=y;return!y.mirror&&!y.hide?Ic(Ic({},p),{},{[b]:mp(p,"".concat(b))+y.height}):p},{top:n.top||0,bottom:n.bottom||0}),u=Ic(Ic({},c),l),h=u.bottom;u.bottom+=r,u=lpe(u,o,a);var f=t-u.left-u.right,d=e-u.top-u.bottom;return Ic(Ic({brushBottom:h},u),{},{width:Math.max(f,0),height:Math.max(d,0)})}),Ppe=Ne(Ei,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));Ne(Xl,Ql,(t,e)=>({x:0,y:0,width:t,height:e}));var Tpe=H.createContext(null),Bp=()=>H.useContext(Tpe)!=null,$w=t=>t.brush,qw=Ne([$w,Ei,VU],(t,e,n)=>({height:t.height,x:Bt(t.x)?t.x:e.left,y:Bt(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Bt(t.width)?t.width:e.width})),qU=()=>{var t,e=Bp(),n=Ot(Ppe),r=Ot(qw),i=(t=Ot($w))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Cpe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Npe=()=>{var t;return(t=Ot(Ei))!==null&&t!==void 0?t:Cpe},HU=()=>Ot(Xl),WU=()=>Ot(Ql),Ipe={top:0,right:0,bottom:0,left:0},kpe=()=>{var t;return(t=Ot(e=>e.layout.margin))!==null&&t!==void 0?t:Ipe},qn=t=>t.layout.layoutType,KU=()=>Ot(qn),Ope={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},GU=So({name:"legend",initialState:Ope,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Nl(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:tR,setLegendSettings:Rpe,addLegendPayload:Lpe,removeLegendPayload:Mpe}=GU.actions,Dpe=GU.reducer,jpe=["contextPayload"];function j4(){return j4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j4.apply(null,arguments)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){vP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vP(t,e,n){return(e=Fpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fpe(t){var e=Bpe(t,"string");return typeof e=="symbol"?e:e+""}function Bpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Upe(t,e){if(t==null)return{};var n,r,i=Vpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zpe(t){return t.value}function $pe(t){var{contextPayload:e}=t,n=Upe(t,jpe),r=nU(e,t.payloadUniqBy,zpe),i=_p(_p({},n),{},{payload:r});return H.isValidElement(t.content)?H.cloneElement(t.content,i):typeof t.content=="function"?H.createElement(t.content,i):H.createElement(Z3,i)}function qpe(t,e,n,r,i,s){var{layout:o,align:a,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(a==="center"&&o==="vertical"?c={left:((r||0)-s.width)/2}:c=a==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-s.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_p(_p({},c),u)}function Hpe(t){var e=Vr();return H.useEffect(()=>{e(Rpe(t))},[e,t]),null}function Wpe(t){var e=Vr();return H.useEffect(()=>(e(tR(t)),()=>{e(tR({width:0,height:0}))}),[e,t]),null}function Kpe(t){var e=Qfe(),n=whe(),r=kpe(),{width:i,height:s,wrapperStyle:o,portal:a}=t,[l,c]=pU([e]),u=HU(),h=WU(),f=u-(r.left||0)-(r.right||0),d=Hw.getWidthOrHeight(t.layout,s,i,f),p=a?o:_p(_p({position:"absolute",width:(d==null?void 0:d.width)||i||"auto",height:(d==null?void 0:d.height)||s||"auto"},qpe(o,t,r,u,h,l)),o),y=a??n;if(y==null)return null;var b=H.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:c},H.createElement(Hpe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),H.createElement(Wpe,{width:l.width,height:l.height}),H.createElement($pe,j4({},t,d,{margin:r,chartWidth:u,chartHeight:h,contextPayload:e})));return rE.createPortal(b,y)}class Hw extends H.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Bt(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return H.createElement(Kpe,this.props)}}vP(Hw,"displayName","Legend");vP(Hw,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function F4(){return F4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F4.apply(null,arguments)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){Gpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gpe(t,e,n){return(e=Ype(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ype(t){var e=Xpe(t,"string");return typeof e=="symbol"?e:e+""}function Xpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qpe(t){return Array.isArray(t)&&zl(t[0])&&zl(t[1])?t.join(" ~ "):t}var Jpe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:o,itemSorter:a,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:h,accessibilityLayer:f=!1}=t,d=()=>{if(s&&s.length){var M={padding:0,margin:0},L=(a?Mw(s,a):s).map((T,w)=>{if(T.type==="none")return null;var A=T.formatter||o||Qpe,{value:O,name:E}=T,C=O,R=E;if(A){var U=A(O,E,T,w,s);if(Array.isArray(U))[C,R]=U;else if(U!=null)C=U;else return null}var te=rx({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},r);return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(w),style:te},zl(R)?H.createElement("span",{className:"recharts-tooltip-item-name"},R):null,zl(R)?H.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,H.createElement("span",{className:"recharts-tooltip-item-value"},C),H.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:M},L)}return null},p=rx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=rx({margin:0},i),b=!sf(u),v=b?u:"",x=Cr("recharts-default-tooltip",l),S=Cr("recharts-tooltip-label",c);b&&h&&s!==void 0&&s!==null&&(v=h(u,s));var I=f?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",F4({className:x,style:p},I),H.createElement("p",{className:S,style:y},H.isValidElement(v)?v:"".concat(v)),d())},Ig="recharts-tooltip-wrapper",Zpe={visibility:"hidden"};function ege(t){var{coordinate:e,translateX:n,translateY:r}=t;return Cr(Ig,{["".concat(Ig,"-right")]:Bt(n)&&e&&Bt(e.x)&&n>=e.x,["".concat(Ig,"-left")]:Bt(n)&&e&&Bt(e.x)&&n<e.x,["".concat(Ig,"-bottom")]:Bt(r)&&e&&Bt(e.y)&&r>=e.y,["".concat(Ig,"-top")]:Bt(r)&&e&&Bt(e.y)&&r<e.y})}function iR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:a,viewBox:l,viewBoxDimension:c}=t;if(s&&Bt(s[r]))return s[r];var u=n[r]-a-(i>0?i:0),h=n[r]+i;if(e[r])return o[r]?u:h;var f=l[r];if(f==null)return 0;if(o[r]){var d=u,p=f;return d<p?Math.max(h,f):Math.max(u,f)}if(c==null)return 0;var y=h+a,b=f+c;return y>b?Math.max(u,f):Math.max(h,f)}function tge(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function nge(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:a,viewBox:l}=t,c,u,h;return o.height>0&&o.width>0&&n?(u=iR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),h=iR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=tge({translateX:u,translateY:h,useTranslate3d:a})):c=Zpe,{cssProperties:c,cssClasses:ege({translateX:u,translateY:h,coordinate:n})}}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){B4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B4(t,e,n){return(e=rge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rge(t){var e=ige(t,"string");return typeof e=="symbol"?e:e+""}function ige(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sge extends H.PureComponent{constructor(){super(...arguments),B4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),B4(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:o,hasPayload:a,isAnimationActive:l,offset:c,position:u,reverseDirection:h,useTranslate3d:f,viewBox:d,wrapperStyle:p,lastBoundingBox:y,innerRef:b,hasPortalFromProps:v}=this.props,{cssClasses:x,cssProperties:S}=nge({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:d}),I=v?{}:wy(wy({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),M=wy(wy({},I),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},p);return H.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:M,ref:b},s)}}var oge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ww={isSsr:oge()},YU=()=>Ot(t=>t.rootProps.accessibilityLayer);function ra(t){return Number.isFinite(t)}function z2(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function U4(){return U4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U4.apply(null,arguments)}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){age(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function age(t,e,n){return(e=lge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lge(t){var e=cge(t,"string");return typeof e=="symbol"?e:e+""}function cge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lR={curveBasisClosed:Bhe,curveBasisOpen:Uhe,curveBasis:Fhe,curveBumpX:Ahe,curveBumpY:Ehe,curveLinearClosed:Vhe,curveLinear:Nw,curveMonotoneX:zhe,curveMonotoneY:$he,curveNatural:qhe,curveStep:Hhe,curveStepAfter:Khe,curveStepBefore:Whe},_y=t=>ra(t.x)&&ra(t.y),kg=t=>t.x,Og=t=>t.y,uge=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(z0(t));return(n==="curveMonotone"||n==="curveBump")&&e?lR["".concat(n).concat(e==="vertical"?"Y":"X")]:lR[n]||Nw},hge=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,o=uge(e,i),a=s?n.filter(_y):n,l;if(Array.isArray(r)){var c=s?r.filter(h=>_y(h)):r,u=a.map((h,f)=>aR(aR({},h),{},{base:c[f]}));return i==="vertical"?l=gy().y(Og).x1(kg).x0(h=>h.base.x):l=gy().x(kg).y1(Og).y0(h=>h.base.y),l.defined(_y).curve(o),l(u)}return i==="vertical"&&Bt(r)?l=gy().y(Og).x1(kg).x0(r):Bt(r)?l=gy().x(kg).y1(Og).y0(r):l=NB().x(kg).y(Og),l.defined(_y).curve(o),l(a)},XU=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?hge(t):r;return H.createElement("path",U4({},Ur(t,!1),hhe(t),{className:Cr("recharts-curve",e),d:s===null?void 0:s,ref:i}))},fge=["x","y","top","left","width","height","className"];function V4(){return V4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V4.apply(null,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pge(t,e,n){return(e=gge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gge(t){var e=mge(t,"string");return typeof e=="symbol"?e:e+""}function mge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yge(t,e){if(t==null)return{};var n,r,i=vge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bge=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),wge=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:o=0,className:a}=t,l=yge(t,fge),c=dge({x:e,y:n,top:r,left:i,width:s,height:o},l);return!Bt(e)||!Bt(n)||!Bt(s)||!Bt(o)||!Bt(r)||!Bt(i)?null:H.createElement("path",V4({},Ur(c,!0),{className:Cr("recharts-cross",a),d:bge(e,n,s,o,r,i)}))};function _ge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){Sge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sge(t,e,n){return(e=Age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=Ege(t,"string");return typeof e=="symbol"?e:e+""}function Ege(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sf(t,e){var n=xge({},t),r=e,i=Object.keys(e),s=i.reduce((o,a)=>(o[a]===void 0&&r[a]!==void 0&&(o[a]=r[a]),o),n);return s}var QU={},JU={},ZU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(ZU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZU,n=oP,r=Ow,i=Rw,s=kw;function o(c,u,h){return a(c,u,void 0,void 0,void 0,void 0,h)}function a(c,u,h,f,d,p,y){const b=y(c,u,h,f,d,p);if(b!==void 0)return b;if(typeof c==typeof u)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===u;case"number":return c===u||Object.is(c,u);case"function":return c===u;case"object":return l(c,u,p,y)}return l(c,u,p,y)}function l(c,u,h,f){if(Object.is(c,u))return!0;let d=r.getTag(c),p=r.getTag(u);if(d===i.argumentsTag&&(d=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),d!==p)return!1;switch(d){case i.stringTag:return c.toString()===u.toString();case i.numberTag:{const v=c.valueOf(),x=u.valueOf();return s.eq(v,x)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),u.valueOf());case i.regexpTag:return c.source===u.source&&c.flags===u.flags;case i.functionTag:return c===u}h=h??new Map;const y=h.get(c),b=h.get(u);if(y!=null&&b!=null)return y===u;h.set(c,u),h.set(u,c);try{switch(d){case i.mapTag:{if(c.size!==u.size)return!1;for(const[v,x]of c.entries())if(!u.has(v)||!a(x,u.get(v),v,c,u,h,f))return!1;return!0}case i.setTag:{if(c.size!==u.size)return!1;const v=Array.from(c.values()),x=Array.from(u.values());for(let S=0;S<v.length;S++){const I=v[S],M=x.findIndex(L=>a(I,L,void 0,c,u,h,f));if(M===-1)return!1;x.splice(M,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(u)||c.length!==u.length)return!1;for(let v=0;v<c.length;v++)if(!a(c[v],u[v],v,c,u,h,f))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==u.byteLength?!1:l(new Uint8Array(c),new Uint8Array(u),h,f);case i.dataViewTag:return c.byteLength!==u.byteLength||c.byteOffset!==u.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(u),h,f);case i.errorTag:return c.name===u.name&&c.message===u.message;case i.objectTag:{if(!(l(c.constructor,u.constructor,h,f)||e.isPlainObject(c)&&e.isPlainObject(u)))return!1;const x=[...Object.keys(c),...n.getSymbols(c)],S=[...Object.keys(u),...n.getSymbols(u)];if(x.length!==S.length)return!1;for(let I=0;I<x.length;I++){const M=x[I],L=c[M];if(!Object.hasOwn(u,M))return!1;const T=u[M];if(!a(L,T,M,c,u,h,f))return!1}return!0}default:return!1}}finally{h.delete(c),h.delete(u)}}t.isEqualWith=o})(JU);var eV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(eV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JU,n=eV;function r(i,s){return e.isEqualWith(i,s,n.noop)}t.isEqual=r})(QU);var Pge=QU.isEqual;const Tge=Kl(Pge);function Cge(t){var e={},n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,[l,...c]=a;if(typeof l=="number"){i=t.setTimeout(s.bind(null,c),l);return}s(l),i=t.setTimeout(s.bind(null,c));return}typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}var $2=1e-4,tV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],nV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),hR=(t,e)=>n=>{var r=tV(t,e);return nV(r,n)},Nge=(t,e)=>n=>{var r=tV(t,e),i=[...r.map((s,o)=>s*o).slice(1),0];return nV(i,n)},fR=function(){for(var e,n,r,i,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else o.length===4&&([e,r,n,i]=o);var c=hR(e,n),u=hR(r,i),h=Nge(e,n),f=p=>p>1?1:p<0?0:p,d=p=>{for(var y=p>1?1:p,b=y,v=0;v<8;++v){var x=c(b)-y,S=h(b);if(Math.abs(x-y)<$2||S<$2)return u(b);b=f(b-x/S)}return u(b)};return d.isStepper=!1,d},Ige=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(o,a,l)=>{var c=-(o-a)*n,u=l*r,h=l+(c-u)*i/1e3,f=l*i/1e3+o;return Math.abs(f-a)<$2&&Math.abs(h)<$2?[a,0]:[f,h]};return s.isStepper=!0,s.dt=i,s},kge=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fR(t);case"spring":return Ige();default:if(t.split("(")[0]==="cubic-bezier")return fR(t)}return typeof t=="function"?t:null};function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){Oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oge(t,e,n){return(e=Rge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rge(t){var e=Lge(t,"string");return typeof e=="symbol"?e:e+""}function Lge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mge=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Dge=(t,e,n)=>t.map(r=>"".concat(Mge(r)," ").concat(e,"ms ").concat(n)).join(","),jge=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),a0=(t,e)=>Object.keys(e).reduce((n,r)=>pR(pR({},n),{},{[r]:t(r,e[r])}),{});function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Fge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fge(t,e,n){return(e=Bge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bge(t){var e=Uge(t,"string");return typeof e=="symbol"?e:e+""}function Uge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q2=(t,e,n)=>t+(e-t)*n,z4=t=>{var{from:e,to:n}=t;return e!==n},rV=(t,e,n)=>{var r=a0((i,s)=>{if(z4(s)){var[o,a]=t(s.from,s.to,s.velocity);return Qr(Qr({},s),{},{from:o,velocity:a})}return s},e);return n<1?a0((i,s)=>z4(s)?Qr(Qr({},s),{},{velocity:q2(s.velocity,r[i].velocity,n),from:q2(s.from,r[i].from,n)}):s,e):rV(t,r,n-1)};function Vge(t,e,n,r,i,s){var o,a=r.reduce((f,d)=>Qr(Qr({},f),{},{[d]:{from:t[d],velocity:0,to:e[d]}}),{}),l=()=>a0((f,d)=>d.from,a),c=()=>!Object.values(a).filter(z4).length,u=null,h=f=>{o||(o=f);var d=f-o,p=d/n.dt;a=rV(n,a,p),i(Qr(Qr(Qr({},t),e),l())),o=f,c()||(u=s.setTimeout(h))};return()=>(u=s.setTimeout(h),()=>{u()})}function zge(t,e,n,r,i,s,o){var a=null,l=i.reduce((h,f)=>Qr(Qr({},h),{},{[f]:[t[f],e[f]]}),{}),c,u=h=>{c||(c=h);var f=(h-c)/r,d=a0((y,b)=>q2(...b,n(f)),l);if(s(Qr(Qr(Qr({},t),e),d)),f<1)a=o.setTimeout(u);else{var p=a0((y,b)=>q2(...b,n(1)),l);s(Qr(Qr(Qr({},t),e),p))}};return()=>(a=o.setTimeout(u),()=>{a()})}const $ge=(t,e,n,r,i,s)=>{var o=jge(t,e);return n.isStepper===!0?Vge(t,e,n,o,i,s):zge(t,e,n,r,o,i,s)};class qge{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var Hge=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function $4(){return $4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$4.apply(null,arguments)}function Wge(t,e){if(t==null)return{};var n,r,i=Kge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){Ph(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ph(t,e,n){return(e=Gge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gge(t){var e=Yge(t,"string");return typeof e=="symbol"?e:e+""}function Yge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xge(){return Cge(new qge)}class bP extends H.PureComponent{constructor(e,n){super(e,n),Ph(this,"mounted",!1),Ph(this,"manager",null),Ph(this,"stopJSAnimation",null),Ph(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:o,children:a,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof a=="function"&&(this.state={style:o});return}if(s){if(typeof a=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:o,from:a}=this.props,{style:l}=this.state;if(r){if(!n){var c={style:i?{[i]:o}:o};this.state&&l&&(i&&l[i]!==o||!i&&l!==o)&&this.setState(c);return}if(!(Tge(e.to,o)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=u||s?a:e.to;if(this.state&&l){var f={style:i?{[i]:h}:h};(i&&l[i]!==h||!i&&l!==h)&&this.setState(f)}this.runAnimation(kc(kc({},this.props),{},{from:h,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:s,begin:o,onAnimationEnd:a,onAnimationStart:l}=e,c=$ge(n,r,kge(s),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=c()};this.manager.start([l,o,u,i,a])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:s,easing:o,onAnimationStart:a,onAnimationEnd:l,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof c=="function"||o==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:s}:s,h=Dge(Object.keys(u),r,o);this.manager.start([a,n,kc(kc({},u),{},{transition:h}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:o,isActive:a,from:l,to:c,canBegin:u,onAnimationEnd:h,shouldReAnimate:f,onAnimationReStart:d,animationManager:p}=e,y=Wge(e,Hge),b=H.Children.count(n),v=this.state.style;if(typeof n=="function")return n(v);if(!a||b===0||i<=0)return n;var x=S=>{var{style:I={},className:M}=S.props,L=H.cloneElement(S,kc(kc({},y),{},{style:kc(kc({},I),v),className:M}));return L};return b===1?x(H.Children.only(n)):H.createElement("div",null,H.Children.map(n,S=>x(S)))}}Ph(bP,"displayName","Animate");Ph(bP,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Qge=H.createContext(null);function l0(t){var e,n,r=H.useContext(Qge);return H.createElement(bP,$4({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:Xge()}))}function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(null,arguments)}var yR=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],h=0,f=4;h<f;h++)u[h]=i[h]>s?s:i[h];c="M".concat(t,",").concat(e+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+a*u[0],",").concat(e)),c+="L ".concat(t+n-a*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+o*u[1])),c+="L ".concat(t+n,",").concat(e+r-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+n-a*u[2],",").concat(e+r)),c+="L ".concat(t+a*u[3],",").concat(e+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-o*u[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var d=Math.min(s,i);c="M ".concat(t,",").concat(e+o*d,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(t+a*d,",").concat(e,`
            L `).concat(t+n-a*d,",").concat(e,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(t+n,",").concat(e+o*d,`
            L `).concat(t+n,",").concat(e+r-o*d,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(t+n-a*d,",").concat(e+r,`
            L `).concat(t+a*d,",").concat(e+r,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(t,",").concat(e+r-o*d," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},Jge={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iV=t=>{var e=Sf(t,Jge),n=H.useRef(null),[r,i]=H.useState(-1);H.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:o,width:a,height:l,radius:c,className:u}=e,{animationEasing:h,animationDuration:f,animationBegin:d,isAnimationActive:p,isUpdateAnimationActive:y}=e;if(s!==+s||o!==+o||a!==+a||l!==+l||a===0||l===0)return null;var b=Cr("recharts-rectangle",u);return y?H.createElement(l0,{canBegin:r>0,from:{width:a,height:l,x:s,y:o},to:{width:a,height:l,x:s,y:o},duration:f,animationEasing:h,isActive:y},v=>{var{width:x,height:S,x:I,y:M}=v;return H.createElement(l0,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:d,duration:f,isActive:p,easing:h},H.createElement("path",H2({},Ur(e,!0),{className:b,d:yR(I,M,x,S,c),ref:n})))}):H.createElement("path",H2({},Ur(e,!0),{className:b,d:yR(s,o,a,l,c)}))};function sV(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,o=_i(e,n,r,i),a=_i(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function q4(){return q4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q4.apply(null,arguments)}var Zge=(t,e)=>{var n=Ms(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},xy=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:a,cornerIsExternal:l}=t,c=a*(o?1:-1)+r,u=Math.asin(a/c)/V2,h=l?i:i+s*u,f=_i(e,n,c,h),d=_i(e,n,r,h),p=l?i-s*u:i,y=_i(e,n,c*Math.cos(u*V2),p);return{center:f,circleTangency:d,lineTangency:y,theta:u}},oV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=t,a=Zge(s,o),l=s+a,c=_i(e,n,i,s),u=_i(e,n,i,l),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(s>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var f=_i(e,n,r,s),d=_i(e,n,r,l);h+="L ".concat(d.x,",").concat(d.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(s<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},eme=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:a,startAngle:l,endAngle:c}=t,u=Ms(c-l),{circleTangency:h,lineTangency:f,theta:d}=xy({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:s,cornerIsExternal:a}),{circleTangency:p,lineTangency:y,theta:b}=xy({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:a}),v=a?Math.abs(l-c):Math.abs(l-c)-d-b;if(v<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):oV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
  `);if(r>0){var{circleTangency:S,lineTangency:I,theta:M}=xy({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),{circleTangency:L,lineTangency:T,theta:w}=xy({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),A=a?Math.abs(l-c):Math.abs(l-c)-M-w;if(A<0&&s===0)return"".concat(x,"L").concat(e,",").concat(n,"Z");x+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(I.x,",").concat(I.y,"Z")}else x+="L".concat(e,",").concat(n,"Z");return x},tme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aV=t=>{var e=Sf(t,tme),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u,className:h}=e;if(s<i||c===u)return null;var f=Cr("recharts-sector",h),d=s-i,p=Fa(o,d,0,!0),y;return p>0&&Math.abs(c-u)<360?y=eme({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,d/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}):y=oV({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u}),H.createElement("path",q4({},Ur(e,!0),{className:f,d:y}))};function nme(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:a,cy:l,innerRadius:c,outerRadius:u,angle:h}=e,f=_i(a,l,c,h),d=_i(a,l,u,h);r=f.x,i=f.y,s=d.x,o=d.y}else return sV(e);return[{x:r,y:i},{x:s,y:o}]}var lV={},cV={},uV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cP;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(uV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uV;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(cV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uP,n=cV;function r(i,s,o){o&&typeof o!="number"&&e.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const a=Math.max(Math.ceil((s-i)/(o||1)),0),l=new Array(a);for(let c=0;c<a;c++)l[c]=i,i+=o;return l}t.range=r})(lV);var rme=lV.range;const hV=Kl(rme);function pu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ime(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wP(t){let e,n,r;t.length!==2?(e=pu,n=(a,l)=>pu(t(a),l),r=(a,l)=>t(a)-l):(e=t===pu||t===ime?t:sme,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;n(a[h],l)<0?c=h+1:u=h}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;n(a[h],l)<=0?c=h+1:u=h}while(c<u)}return c}function o(a,l,c=0,u=a.length){const h=i(a,l,c,u-1);return h>c&&r(a[h-1],l)>-r(a[h],l)?h-1:h}return{left:i,center:o,right:s}}function sme(){return 0}function fV(t){return t===null?NaN:+t}function*ome(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const ame=wP(pu),lme=ame.right;wP(fV).center;const q0=lme;class vR extends Map{constructor(e,n=hme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(bR(this,e))}has(e){return super.has(bR(this,e))}set(e,n){return super.set(cme(this,e),n)}delete(e){return super.delete(ume(this,e))}}function bR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function cme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ume({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function hme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fme(t=pu){if(t===pu)return dV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const dme=Math.sqrt(50),pme=Math.sqrt(10),gme=Math.sqrt(2);function W2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=dme?10:s>=pme?5:s>=gme?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?W2(t,e,n*2):[a,l,c]}function H4(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?W2(e,t,n):W2(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function W4(t,e,n){return e=+e,t=+t,n=+n,W2(t,e,n)[2]}function K4(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?W4(e,t,n):W4(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wR(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function _R(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function pV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?dV:fme(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),d=Math.max(n,Math.floor(e-c*h/l+f)),p=Math.min(r,Math.floor(e+(l-c)*h/l+f));pV(t,e,d,p,i)}const s=t[e];let o=n,a=r;for(Rg(t,n,e),i(t[r],s)>0&&Rg(t,n,r);o<a;){for(Rg(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?Rg(t,n,a):(++a,Rg(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Rg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function mme(t,e,n){if(t=Float64Array.from(ome(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return _R(t);if(e>=1)return wR(t);var r,i=(r-1)*e,s=Math.floor(i),o=wR(pV(t,s).subarray(0,s+1)),a=_R(t.subarray(s+1));return o+(a-o)*(i-s)}}function yme(t,e,n=fV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function vme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ao(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const G4=Symbol("implicit");function _P(){var t=new vR,e=[],n=[],r=G4;function i(s){let o=t.get(s);if(o===void 0){if(r!==G4)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new vR;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return _P(e,n).unknown(r)},Ao.apply(i,arguments),i}function xP(){var t=_P().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,u=.5;delete t.unknown;function h(){var f=e().length,d=i<r,p=d?i:r,y=d?r:i;s=(y-p)/Math.max(1,f-l+c*2),a&&(s=Math.floor(s)),p+=(y-p-s*(f-l))*u,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var b=vme(f).map(function(v){return p+s*v});return n(d?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(f){return arguments.length?(a=!!f,h()):a},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},t.copy=function(){return xP(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Ao.apply(h(),arguments)}function gV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return gV(e())},t}function bme(){return gV(xP.apply(null,arguments).paddingInner(1))}function SP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function H0(){}var c0=.7,K2=1/c0,Xd="\\s*([+-]?\\d+)\\s*",u0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wme=/^#([0-9a-f]{3,8})$/,_me=new RegExp(`^rgb\\(${Xd},${Xd},${Xd}\\)$`),xme=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),Sme=new RegExp(`^rgba\\(${Xd},${Xd},${Xd},${u0}\\)$`),Ame=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${u0}\\)$`),Eme=new RegExp(`^hsl\\(${u0},${Ba},${Ba}\\)$`),Pme=new RegExp(`^hsla\\(${u0},${Ba},${Ba},${u0}\\)$`),xR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SP(H0,h0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:SR,formatHex:SR,formatHex8:Tme,formatHsl:Cme,formatRgb:AR,toString:AR});function SR(){return this.rgb().formatHex()}function Tme(){return this.rgb().formatHex8()}function Cme(){return yV(this).formatHsl()}function AR(){return this.rgb().formatRgb()}function h0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wme.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ER(e):n===3?new ss(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Sy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Sy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_me.exec(t))?new ss(e[1],e[2],e[3],1):(e=xme.exec(t))?new ss(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Sme.exec(t))?Sy(e[1],e[2],e[3],e[4]):(e=Ame.exec(t))?Sy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Eme.exec(t))?CR(e[1],e[2]/100,e[3]/100,1):(e=Pme.exec(t))?CR(e[1],e[2]/100,e[3]/100,e[4]):xR.hasOwnProperty(t)?ER(xR[t]):t==="transparent"?new ss(NaN,NaN,NaN,0):null}function ER(t){return new ss(t>>16&255,t>>8&255,t&255,1)}function Sy(t,e,n,r){return r<=0&&(t=e=n=NaN),new ss(t,e,n,r)}function Nme(t){return t instanceof H0||(t=h0(t)),t?(t=t.rgb(),new ss(t.r,t.g,t.b,t.opacity)):new ss}function Y4(t,e,n,r){return arguments.length===1?Nme(t):new ss(t,e,n,r??1)}function ss(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}SP(ss,Y4,mV(H0,{brighter(t){return t=t==null?K2:Math.pow(K2,t),new ss(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?c0:Math.pow(c0,t),new ss(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ss(Vh(this.r),Vh(this.g),Vh(this.b),G2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PR,formatHex:PR,formatHex8:Ime,formatRgb:TR,toString:TR}));function PR(){return`#${Th(this.r)}${Th(this.g)}${Th(this.b)}`}function Ime(){return`#${Th(this.r)}${Th(this.g)}${Th(this.b)}${Th((isNaN(this.opacity)?1:this.opacity)*255)}`}function TR(){const t=G2(this.opacity);return`${t===1?"rgb(":"rgba("}${Vh(this.r)}, ${Vh(this.g)}, ${Vh(this.b)}${t===1?")":`, ${t})`}`}function G2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Th(t){return t=Vh(t),(t<16?"0":"")+t.toString(16)}function CR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wo(t,e,n,r)}function yV(t){if(t instanceof Wo)return new Wo(t.h,t.s,t.l,t.opacity);if(t instanceof H0||(t=h0(t)),!t)return new Wo;if(t instanceof Wo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Wo(o,a,l,t.opacity)}function kme(t,e,n,r){return arguments.length===1?yV(t):new Wo(t,e,n,r??1)}function Wo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}SP(Wo,kme,mV(H0,{brighter(t){return t=t==null?K2:Math.pow(K2,t),new Wo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?c0:Math.pow(c0,t),new Wo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ss(ix(t>=240?t-240:t+120,i,r),ix(t,i,r),ix(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wo(NR(this.h),Ay(this.s),Ay(this.l),G2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=G2(this.opacity);return`${t===1?"hsl(":"hsla("}${NR(this.h)}, ${Ay(this.s)*100}%, ${Ay(this.l)*100}%${t===1?")":`, ${t})`}`}}));function NR(t){return t=(t||0)%360,t<0?t+360:t}function Ay(t){return Math.max(0,Math.min(1,t||0))}function ix(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const AP=t=>()=>t;function Ome(t,e){return function(n){return t+n*e}}function Rme(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lme(t){return(t=+t)==1?vV:function(e,n){return n-e?Rme(e,n,t):AP(isNaN(e)?n:e)}}function vV(t,e){var n=e-t;return n?Ome(t,n):AP(isNaN(t)?e:t)}const IR=function t(e){var n=Lme(e);function r(i,s){var o=n((i=Y4(i)).r,(s=Y4(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=vV(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Mme(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Dme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Up(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Fme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Y2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Up(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var X4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sx=new RegExp(X4.source,"g");function Ume(t){return function(){return t}}function Vme(t){return function(e){return t(e)+""}}function zme(t,e){var n=X4.lastIndex=sx.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=X4.exec(t))&&(i=sx.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Y2(r,i)})),n=sx.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Vme(l[0].x):Ume(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}function Up(t,e){var n=typeof e,r;return e==null||n==="boolean"?AP(e):(n==="number"?Y2:n==="string"?(r=h0(e))?(e=r,IR):zme:e instanceof h0?IR:e instanceof Date?Fme:Dme(e)?Mme:Array.isArray(e)?jme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bme:Y2)(t,e)}function EP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $me(t,e){e===void 0&&(e=t,t=Up);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function qme(t){return function(){return t}}function X2(t){return+t}var kR=[0,1];function Mi(t){return t}function Q4(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:qme(isNaN(e)?NaN:.5)}function Hme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Wme(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=Q4(i,r),s=n(o,s)):(r=Q4(r,i),s=n(s,o)),function(a){return s(r(a))}}function Kme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Q4(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=q0(t,a,1,r)-1;return s[l](i[l](a))}}function W0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kw(){var t=kR,e=kR,n=Up,r,i,s,o=Mi,a,l,c;function u(){var f=Math.min(t.length,e.length);return o!==Mi&&(o=Hme(t[0],t[f-1])),a=f>2?Kme:Wme,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?s:(l||(l=a(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(i((c||(c=a(e,t.map(r),Y2)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,X2),u()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=EP,u()},h.clamp=function(f){return arguments.length?(o=f?!0:Mi,u()):o!==Mi},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,d){return r=f,i=d,u()}}function PP(){return Kw()(Mi,Mi)}function Gme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Q2(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function xp(t){return t=Q2(Math.abs(t)),t?t[1]:NaN}function Yme(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Xme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Qme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function f0(t){if(!(e=Qme.exec(t)))throw new Error("invalid format: "+t);var e;return new TP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}f0.prototype=TP.prototype;function TP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jme(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var bV;function Zme(t,e){var n=Q2(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(bV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Q2(t,Math.max(0,e+s-1))[0]}function OR(t,e){var n=Q2(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const RR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OR(t*100,e),r:OR,s:Zme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function LR(t){return t}var MR=Array.prototype.map,DR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function e0e(t){var e=t.grouping===void 0||t.thousands===void 0?LR:Yme(MR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?LR:Xme(MR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=f0(h);var f=h.fill,d=h.align,p=h.sign,y=h.symbol,b=h.zero,v=h.width,x=h.comma,S=h.precision,I=h.trim,M=h.type;M==="n"?(x=!0,M="g"):RR[M]||(S===void 0&&(S=12),I=!0,M="g"),(b||f==="0"&&d==="=")&&(b=!0,f="0",d="=");var L=y==="$"?n:y==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",T=y==="$"?r:/[%p]/.test(M)?o:"",w=RR[M],A=/[defgprs%]/.test(M);S=S===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function O(E){var C=L,R=T,U,te,z;if(M==="c")R=w(E)+R,E="";else{E=+E;var V=E<0||1/E<0;if(E=isNaN(E)?l:w(Math.abs(E),S),I&&(E=Jme(E)),V&&+E==0&&p!=="+"&&(V=!1),C=(V?p==="("?p:a:p==="-"||p==="("?"":p)+C,R=(M==="s"?DR[8+bV/3]:"")+R+(V&&p==="("?")":""),A){for(U=-1,te=E.length;++U<te;)if(z=E.charCodeAt(U),48>z||z>57){R=(z===46?i+E.slice(U+1):E.slice(U))+R,E=E.slice(0,U);break}}}x&&!b&&(E=e(E,1/0));var W=C.length+E.length+R.length,X=W<v?new Array(v-W+1).join(f):"";switch(x&&b&&(E=e(X+E,X.length?v-R.length:1/0),X=""),d){case"<":E=C+E+R+X;break;case"=":E=C+X+E+R;break;case"^":E=X.slice(0,W=X.length>>1)+C+E+R+X.slice(W);break;default:E=X+C+E+R;break}return s(E)}return O.toString=function(){return h+""},O}function u(h,f){var d=c((h=f0(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(xp(f)/3)))*3,y=Math.pow(10,-p),b=DR[8+p/3];return function(v){return d(y*v)+b}}return{format:c,formatPrefix:u}}var Ey,CP,wV;t0e({thousands:",",grouping:[3],currency:["$",""]});function t0e(t){return Ey=e0e(t),CP=Ey.format,wV=Ey.formatPrefix,Ey}function n0e(t){return Math.max(0,-xp(Math.abs(t)))}function r0e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xp(e)/3)))*3-xp(Math.abs(t)))}function i0e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xp(e)-xp(t))+1}function _V(t,e,n,r){var i=K4(t,e,n),s;switch(r=f0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=r0e(i,o))&&(r.precision=s),wV(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=i0e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=n0e(i))&&(r.precision=s-(r.type==="%")*2);break}}return CP(r)}function Fu(t){var e=t.domain;return t.ticks=function(n){var r=e();return H4(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return _V(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=W4(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function xV(){var t=PP();return t.copy=function(){return W0(t,xV())},Ao.apply(t,arguments),Fu(t)}function SV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,X2),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return SV(t).unknown(e)},t=arguments.length?Array.from(t,X2):[0,1],Fu(n)}function AV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function jR(t){return Math.log(t)}function FR(t){return Math.exp(t)}function s0e(t){return-Math.log(-t)}function o0e(t){return-Math.exp(-t)}function a0e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function l0e(t){return t===10?a0e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function c0e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function BR(t){return(e,n)=>-t(-e,n)}function NP(t){const e=t(jR,FR),n=e.domain;let r=10,i,s;function o(){return i=c0e(r),s=l0e(r),n()[0]<0?(i=BR(i),s=BR(s),t(s0e,o0e)):t(jR,FR),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const h=u<c;h&&([c,u]=[u,c]);let f=i(c),d=i(u),p,y;const b=a==null?10:+a;let v=[];if(!(r%1)&&d-f<b){if(f=Math.floor(f),d=Math.ceil(d),c>0){for(;f<=d;++f)for(p=1;p<r;++p)if(y=f<0?p/s(-f):p*s(f),!(y<c)){if(y>u)break;v.push(y)}}else for(;f<=d;++f)for(p=r-1;p>=1;--p)if(y=f>0?p/s(-f):p*s(f),!(y<c)){if(y>u)break;v.push(y)}v.length*2<b&&(v=H4(c,u,b))}else v=H4(f,d,Math.min(d-f,b)).map(s);return h?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=f0(l)).precision==null&&(l.trim=!0),l=CP(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let h=u/s(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=c?l(u):""}},e.nice=()=>n(AV(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function EV(){const t=NP(Kw()).domain([1,10]);return t.copy=()=>W0(t,EV()).base(t.base()),Ao.apply(t,arguments),t}function UR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function VR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function IP(t){var e=1,n=t(UR(e),VR(e));return n.constant=function(r){return arguments.length?t(UR(e=+r),VR(e)):e},Fu(n)}function PV(){var t=IP(Kw());return t.copy=function(){return W0(t,PV()).constant(t.constant())},Ao.apply(t,arguments)}function zR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function u0e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function h0e(t){return t<0?-t*t:t*t}function kP(t){var e=t(Mi,Mi),n=1;function r(){return n===1?t(Mi,Mi):n===.5?t(u0e,h0e):t(zR(n),zR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Fu(e)}function OP(){var t=kP(Kw());return t.copy=function(){return W0(t,OP()).exponent(t.exponent())},Ao.apply(t,arguments),t}function f0e(){return OP.apply(null,arguments).exponent(.5)}function $R(t){return Math.sign(t)*t*t}function d0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function TV(){var t=PP(),e=[0,1],n=!1,r;function i(s){var o=d0e(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert($R(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,X2)).map($R)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return TV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ao.apply(i,arguments),Fu(i)}function CV(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=yme(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[q0(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(pu),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return CV().domain(t).range(e).unknown(r)},Ao.apply(s,arguments)}function NV(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[q0(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return NV().domain([t,e]).range(i).unknown(s)},Ao.apply(Fu(o),arguments)}function IV(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[q0(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return IV().domain(t).range(e).unknown(n)},Ao.apply(i,arguments)}const ox=new Date,ax=new Date;function Nr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>Nr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(ox.setTime(+s),ax.setTime(+o),t(ox),t(ax),Math.floor(n(ox,ax))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const J2=Nr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);J2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):J2);J2.range;const Al=1e3,po=Al*60,El=po*60,ql=El*24,RP=ql*7,qR=ql*30,lx=ql*365,Ch=Nr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Al)},(t,e)=>(e-t)/Al,t=>t.getUTCSeconds());Ch.range;const LP=Nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Al)},(t,e)=>{t.setTime(+t+e*po)},(t,e)=>(e-t)/po,t=>t.getMinutes());LP.range;const MP=Nr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*po)},(t,e)=>(e-t)/po,t=>t.getUTCMinutes());MP.range;const DP=Nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Al-t.getMinutes()*po)},(t,e)=>{t.setTime(+t+e*El)},(t,e)=>(e-t)/El,t=>t.getHours());DP.range;const jP=Nr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*El)},(t,e)=>(e-t)/El,t=>t.getUTCHours());jP.range;const K0=Nr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*po)/ql,t=>t.getDate()-1);K0.range;const Gw=Nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ql,t=>t.getUTCDate()-1);Gw.range;const kV=Nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ql,t=>Math.floor(t/ql));kV.range;function Af(t){return Nr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*po)/RP)}const Yw=Af(0),Z2=Af(1),p0e=Af(2),g0e=Af(3),Sp=Af(4),m0e=Af(5),y0e=Af(6);Yw.range;Z2.range;p0e.range;g0e.range;Sp.range;m0e.range;y0e.range;function Ef(t){return Nr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/RP)}const Xw=Ef(0),eb=Ef(1),v0e=Ef(2),b0e=Ef(3),Ap=Ef(4),w0e=Ef(5),_0e=Ef(6);Xw.range;eb.range;v0e.range;b0e.range;Ap.range;w0e.range;_0e.range;const FP=Nr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());FP.range;const BP=Nr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());BP.range;const Hl=Nr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hl.range;const Wl=Nr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Wl.range;function OV(t,e,n,r,i,s){const o=[[Ch,1,Al],[Ch,5,5*Al],[Ch,15,15*Al],[Ch,30,30*Al],[s,1,po],[s,5,5*po],[s,15,15*po],[s,30,30*po],[i,1,El],[i,3,3*El],[i,6,6*El],[i,12,12*El],[r,1,ql],[r,2,2*ql],[n,1,RP],[e,1,qR],[e,3,3*qR],[t,1,lx]];function a(c,u,h){const f=u<c;f&&([c,u]=[u,c]);const d=h&&typeof h.range=="function"?h:l(c,u,h),p=d?d.range(c,+u+1):[];return f?p.reverse():p}function l(c,u,h){const f=Math.abs(u-c)/h,d=wP(([,,b])=>b).right(o,f);if(d===o.length)return t.every(K4(c/lx,u/lx,h));if(d===0)return J2.every(Math.max(K4(c,u,h),1));const[p,y]=o[f/o[d-1][2]<o[d][2]/f?d-1:d];return p.every(y)}return[a,l]}const[x0e,S0e]=OV(Wl,BP,Xw,kV,jP,MP),[A0e,E0e]=OV(Hl,FP,Yw,K0,DP,LP);function cx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ux(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function P0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=Mg(i),u=Dg(i),h=Mg(s),f=Dg(s),d=Mg(o),p=Dg(o),y=Mg(a),b=Dg(a),v=Mg(l),x=Dg(l),S={a:V,A:W,b:X,B:re,c:null,d:XR,e:XR,f:Y0e,g:s1e,G:a1e,H:W0e,I:K0e,j:G0e,L:RV,m:X0e,M:Q0e,p:ye,q:F,Q:ZR,s:e8,S:J0e,u:Z0e,U:e1e,V:t1e,w:n1e,W:r1e,x:null,X:null,y:i1e,Y:o1e,Z:l1e,"%":JR},I={a:Y,A:Q,b:J,B:ae,c:null,d:QR,e:QR,f:f1e,g:x1e,G:A1e,H:c1e,I:u1e,j:h1e,L:MV,m:d1e,M:p1e,p:pe,q:ve,Q:ZR,s:e8,S:g1e,u:m1e,U:y1e,V:v1e,w:b1e,W:w1e,x:null,X:null,y:_1e,Y:S1e,Z:E1e,"%":JR},M={a:O,A:E,b:C,B:R,c:U,d:GR,e:GR,f:z0e,g:KR,G:WR,H:YR,I:YR,j:F0e,L:V0e,m:j0e,M:B0e,p:A,q:D0e,Q:q0e,s:H0e,S:U0e,u:k0e,U:O0e,V:R0e,w:I0e,W:L0e,x:te,X:z,y:KR,Y:WR,Z:M0e,"%":$0e};S.x=L(n,S),S.X=L(r,S),S.c=L(e,S),I.x=L(n,I),I.X=L(r,I),I.c=L(e,I);function L(le,Ae){return function(Ee){var ge=[],Fe=-1,qe=0,we=le.length,se,Ge,He;for(Ee instanceof Date||(Ee=new Date(+Ee));++Fe<we;)le.charCodeAt(Fe)===37&&(ge.push(le.slice(qe,Fe)),(Ge=HR[se=le.charAt(++Fe)])!=null?se=le.charAt(++Fe):Ge=se==="e"?" ":"0",(He=Ae[se])&&(se=He(Ee,Ge)),ge.push(se),qe=Fe+1);return ge.push(le.slice(qe,Fe)),ge.join("")}}function T(le,Ae){return function(Ee){var ge=Lg(1900,void 0,1),Fe=w(ge,le,Ee+="",0),qe,we;if(Fe!=Ee.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ae&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(qe=ux(Lg(ge.y,0,1)),we=qe.getUTCDay(),qe=we>4||we===0?eb.ceil(qe):eb(qe),qe=Gw.offset(qe,(ge.V-1)*7),ge.y=qe.getUTCFullYear(),ge.m=qe.getUTCMonth(),ge.d=qe.getUTCDate()+(ge.w+6)%7):(qe=cx(Lg(ge.y,0,1)),we=qe.getDay(),qe=we>4||we===0?Z2.ceil(qe):Z2(qe),qe=K0.offset(qe,(ge.V-1)*7),ge.y=qe.getFullYear(),ge.m=qe.getMonth(),ge.d=qe.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),we="Z"in ge?ux(Lg(ge.y,0,1)).getUTCDay():cx(Lg(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(we+5)%7:ge.w+ge.U*7-(we+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,ux(ge)):cx(ge)}}function w(le,Ae,Ee,ge){for(var Fe=0,qe=Ae.length,we=Ee.length,se,Ge;Fe<qe;){if(ge>=we)return-1;if(se=Ae.charCodeAt(Fe++),se===37){if(se=Ae.charAt(Fe++),Ge=M[se in HR?Ae.charAt(Fe++):se],!Ge||(ge=Ge(le,Ee,ge))<0)return-1}else if(se!=Ee.charCodeAt(ge++))return-1}return ge}function A(le,Ae,Ee){var ge=c.exec(Ae.slice(Ee));return ge?(le.p=u.get(ge[0].toLowerCase()),Ee+ge[0].length):-1}function O(le,Ae,Ee){var ge=d.exec(Ae.slice(Ee));return ge?(le.w=p.get(ge[0].toLowerCase()),Ee+ge[0].length):-1}function E(le,Ae,Ee){var ge=h.exec(Ae.slice(Ee));return ge?(le.w=f.get(ge[0].toLowerCase()),Ee+ge[0].length):-1}function C(le,Ae,Ee){var ge=v.exec(Ae.slice(Ee));return ge?(le.m=x.get(ge[0].toLowerCase()),Ee+ge[0].length):-1}function R(le,Ae,Ee){var ge=y.exec(Ae.slice(Ee));return ge?(le.m=b.get(ge[0].toLowerCase()),Ee+ge[0].length):-1}function U(le,Ae,Ee){return w(le,e,Ae,Ee)}function te(le,Ae,Ee){return w(le,n,Ae,Ee)}function z(le,Ae,Ee){return w(le,r,Ae,Ee)}function V(le){return o[le.getDay()]}function W(le){return s[le.getDay()]}function X(le){return l[le.getMonth()]}function re(le){return a[le.getMonth()]}function ye(le){return i[+(le.getHours()>=12)]}function F(le){return 1+~~(le.getMonth()/3)}function Y(le){return o[le.getUTCDay()]}function Q(le){return s[le.getUTCDay()]}function J(le){return l[le.getUTCMonth()]}function ae(le){return a[le.getUTCMonth()]}function pe(le){return i[+(le.getUTCHours()>=12)]}function ve(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Ae=L(le+="",S);return Ae.toString=function(){return le},Ae},parse:function(le){var Ae=T(le+="",!1);return Ae.toString=function(){return le},Ae},utcFormat:function(le){var Ae=L(le+="",I);return Ae.toString=function(){return le},Ae},utcParse:function(le){var Ae=T(le+="",!0);return Ae.toString=function(){return le},Ae}}}var HR={"-":"",_:" ",0:"0"},zr=/^\s*\d+/,T0e=/^%/,C0e=/[\\^$*+?|[\]().{}]/g;function Gt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function N0e(t){return t.replace(C0e,"\\$&")}function Mg(t){return new RegExp("^(?:"+t.map(N0e).join("|")+")","i")}function Dg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function I0e(t,e,n){var r=zr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function k0e(t,e,n){var r=zr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function O0e(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function R0e(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function L0e(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function WR(t,e,n){var r=zr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function KR(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function M0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function D0e(t,e,n){var r=zr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function j0e(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function GR(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function F0e(t,e,n){var r=zr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function YR(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function B0e(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function U0e(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function V0e(t,e,n){var r=zr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function z0e(t,e,n){var r=zr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $0e(t,e,n){var r=T0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function q0e(t,e,n){var r=zr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function H0e(t,e,n){var r=zr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function XR(t,e){return Gt(t.getDate(),e,2)}function W0e(t,e){return Gt(t.getHours(),e,2)}function K0e(t,e){return Gt(t.getHours()%12||12,e,2)}function G0e(t,e){return Gt(1+K0.count(Hl(t),t),e,3)}function RV(t,e){return Gt(t.getMilliseconds(),e,3)}function Y0e(t,e){return RV(t,e)+"000"}function X0e(t,e){return Gt(t.getMonth()+1,e,2)}function Q0e(t,e){return Gt(t.getMinutes(),e,2)}function J0e(t,e){return Gt(t.getSeconds(),e,2)}function Z0e(t){var e=t.getDay();return e===0?7:e}function e1e(t,e){return Gt(Yw.count(Hl(t)-1,t),e,2)}function LV(t){var e=t.getDay();return e>=4||e===0?Sp(t):Sp.ceil(t)}function t1e(t,e){return t=LV(t),Gt(Sp.count(Hl(t),t)+(Hl(t).getDay()===4),e,2)}function n1e(t){return t.getDay()}function r1e(t,e){return Gt(Z2.count(Hl(t)-1,t),e,2)}function i1e(t,e){return Gt(t.getFullYear()%100,e,2)}function s1e(t,e){return t=LV(t),Gt(t.getFullYear()%100,e,2)}function o1e(t,e){return Gt(t.getFullYear()%1e4,e,4)}function a1e(t,e){var n=t.getDay();return t=n>=4||n===0?Sp(t):Sp.ceil(t),Gt(t.getFullYear()%1e4,e,4)}function l1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Gt(e/60|0,"0",2)+Gt(e%60,"0",2)}function QR(t,e){return Gt(t.getUTCDate(),e,2)}function c1e(t,e){return Gt(t.getUTCHours(),e,2)}function u1e(t,e){return Gt(t.getUTCHours()%12||12,e,2)}function h1e(t,e){return Gt(1+Gw.count(Wl(t),t),e,3)}function MV(t,e){return Gt(t.getUTCMilliseconds(),e,3)}function f1e(t,e){return MV(t,e)+"000"}function d1e(t,e){return Gt(t.getUTCMonth()+1,e,2)}function p1e(t,e){return Gt(t.getUTCMinutes(),e,2)}function g1e(t,e){return Gt(t.getUTCSeconds(),e,2)}function m1e(t){var e=t.getUTCDay();return e===0?7:e}function y1e(t,e){return Gt(Xw.count(Wl(t)-1,t),e,2)}function DV(t){var e=t.getUTCDay();return e>=4||e===0?Ap(t):Ap.ceil(t)}function v1e(t,e){return t=DV(t),Gt(Ap.count(Wl(t),t)+(Wl(t).getUTCDay()===4),e,2)}function b1e(t){return t.getUTCDay()}function w1e(t,e){return Gt(eb.count(Wl(t)-1,t),e,2)}function _1e(t,e){return Gt(t.getUTCFullYear()%100,e,2)}function x1e(t,e){return t=DV(t),Gt(t.getUTCFullYear()%100,e,2)}function S1e(t,e){return Gt(t.getUTCFullYear()%1e4,e,4)}function A1e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ap(t):Ap.ceil(t),Gt(t.getUTCFullYear()%1e4,e,4)}function E1e(){return"+0000"}function JR(){return"%"}function ZR(t){return+t}function e8(t){return Math.floor(+t/1e3)}var sd,jV,FV;P1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function P1e(t){return sd=P0e(t),jV=sd.format,sd.parse,FV=sd.utcFormat,sd.utcParse,sd}function T1e(t){return new Date(t)}function C1e(t){return t instanceof Date?+t:+new Date(+t)}function UP(t,e,n,r,i,s,o,a,l,c){var u=PP(),h=u.invert,f=u.domain,d=c(".%L"),p=c(":%S"),y=c("%I:%M"),b=c("%I %p"),v=c("%a %d"),x=c("%b %d"),S=c("%B"),I=c("%Y");function M(L){return(l(L)<L?d:a(L)<L?p:o(L)<L?y:s(L)<L?b:r(L)<L?i(L)<L?v:x:n(L)<L?S:I)(L)}return u.invert=function(L){return new Date(h(L))},u.domain=function(L){return arguments.length?f(Array.from(L,C1e)):f().map(T1e)},u.ticks=function(L){var T=f();return t(T[0],T[T.length-1],L??10)},u.tickFormat=function(L,T){return T==null?M:c(T)},u.nice=function(L){var T=f();return(!L||typeof L.range!="function")&&(L=e(T[0],T[T.length-1],L??10)),L?f(AV(T,L)):u},u.copy=function(){return W0(u,UP(t,e,n,r,i,s,o,a,l,c))},u}function N1e(){return Ao.apply(UP(A0e,E0e,Hl,FP,Yw,K0,DP,LP,Ch,jV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function I1e(){return Ao.apply(UP(x0e,S0e,Wl,BP,Xw,Gw,jP,MP,Ch,FV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qw(){var t=0,e=1,n,r,i,s,o=Mi,a=!1,l;function c(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(s(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(a=!!h,c):a},c.interpolator=function(h){return arguments.length?(o=h,c):o};function u(h){return function(f){var d,p;return arguments.length?([d,p]=f,o=h(d,p),c):[o(0),o(1)]}}return c.range=u(Up),c.rangeRound=u(EP),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function Bu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function BV(){var t=Fu(Qw()(Mi));return t.copy=function(){return Bu(t,BV())},Jl.apply(t,arguments)}function UV(){var t=NP(Qw()).domain([1,10]);return t.copy=function(){return Bu(t,UV()).base(t.base())},Jl.apply(t,arguments)}function VV(){var t=IP(Qw());return t.copy=function(){return Bu(t,VV()).constant(t.constant())},Jl.apply(t,arguments)}function VP(){var t=kP(Qw());return t.copy=function(){return Bu(t,VP()).exponent(t.exponent())},Jl.apply(t,arguments)}function k1e(){return VP.apply(null,arguments).exponent(.5)}function zV(){var t=[],e=Mi;function n(r){if(r!=null&&!isNaN(r=+r))return e((q0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(pu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>mme(t,s/r))},n.copy=function(){return zV(e).domain(t)},Jl.apply(n,arguments)}function Jw(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=Mi,u,h=!1,f;function d(y){return isNaN(y=+y)?f:(y=.5+((y=+u(y))-s)*(r*y<r*s?a:l),c(h?Math.max(0,Math.min(1,y)):y))}d.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),s=u(e=+e),o=u(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,d):[t,e,n]},d.clamp=function(y){return arguments.length?(h=!!y,d):h},d.interpolator=function(y){return arguments.length?(c=y,d):c};function p(y){return function(b){var v,x,S;return arguments.length?([v,x,S]=b,c=$me(y,[v,x,S]),d):[c(0),c(.5),c(1)]}}return d.range=p(Up),d.rangeRound=p(EP),d.unknown=function(y){return arguments.length?(f=y,d):f},function(y){return u=y,i=y(t),s=y(e),o=y(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,d}}function $V(){var t=Fu(Jw()(Mi));return t.copy=function(){return Bu(t,$V())},Jl.apply(t,arguments)}function qV(){var t=NP(Jw()).domain([.1,1,10]);return t.copy=function(){return Bu(t,qV()).base(t.base())},Jl.apply(t,arguments)}function HV(){var t=IP(Jw());return t.copy=function(){return Bu(t,HV()).constant(t.constant())},Jl.apply(t,arguments)}function zP(){var t=kP(Jw());return t.copy=function(){return Bu(t,zP()).exponent(t.exponent())},Jl.apply(t,arguments)}function O1e(){return zP.apply(null,arguments).exponent(.5)}const Jg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xP,scaleDiverging:$V,scaleDivergingLog:qV,scaleDivergingPow:zP,scaleDivergingSqrt:O1e,scaleDivergingSymlog:HV,scaleIdentity:SV,scaleImplicit:G4,scaleLinear:xV,scaleLog:EV,scaleOrdinal:_P,scalePoint:bme,scalePow:OP,scaleQuantile:CV,scaleQuantize:NV,scaleRadial:TV,scaleSequential:BV,scaleSequentialLog:UV,scaleSequentialPow:VP,scaleSequentialQuantile:zV,scaleSequentialSqrt:k1e,scaleSequentialSymlog:VV,scaleSqrt:f0e,scaleSymlog:PV,scaleThreshold:IV,scaleTime:N1e,scaleUtc:I1e,tickFormat:_V},Symbol.toStringTag,{value:"Module"}));var Pf=t=>t.chartData,$P=Ne([Pf],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),R1e=(t,e,n,r)=>r?$P(t):Pf(t);function Ep(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ra(e)&&ra(n))return!0}return!1}function t8(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function L1e(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(ra(n))i=n;else if(typeof n=="function")return;if(ra(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(Ep(o))return o}}function M1e(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ep(r))return t8(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,o,a;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Bt(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&QO.test(i)){var l=QO.exec(i);if(l==null||e==null)o=void 0;else{var c=+l[1];o=e[0]-c}}else o=e==null?void 0:e[0];if(s==="auto")e!=null&&(a=Math.max(...e));else if(Bt(s))a=s;else if(typeof s=="function")try{e!=null&&(a=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&JO.test(s)){var u=JO.exec(s);if(u==null||e==null)a=void 0;else{var h=+u[1];a=e[1]+h}}else a=e==null?void 0:e[1];var f=[o,a];if(Ep(f))return e==null?f:t8(f,e,n)}}}var Vp=1e9,D1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HP,jn=!0,_o="[DecimalError] ",zh=_o+"Invalid argument: ",qP=_o+"Exponent out of range: ",zp=Math.floor,yh=Math.pow,j1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ns,Rr=1e7,Cn=7,WV=9007199254740991,tb=zp(WV/Cn),rt={};rt.absoluteValue=rt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};rt.comparedTo=rt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Cn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};rt.dividedBy=rt.div=function(t){return Il(this,new this.constructor(t))};rt.dividedToIntegerBy=rt.idiv=function(t){var e=this,n=e.constructor;return yn(Il(e,new n(t),0,1),n.precision)};rt.equals=rt.eq=function(t){return!this.cmp(t)};rt.exponent=function(){return br(this)};rt.greaterThan=rt.gt=function(t){return this.cmp(t)>0};rt.greaterThanOrEqualTo=rt.gte=function(t){return this.cmp(t)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(t){return this.cmp(t)<0};rt.lessThanOrEqualTo=rt.lte=function(t){return this.cmp(t)<1};rt.logarithm=rt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ns))throw Error(_o+"NaN");if(n.s<1)throw Error(_o+(n.s?"NaN":"-Infinity"));return n.eq(Ns)?new r(0):(jn=!1,e=Il(d0(n,s),d0(t,s),s),jn=!0,yn(e,i))};rt.minus=rt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YV(e,t):KV(e,(t.s=-t.s,t))};rt.modulo=rt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(_o+"NaN");return n.s?(jn=!1,e=Il(n,t,0,1).times(t),jn=!0,n.minus(e)):yn(new r(n),i)};rt.naturalExponential=rt.exp=function(){return GV(this)};rt.naturalLogarithm=rt.ln=function(){return d0(this)};rt.negated=rt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};rt.plus=rt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KV(e,t):YV(e,(t.s=-t.s,t))};rt.precision=rt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zh+t);if(e=br(i)+1,r=i.d.length-1,n=r*Cn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};rt.squareRoot=rt.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(_o+"NaN")}for(t=br(a),jn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Ta(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(Il(a,s,o+2)).times(.5),Ta(s.d).slice(0,o)===(e=Ta(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(yn(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return jn=!0,yn(r,n)};rt.times=rt.mul=function(t){var e,n,r,i,s,o,a,l,c,u=this,h=u.constructor,f=u.d,d=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=d.length,l<c&&(s=f,f=d,d=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+d[r]*f[i-r-1]+e,s[i--]=a%Rr|0,e=a/Rr|0;s[i]=(s[i]+e)%Rr|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,jn?yn(t,h.precision):t};rt.toDecimalPlaces=rt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(za(t,0,Vp),e===void 0?e=r.rounding:za(e,0,8),yn(n,t+br(n)+1,e))};rt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=lf(r,!0):(za(t,0,Vp),e===void 0?e=i.rounding:za(e,0,8),r=yn(new i(r),t+1,e),n=lf(r,!0,t+1)),n};rt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?lf(i):(za(t,0,Vp),e===void 0?e=s.rounding:za(e,0,8),r=yn(new s(i),t+br(i)+1,e),n=lf(r.abs(),!1,t+br(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};rt.toInteger=rt.toint=function(){var t=this,e=t.constructor;return yn(new e(t),br(t)+1,e.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Ns);if(a=new l(a),!a.s){if(t.s<1)throw Error(_o+"Infinity");return a}if(a.eq(Ns))return a;if(r=l.precision,t.eq(Ns))return yn(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=u<0?-u:u)<=WV){for(i=new l(Ns),e=Math.ceil(r/Cn+4),jn=!1;n%2&&(i=i.times(a),r8(i.d,e)),n=zp(n/2),n!==0;)a=a.times(a),r8(a.d,e);return jn=!0,t.s<0?new l(Ns).div(i):yn(i,r)}}else if(s<0)throw Error(_o+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,jn=!1,i=t.times(d0(a,r+c)),jn=!0,i=GV(i),i.s=s,i};rt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=br(i),r=lf(i,n<=s.toExpNeg||n>=s.toExpPos)):(za(t,1,Vp),e===void 0?e=s.rounding:za(e,0,8),i=yn(new s(i),t,e),n=br(i),r=lf(i,t<=n||n<=s.toExpNeg,t)),r};rt.toSignificantDigits=rt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(za(t,1,Vp),e===void 0?e=r.rounding:za(e,0,8)),yn(new r(n),t,e)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=br(t),n=t.constructor;return lf(t,e<=n.toExpNeg||e>=n.toExpPos)};function KV(t,e){var n,r,i,s,o,a,l,c,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),jn?yn(e,h):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(h/Cn),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Rr|0,l[s]%=Rr;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,jn?yn(e,h):e}function za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(zh+t)}function Ta(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=Cn-r.length,n&&(s+=Mc(n)),s+=r;o=t[e],r=o+"",n=Cn-r.length,n&&(s+=Mc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Il=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Rr|0,o=s/Rr|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Rr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,u,h,f,d,p,y,b,v,x,S,I,M,L,T,w,A=r.constructor,O=r.s==i.s?1:-1,E=r.d,C=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(_o+"Division by zero");for(l=r.e-i.e,T=C.length,M=E.length,d=new A(O),p=d.d=[],c=0;C[c]==(E[c]||0);)++c;if(C[c]>(E[c]||0)&&--l,s==null?x=s=A.precision:o?x=s+(br(r)-br(i))+1:x=s,x<0)return new A(0);if(x=x/Cn+2|0,c=0,T==1)for(u=0,C=C[0],x++;(c<M||u)&&x--;c++)S=u*Rr+(E[c]||0),p[c]=S/C|0,u=S%C|0;else{for(u=Rr/(C[0]+1)|0,u>1&&(C=t(C,u),E=t(E,u),T=C.length,M=E.length),I=T,y=E.slice(0,T),b=y.length;b<T;)y[b++]=0;w=C.slice(),w.unshift(0),L=C[0],C[1]>=Rr/2&&++L;do u=0,a=e(C,y,T,b),a<0?(v=y[0],T!=b&&(v=v*Rr+(y[1]||0)),u=v/L|0,u>1?(u>=Rr&&(u=Rr-1),h=t(C,u),f=h.length,b=y.length,a=e(h,y,f,b),a==1&&(u--,n(h,T<f?w:C,f))):(u==0&&(a=u=1),h=C.slice()),f=h.length,f<b&&h.unshift(0),n(y,h,b),a==-1&&(b=y.length,a=e(C,y,T,b),a<1&&(u++,n(y,T<b?w:C,b))),b=y.length):a===0&&(u++,y=[0]),p[c++]=u,a&&y[0]?y[b++]=E[I]||0:(y=[E[I]],b=1);while((I++<M||y[0]!==void 0)&&x--)}return p[0]||p.shift(),d.e=l,yn(d,o?s+br(d)+1:s)}}();function GV(t,e){var n,r,i,s,o,a,l=0,c=0,u=t.constructor,h=u.precision;if(br(t)>16)throw Error(qP+br(t));if(!t.s)return new u(Ns);for(e==null?(jn=!1,a=h):a=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(yh(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new u(Ns),u.precision=a;;){if(i=yn(i.times(t),a),n=n.times(++l),o=s.plus(Il(i,n,a)),Ta(o.d).slice(0,a)===Ta(s.d).slice(0,a)){for(;c--;)s=yn(s.times(s),a);return u.precision=h,e==null?(jn=!0,yn(s,h)):s}s=o}}function br(t){for(var e=t.e*Cn,n=t.d[0];n>=10;n/=10)e++;return e}function hx(t,e,n){if(e>t.LN10.sd())throw jn=!0,n&&(t.precision=n),Error(_o+"LN10 precision limit exceeded");return yn(new t(t.LN10),e)}function Mc(t){for(var e="";t--;)e+="0";return e}function d0(t,e){var n,r,i,s,o,a,l,c,u,h=1,f=10,d=t,p=d.d,y=d.constructor,b=y.precision;if(d.s<1)throw Error(_o+(d.s?"NaN":"-Infinity"));if(d.eq(Ns))return new y(0);if(e==null?(jn=!1,c=b):c=e,d.eq(10))return e==null&&(jn=!0),hx(y,c);if(c+=f,y.precision=c,n=Ta(p),r=n.charAt(0),s=br(d),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(t),n=Ta(d.d),r=n.charAt(0),h++;s=br(d),r>1?(d=new y("0."+n),s++):d=new y(r+"."+n.slice(1))}else return l=hx(y,c+2,b).times(s+""),d=d0(new y(r+"."+n.slice(1)),c-f).plus(l),y.precision=b,e==null?(jn=!0,yn(d,b)):d;for(a=o=d=Il(d.minus(Ns),d.plus(Ns),c),u=yn(d.times(d),c),i=3;;){if(o=yn(o.times(u),c),l=a.plus(Il(o,new y(i),c)),Ta(l.d).slice(0,c)===Ta(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(hx(y,c+2,b).times(s+""))),a=Il(a,new y(h),c),y.precision=b,e==null?(jn=!0,yn(a,b)):a;a=l,i+=2}}function n8(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=zp(n/Cn),t.d=[],r=(n+1)%Cn,n<0&&(r+=Cn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Cn;r<i;)t.d.push(+e.slice(r,r+=Cn));e=e.slice(r),r=Cn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),jn&&(t.e>tb||t.e<-tb))throw Error(qP+n)}else t.s=0,t.e=0,t.d=[0];return t}function yn(t,e,n){var r,i,s,o,a,l,c,u,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=Cn,i=e,c=h[u=0];else{if(u=Math.ceil((r+1)/Cn),s=h.length,u>=s)return t;for(c=s=h[u],o=1;s>=10;s/=10)o++;r%=Cn,i=r-Cn+o}if(n!==void 0&&(s=yh(10,o-i-1),a=c/s%10|0,l=e<0||h[u+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/yh(10,o-i):0:h[u-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(s=br(t),h.length=1,e=e-s-1,h[0]=yh(10,(Cn-e%Cn)%Cn),t.e=zp(-e/Cn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=u,s=1,u--):(h.length=u+1,s=yh(10,Cn-r),h[u]=i>0?(c/yh(10,o-i)%yh(10,i)|0)*s:0),l)for(;;)if(u==0){(h[0]+=s)==Rr&&(h[0]=1,++t.e);break}else{if(h[u]+=s,h[u]!=Rr)break;h[u--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(jn&&(t.e>tb||t.e<-tb))throw Error(qP+br(t));return t}function YV(t,e){var n,r,i,s,o,a,l,c,u,h,f=t.constructor,d=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),jn?yn(e,d):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,a=h.length):(n=h,r=c,a=l.length),i=Math.max(Math.ceil(d/Cn),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=h.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=h[i]){u=l[i]<h[i];break}o=0}for(u&&(n=l,l=h,h=n,e.s=-e.s),a=l.length,i=h.length-a;i>0;--i)l[a++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=Rr-1;--l[s],l[i]+=Rr}l[i]-=h[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,jn?yn(e,d):e):new f(0)}function lf(t,e,n){var r,i=br(t),s=Ta(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Mc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Mc(-i-1)+s,n&&(r=n-o)>0&&(s+=Mc(r))):i>=o?(s+=Mc(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Mc(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Mc(r))),t.s<0?"-"+s:s}function r8(t,e){if(t.length>e)return t.length=e,!0}function XV(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(zh+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return n8(o,s.toString())}else if(typeof s!="string")throw Error(zh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,j1e.test(s))n8(o,s);else throw Error(zh+s)}if(i.prototype=rt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=XV,i.config=i.set=F1e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function F1e(t){if(!t||typeof t!="object")throw Error(_o+"Object expected");var e,n,r,i=["precision",1,Vp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(zp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(zh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(zh+n+": "+r);return this}var HP=XV(D1e);Ns=new HP(1);const an=HP;var B1e=t=>t,QV={"@@functional/placeholder":!0},JV=t=>t===QV,i8=t=>function e(){return arguments.length===0||arguments.length===1&&JV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},ZV=(t,e)=>t===1?e:i8(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(o=>o!==QV).length;return s>=t?e(...r):ZV(t-s,i8(function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c=r.map(u=>JV(u)?a.shift():u);return e(...c,...a)}))}),Zw=t=>ZV(t.length,t),J4=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},U1e=Zw((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),V1e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return B1e;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((a,l)=>l(a),s(...arguments))}},Z4=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),ez=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((o,a)=>{var l;return o===((l=e)===null||l===void 0?void 0:l[a])})||(e=i,n=t(...i)),n}};function tz(t){var e;return t===0?e=1:e=Math.floor(new an(t).abs().log(10).toNumber())+1,e}function nz(t,e,n){for(var r=new an(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}Zw((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Zw((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Zw((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var rz=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},iz=(t,e,n)=>{if(t.lte(0))return new an(0);var r=tz(t.toNumber()),i=new an(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new an(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?new an(l.toNumber()):new an(Math.ceil(l.toNumber()))},z1e=(t,e,n)=>{var r=new an(1),i=new an(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new an(10).pow(tz(t)-1),i=new an(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new an(Math.floor(t)))}else t===0?i=new an(Math.floor((e-1)/2)):n||(i=new an(Math.floor(t)));var o=Math.floor((e-1)/2),a=V1e(U1e(l=>i.add(new an(l-o).mul(r)).toNumber()),J4);return a(0,e)},sz=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new an(0),tickMin:new an(0),tickMax:new an(0)};var o=iz(new an(n).sub(e).div(r-1),i,s),a;e<=0&&n>=0?a=new an(0):(a=new an(e).add(n).div(2),a=a.sub(new an(a).mod(o)));var l=Math.ceil(a.sub(e).div(o).toNumber()),c=Math.ceil(new an(n).sub(a).div(o).toNumber()),u=l+c+1;return u>r?sz(e,n,r,i,s+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:o,tickMin:a.sub(new an(l).mul(o)),tickMax:a.add(new an(c).mul(o))})};function $1e(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[o,a]=rz([e,n]);if(o===-1/0||a===1/0){var l=a===1/0?[o,...J4(0,r-1).map(()=>1/0)]:[...J4(0,r-1).map(()=>-1/0),a];return e>n?Z4(l):l}if(o===a)return z1e(o,r,i);var{step:c,tickMin:u,tickMax:h}=sz(o,a,s,i,0),f=nz(u,h.add(new an(.1).mul(c)),c);return e>n?Z4(f):f}function q1e(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=rz([n,r]);if(s===-1/0||o===1/0)return[n,r];if(s===o)return[s];var a=Math.max(e,2),l=iz(new an(o).sub(s).div(a-1),i,0),c=[...nz(new an(s),new an(o),l),o];return i===!1&&(c=c.map(u=>Math.round(u))),n>r?Z4(c):c}var H1e=ez($1e),W1e=ez(q1e),K1e=t=>t.rootProps.barCategoryGap,G0=t=>t.rootProps.stackOffset,WP=t=>t.options.chartName,KP=t=>t.rootProps.syncId,oz=t=>t.rootProps.syncMethod,GP=t=>t.options.eventEmitter,vl={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Ts={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},e5=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},G1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vl.angleAxisId,includeHidden:!1,name:void 0,reversed:vl.reversed,scale:vl.scale,tick:vl.tick,tickCount:void 0,ticks:void 0,type:vl.type,unit:void 0},Y1e={allowDataOverflow:Ts.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ts.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ts.scale,tick:Ts.tick,tickCount:Ts.tickCount,ticks:void 0,type:Ts.type,unit:void 0},X1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vl.scale,tick:vl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Q1e={allowDataOverflow:Ts.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ts.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ts.scale,tick:Ts.tick,tickCount:Ts.tickCount,ticks:void 0,type:"category",unit:void 0},YP=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?X1e:G1e,XP=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Q1e:Y1e,t5=t=>t.polarOptions,QP=Ne([Xl,Ql,Ei],BU),az=Ne([t5,QP],(t,e)=>{if(t!=null)return Fa(t.innerRadius,e,0)}),lz=Ne([t5,QP],(t,e)=>{if(t!=null)return Fa(t.outerRadius,e,e*.8)}),J1e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},cz=Ne([t5],J1e);Ne([YP,cz],e5);var uz=Ne([QP,az,lz],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Ne([XP,uz],e5);var Z1e=Ne([qn,t5,az,lz,Xl,Ql],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:a,startAngle:l,endAngle:c}=e;return{cx:Fa(o,i,i/2),cy:Fa(a,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),cr=(t,e)=>e,Y0=(t,e,n)=>n;function s8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s8(Object(n),!0).forEach(function(r){eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eye(t,e,n){return(e=tye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return typeof e=="symbol"?e:e+""}function nye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eA=[0,"auto"],rye={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$p=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??rye},iye={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:eA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:zw},qp=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??iye},sye={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},JP=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??sye},ur=(t,e,n)=>{switch(e){case"xAxis":return $p(t,n);case"yAxis":return qp(t,n);case"zAxis":return JP(t,n);case"angleAxis":return YP(t,n);case"radiusAxis":return XP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},oye=(t,e,n)=>{switch(e){case"xAxis":return $p(t,n);case"yAxis":return qp(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},X0=(t,e,n)=>{switch(e){case"xAxis":return $p(t,n);case"yAxis":return qp(t,n);case"angleAxis":return YP(t,n);case"radiusAxis":return XP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},hz=t=>t.graphicalItems.countOfBars>0;function ZP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var aye=t=>t.graphicalItems.cartesianItems,lye=Ne([cr,Y0],ZP),eT=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Q0=Ne([aye,ur,lye],eT),fz=t=>t.filter(e=>e.stackId===void 0),cye=Ne([Q0],fz),tT=t=>t.map(e=>e.data).filter(Boolean).flat(1),uye=Ne([Q0],tT),nT=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},n5=Ne([uye,R1e],nT),rT=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Dr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Dr(i,r)}))):t.map(r=>({value:r})),r5=Ne([n5,ur,Q0],rT);function dz(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Tf(t){return t.filter(e=>zl(e)||e instanceof Date).map(Number).filter(e=>na(e)===!1)}function hye(t,e,n){return!n||typeof e!="number"||na(e)?[]:n.length?Tf(n.flatMap(r=>{var i=Dr(t,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!ra(s)||!ra(o)))return[e-s,e+o]})):[]}var pz=(t,e,n)=>{var r={},i=e.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[o,a]=s,l=a.map(c=>c.dataKey);return[o,{stackedData:dpe(t,l,n),graphicalItems:a}]}))},fye=Ne([n5,Q0,G0],pz),gz=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=mpe(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},dye=Ne([fye,Pf,cr],gz),mz=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(s=>{var o,a,l=(o=s.errorBars)===null||o===void 0?void 0:o.filter(u=>dz(r,u)),c=Dr(i,(a=e.dataKey)!==null&&a!==void 0?a:s.dataKey);return{value:c,errorDomain:hye(i,c,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:Dr(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),pye=Ne(n5,ur,cye,cr,mz);function gye(t){var{value:e}=t;if(zl(e)||e instanceof Date)return e}var mye=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Tf(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yye=(t,e,n)=>{var r=t.map(gye).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&bB(r))?hV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},iT=t=>{var e;if(t==null||!("domain"in t))return eA;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Tf(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:eA},sT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),a=Math.max(...s);return[o,a]}},yz=t=>t.referenceElements.dots,Hp=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),vye=Ne([yz,cr,Y0],Hp),vz=t=>t.referenceElements.areas,bye=Ne([vz,cr,Y0],Hp),bz=t=>t.referenceElements.lines,wye=Ne([bz,cr,Y0],Hp),wz=(t,e)=>{var n=Tf(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_ye=Ne(vye,cr,wz),_z=(t,e)=>{var n=Tf(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xye=Ne([bye,cr],_z),xz=(t,e)=>{var n=Tf(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Sye=Ne(wye,cr,xz),Aye=Ne(_ye,Sye,xye,(t,e,n)=>sT(t,n,e)),Sz=Ne([ur],iT),oT=(t,e,n,r,i)=>{var s=L1e(e,t.allowDataOverflow);return s??M1e(e,sT(n,i,mye(r)),t.allowDataOverflow)},Eye=Ne([ur,Sz,dye,pye,Aye],oT),Pye=[0,1],aT=(t,e,n,r,i,s,o)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:a,type:l}=t,c=xf(e,s);return c&&a==null?hV(0,n.length):l==="category"?yye(r,t,c):i==="expand"?Pye:o}},lT=Ne([ur,qn,n5,r5,G0,cr,Eye],aT),Az=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:o}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var a="scale".concat(z0(s));return a in Jg?a:"point"}}},Wp=Ne([ur,qn,hz,WP,cr],Az);function Tye(t){if(t!=null){if(t in Jg)return Jg[t]();var e="scale".concat(z0(t));if(e in Jg)return Jg[e]()}}function cT(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Tye(e);if(i!=null){var s=i.domain(n).range(r);return cpe(s),s}}}var uT=(t,e,n)=>{var r=iT(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ep(t))return H1e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ep(t))return W1e(t,e.tickCount,e.allowDecimals)}},hT=Ne([lT,X0,Wp],uT),fT=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ep(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],o=e[1],a=n[n.length-1];return[Math.min(i,s),Math.max(o,a)]}return e},Cye=Ne([ur,lT,hT,cr],fT),Nye=Ne(r5,ur,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Tf(t.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var o=r[s+1]-r[s];n=Math.min(n,o)}return n/i}}),Ez=Ne(Nye,qn,K1e,Ei,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ra(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var o=Fa(n,t*s),a=t*s/2;return a-o-(a-o)/s*o}return 0}),Iye=(t,e)=>{var n=$p(t,e);return n==null||typeof n.padding!="string"?0:Ez(t,"xAxis",e,n.padding)},kye=(t,e)=>{var n=qp(t,e);return n==null||typeof n.padding!="string"?0:Ez(t,"yAxis",e,n.padding)},Oye=Ne($p,Iye,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Rye=Ne(qp,kye,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Lye=Ne([Ei,Oye,qw,$w,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Mye=Ne([Ei,qn,Rye,qw,$w,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),J0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Lye(t,n,r);case"yAxis":return Mye(t,n,r);case"zAxis":return(i=JP(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return cz(t);case"radiusAxis":return uz(t,n);default:return}},Pz=Ne([ur,J0],e5),i5=Ne([ur,Wp,Cye,Pz],cT);Ne(Q0,cr,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>dz(e,n)));function Tz(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var s5=(t,e)=>e,o5=(t,e,n)=>n,Dye=Ne(mP,s5,o5,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Tz)),jye=Ne(yP,s5,o5,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Tz)),Cz=(t,e)=>({width:t.width,height:e.height}),Fye=(t,e)=>{var n=typeof e.width=="number"?e.width:zw;return{width:n,height:t.height}};Ne(Ei,$p,Cz);var Bye=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Uye=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}};Ne(Ql,Ei,Dye,s5,o5,(t,e,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=Cz(e,a);o==null&&(o=Bye(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;s[a.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),s});Ne(Xl,Ei,jye,s5,o5,(t,e,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=Fye(e,a);o==null&&(o=Uye(e,r,t));var c=r==="left"&&!i||r==="right"&&i;s[a.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),s});Ne(Ei,qp,(t,e)=>{var n=typeof e.width=="number"?e.width:zw;return{width:n,height:t.height}});var Nz=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,a=xf(t,r),l=e.map(c=>c.value);if(o&&a&&s==="category"&&i&&bB(l))return l}},dT=Ne([qn,r5,ur,cr],Nz),Iz=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=xf(t,r);if(o&&(i==="number"||s!=="auto"))return e.map(a=>a.value)}},pT=Ne([qn,r5,X0,cr],Iz);Ne([qn,oye,Wp,i5,dT,pT,J0,hT,cr],(t,e,n,r,i,s,o,a,l)=>{if(e==null)return null;var c=xf(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:a,range:o,realScaleType:n,scale:r}});var Vye=(t,e,n,r,i,s,o,a,l)=>{if(!(e==null||r==null)){var c=xf(t,l),{type:u,ticks:h,tickCount:f}=e,d=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/d:0;p=l==="angleAxis"&&s!=null&&s.length>=2?Ms(s[0]-s[1])*2*p:p;var y=h||i;if(y){var b=y.map((v,x)=>{var S=o?o.indexOf(v):v;return{index:x,coordinate:r(S)+p,value:v,offset:p}});return b.filter(v=>!na(v.coordinate))}return c&&a?a.map((v,x)=>({coordinate:r(v)+p,value:v,index:x,offset:p})):r.ticks?r.ticks(f).map(v=>({coordinate:r(v)+p,value:v,offset:p})):r.domain().map((v,x)=>({coordinate:r(v)+p,value:o?o[v]:v,index:x,offset:p}))}};Ne([qn,X0,Wp,i5,hT,J0,dT,pT,cr],Vye);var zye=(t,e,n,r,i,s,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var a=xf(t,o),{tickCount:l}=e,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ms(r[0]-r[1])*2*c:c,a&&s?s.map((u,h)=>({coordinate:n(u)+c,value:u,index:h,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,h)=>({coordinate:n(u)+c,value:i?i[u]:u,index:h,offset:c}))}};Ne([qn,X0,i5,J0,dT,pT,cr],zye);Ne(ur,i5,(t,e)=>{if(!(t==null||e==null))return nb(nb({},t),{},{scale:e})});var $ye=Ne([ur,Wp,lT,Pz],cT);Ne((t,e,n)=>JP(t,n),$ye,(t,e)=>{if(!(t==null||e==null))return nb(nb({},t),{},{scale:e})});var qye=Ne([qn,mP,yP],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kz=t=>t.options.defaultTooltipEventType,Oz=t=>t.options.validateTooltipEventTypes;function Rz(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function gT(t,e){var n=kz(t),r=Oz(t);return Rz(e,n,r)}function Hye(t){return Ot(e=>gT(e,t))}var Lz=(t,e)=>{var n,r=Number(e);if(!(na(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Wye=t=>t.tooltip.settings,zc={active:!1,index:null,dataKey:void 0,coordinate:void 0},Kye={itemInteraction:{click:zc,hover:zc},axisInteraction:{click:zc,hover:zc},keyboardInteraction:zc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Mz=So({name:"tooltip",initialState:Kye,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Nl(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Gye,removeTooltipEntrySettings:Yye,setTooltipSettingsState:Xye,setActiveMouseOverItemIndex:Dz,mouseLeaveItem:Qye,mouseLeaveChart:jz,setActiveClickItemIndex:Jye,setMouseOverAxisIndex:Fz,setMouseClickAxisIndex:Zye,setSyncInteraction:tA,setKeyboardInteraction:nA}=Mz.actions,eve=Mz.reducer;function o8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o8(Object(n),!0).forEach(function(r){tve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tve(t,e,n){return(e=nve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nve(t){var e=rve(t,"string");return typeof e=="symbol"?e:e+""}function rve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ive(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function sve(t){return t.index!=null}var Bz=(t,e,n,r)=>{if(e==null)return zc;var i=ive(t,e,n);if(i==null)return zc;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(sve(i)){if(s)return Py(Py({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Py(Py({},zc),{},{coordinate:i.coordinate})},mT=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!ra(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},Uz=(t,e,n,r,i,s,o,a)=>{if(!(s==null||a==null)){var l=o[0],c=l==null?void 0:a(l.positions,s);if(c!=null)return c;var u=i==null?void 0:i[Number(s)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},Vz=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},Z0=t=>t.options.tooltipPayloadSearcher,Kp=t=>t.tooltip;function a8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(n),!0).forEach(function(r){ove(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ove(t,e,n){return(e=ave(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ave(t){var e=lve(t,"string");return typeof e=="symbol"?e:e+""}function lve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cve(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function uve(t,e){return t??e}var zz=(t,e,n,r,i,s,o)=>{if(!(e==null||s==null)){var{chartData:a,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,h=[];return t.reduce((f,d)=>{var p,{dataDefinedOnItem:y,settings:b}=d,v=uve(y,a),x=cve(v,c,u),S=(p=b==null?void 0:b.dataKey)!==null&&p!==void 0?p:r==null?void 0:r.dataKey,I=b==null?void 0:b.nameKey,M;if(r!=null&&r.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?M=lhe(x,r.dataKey,i):M=s(x,e,l,I),Array.isArray(M))M.forEach(T=>{var w=l8(l8({},b),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});f.push(ZO({tooltipEntrySettings:w,dataKey:T.dataKey,payload:T.payload,value:Dr(T.payload,T.dataKey),name:T.name}))});else{var L;f.push(ZO({tooltipEntrySettings:b,dataKey:S,payload:M,value:Dr(M,S),name:(L=Dr(M,I))!==null&&L!==void 0?L:b==null?void 0:b.name}))}return f},h)}},$r=t=>{var e=qn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Gp=t=>t.tooltip.settings.axisId,ni=t=>{var e=$r(t),n=Gp(t);return X0(t,e,n)},yT=Ne([ni,qn,hz,WP,$r],Az),hve=Ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),fve=Ne([$r,Gp],ZP),a5=Ne([hve,ni,fve],eT),dve=Ne([a5],tT),Cf=Ne([dve,Pf],nT),vT=Ne([Cf,ni,a5],rT),pve=Ne([ni],iT),gve=Ne([Cf,a5,G0],pz),mve=Ne([gve,Pf,$r],gz),yve=Ne([a5],fz),vve=Ne([Cf,ni,yve,$r],mz),bve=Ne([yz,$r,Gp],Hp),wve=Ne([bve,$r],wz),_ve=Ne([vz,$r,Gp],Hp),xve=Ne([_ve,$r],_z),Sve=Ne([bz,$r,Gp],Hp),Ave=Ne([Sve,$r],xz),Eve=Ne([wve,Ave,xve],sT),Pve=Ne([ni,pve,mve,vve,Eve],oT),$z=Ne([ni,qn,Cf,vT,G0,$r,Pve],aT),Tve=Ne([$z,ni,yT],uT),Cve=Ne([ni,$z,Tve,$r],fT),qz=t=>{var e=$r(t),n=Gp(t),r=!1;return J0(t,e,n,r)},Hz=Ne([ni,qz],e5),Wz=Ne([ni,yT,Cve,Hz],cT),Nve=Ne([qn,vT,ni,$r],Nz),Ive=Ne([qn,vT,ni,$r],Iz),kve=(t,e,n,r,i,s,o,a)=>{if(e){var{type:l}=e,c=xf(t,a);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return h=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ms(i[0]-i[1])*2*h:h,c&&o?o.map((f,d)=>({coordinate:r(f)+h,value:f,index:d,offset:h})):r.domain().map((f,d)=>({coordinate:r(f)+h,value:s?s[f]:f,index:d,offset:h}))}}},Zl=Ne([qn,ni,yT,Wz,qz,Nve,Ive,$r],kve),bT=Ne([kz,Oz,Wye],(t,e,n)=>Rz(n.shared,t,e)),Kz=t=>t.tooltip.settings.trigger,wT=t=>t.tooltip.settings.defaultIndex,l5=Ne([Kp,bT,Kz,wT],Bz),p0=Ne([l5,Cf],mT),Gz=Ne([Zl,p0],Lz),Ove=Ne([l5],t=>{if(t)return t.dataKey}),Yz=Ne([Kp,bT,Kz,wT],Vz),Rve=Ne([Xl,Ql,qn,Ei,Zl,wT,Yz,Z0],Uz),Lve=Ne([l5,Rve],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Mve=Ne([l5],t=>t.active),Dve=Ne([Yz,p0,Pf,ni,Gz,Z0,bT],zz);Ne([Dve],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function c8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(n),!0).forEach(function(r){jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jve(t,e,n){return(e=Fve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fve(t){var e=Bve(t,"string");return typeof e=="symbol"?e:e+""}function Bve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uve=()=>Ot(ni),Vve=()=>{var t=Uve(),e=Ot(Zl),n=Ot(Wz);return ype(u8(u8({},t),{},{scale:n}),e)},zve=()=>Ot(WP),_T=(t,e)=>e,Xz=(t,e,n)=>n,xT=(t,e,n,r)=>r,$ve=Ne(Zl,t=>Mw(t,e=>e.coordinate)),ST=Ne([Kp,_T,Xz,xT],Bz),Qz=Ne([ST,Cf],mT),qve=(t,e,n)=>{if(e!=null){var r=Kp(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Jz=Ne([Kp,_T,Xz,xT],Vz),rb=Ne([Xl,Ql,qn,Ei,Zl,xT,Jz,Z0],Uz),Hve=Ne([ST,rb],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Zz=Ne(Zl,Qz,Lz),Wve=Ne([Jz,Qz,Pf,ni,Zz,Z0,_T],zz),Kve=Ne([ST],t=>({isActive:t.active,activeIndex:t.index})),Gve=(t,e,n,r,i,s,o,a)=>{if(!(!t||!e||!r||!i||!s)){var l=vpe(t.chartX,t.chartY,e,n,a);if(l){var c=wpe(l,e),u=ape(c,o,s,r,i),h=bpe(e,s,u,l);return{activeIndex:String(u),activeCoordinate:h}}}};function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(null,arguments)}function h8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(n),!0).forEach(function(r){Yve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yve(t,e,n){return(e=Xve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xve(t){var e=Qve(t,"string");return typeof e=="symbol"?e:e+""}function Qve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jve(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:o,cursor:a,tooltipEventType:l,chartName:c}=t,u=e,h=n,f=r;if(!a||!u||c!=="ScatterChart"&&l!=="axis")return null;var d,p;if(c==="ScatterChart")d=u,p=wge;else if(c==="BarChart")d=_ge(o,u,i,s),p=iV;else if(o==="radial"){var{cx:y,cy:b,radius:v,startAngle:x,endAngle:S}=sV(u);d={cx:y,cy:b,startAngle:x,endAngle:S,innerRadius:v,outerRadius:v},p=aV}else d={points:nme(o,u,i)},p=XU;var I=typeof a=="object"&&"className"in a?a.className:void 0,M=Ty(Ty(Ty(Ty({stroke:"#ccc",pointerEvents:"none"},i),d),Ur(a,!1)),{},{payload:h,payloadIndex:f,className:Cr("recharts-tooltip-cursor",I)});return H.isValidElement(a)?H.cloneElement(a,M):H.createElement(p,M)}function Zve(t){var e=Vve(),n=Npe(),r=KU(),i=zve();return H.createElement(Jve,rA({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var e$=H.createContext(null),e2e=()=>H.useContext(e$),t$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,h||l,f),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,d=h.length,p=new Array(d);f<d;f++)p[f]=h[f].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,d,p){var y=n?n+c:c;if(!this._events[y])return!1;var b=this._events[y],v=arguments.length,x,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,h),!0;case 4:return b.fn.call(b.context,u,h,f),!0;case 5:return b.fn.call(b.context,u,h,f,d),!0;case 6:return b.fn.call(b.context,u,h,f,d,p),!0}for(S=1,x=new Array(v-1);S<v;S++)x[S-1]=arguments[S];b.fn.apply(b.context,x)}else{var I=b.length,M;for(S=0;S<I;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),v){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,u);break;case 3:b[S].fn.call(b[S].context,u,h);break;case 4:b[S].fn.call(b[S].context,u,h,f);break;default:if(!x)for(M=1,x=new Array(v-1);M<v;M++)x[M-1]=arguments[M];b[S].fn.apply(b[S].context,x)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var d=n?n+c:c;if(!this._events[d])return this;if(!u)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===u&&(!f||p.once)&&(!h||p.context===h)&&o(this,d);else{for(var y=0,b=[],v=p.length;y<v;y++)(p[y].fn!==u||f&&!p[y].once||h&&p[y].context!==h)&&b.push(p[y]);b.length?this._events[d]=b.length===1?b[0]:b:o(this,d)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(t$);var t2e=t$.exports;const n2e=Kl(t2e);var g0=new n2e,iA="recharts.syncEvent.tooltip",f8="recharts.syncEvent.brush";function r2e(t,e){if(e){var n=Number.parseInt(e,10);if(!na(n))return t==null?void 0:t[n]}}var i2e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},n$=So({name:"options",initialState:i2e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),s2e=n$.reducer,{createEventEmitter:o2e}=n$.actions;function a2e(t){return t.tooltip.syncInteraction}var l2e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},r$=So({name:"chartData",initialState:l2e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:d8,setDataStartEndIndexes:c2e,setComputedData:T5e}=r$.actions,u2e=r$.reducer,i$=()=>{};function h2e(){var t=Ot(KP),e=Ot(GP),n=Vr(),r=Ot(oz),i=Ot(Zl),s=KU(),o=qU(),a=Ot(l=>l.rootProps.className);H.useEffect(()=>{if(t==null)return i$;var l=(c,u,h)=>{if(e!==h&&t===c){if(r==="index"){n(u);return}if(i!=null){var f;if(typeof r=="function"){var d={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},p=r(i,d);f=i[p]}else r==="value"&&(f=i.find(L=>String(L.value)===u.payload.label));var{coordinate:y}=u.payload;if(f==null||u.payload.active===!1||y==null||o==null){n(tA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:v}=y,x=Math.min(b,o.x+o.width),S=Math.min(v,o.y+o.height),I={x:s==="horizontal"?f.coordinate:x,y:s==="horizontal"?S:f.coordinate},M=tA({active:u.payload.active,coordinate:I,dataKey:u.payload.dataKey,index:String(f.index),label:u.payload.label});n(M)}}};return g0.on(iA,l),()=>{g0.off(iA,l)}},[a,n,e,t,r,i,s,o])}function f2e(){var t=Ot(KP),e=Ot(GP),n=Vr();H.useEffect(()=>{if(t==null)return i$;var r=(i,s,o)=>{e!==o&&t===i&&n(c2e(s))};return g0.on(f8,r),()=>{g0.off(f8,r)}},[n,e,t])}function d2e(){var t=Vr();H.useEffect(()=>{t(o2e())},[t]),h2e(),f2e()}function p2e(t,e,n,r,i,s){var o=Ot(f=>qve(f,t,e)),a=Ot(GP),l=Ot(KP),c=Ot(oz),u=Ot(a2e),h=u==null?void 0:u.active;H.useEffect(()=>{if(!h&&l!=null&&a!=null){var f=tA({active:s,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});g0.emit(iA,l,f,a)}},[h,n,o,i,r,a,l,c,s])}function p8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(n),!0).forEach(function(r){g2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g2e(t,e,n){return(e=m2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2e(t){var e=y2e(t,"string");return typeof e=="symbol"?e:e+""}function y2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v2e(t){return t.dataKey}function b2e(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(Jpe,e)}var m8=[],w2e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ww.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _2e(t){var e=Sf(t,w2e),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:o,filterNull:a,isAnimationActive:l,offset:c,payloadUniqBy:u,position:h,reverseDirection:f,useTranslate3d:d,wrapperStyle:p,cursor:y,shared:b,trigger:v,defaultIndex:x,portal:S,axisId:I}=e,M=Vr(),L=typeof x=="number"?String(x):x;H.useEffect(()=>{M(Xye({shared:b,trigger:v,axisId:I,active:n,defaultIndex:L}))},[M,b,v,I,n,L]);var T=qU(),w=YU(),A=Hye(b),{activeIndex:O,isActive:E}=Ot(J=>Kve(J,A,v,L)),C=Ot(J=>Wve(J,A,v,L)),R=Ot(J=>Zz(J,A,v,L)),U=Ot(J=>Hve(J,A,v,L)),te=C,z=e2e(),V=n??E,[W,X]=pU([te,V]),re=A==="axis"?R:void 0;p2e(A,v,U,re,O,V);var ye=S??z;if(ye==null)return null;var F=te??m8;V||(F=m8),a&&F.length&&(F=nU(te.filter(J=>J.value!=null&&(J.hide!==!0||e.includeHidden)),u,v2e));var Y=F.length>0,Q=H.createElement(sge,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:l,active:V,coordinate:U,hasPayload:Y,offset:c,position:h,reverseDirection:f,useTranslate3d:d,viewBox:T,wrapperStyle:p,lastBoundingBox:W,innerRef:X,hasPortalFromProps:!!S},b2e(o,g8(g8({},e),{},{payload:F,label:re,active:V,coordinate:U,accessibilityLayer:w})));return H.createElement(H.Fragment,null,rE.createPortal(Q,ye),V&&H.createElement(Zve,{cursor:y,tooltipEventType:A,coordinate:U,payload:te,index:O}))}var s$={},o$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=0,i={}){typeof i!="object"&&(i={});let s=null,o=null,a=null,l=0,c=null,u;const{leading:h=!1,trailing:f=!0,maxWait:d}=i,p="maxWait"in i,y=p?Math.max(Number(d)||0,r):0,b=T=>(s!==null&&(u=n.apply(o,s)),s=o=null,l=T,u),v=T=>(l=T,c=setTimeout(M,r),h&&s!==null?b(T):u),x=T=>(c=null,f&&s!==null?b(T):u),S=T=>{if(a===null)return!0;const w=T-a,A=w>=r||w<0,O=p&&T-l>=y;return A||O},I=T=>{const w=a===null?0:T-a,A=r-w,O=y-(T-l);return p?Math.min(A,O):A},M=()=>{const T=Date.now();if(S(T))return x(T);c=setTimeout(M,I(T))},L=function(...T){const w=Date.now(),A=S(w);if(s=T,o=this,a=w,A){if(c===null)return v(w);if(p)return clearTimeout(c),c=setTimeout(M,r),b(w)}return c===null&&(c=setTimeout(M,r)),u};return L.cancel=()=>{c!==null&&clearTimeout(c),l=0,a=s=o=c=null},L.flush=()=>c===null?u:x(Date.now()),L}t.debounce=e})(o$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o$;function n(r,i=0,s={}){const{leading:o=!0,trailing:a=!0}=s;return e.debounce(r,i,{leading:o,maxWait:i,trailing:a})}t.throttle=n})(s$);var x2e=s$.throttle;const S2e=Kl(x2e);var fx=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function y8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(n),!0).forEach(function(r){A2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A2e(t,e,n){return(e=E2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E2e(t){var e=P2e(t,"string");return typeof e=="symbol"?e:e+""}function P2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T2e=H.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:o=0,minHeight:a,maxHeight:l,children:c,debounce:u=0,id:h,className:f,onResize:d,style:p={}}=t,y=H.useRef(null),b=H.useRef();b.current=d,H.useImperativeHandle(e,()=>y.current);var[v,x]=H.useState({containerWidth:r.width,containerHeight:r.height}),S=H.useCallback((M,L)=>{x(T=>{var w=Math.round(M),A=Math.round(L);return T.containerWidth===w&&T.containerHeight===A?T:{containerWidth:w,containerHeight:A}})},[]);H.useEffect(()=>{var M=A=>{var O,{width:E,height:C}=A[0].contentRect;S(E,C),(O=b.current)===null||O===void 0||O.call(b,E,C)};u>0&&(M=S2e(M,u,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),{width:T,height:w}=y.current.getBoundingClientRect();return S(T,w),L.observe(y.current),()=>{L.disconnect()}},[S,u]);var I=H.useMemo(()=>{var{containerWidth:M,containerHeight:L}=v;if(M<0||L<0)return null;fx(Xg(i)||Xg(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),fx(!n||n>0,"The aspect(%s) must be greater than zero.",n);var T=Xg(i)?M:i,w=Xg(s)?L:s;return n&&n>0&&(T?w=T/n:w&&(T=w*n),l&&w>l&&(w=l)),fx(T>0||w>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,w,i,s,o,a,n),H.Children.map(c,A=>H.cloneElement(A,{width:T,height:w,style:dx({width:T,height:w},A.props.style)}))},[n,c,s,l,a,o,v,i]);return H.createElement("div",{id:h?"".concat(h):void 0,className:Cr("recharts-responsive-container",f),style:dx(dx({},p),{},{width:i,height:s,minWidth:o,minHeight:a,maxHeight:l}),ref:y},H.createElement("div",{style:{width:0,height:0,overflow:"visible"}},I))}),c5=t=>null;c5.displayName="Cell";function v8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(n),!0).forEach(function(r){C2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C2e(t,e,n){return(e=N2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N2e(t){var e=I2e(t,"string");return typeof e=="symbol"?e:e+""}function I2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var od={widthCache:{},cacheCount:0},k2e=2e3,O2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b8="recharts_measurement_span";function R2e(t){var e=sA({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var w8=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ww.isSsr)return{width:0,height:0};var r=R2e(n),i=JSON.stringify({text:e,copyStyle:r});if(od.widthCache[i])return od.widthCache[i];try{var s=document.getElementById(b8);s||(s=document.createElement("span"),s.setAttribute("id",b8),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=sA(sA({},O2e),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return od.widthCache[i]=l,++od.cacheCount>k2e&&(od.cacheCount=0,od.widthCache={}),l}catch{return{width:0,height:0}}},_8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,M2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,a$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},D2e=Object.keys(a$),kd="NaN";function j2e(t,e){return t*a$[e]}class Qi{static parse(e){var n,[,r,i]=(n=M2e.exec(e))!==null&&n!==void 0?n:[];return new Qi(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,na(e)&&(this.unit=""),n!==""&&!L2e.test(n)&&(this.num=NaN,this.unit=""),D2e.includes(n)&&(this.num=j2e(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Qi(NaN,""):new Qi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Qi(NaN,""):new Qi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Qi(NaN,""):new Qi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Qi(NaN,""):new Qi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return na(this.num)}}function l$(t){if(t.includes(kd))return kd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=_8.exec(e))!==null&&n!==void 0?n:[],o=Qi.parse(r??""),a=Qi.parse(s??""),l=i==="*"?o.multiply(a):o.divide(a);if(l.isNaN())return kd;e=e.replace(_8,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,h,f]=(c=x8.exec(e))!==null&&c!==void 0?c:[],d=Qi.parse(u??""),p=Qi.parse(f??""),y=h==="+"?d.add(p):d.subtract(p);if(y.isNaN())return kd;e=e.replace(x8,y.toString())}return e}var S8=/\(([^()]*)\)/;function F2e(t){for(var e=t,n;(n=S8.exec(e))!=null;){var[,r]=n;e=e.replace(S8,l$(r))}return e}function B2e(t){var e=t.replace(/\s+/g,"");return e=F2e(e),e=l$(e),e}function U2e(t){try{return B2e(t)}catch{return kd}}function px(t){var e=U2e(t.slice(5,-1));return e===kd?"":e}var V2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],z2e=["dx","dy","angle","className","breakAll"];function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oA.apply(null,arguments)}function A8(t,e){if(t==null)return{};var n,r,i=$2e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var c$=/[ \f\n\r\t\v\u2028\u2029]+/,u$=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];sf(e)||(n?i=e.toString().split(""):i=e.toString().split(c$));var s=i.map(a=>({word:a,width:w8(a,r).width})),o=n?0:w8(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},q2e=(t,e,n,r,i)=>{var{maxLines:s,children:o,style:a,breakAll:l}=t,c=Bt(s),u=o,h=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce((C,R)=>{var{word:U,width:te}=R,z=C[C.length-1];if(z&&(r==null||i||z.width+te+n<Number(r)))z.words.push(U),z.width+=te+n;else{var V={words:[U],width:te};C.push(V)}return C},[])},f=h(e),d=O=>O.reduce((E,C)=>E.width>C.width?E:C);if(!c||i)return f;var p=f.length>s||d(f).width>Number(r);if(!p)return f;for(var y="…",b=O=>{var E=u.slice(0,O),C=u$({breakAll:l,style:a,children:E+y}).wordsWithComputedWidth,R=h(C),U=R.length>s||d(R).width>Number(r);return[U,R]},v=0,x=u.length-1,S=0,I;v<=x&&S<=u.length-1;){var M=Math.floor((v+x)/2),L=M-1,[T,w]=b(L),[A]=b(M);if(!T&&!A&&(v=M+1),T&&A&&(x=M-1),!T&&A){I=w;break}S++}return I||f},E8=t=>{var e=sf(t)?[]:t.toString().split(c$);return[{words:e}]},H2e=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=t;if((e||n)&&!Ww.isSsr){var a,l,c=u$({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:h}=c;a=u,l=h}else return E8(r);return q2e({breakAll:s,children:r,maxLines:o,style:i},a,l,e,n)}return E8(r)},P8="#808080",h$=H.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:a="start",verticalAnchor:l="end",fill:c=P8}=t,u=A8(t,V2e),h=H.useMemo(()=>H2e({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:f,dy:d,angle:p,className:y,breakAll:b}=u,v=A8(u,z2e);if(!zl(n)||!zl(r))return null;var x=n+(Bt(f)?f:0),S=r+(Bt(d)?d:0),I;switch(l){case"start":I=px("calc(".concat(s,")"));break;case"middle":I=px("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:I=px("calc(".concat(h.length-1," * -").concat(i,")"));break}var M=[];if(o){var L=h[0].width,{width:T}=u;M.push("scale(".concat(Bt(T)?T/L:1,")"))}return p&&M.push("rotate(".concat(p,", ").concat(x,", ").concat(S,")")),M.length&&(v.transform=M.join(" ")),H.createElement("text",oA({},Ur(v,!0),{ref:e,x,y:S,className:Cr("recharts-text",y),textAnchor:a,fill:c.includes("url")?P8:c}),h.map((w,A)=>{var O=w.words.join(b?"":" ");return H.createElement("tspan",{x,dy:A===0?I:i,key:"".concat(O,"-").concat(A)},O)}))});h$.displayName="Text";var f$=t=>t.graphicalItems.polarItems,W2e=Ne([cr,Y0],ZP),AT=Ne([f$,ur,W2e],eT),K2e=Ne([AT],tT),ET=Ne([K2e,$P],nT),G2e=Ne([ET,ur,AT],rT),Y2e=Ne([ET,ur,AT],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,o=Dr(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Dr(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),T8=()=>{},X2e=Ne([ur,Sz,T8,Y2e,T8],oT),d$=Ne([ur,qn,ET,G2e,G0,cr,X2e],aT),Q2e=Ne([d$,ur,Wp],uT);Ne([ur,d$,Q2e,cr],fT);var J2e={radiusAxis:{},angleAxis:{}},p$=So({name:"polarAxis",initialState:J2e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}});p$.actions;var Z2e=p$.reducer;function C8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(n),!0).forEach(function(r){ebe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ebe(t,e,n){return(e=tbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tbe(t){var e=nbe(t,"string");return typeof e=="symbol"?e:e+""}function nbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PT=(t,e)=>e,rbe=[],TT=(t,e,n)=>(n==null?void 0:n.length)===0?rbe:n,g$=Ne([$P,PT,TT],(t,e,n)=>{var{chartData:r}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>N8(N8({},e.presentationProps),s.props))),i!=null)return i}),ibe=Ne([g$,PT,TT],(t,e,n)=>{if(t!=null)return t.map((r,i)=>{var s,o=Dr(r,e.nameKey,e.name),a;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?a=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?a=r.fill:a=e.fill,{value:UU(o,e.dataKey),color:a,payload:r,type:e.legendType}})}),sbe=Ne([f$,PT],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),obe=Ne([g$,sbe,TT,Ei],(t,e,n,r)=>{if(!(e==null||t==null))return Kbe({offset:r,pieSettings:e,displayedData:t,cells:n})}),abe={countOfBars:0,cartesianItems:[],polarItems:[]},m$=So({name:"graphicalItems",initialState:abe,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Nl(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Nl(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Nl(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:C5e,removeBar:N5e,addCartesianGraphicalItem:I5e,replaceCartesianGraphicalItem:k5e,removeCartesianGraphicalItem:O5e,addPolarGraphicalItem:lbe,removePolarGraphicalItem:cbe}=m$.actions,ube=m$.reducer;function hbe(t){var e=Vr();return H.useEffect(()=>(e(lbe(t)),()=>{e(cbe(t))}),[e,t]),null}var y$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(y$);var fbe=y$.isPlainObject;const dbe=Kl(fbe);function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(null,arguments)}var I8=(t,e,n,r,i)=>{var s=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-s/2,",").concat(e+i),o+="L ".concat(t+n-s/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},pbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gbe=t=>{var e=Sf(t,pbe),n=H.useRef(),[r,i]=H.useState(-1);H.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&i(b)}catch{}},[]);var{x:s,y:o,upperWidth:a,lowerWidth:l,height:c,className:u}=e,{animationEasing:h,animationDuration:f,animationBegin:d,isUpdateAnimationActive:p}=e;if(s!==+s||o!==+o||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var y=Cr("recharts-trapezoid",u);return p?H.createElement(l0,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:s,y:o},to:{upperWidth:a,lowerWidth:l,height:c,x:s,y:o},duration:f,animationEasing:h,isActive:p},b=>{var{upperWidth:v,lowerWidth:x,height:S,x:I,y:M}=b;return H.createElement(l0,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:d,duration:f,easing:h},H.createElement("path",ib({},Ur(e,!0),{className:y,d:I8(I,M,v,x,S),ref:n})))}):H.createElement("g",null,H.createElement("path",ib({},Ur(e,!0),{className:y,d:I8(s,o,a,l,c)})))},mbe=["option","shapeType","propTransformer","activeClassName","isActive"];function ybe(t,e){if(t==null)return{};var n,r,i=vbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function k8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(n),!0).forEach(function(r){bbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bbe(t,e,n){return(e=wbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wbe(t){var e=_be(t,"string");return typeof e=="symbol"?e:e+""}function _be(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xbe(t,e){return sb(sb({},e),t)}function Sbe(t,e){return t==="symbols"}function O8(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return H.createElement(iV,n);case"trapezoid":return H.createElement(gbe,n);case"sector":return H.createElement(aV,n);case"symbols":if(Sbe(e))return H.createElement(Q3,n);break;default:return null}}function Abe(t){return H.isValidElement(t)?t.props:t}function Ebe(t){var{option:e,shapeType:n,propTransformer:r=xbe,activeClassName:i="recharts-active-shape",isActive:s}=t,o=ybe(t,mbe),a;if(H.isValidElement(e))a=H.cloneElement(e,sb(sb({},o),Abe(e)));else if(typeof e=="function")a=e(o);else if(dbe(e)&&typeof e!="boolean"){var l=r(e,o);a=H.createElement(O8,{shapeType:n,elementProps:l})}else{var c=o;a=H.createElement(O8,{shapeType:n,elementProps:c})}return s?H.createElement(yp,{className:i},a):a}var Pbe=(t,e)=>{var n=Vr();return(r,i)=>s=>{t==null||t(r,i,s),n(Dz({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Tbe=t=>{var e=Vr();return(n,r)=>i=>{t==null||t(n,r,i),e(Qye())}},Cbe=(t,e)=>{var n=Vr();return(r,i)=>s=>{t==null||t(r,i,s),n(Jye({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function Nbe(t){var{fn:e,args:n}=t,r=Vr(),i=Bp();return H.useEffect(()=>{if(!i){var s=e(n);return r(Gye(s)),()=>{r(Yye(s))}}},[e,n,r,i]),null}var Ibe=()=>{};function kbe(t){var{legendPayload:e}=t,n=Vr(),r=Ot(qn);return H.useEffect(()=>r!=="centric"&&r!=="radial"?Ibe:(n(Lpe(e)),()=>{n(Mpe(e))}),[n,r,e]),null}function Obe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=H.useRef(C2(e)),r=H.useRef(t);return r.current!==t&&(n.current=C2(e),r.current=t),n.current}var Rbe=["onMouseEnter","onClick","onMouseLeave"];function Lbe(t,e){if(t==null)return{};var n,r,i=Mbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function R8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(n),!0).forEach(function(r){u5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u5(t,e,n){return(e=Dbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dbe(t){var e=jbe(t,"string");return typeof e=="symbol"?e:e+""}function jbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(null,arguments)}function Fbe(t){var e=H.useMemo(()=>Ur(t,!1),[t]),n=H.useMemo(()=>xB(t.children,c5),[t.children]),r=H.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=Ot(s=>ibe(s,r,n));return H.createElement(kbe,{legendPayload:i})}function Bbe(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:o,name:a,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:r==null?void 0:r.map(u=>u.tooltipPayload),positions:r==null?void 0:r.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:o,dataKey:e,nameKey:n,name:UU(a,e),hide:l,type:c,color:o,unit:""}}}var Ube=(t,e)=>t>e?"start":t<e?"end":"middle",Vbe=(t,e,n)=>typeof e=="function"?e(t):Fa(e,n,n*.8),zbe=(t,e,n)=>{var{top:r,left:i,width:s,height:o}=e,a=BU(s,o),l=i+Fa(t.cx,s,s/2),c=r+Fa(t.cy,o,o/2),u=Fa(t.innerRadius,a,0),h=Vbe(n,t.outerRadius,a),f=t.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:h,maxRadius:f}},$be=(t,e)=>{var n=Ms(e-t),r=Math.min(Math.abs(e-t),360);return n*r},qbe=(t,e)=>{if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Cr("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return H.createElement(XU,cf({},e,{type:"linear",className:n}))},Hbe=(t,e,n)=>{if(H.isValidElement(t))return H.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),H.isValidElement(r)))return r;var i=Cr("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return H.createElement(h$,cf({},e,{alignmentBaseline:"middle",className:i}),r)};function Wbe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:o}=n;if(!r||!i||!e)return null;var a=Ur(n,!1),l=Ur(i,!1),c=Ur(s,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,h=e.map((f,d)=>{var p=(f.startAngle+f.endAngle)/2,y=_i(f.cx,f.cy,f.outerRadius+u,p),b=Xn(Xn(Xn(Xn({},a),f),{},{stroke:"none"},l),{},{index:d,textAnchor:Ube(y.x,f.cx)},y),v=Xn(Xn(Xn(Xn({},a),f),{},{fill:"none",stroke:f.fill},c),{},{index:d,points:[_i(f.cx,f.cy,f.outerRadius,p),y],key:"line"});return H.createElement(yp,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(d)},s&&qbe(s,v),Hbe(i,b,Dr(f,o)))});return H.createElement(yp,{className:"recharts-pie-labels"},h)}function v$(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:s}=t,o=Ot(p0),{onMouseEnter:a,onClick:l,onMouseLeave:c}=i,u=Lbe(i,Rbe),h=Pbe(a,i.dataKey),f=Tbe(c),d=Cbe(l,i.dataKey);return e==null?null:H.createElement(H.Fragment,null,e.map((p,y)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&e.length!==1)return null;var b=n&&String(y)===o,v=o?r:null,x=b?n:v,S=Xn(Xn({},p),{},{stroke:p.stroke,tabIndex:-1,[zU]:y,[$U]:i.dataKey});return H.createElement(yp,cf({tabIndex:-1,className:"recharts-pie-sector"},wB(u,p,y),{onMouseEnter:h(p,y),onMouseLeave:f(p,y),onClick:d(p,y),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(y)}),H.createElement(Ebe,cf({option:x,isActive:b,shapeType:"sector"},S)))}),H.createElement(Wbe,{sectors:e,props:i,showLabels:s}))}function Kbe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:o,startAngle:a,endAngle:l,dataKey:c,nameKey:u,tooltipType:h}=n,f=Math.abs(n.minAngle),d=$be(a,l),p=Math.abs(d),y=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,b=r.filter(L=>Dr(L,c,0)!==0).length,v=(p>=360?b:b-1)*y,x=p-b*f-v,S=r.reduce((L,T)=>{var w=Dr(T,c,0);return L+(Bt(w)?w:0)},0),I;if(S>0){var M;I=r.map((L,T)=>{var w=Dr(L,c,0),A=Dr(L,u,T),O=zbe(n,s,L),E=(Bt(w)?w:0)/S,C,R=Xn(Xn({},L),i&&i[T]&&i[T].props);T?C=M.endAngle+Ms(d)*y*(w!==0?1:0):C=a;var U=C+Ms(d)*((w!==0?f:0)+E*x),te=(C+U)/2,z=(O.innerRadius+O.outerRadius)/2,V=[{name:A,value:w,payload:R,dataKey:c,type:h}],W=_i(O.cx,O.cy,z,te);return M=Xn(Xn(Xn(Xn({},n.presentationProps),{},{percent:E,cornerRadius:o,name:A,tooltipPayload:V,midAngle:te,middleRadius:z,tooltipPosition:W},R),O),{},{value:Dr(L,c),startAngle:C,endAngle:U,payload:R,paddingAngle:Ms(d)*y}),M})}return I}function Gbe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:a,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:h}=e,f=Obe(e,"recharts-pie-"),d=n.current,[p,y]=H.useState(!0),b=H.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),v=H.useCallback(()=>{typeof u=="function"&&u(),y(!0)},[u]);return H.createElement(l0,{begin:s,duration:o,isActive:i,easing:a,from:{t:0},to:{t:1},onAnimationStart:v,onAnimationEnd:b,key:f},x=>{var{t:S}=x,I=[],M=r&&r[0],L=M.startAngle;return r.forEach((T,w)=>{var A=d&&d[w],O=w>0?mp(T,"paddingAngle",0):0;if(A){var E=wO(A.endAngle-A.startAngle,T.endAngle-T.startAngle),C=Xn(Xn({},T),{},{startAngle:L+O,endAngle:L+E(S)+O});I.push(C),L=C.endAngle}else{var{endAngle:R,startAngle:U}=T,te=wO(0,R-U),z=te(S),V=Xn(Xn({},T),{},{startAngle:L+O,endAngle:L+z+O});I.push(V),L=V.endAngle}}),n.current=I,H.createElement(yp,null,H.createElement(v$,{sectors:I,activeShape:l,inactiveShape:c,allOtherPieProps:e,showLabels:!p}))})}function Ybe(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:i}=t,s=H.useRef(null),o=s.current;return n&&e&&e.length&&(!o||o!==e)?H.createElement(Gbe,{props:t,previousSectorsRef:s}):H.createElement(v$,{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Xbe(t){var{hide:e,className:n,rootTabIndex:r}=t,i=Cr("recharts-pie",n);return e?null:H.createElement(yp,{tabIndex:r,className:i},H.createElement(Ybe,t))}var b$={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ww.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Qbe(t){var e=Sf(t,b$),n=H.useMemo(()=>xB(t.children,c5),[t.children]),r=Ur(e,!1),i=H.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),s=Ot(o=>obe(o,i,n));return H.createElement(H.Fragment,null,H.createElement(Nbe,{fn:Bbe,args:Xn(Xn({},e),{},{sectors:s})}),H.createElement(Xbe,cf({},e,{sectors:s})))}class CT extends H.PureComponent{constructor(){super(...arguments),u5(this,"id",C2("recharts-pie-"))}render(){return H.createElement(H.Fragment,null,H.createElement(hbe,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),H.createElement(Fbe,this.props),H.createElement(Qbe,this.props),this.props.children)}}u5(CT,"displayName","Pie");u5(CT,"defaultProps",b$);var Jbe=Ne([Ei],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Zbe=Ne([Jbe,Xl,Ql],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),ewe=()=>Ot(Zbe),twe=t=>{var{chartData:e}=t,n=Vr(),r=Bp();return H.useEffect(()=>r?()=>{}:(n(d8(e)),()=>{n(d8(void 0))}),[e,n,r]),null},L8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},w$=So({name:"brush",initialState:L8,reducers:{setBrushSettings(t,e){return e.payload==null?L8:e.payload}}});w$.actions;var nwe=w$.reducer,rwe={dots:[],areas:[],lines:[]},_$=So({name:"referenceElements",initialState:rwe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Nl(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Nl(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Nl(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}});_$.actions;var iwe=_$.reducer,swe=H.createContext(void 0),owe=t=>{var{children:e}=t,[n]=H.useState("".concat(C2("recharts"),"-clip")),r=ewe();if(r==null)return null;var{x:i,y:s,width:o,height:a}=r;return H.createElement(swe.Provider,{value:n},H.createElement("defs",null,H.createElement("clipPath",{id:n},H.createElement("rect",{x:i,y:s,height:a,width:o}))),e)};function M8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(n),!0).forEach(function(r){awe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function awe(t,e,n){return(e=lwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lwe(t){var e=cwe(t,"string");return typeof e=="symbol"?e:e+""}function cwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uwe={xAxis:{},yAxis:{},zAxis:{}},x$=So({name:"cartesianAxis",initialState:uwe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=D8(D8({},t.yAxis[n]),{},{width:r}))}}});x$.actions;var hwe=x$.reducer,fwe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=H;function dwe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pwe=typeof Object.is=="function"?Object.is:dwe,gwe=e1.useSyncExternalStore,mwe=e1.useRef,ywe=e1.useEffect,vwe=e1.useMemo,bwe=e1.useDebugValue;fwe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=mwe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=vwe(function(){function l(d){if(!c){if(c=!0,u=d,d=r(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return h=p}return h=d}if(p=h,pwe(u,d))return p;var y=r(d);return i!==void 0&&i(p,y)?(u=d,p):(u=d,h=y)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=gwe(t,s[0],s[1]);return ywe(function(){o.hasValue=!0,o.value=a},[a]),bwe(a),a};function wwe(t){t()}function _we(){let t=null,e=null;return{clear(){t=null,e=null},notify(){wwe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var j8={notify(){},get:()=>[]};function xwe(t,e){let n,r=j8,i=0,s=!1;function o(y){u();const b=r.subscribe(y);let v=!1;return()=>{v||(v=!0,b(),h())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return s}function u(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=_we())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=j8)}function f(){s||(s=!0,u())}function d(){s&&(s=!1,h())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:d,getListeners:()=>r};return p}var Swe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Awe=Swe(),Ewe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pwe=Ewe(),Twe=()=>Awe||Pwe?H.useLayoutEffect:H.useEffect,Cwe=Twe(),gx=Symbol.for("react-redux-context"),mx=typeof globalThis<"u"?globalThis:{};function Nwe(){if(!H.createContext)return{};const t=mx[gx]??(mx[gx]=new Map);let e=t.get(H.createContext);return e||(e=H.createContext(null),t.set(H.createContext,e)),e}var Iwe=Nwe();function kwe(t){const{children:e,context:n,serverState:r,store:i}=t,s=H.useMemo(()=>{const l=xwe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=H.useMemo(()=>i.getState(),[i]);Cwe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||Iwe;return H.createElement(a.Provider,{value:s},e)}var Owe=kwe,Rwe=(t,e)=>e,NT=Ne([Rwe,qn,Z1e,$r,Hz,Zl,$ve,Ei],Gve),IT=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},S$=wo("mouseClick"),A$=$0();A$.startListening({actionCreator:S$,effect:(t,e)=>{var n=t.payload,r=NT(e.getState(),IT(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Zye({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var aA=wo("mouseMove"),E$=$0();E$.startListening({actionCreator:aA,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=gT(r,r.tooltip.settings.shared),s=NT(r,IT(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(Fz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(jz()))}});function Lwe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var F8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},P$=So({name:"rootProps",initialState:F8,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:F8.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Mwe=P$.reducer,{updateOptions:Dwe}=P$.actions,T$=So({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:jwe}=T$.actions,Fwe=T$.reducer,C$=wo("keyDown"),N$=wo("focus"),kT=$0();kT.startListening({actionCreator:C$,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Number(mT(i,Cf(n))),a=Zl(n);if(s==="Enter"){var l=rb(n,"axis","hover",String(i.index));e.dispatch(nA({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=qye(n),u=c==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,f=o+h*u;if(!(a==null||f>=a.length||f<0)){var d=rb(n,"axis","hover",String(f));e.dispatch(nA({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:d}))}}}}});kT.startListening({actionCreator:N$,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=rb(n,"axis","hover",String(s));e.dispatch(nA({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var oo=wo("externalEvent"),I$=$0();I$.startListening({actionCreator:oo,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Lve(n),activeDataKey:Ove(n),activeIndex:p0(n),activeLabel:Gz(n),activeTooltipIndex:p0(n),isTooltipActive:Mve(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Bwe=Ne([Kp],t=>t.tooltipItemPayloads),Uwe=Ne([Bwe,Z0,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var o=e(s,n);return o}}}),k$=wo("touchMove"),O$=$0();O$.startListening({actionCreator:k$,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=gT(r,r.tooltip.settings.shared);if(i==="axis"){var s=NT(r,IT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(Fz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,a=n.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(zU),u=(o=l.getAttribute($U))!==null&&o!==void 0?o:void 0,h=Uwe(e.getState(),c,u);e.dispatch(Dz({activeDataKey:u,activeIndex:c,activeCoordinate:h}))}}});var Vwe=mU({brush:nwe,cartesianAxis:hwe,chartData:u2e,graphicalItems:ube,layout:Gde,legend:Dpe,options:s2e,polarAxis:Z2e,polarOptions:Fwe,referenceElements:iwe,rootProps:Mwe,tooltip:eve}),zwe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return bde({reducer:Vwe,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([A$.middleware,E$.middleware,kT.middleware,I$.middleware,O$.middleware]),devTools:{serialize:{replacer:Lwe},name:"recharts-".concat(n)}})};function $we(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Bp(),s=H.useRef(null);if(i)return n;s.current==null&&(s.current=zwe(e,r));var o=lP;return H.createElement(Owe,{context:o,store:s.current},n)}function qwe(t){var{layout:e,width:n,height:r,margin:i}=t,s=Vr(),o=Bp();return H.useEffect(()=>{o||(s(Hde(e)),s(Wde({width:n,height:r})),s(qde(i)))},[s,o,e,n,r,i]),null}function Hwe(t){var e=Vr();return H.useEffect(()=>{e(Dwe(t))},[e,t]),null}var Wwe=["children"];function Kwe(t,e){if(t==null)return{};var n,r,i=Gwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(null,arguments)}var Ywe={width:"100%",height:"100%"},Xwe=H.forwardRef((t,e)=>{var n=HU(),r=WU(),i=YU();if(!z2(n)||!z2(r))return null;var{children:s,otherAttributes:o,title:a,desc:l}=t,c,u;return typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0,H.createElement(K3,ob({},o,{title:a,desc:l,role:u,tabIndex:c,width:n,height:r,style:Ywe,ref:e}),s)}),Qwe=t=>{var{children:e}=t,n=Ot(qw);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return H.createElement(K3,{width:r,height:i,x:o,y:s},e)},B8=H.forwardRef((t,e)=>{var{children:n}=t,r=Kwe(t,Wwe),i=Bp();return i?H.createElement(Qwe,null,n):H.createElement(Xwe,ob({ref:e},r),n)});function Jwe(){var t=Vr(),[e,n]=H.useState(null),r=Ot(_pe);return H.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;ra(s)&&s!==r&&t(Kde(s))}},[e,t,r]),n}function U8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zwe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(n),!0).forEach(function(r){e5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e5e(t,e,n){return(e=t5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t5e(t){var e=n5e(t,"string");return typeof e=="symbol"?e:e+""}function n5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r5e=H.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:a,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:h,onMouseUp:f,onTouchEnd:d,onTouchMove:p,onTouchStart:y,style:b,width:v}=t,x=Vr(),[S,I]=H.useState(null),[M,L]=H.useState(null);d2e();var T=Jwe(),w=H.useCallback(F=>{T(F),typeof e=="function"&&e(F),I(F),L(F)},[T,e,I,L]),A=H.useCallback(F=>{x(S$(F)),x(oo({handler:s,reactEvent:F}))},[x,s]),O=H.useCallback(F=>{x(aA(F)),x(oo({handler:c,reactEvent:F}))},[x,c]),E=H.useCallback(F=>{x(jz()),x(oo({handler:u,reactEvent:F}))},[x,u]),C=H.useCallback(F=>{x(aA(F)),x(oo({handler:h,reactEvent:F}))},[x,h]),R=H.useCallback(()=>{x(N$())},[x]),U=H.useCallback(F=>{x(C$(F.key))},[x]),te=H.useCallback(F=>{x(oo({handler:o,reactEvent:F}))},[x,o]),z=H.useCallback(F=>{x(oo({handler:a,reactEvent:F}))},[x,a]),V=H.useCallback(F=>{x(oo({handler:l,reactEvent:F}))},[x,l]),W=H.useCallback(F=>{x(oo({handler:f,reactEvent:F}))},[x,f]),X=H.useCallback(F=>{x(oo({handler:y,reactEvent:F}))},[x,y]),re=H.useCallback(F=>{x(k$(F)),x(oo({handler:p,reactEvent:F}))},[x,p]),ye=H.useCallback(F=>{x(oo({handler:d,reactEvent:F}))},[x,d]);return H.createElement(e$.Provider,{value:S},H.createElement(SB.Provider,{value:M},H.createElement("div",{className:Cr("recharts-wrapper",r),style:Zwe({position:"relative",cursor:"default",width:v,height:i},b),onClick:A,onContextMenu:te,onDoubleClick:z,onFocus:R,onKeyDown:U,onMouseDown:V,onMouseEnter:O,onMouseLeave:E,onMouseMove:C,onMouseUp:W,onTouchEnd:ye,onTouchMove:re,onTouchStart:X,ref:w},n)))}),i5e=["children","className","width","height","style","compact","title","desc"];function s5e(t,e){if(t==null)return{};var n,r,i=o5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function o5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var a5e=H.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:o,compact:a,title:l,desc:c}=t,u=s5e(t,i5e),h=Ur(u,!1);return a?H.createElement(B8,{otherAttributes:h,title:l,desc:c},n):H.createElement(r5e,{className:r,style:o,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},H.createElement(B8,{otherAttributes:h,title:l,desc:c,ref:e},H.createElement(owe,null,n)))});function l5e(t){var e=Vr();return H.useEffect(()=>{e(jwe(t))},[e,t]),null}var c5e=["width","height","layout"];function lA(){return lA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lA.apply(null,arguments)}function u5e(t,e){if(t==null)return{};var n,r,i=h5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f5e={top:5,right:5,bottom:5,left:5},d5e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:f5e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},p5e=H.forwardRef(function(e,n){var r,i=Sf(e.categoricalChartProps,d5e),{width:s,height:o,layout:a}=i,l=u5e(i,c5e);if(!z2(s)||!z2(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:f}=e,d={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return H.createElement($we,{preloadedState:{options:d},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},H.createElement(twe,{chartData:i.data}),H.createElement(qwe,{width:s,height:o,layout:a,margin:i.margin}),H.createElement(Hwe,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),H.createElement(l5e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),H.createElement(a5e,lA({width:s,height:o},l,{ref:n})))}),g5e=["item"],m5e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},y5e=H.forwardRef((t,e)=>{var n=Sf(t,m5e);return H.createElement(p5e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:g5e,tooltipPayloadSearcher:r2e,categoricalChartProps:n,ref:e})});const v5e=()=>{const[t,e]=H.useState([]),[n,r]=H.useState(!0),{role:i}=ju();H.useEffect(()=>{(async()=>{try{const y=(await Va(vr(Rt,"users"))).docs.map(b=>({id:b.id,...b.data(),role:(b.data().role||"client").trim().toLowerCase(),authorized:b.data().authorized??b.data().role==="client"}));e(y)}catch(p){alert("❌ Erreur lors du chargement des utilisateurs : "+p.message)}finally{r(!1)}})()},[]);const s=async(d,p)=>{try{await Bl(Er(Rt,"users",d),{role:p}),e(y=>y.map(b=>b.id===d?{...b,role:p}:b)),alert("✅ Rôle mis à jour")}catch(y){alert("❌ Erreur mise à jour rôle : "+y.message)}},o=async d=>{if(window.confirm("⚠️ Supprimer cet utilisateur ?"))try{await Qv(Er(Rt,"users",d)),e(p=>p.filter(y=>y.id!==d)),alert("✅ Utilisateur supprimé")}catch(p){alert("❌ Erreur suppression : "+p.message)}},a=async d=>{try{await Bl(Er(Rt,"users",d),{authorized:!0}),e(p=>p.map(y=>y.id===d?{...y,authorized:!0}:y)),alert("✅ Utilisateur autorisé")}catch(p){alert("❌ Erreur autorisation : "+p.message)}};if(i!=="admin")return D.jsx("div",{className:"text-center text-red-600 font-bold text-xl mt-20",children:"❌ Accès refusé (Administrateurs uniquement)"});const l=t.filter(d=>d.role==="admin").length,c=t.filter(d=>d.role==="agent").length,u=t.filter(d=>d.role==="client").length,h=[{name:"Administrateurs",value:l},{name:"Agents",value:c},{name:"Clients",value:u}],f=["#2563eb","#10b981","#f59e0b"];return D.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[D.jsx(M0,{}),D.jsxs("div",{className:"flex-1 flex flex-col",children:[D.jsx(D0,{}),D.jsxs("main",{className:"p-6",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"👑 Panneau d'administration"}),D.jsxs("div",{className:"flex flex-wrap gap-6 mb-6",children:[D.jsxs("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded shadow font-semibold",children:["Administrateurs : ",l]}),D.jsxs("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded shadow font-semibold",children:["Agents : ",c]}),D.jsxs("div",{className:"bg-yellow-100 text-yellow-800 px-4 py-2 rounded shadow font-semibold",children:["Clients : ",u]})]}),D.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:[D.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Répartition des utilisateurs"}),D.jsx(T2e,{width:"100%",height:250,children:D.jsxs(y5e,{children:[D.jsx(CT,{data:h,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:h.map((d,p)=>D.jsx(c5,{fill:f[p%f.length]},`cell-${p}`))}),D.jsx(_2e,{}),D.jsx(Hw,{})]})})]}),n?D.jsx("p",{children:"Chargement..."}):D.jsx("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:D.jsxs("table",{className:"min-w-full text-sm text-gray-600",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"bg-gray-200 text-left",children:[D.jsx("th",{className:"p-3",children:"Nom"}),D.jsx("th",{className:"p-3",children:"Email"}),D.jsx("th",{className:"p-3",children:"Téléphone"}),D.jsx("th",{className:"p-3",children:"Rôle"}),D.jsx("th",{className:"p-3",children:"Autorisation"}),D.jsx("th",{className:"p-3",children:"Actions"})]})}),D.jsx("tbody",{children:t.map(d=>D.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[D.jsx("td",{className:"p-3",children:d.nom||"—"}),D.jsx("td",{className:"p-3",children:d.email||"—"}),D.jsx("td",{className:"p-3",children:d.phone||"—"}),D.jsx("td",{className:"p-3",children:D.jsxs("select",{value:d.role,onChange:p=>s(d.id,p.target.value),className:"border p-1 rounded",children:[D.jsx("option",{value:"admin",children:"Administrateur"}),D.jsx("option",{value:"agent",children:"Agent"}),D.jsx("option",{value:"client",children:"Client"})]})}),D.jsx("td",{className:"p-3",children:d.authorized?"✅ Autorisé":D.jsx("button",{onClick:()=>a(d.id),className:"px-2 py-1 bg-blue-500 text-white rounded",children:"Autoriser"})}),D.jsx("td",{className:"p-3 flex gap-2",children:D.jsx("button",{onClick:()=>o(d.id),className:"px-3 py-1 bg-red-500 text-white rounded",children:"🗑️ Supprimer"})})]},d.id))})]})})]})]})]})};function b5e(){return D.jsx(fne,{children:D.jsx(VK,{children:D.jsxs(LK,{children:[D.jsx(Ri,{path:"/",element:D.jsx(cD,{to:"/login",replace:!0})}),D.jsx(Ri,{path:"/login",element:D.jsx(pne,{})}),D.jsx(Ri,{path:"/dashboard",element:D.jsx(jo,{allowedRoles:["client","agent","admin"],children:D.jsx(aae,{})})}),D.jsx(Ri,{path:"/commandes",element:D.jsx(jo,{allowedRoles:["client","agent","admin"],children:D.jsx(sce,{})})}),D.jsx(Ri,{path:"/commandes/:orderId",element:D.jsx(jo,{allowedRoles:["client","agent","admin"],children:D.jsx(Vue,{})})}),D.jsx(Ri,{path:"/ajouter-commande",element:D.jsx(jo,{allowedRoles:["client","agent","admin"],children:D.jsx(Que,{})})}),D.jsx(Ri,{path:"/clients",element:D.jsx(jo,{allowedRoles:["client","agent","admin"],children:D.jsx(zue,{})})}),D.jsx(Ri,{path:"/ajouter-client",element:D.jsx(jo,{allowedRoles:["client","agent","admin"],children:D.jsx(Jue,{})})}),D.jsx(Ri,{path:"/modifier-client/:id",element:D.jsx(jo,{allowedRoles:["client","agent","admin"],children:D.jsx(Zue,{})})}),D.jsx(Ri,{path:"/finances",element:D.jsx(jo,{allowedRoles:["admin"],children:D.jsx(Xue,{})})}),D.jsx(Ri,{path:"/cotation",element:D.jsx(jo,{allowedRoles:["admin"],children:D.jsx(ehe,{})})}),D.jsx(Ri,{path:"/produits-evalues",element:D.jsx(jo,{allowedRoles:["admin"],children:D.jsx(nhe,{})})}),D.jsx(Ri,{path:"/admin-panel",element:D.jsx(jo,{allowedRoles:["admin"],children:D.jsx(v5e,{})})}),D.jsx(Ri,{path:"*",element:D.jsx("div",{className:"text-center text-red-600 font-bold text-2xl mt-20",children:"❌ Page non trouvée (Erreur 404)"})})]})})})}vx.createRoot(document.getElementById("root")).render(D.jsx(Yo.StrictMode,{children:D.jsx(b5e,{})}));export{ln as _,_5e as c,Kl as g};
